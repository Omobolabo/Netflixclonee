a000.h9X=function(){return typeof a000.z9X.F9X === 'function'?a000.z9X.F9X.apply(a000.z9X,arguments):a000.z9X.F9X;};a000.z9X=(function(f9X){return {e9X:function(){var B9X,d9X=arguments;switch(f9X){case 6:B9X=(d9X[1] - d9X[0]) * d9X[2];break;case 15:B9X=d9X[1] / d9X[0] | d9X[2];break;case 7:B9X=d9X[0] + d9X[1];break;case 11:B9X=d9X[3] * (d9X[1] - d9X[2]) * d9X[4] + d9X[0];break;case 3:B9X=d9X[0] / d9X[1] / d9X[2];break;case 10:B9X=d9X[0] + d9X[2] + d9X[1];break;case 1:B9X=d9X[0] / d9X[1];break;case 16:B9X=d9X[2] * d9X[1] - d9X[0];break;case 2:B9X=d9X[2] * d9X[1] / d9X[0];break;case 0:B9X=d9X[1] - d9X[0];break;case 17:B9X=d9X[0] >= d9X[1];break;case 19:B9X=d9X[0] === d9X[1];break;case 8:B9X=void d9X[1] !== d9X[0];break;case 18:B9X=d9X[1] == d9X[0];break;case 9:B9X=d9X[2] + d9X[3] + d9X[1] + d9X[4] + d9X[0];break;case 5:B9X=d9X[2] - d9X[0] + d9X[1];break;case 12:B9X=d9X[0] * d9X[1];break;case 4:B9X=d9X[1] < d9X[0];break;case 14:B9X=(d9X[2] / d9X[3] | d9X[0]) * d9X[1];break;case 13:B9X=d9X[1] + d9X[2] / d9X[0] * d9X[3];break;}return B9X;},F9X:function(x9X){f9X=x9X;}};})();a000.Q9X=function(){return typeof a000.z9X.e9X === 'function'?a000.z9X.e9X.apply(a000.z9X,arguments):a000.z9X.e9X;};function a000(){}a000.j9X=function(){return typeof a000.z9X.F9X === 'function'?a000.z9X.F9X.apply(a000.z9X,arguments):a000.z9X.F9X;};a000.X9X=function(){return typeof a000.z9X.e9X === 'function'?a000.z9X.e9X.apply(a000.z9X,arguments):a000.z9X.e9X;};(function(){(function(mb,zb){var jc,tc,Nb,cd,Eb,Gb,Ub,ce,de,Lb,Kb,Cc,ee,dd,fe,ge,wd,Ea,Ab,Qc,he,xd,cb,tb,Db,kc,cc,Rb,vb,Vb,Mb,Sc,Hb,uc,Jb,Wb,ed,lc,hc,ic,fd,yd,ie,vc,wc,Ec,zd,Tc,mc,gd,Bc,Ad,je,Jc,Bd,Cd,Dd,Ed,nc,Fd,Gd,Hd,Lc,oc,pc,Mc,hd,id,jd,fc,jf,Ob,Dc,ke,kd,qc,le,kf,rc,me,lf,ld,ne,mf,Pc,oe,hf,nf,Id,md,of,pf,$d,qf,ae,pe,dc,Uc,qe,Vc,re,gc,se,te,ue,ve,sf,be,we,vd,xe,rf,ye,Jd,ze,Ae,Be,Kd,Ac,De,Ce,tf,Xc,Ee,Md,Yc,Fe,Ld,Ge,He,Nd,Je,Ke,qd,Fc,Nc,Gc,Le,Me,Ne,Oe,Pe,Qe,rd,uf,Re,Se,Pd,Te,bc,Wc,Kc,nd,xc,sc,od,yc,Rc,Ie,Ue,Zc,Ve,vf,$c,We,wf,xf,Xe,Od,pd,Ye,zf,yf,Oc,bd,Af,Zd,Bf,Cf;function Xb(fb,db){if(!db || "utf-8" === db)return sd(fb);throw Error("unsupported encoding");}function Yb(fb,db){if(!db || "utf-8" === db)return td(fb);throw Error("unsupported encoding");}function sd(fb){for(var db=0,bb,Ya=fb.length,ib="";db < Ya;){bb=fb[db++];if(bb & 128)if(192 === (bb & 224))bb=((bb & 31) << 6) + (fb[db++] & 63);else if(224 === (bb & 240))bb=((bb & 15) << 12) + ((fb[db++] & 63) << 6) + (fb[db++] & 63);else throw Error("unsupported character");ib+=String.fromCharCode(bb);}return ib;}function td(fb){var db,bb,Ya,ib,rb;db=fb.length;bb=0;ib=0;for(Ya=db;Ya--;){rb=fb.charCodeAt(Ya);128 > rb?bb++:bb=2048 > rb?bb + 2:bb + 3;}bb=new Uint8Array(bb);for(Ya=0;Ya < db;Ya++){rb=fb.charCodeAt(Ya);128 > rb?bb[ib++]=rb:(2048 > rb?bb[ib++]=192 | rb >>> 6:(bb[ib++]=224 | rb >>> 12,bb[ib++]=128 | rb >>> 6 & 63),bb[ib++]=128 | rb & 63);}return bb;}function Zb(fb,db){if(fb === db)return !0;if(!fb || !db || fb.length != db.length)return !1;for(var bb=0;bb < fb.length;++bb){if(fb[bb] != db[bb])return !1;}return !0;}function $b(fb){var Ya;if(!(fb && fb.constructor == Uint8Array || Array.isArray(fb)))throw new TypeError("Cannot compute the hash code of " + fb);for(var db=1,bb=0;bb < fb.length;++bb){Ya=fb[bb];if("number" !== typeof Ya)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Ya);db=31 * db + Ya & 4294967295;}return db;}function Ud(fb,db){var gb;if(fb === db)return !0;if(!fb || !db)return !1;db instanceof Array || (db=[db]);for(var bb=0;bb < db.length;++bb){for(var Ya=db[bb],ib=!1,rb=0;rb < fb.length;++rb){gb=fb[rb];if(Ya.equals && "function" === typeof Ya.equals && Ya.equals(gb) || Ya == gb){ib=!0;break;}}if(!ib)return !1;}return !0;}function Vd(fb,db){return Ud(fb,db) && (fb.length == db.length || Ud(db,fb));}function La(fb,db,bb){var Ya,ib;bb && (Ya=bb);if("object" !== typeof fb || "function" !== typeof fb.result || "function" !== typeof fb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{ib=db.call(Ya,fb);ib !== zb && fb.result(ib);}catch(rb){try{fb.error(rb);}catch(gb){}}}function ab(fb,db,bb){if("object" !== typeof fb || "function" !== typeof fb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");La(fb,db,bb);}function X(fb,db,bb){1E5 > fb && (fb=1E5 + fb);Object.defineProperties(this,{internalCode:{value:fb,writable:!1,configurable:!1},responseCode:{value:db,writable:!1,configurable:!1},message:{value:bb,writable:!1,configurable:!1}});}function ud(fb){switch(fb){case Ob.PSK:case Ob.MGK:return !0;default:return !1;}}function Wd(fb){switch(fb){case Ob.PSK:case Ob.MGK:case Ob.X509:case Ob.RSA:case Ob.NPTICKET:case Ob.ECC:return !0;default:return !1;}}function df(fb){return fb.toJSON();}function Xd(fb,db){bd?db.result(bd):Promise.resolve().then(function(){return Jb.getKeyByName(fb);}).catch(function(){return Jb.generateKey({name:fb},!1,["wrapKey","unwrapKey"]);}).then(function(bb){bd=bb;db.result(bd);}).catch(function(bb){db.error(new cb(X.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Yd(fb,db){var bb,Ya;bb=db.masterToken;Ya=db.userIdToken;db=db.serviceTokens;return {NccpMethod:fb.method,UserId:fb.userId,UT:Ya && Ya.serialNumber,MT:bb && bb.serialNumber + ":" + bb.sequenceNumber,STCount:db && db.length};}function ef(fb){return fb.uniqueKey();}function ff(fb,db,bb,Ya,ib){var Ma;function rb(ta,ma){ta.errorCode === Ea.ENTITY_REAUTH || ta.errorCode === Ea.ENTITYDATA_REAUTH?(Ya.clearCryptoContexts(),Ia()):ta.errorCode !== Ea.USER_REAUTH && ta.errorCode !== Ea.USERDATA_REAUTH || gb(ma);}function gb(ta){if(ta=Ya.getUserIdToken(ta))(Ya.removeUserIdToken(ta),Ia());}function Ba(ta,ma,fa){var ba;ba=[];(function Z(){ta.read(-1,ma,{result:function(ea){La(fa,function(){var aa,ja,ua,ra,la;if(ea)(ba.push(ea),Z());else switch(ba.length){case 0:return new Uint8Array(0);case 1:return ba[0];default:(ua=ba.length,ra=0);for(ja=aa=0;ja < ua;ja++){aa+=ba[ja].length;}aa=new Uint8Array(aa);for(ja=0;ja < ua;ja++){la=ba[ja];aa.set(la,ra);ra+=la.length;}return aa;}});},timeout:function(){fa.timeout();},error:function(ea){fa.error(ea);}});})();}function Ia(){Ya.getStoreState({result:function(ta){for(var ma=Ma.slice(),fa=0;fa < ma.length;fa++){ma[fa]({storeState:ta});}},timeout:function(){fb.error("Timeout getting store state","" + e);},error:function(ta){fb.error("Error getting store state","" + ta);}});}Ma=[];this.addEventHandler=function(ta,ma){switch(ta){case "shouldpersist":Ma.push(ma);}};this.send=function(ta){return new Promise(function(ma,fa){var ba,Y,Z;ba=ta.timeout;Y=new Zd(fb,bb,ta,Ya.getKeyRequestData());Z=new $d(ta.url);fb.trace("Sending MSL request");db.request(bb,Y,Z,ba,{result:function(ea){var aa;fb.trace("Received MSL response",{Method:ta.method});if(ea){ta.allowTokenRefresh && Ia();aa=ea.getErrorHeader();aa?(rb(aa,ta.profileGuid || ta.userId),fa({success:!1,error:aa})):Ba(ea,ba,{result:function(ja){ma({success:!0,body:Xb(ja)});},timeout:function(){fa({success:!1,subCode:ib.MSL_READ_TIMEOUT});},error:function(ja){fa({success:!1,error:ja});}});}else fa({success:!1,error:new cb(X.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){fa({success:!1,subCode:ib.MSL_REQUEST_TIMEOUT});},error:function(ea){fa({success:!1,error:ea});}});});};this.hasUserIdToken=function(ta){return ! !Ya.getUserIdToken(ta);};this.getUserIdTokenKeys=function(){return Ya.getUserIdTokenKeys();};this.removeUserIdToken=gb;this.clearUserIdTokens=function(){Ya.clearUserIdTokens();Ia();};this.isErrorReauth=function(ta){return ta && ta.errorCode == Ea.USERDATA_REAUTH;};this.isErrorHeader=function(ta){return ta instanceof Ac;};this.getErrorCode=function(ta){return ta && ta.errorCode;};this.getStateForMdx=function(ta){var ma,fa;ma=Ya.getMasterToken();ta=Ya.getUserIdToken(ta);fa=Ya.getCryptoContext(ma);return {masterToken:ma,userIdToken:ta,cryptoContext:fa};};this.buildPlayDataRequest=function(ta,ma){var fa;fa=new ae();db.request(bb,new Zd(fb,bb,ta),fa,ta.timeout,{result:function(){ma.result(fa.getRequest());},error:function(){ma.result(fa.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(ta,ma){Ya.rekeyUserIdToken(ta,ma);Ia();};this.getServiceTokens=function(ta){var ma;ma=Ya.getMasterToken();(ta=Ya.getUserIdToken(ta)) && !ta.isBoundTo(ma) && (ta=zb);return Ya.getServiceTokens(ma,ta);};this.removeServiceToken=function(ta){var ma;ma=Ya.getMasterToken();Ya.getServiceTokens(ma).find(function(fa){return fa.name === ta;}) && (Ya.removeServiceTokens(ta,ma),Ia());};}function gf(fb,db,bb){var rb;function Ya(){return Promise.resolve().then(function(){return Jb.generateKey(db,!1,["wrapKey","unwrapKey"]);}).then(function(gb){return ib(gb.publicKey,gb.privateKey);});}function ib(gb,Ba){return Promise.all([new Promise(function(Ia,Ma){Bc(gb,{result:Ia,error:function(ta){Ma(new cb(X.INTERNAL_EXCEPTION,"Unable to create keyx public key",ta));}});}),new Promise(function(Ia,Ma){Jc(Ba,{result:Ia,error:function(ta){Ma(new cb(X.INTERNAL_EXCEPTION,"Unable to create keyx private key",ta));}});})]).then(function(Ia){Ia=new vd("rsaKeypairId",bb,Ia[0],Ia[1]);rb && (Ia.storeData={keyxPublicKey:gb,keyxPrivateKey:Ba});return Ia;});}rb=!fb.systemKeyWrapFormat;return Promise.resolve().then(function(){var gb,Ba;gb=fb.storeState;Ba=gb && gb.keyxPublicKey;gb=gb && gb.keyxPrivateKey;return rb && Ba && gb?ib(Ba,gb):Ya();}).then(function(gb){var Ba,Ia,Ma;Ba={};Ba[Ob.NONE]=new hf();Ia=new Pc(fb.esn);Ma=[new be()];return {entityAuthFactories:Ba,entityAuthData:Ia,keyExchangeFactories:Ma,keyRequestData:gb,createKeyRequestData:rb?Ya:zb};});}tc=mb.nfCrypto || mb.msCrypto || mb.webkitCrypto || mb.crypto;Nb=tc && (tc.webkitSubtle || tc.subtle);cd=mb.nfCryptokeys || mb.msCryptokeys || mb.webkitCryptokeys || mb.cryptokeys;(function(fb){var db,bb;db=(function(){function Ya(ib,rb){ib instanceof db?(this.abv=ib.abv,this.position=ib.position):(this.abv=ib,this.position=rb || 0);}Ya.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(ib){this.abv[this.position++]=ib;},peekByte:function(ib){return this.abv[ib];},copyBytes:function(ib,rb,gb){var Ba;Ba=new Uint8Array(this.abv.buffer,this.position,gb);ib=new Uint8Array(ib.buffer,rb,gb);Ba.set(ib);this.position+=gb;},seek:function(ib){this.position=ib;},skip:function(ib){this.position+=ib;},getPosition:function(){return this.position;},setPosition:function(ib){this.position=ib;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return Ya;})();bb={};(function(){var ea,aa,ja,ua,ra,la,qa,ya,na;function Ya(da,ha){var ka;ha.writeByte(da.tagClass << 6 | da.constructed << 5 | da.tag);ka=da.payloadLen;if(128 > ka)ha.writeByte(ka);else {for(var va=ka,Ra=0;va;){++Ra;va>>=8;}ha.writeByte(128 | Ra);for(va=0;va < Ra;++va){ha.writeByte(ka >> 8 * (Ra - va - 1) & 255);}}if(da.child)for((da.tag == ea.BIT_STRING && ha.writeByte(0),da=da._child);da;){if(!Ya(da,ha))return !1;da=da.next;}else switch(da.tag){case ea.INTEGER:da.backingStore[da.dataIdx] >> 7 && ha.writeByte(0);ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.BIT_STRING:ha.writeByte(0);ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OCTET_STRING:ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OBJECT_IDENTIFIER:ha.copyBytes(da.backingStore,da.dataIdx,da.dataLen);}return !0;}function ib(da){var ha,ka;ha=da.readByte();ka=ha & 127;if(ka == ha)return ka;if(3 < ka || 0 === ka)return -1;for(var va=ha=0;va < ka;++va){ha=ha << 8 | da.readByte();}return ha;}function rb(da,ha,ka){var va,Ra,Ka,Qa,Sa,oa,xa;va=da.backingStore;Ra=new db(va,ha);ha+=ka;ka=da;if(8 < ra++)return zb;for(;Ra.getPosition() < ha;){Ra.getPosition();Qa=Ra.readByte();if(31 == (Qa & 31)){for(Ka=0;Qa & 128;){Ka<<=8;Ka|=Qa & 127;}Qa=Ka;}Sa=Qa;Ka=Sa & 31;if(0 > Ka || 30 < Ka)return zb;Qa=ib(Ra);if(0 > Qa || Qa > Ra.getRemaining())return zb;ka.constructed=Sa & 32;ka.tagClass=(Sa & 192) >> 6;ka.tag=Ka;ka.dataLen=Qa;ka.dataIdx=Ra.getPosition();Ka=Ra;oa=Sa;Sa=Qa;if(oa & 32)Ka=!0;else if(oa < ea.BIT_STRING || oa > ea.OCTET_STRING)Ka=!1;else {xa=new db(Ka);oa == ea.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Ka=!1:(oa=ib(xa),Ka=xa.getPosition() - Ka.getPosition() + oa == Sa);}Ka && (Ka=Ra.getPosition(),Sa=Qa,ka.tag == ea.BIT_STRING && (ka.dataIdx++,ka.dataLen--,Ka++,Sa--),ka.child=new aa(va,ka),rb(ka.child,Ka,Sa));ka.tag == ea.INTEGER && (Ka=Ra.getPosition(),0 == Ra.peekByte(Ka) && Ra.peekByte(Ka + 1) >> 7 && (ka.dataIdx++,ka.dataLen--));Ra.skip(Qa);Ra.getPosition() < ha && (ka.next=new aa(va,ka.parent),ka=ka.next);}ra--;return da;}function gb(da,ha,ka){if(9 != ka)return !1;for(ka=0;9 > ka;++ka){if(da[ha++] != la[ka])return !1;}return !0;}function Ba(da){var ha;if(!(da && da.child && da.child.next && da.child.child && da.child.next.child))return !1;ha=da.child.child;return gb(ha.backingStore,ha.dataIdx,ha.dataLen) && 2 == da.nChildren && 2 == da.child.nChildren && 2 == da.child.next.child.nChildren?!0:!1;}function Ia(da){var ha;if(!(da && da.child && da.child.next && da.child.next.child && da.child.next.next && da.child.next.next.child))return !1;ha=da.child.next.child;return gb(ha.backingStore,ha.dataIdx,ha.dataLen) && 3 == da.nChildren && 2 == da.child.next.nChildren && 9 == da.child.next.next.child.nChildren?!0:!1;}function Ma(da){var ha,ka;ha=ja.createSequenceNode();ka=new ua(ha);ka.addChild(ja.createSequenceNode());ka.addChild(ja.createOidNode(la));ka.addSibling(ja.createNullNode());ka.addToParent(ha,ja.createBitStringNode(null));ka.addChild(ja.createSequenceNode());ka.addChild(ja.createIntegerNode(da.n));ka.addSibling(ja.createIntegerNode(da.e));return ha;}function ta(da){var ha;da=da.child.next.child.child;ha=da.data;da=da.next;return new qa(ha,da.data,null,null);}function ma(da){var ha,ka;ha=ja.createSequenceNode();ka=new ua(ha);ka.addChild(ja.createIntegerNode(new Uint8Array([0])));ka.addSibling(ja.createSequenceNode());ka.addChild(ja.createOidNode(la));ka.addSibling(ja.createNullNode());ka.addToParent(ha,ja.createOctetStringNode(null));ka.addChild(ja.createSequenceNode());ka.addChild(ja.createIntegerNode(new Uint8Array([0])));ka.addSibling(ja.createIntegerNode(da.n));ka.addSibling(ja.createIntegerNode(da.e));ka.addSibling(ja.createIntegerNode(da.d));ka.addSibling(ja.createIntegerNode(da.p));ka.addSibling(ja.createIntegerNode(da.q));ka.addSibling(ja.createIntegerNode(da.dp));ka.addSibling(ja.createIntegerNode(da.dq));ka.addSibling(ja.createIntegerNode(da.qi));return ha;}function fa(da){var ha;ha=[];da=da.child.next.next.child.child.next;for(var ka=0;8 > ka;ka++){ha.push(da.data);da=da.next;}return new ya(ha[0],ha[1],ha[2],ha[3],ha[4],ha[5],ha[6],ha[7]);}function ba(da,ha,ka,va){if(!(da instanceof qa || da instanceof ya))return zb;if(ka)for(var Ra=0;Ra < ka.length;++Ra){if(-1 == na.indexOf(ka[Ra]))return zb;}ha={kty:"RSA",alg:ha,key_ops:ka || [],ext:va == zb?!1:va,n:Eb(da.n,!0),e:Eb(da.e,!0)};da instanceof ya && (ha.d=Eb(da.d,!0),ha.p=Eb(da.p,!0),ha.q=Eb(da.q,!0),ha.dp=Eb(da.dp,!0),ha.dq=Eb(da.dq,!0),ha.qi=Eb(da.qi,!0));return ha;}function Y(da){var ha,ka,va,Ra,Ka,Qa,Sa,oa,xa,Da;if(!da.kty || "RSA" != da.kty || !da.n || !da.e)return zb;ha=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(da.alg && -1 == ha.indexOf(da.alg))return zb;ha=[];da.use?"enc" == da.use?ha=["encrypt","decrypt","wrap","unwrap"]:"sig" == da.use && (ha=["sign","verify"]):ha=da.key_ops;ka=da.ext;va=Gb(da.n,!0);Ra=Gb(da.e,!0);if(da.d){Ka=Gb(da.d,!0);Qa=Gb(da.p,!0);Sa=Gb(da.q,!0);oa=Gb(da.dp,!0);xa=Gb(da.dq,!0);Da=Gb(da.qi,!0);return new ya(va,Ra,Ka,Qa,Sa,oa,xa,Da,da.alg,ha,ka);}return new qa(va,Ra,ka,ha);}function Z(da,ha,ka,va){this.der=da;this.type=ha;this.keyOps=ka;this.extractable=va;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};aa=function(da,ha,ka,va,Ra,Ka){this._data=da;this._parent=ha || zb;this._constructed=ka || !1;this._tagClass=0;this._tag=va || 0;this._dataIdx=Ra || 0;this._dataLen=Ka || 0;};aa.prototype={_child:zb,_next:zb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(da) {this._constructed=0 != da?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(da) {this._tagClass=da;},get tag() {return this._tag;},set tag(da) {this._tag=da;},get dataIdx() {return this._dataIdx;},set dataIdx(da) {this._dataIdx=da;},get dataLen() {return this._dataLen;},set dataLen(da) {this._dataLen=da;},get child() {return this._child;},set child(da) {this._child=da;this._child.parent=this;},get next() {return this._next;},set next(da) {this._next=da;},get parent() {return this._parent;},set parent(da) {this._parent=da;},get payloadLen() {var da;da=0;if(this._child){for(var ha=this._child;ha;){da+=ha.length;ha=ha.next;}this._tag == ea.BIT_STRING && da++;}else switch(this._tag){case ea.INTEGER:da=this._dataLen;this._data[this._dataIdx] >> 7 && da++;break;case ea.BIT_STRING:da=this._dataLen + 1;break;case ea.OCTET_STRING:da=this._dataLen;break;case ea.NULL:da=0;break;case ea.OBJECT_IDENTIFIER:gb(this._data,this._dataIdx,this._dataLen) && (da=9);}return da;},get length() {var da,ha;da=this.payloadLen;if(127 < da)for(ha=da;ha;){ha>>=8;++da;}return da + 2;},get der() {var da,ha;da=this.length;if(!da)return zb;da=new Uint8Array(da);ha=new db(da);return Ya(this,ha)?da:zb;},get nChildren() {for(var da=0,ha=this._child;ha;){da++;ha=ha.next;}return da;}};ja={createSequenceNode:function(){return new aa(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(da){return new aa(da,null,!1,ea.OBJECT_IDENTIFIER,0,da?da.length:0);},createNullNode:function(){return new aa(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(da){return new aa(da,null,!1,ea.BIT_STRING,0,da?da.length:0);},createIntegerNode:function(da){return new aa(da,null,!1,ea.INTEGER,0,da?da.length:0);},createOctetStringNode:function(da){return new aa(da,null,!1,ea.OCTET_STRING,0,da?da.length:0);}};ua=function(da){this._currentNode=this._rootNode=da;};ua.prototype={addChild:function(da){this.addTo(this._currentNode,da);},addSibling:function(da){this.addTo(this._currentNode.parent,da);},addTo:function(da,ha){this._currentNode=ha;this._currentNode.parent=da;if(da.child){for(da=da.child;da.next;){da=da.next;}da.next=ha;}else da.child=ha;},addToParent:function(da,ha){this.findNode(da) && this.addTo(da,ha);},findNode:function(da){for(var ha=this._currentNode;ha;){if(da == ha)return !0;ha=ha.parent;}return !1;}};ra=0;la=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(da,ha,ka,va){this.n=da;this.e=ha;this.ext=ka;this.keyOps=va;};ya=function(da,ha,ka,va,Ra,Ka,Qa,Sa,oa,xa,Da){this.n=da;this.e=ha;this.d=ka;this.p=va;this.q=Ra;this.dp=Ka;this.dq=Qa;this.qi=Sa;this.alg=oa;this.keyOps=xa;this.ext=Da;};na=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");Z.prototype.getDer=function(){return this.der;};Z.prototype.getType=function(){return this.type;};Z.prototype.getKeyOps=function(){return this.keyOps;};Z.prototype.getExtractable=function(){return this.extractable;};bb.parse=function(da){ra=0;return rb(new aa(da),0,da.length);};bb.show=function(da,ha){};bb.isRsaSpki=Ba;bb.isRsaPkcs8=Ia;bb.NodeFactory=ja;bb.Builder=ua;bb.tagVal=ea;bb.RsaPublicKey=qa;bb.RsaPrivateKey=ya;bb.buildRsaSpki=Ma;bb.parseRsaSpki=function(da){da=bb.parse(da);return Ba?ta(da):zb;};bb.buildRsaPkcs8=ma;bb.parseRsaPkcs8=function(da){da=bb.parse(da);return Ia(da)?fa(da):zb;};bb.buildRsaJwk=ba;bb.parseRsaJwk=Y;bb.RsaDer=Z;bb.rsaDerToJwk=function(da,ha,ka,va){da=bb.parse(da);if(!da)return zb;if(Ba(da))da=ta(da);else if(Ia(da))da=fa(da);else return zb;return ba(da,ha,ka,va);};bb.jwkToRsaDer=function(da){var ha,ka;da=Y(da);if(!da)return zb;if(da instanceof qa){ha="spki";ka=Ma(da).der;}else if(da instanceof ya)(ha="pkcs8",ka=ma(da).der);else return zb;return new Z(ka,ha,da.keyOps,da.ext);};bb.webCryptoAlgorithmToJwkAlg=function(da){return "RSAES-PKCS1-v1_5" == da.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == da.name?"SHA-256" == da.hash.name?"RS256":"SHA-384" == da.hash.name?"RS384":"SHA-512" == da.hash.name?"RS512":zb:zb;};bb.webCryptoUsageToJwkKeyOps=function(da){return da.map(function(ha){return "wrapKey" == ha?"wrap":"unwrapKey" == ha?"unwrap":ha;});};})();fb.ASN1=bb;})(mb);(function(){for(var fb={},db={},bb={"=":0,".":0},Ya={"=":0,".":0},ib=/\s+/g,rb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,gb=64;gb--;){fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=262144 * gb;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=4096 * gb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=64 * gb;Ya[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=gb;}for(gb=64;gb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb];){fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=262144 * gb;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=4096 * gb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=64 * gb;Ya[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=gb;}Eb=function(Ba,Ia){for(var Ma="",ta=0,ma=Ba.length,fa=ma - 2,ba=Ia?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=Ia?"":"=";ta < fa;){Ia=65536 * Ba[ta++] + 256 * Ba[ta++] + Ba[ta++];Ma+=ba[Ia >>> 18] + ba[Ia >>> 12 & 63] + ba[Ia >>> 6 & 63] + ba[Ia & 63];}ta == fa?(Ia=65536 * Ba[ta++] + 256 * Ba[ta++],Ma+=ba[Ia >>> 18] + ba[Ia >>> 12 & 63] + ba[Ia >>> 6 & 63] + Y):ta == ma - 1 && (Ia=65536 * Ba[ta++],Ma+=ba[Ia >>> 18] + ba[Ia >>> 12 & 63] + Y + Y);return Ma;};Gb=function(Ba,Ia){Ba=Ba.replace(ib,"");if(Ia && (Ia=Ba.length % 4)){Ia=4 - Ia;for(var Ma=0;Ma < Ia;++Ma){Ba+="=";}}Ia=Ba.length;if(0 != Ia % 4 || !rb.test(Ba))throw Error("bad base64: " + Ba);for(var ta=Ia / 4 * 3 - ("=" == Ba[Ia - 1]?1:0) - ("=" == Ba[Ia - 2]?1:0),ma=new Uint8Array(ta),fa=0,ba=0;fa < Ia;){Ma=fb[Ba[fa++]] + db[Ba[fa++]] + bb[Ba[fa++]] + Ya[Ba[fa++]];ma[ba++]=Ma >>> 16;ba < ta && (ma[ba++]=Ma >>> 8 & 255,ba < ta && (ma[ba++]=Ma & 255));}return ma;};})();Ub={};(function(){var rb,gb,Ba,Ma;function fb(ta){if(!(this instanceof fb))return new fb(ta);for(var ma=0,fa=gb.length;ma < fa;ma++){this[gb[ma]]="";}this.bufferCheckPosition=Ub.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ta || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ba.BEGIN;this.stack=new rb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;db(this,"onready");}function db(ta,ma,fa){if(ta[ma])ta[ma](fa);}function bb(ta,ma){var fa,ba;fa=ta.opt;ba=ta.textNode;fa.trim && (ba=ba.trim());fa.normalize && (ba=ba.replace(/\s+/g," "));ta.textNode=ba;ta.textNode && db(ta,ma?ma:"onvalue",ta.textNode);ta.textNode="";}function Ya(ta,ma){bb(ta);ma+="\nLine: " + ta.line + "\nColumn: " + ta.column + "\nChar: " + ta.c;ma=Error(ma);ta.error=ma;db(ta,"onerror",ma);return ta;}function ib(ta){ta.state !== Ba.VALUE && Ya(ta,"Unexpected end");bb(ta);ta.c="";ta.closed=!0;db(ta,"onend");fb.call(ta,ta.opt);return ta;}rb=Array;Ub.parser=function(ta){return new fb(ta);};Ub.CParser=fb;Ub.MAX_BUFFER_LENGTH=65536;Ub.DEBUG=!1;Ub.INFO=!1;Ub.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");gb=["textNode","numberNode"];Ub.EVENTS.filter(function(ta){return "error" !== ta && "end" !== ta;});Ba=0;Ub.STATE={BEGIN:Ba++,VALUE:Ba++,OPEN_OBJECT:Ba++,CLOSE_OBJECT:Ba++,OPEN_ARRAY:Ba++,CLOSE_ARRAY:Ba++,TEXT_ESCAPE:Ba++,STRING:Ba++,BACKSLASH:Ba++,END:Ba++,OPEN_KEY:Ba++,CLOSE_KEY:Ba++,TRUE:Ba++,TRUE2:Ba++,TRUE3:Ba++,FALSE:Ba++,FALSE2:Ba++,FALSE3:Ba++,FALSE4:Ba++,NULL:Ba++,NULL2:Ba++,NULL3:Ba++,NUMBER_DECIMAL_POINT:Ba++,NUMBER_DIGIT:Ba++};for(var Ia in Ub.STATE){Ub.STATE[Ub.STATE[Ia]]=Ia;}Ba=Ub.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ta){return ta.__proto__;});Ma=/[\\"\n]/g;fb.prototype={end:function(){ib(this);},write:function(ta){var ba,Y,Z;if(this.error)throw this.error;if(this.closed)return Ya(this,"Cannot write after close. Assign an onready handler.");if(null === ta)return ib(this);for(var ma=ta[0],fa;ma;){fa=ma;this.c=ma=ta.charAt(this.index++);fa !== ma?this.p=fa:fa=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Ba.BEGIN:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && Ya(this,"Non-whitespace before {[.");continue;case Ba.OPEN_KEY:case Ba.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_KEY)this.stack.push(Ba.CLOSE_KEY);else if("}" === ma){db(this,"onopenobject");db(this,"oncloseobject");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_OBJECT);'"' === ma?this.state=Ba.STRING:Ya(this,'Malformed object key should start with "');continue;case Ba.CLOSE_KEY:case Ba.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Ba.CLOSE_OBJECT?(this.stack.push(Ba.CLOSE_OBJECT),bb(this,"onopenobject")):bb(this,"onkey"),this.state=Ba.VALUE):"}" === ma?(bb(this),db(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ba.VALUE):"," === ma?(this.state === Ba.CLOSE_OBJECT && this.stack.push(Ba.CLOSE_OBJECT),bb(this),this.state=Ba.OPEN_KEY):Ya(this,"Bad object");continue;case Ba.OPEN_ARRAY:case Ba.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_ARRAY)if((db(this,"onopenarray"),this.state=Ba.VALUE,"]" === ma)){db(this,"onclosearray");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_ARRAY);'"' === ma?this.state=Ba.STRING:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"t" === ma?this.state=Ba.TRUE:"f" === ma?this.state=Ba.FALSE:"n" === ma?this.state=Ba.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):Ya(this,"Bad value");continue;case Ba.CLOSE_ARRAY:if("," === ma)(this.stack.push(Ba.CLOSE_ARRAY),bb(this,"onvalue"),this.state=Ba.VALUE);else if("]" === ma)(bb(this),db(this,"onclosearray",void 0),this.state=this.stack.pop() || Ba.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else Ya(this,"Bad array");continue;case Ba.STRING:fa=this.index - 1;(ba=this.slashed,Y=this.unicodeI);a:for(;;){if(Ub.DEBUG)for(;0 < Y;){if((this.unicodeS+=ma,ma=ta.charAt(this.index++),4 === Y?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Y=0,fa=this.index - 1):Y++,!ma))break a;}if('"' === ma && !ba){this.state=this.stack.pop() || Ba.VALUE;(this.textNode+=ta.substring(fa,this.index - 1)) || db(this,"onvalue","");break;}if("\\" === ma && !ba && (ba=!0,this.textNode+=ta.substring(fa,this.index - 1),ma=ta.charAt(this.index++),!ma))break;if(ba)if((ba=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(Y=1,this.unicodeS=""):this.textNode+=ma,ma=ta.charAt(this.index++),fa=this.index - 1,ma))continue;else break;Ma.lastIndex=this.index;Z=Ma.exec(ta);if(null === Z){this.index=ta.length + 1;this.textNode+=ta.substring(fa,this.index - 1);break;}this.index=Z.index + 1;ma=ta.charAt(Z.index);if(!ma){this.textNode+=ta.substring(fa,this.index - 1);break;}}this.slashed=ba;this.unicodeI=Y;continue;case Ba.TRUE:if("" === ma)continue;"r" === ma?this.state=Ba.TRUE2:Ya(this,"Invalid true started with t" + ma);continue;case Ba.TRUE2:if("" === ma)continue;"u" === ma?this.state=Ba.TRUE3:Ya(this,"Invalid true started with tr" + ma);continue;case Ba.TRUE3:if("" === ma)continue;"e" === ma?(db(this,"onvalue",!0),this.state=this.stack.pop() || Ba.VALUE):Ya(this,"Invalid true started with tru" + ma);continue;case Ba.FALSE:if("" === ma)continue;"a" === ma?this.state=Ba.FALSE2:Ya(this,"Invalid false started with f" + ma);continue;case Ba.FALSE2:if("" === ma)continue;"l" === ma?this.state=Ba.FALSE3:Ya(this,"Invalid false started with fa" + ma);continue;case Ba.FALSE3:if("" === ma)continue;"s" === ma?this.state=Ba.FALSE4:Ya(this,"Invalid false started with fal" + ma);continue;case Ba.FALSE4:if("" === ma)continue;"e" === ma?(db(this,"onvalue",!1),this.state=this.stack.pop() || Ba.VALUE):Ya(this,"Invalid false started with fals" + ma);continue;case Ba.NULL:if("" === ma)continue;"u" === ma?this.state=Ba.NULL2:Ya(this,"Invalid null started with n" + ma);continue;case Ba.NULL2:if("" === ma)continue;"l" === ma?this.state=Ba.NULL3:Ya(this,"Invalid null started with nu" + ma);continue;case Ba.NULL3:if("" === ma)continue;"l" === ma?(db(this,"onvalue",null),this.state=this.stack.pop() || Ba.VALUE):Ya(this,"Invalid null started with nul" + ma);continue;case Ba.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):Ya(this,"Leading zero not followed by .");continue;case Ba.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && Ya(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || Ya(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== fa && "E" !== fa && Ya(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && db(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ba.VALUE);continue;default:Ya(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ta=Math.max(Ub.MAX_BUFFER_LENGTH,10);fa=ma=0;for(ba=gb.length;fa < ba;fa++){Y=this[gb[fa]].length;if(Y > ta)switch(gb[fa]){case "text":break;default:Ya(this,"Max buffer length exceeded: " + gb[fa]);}ma=Math.max(ma,Y);}this.bufferCheckPosition=Ub.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var Ya,ib,rb;function fb(gb,Ba){Ba || (Ba=gb.length);return gb.reduce(function(Ia,Ma,ta){return ta < Ba?Ia + String.fromCharCode(Ma):Ia;},"");}for(var db={},bb=0;256 > bb;++bb){Ya=fb([bb]);db[Ya]=bb;}ib=Object.keys(db).length;rb=[];for(bb=0;256 > bb;++bb){rb[bb]=[bb];}ce=function(gb,Ba){var aa,ja;function Ia(ua,ra){var la;for(;0 < ra;){if(Y >= ba.length)return !1;if(ra > Z){la=ua;la>>>=ra - Z;ba[Y]|=la & 255;ra-=Z;Z=8;++Y;}else ra <= Z && (la=ua,la<<=Z - ra,la&=255,la>>>=8 - Z,ba[Y]|=la & 255,Z-=ra,ra=0,0 == Z && (Z=8,++Y));}return !0;}for(var Ma in db){Ba[Ma]=db[Ma];}for(var ta=ib,ma=[],fa=8,ba=new Uint8Array(gb.length),Y=0,Z=8,ea=0;ea < gb.length;++ea){aa=gb[ea];ma.push(aa);Ma=fb(ma);ja=Ba[Ma];if(!ja){ma=fb(ma,ma.length - 1);if(!Ia(Ba[ma],fa))return null;0 != ta >> fa && ++fa;Ba[Ma]=ta++;ma=[aa];}}return 0 < ma.length && (Ma=fb(ma),ja=Ba[Ma],!Ia(ja,fa))?null:ba.subarray(0,8 > Z?Y + 1:Y);};de=function(gb){var ea,aa;for(var Ba=rb.slice(),Ia=0,Ma=0,ta=8,ma=new Uint8Array(Math.ceil(1.5 * gb.length)),fa=0,ba,Y=[];Ia < gb.length && !(8 * (gb.length - Ia) - Ma < ta);){for(var Z=ba=0;Z < ta;){ea=Math.min(ta - Z,8 - Ma);aa=gb[Ia];aa<<=Ma;aa&=255;aa>>>=8 - ea;Z+=ea;Ma+=ea;8 == Ma && (Ma=0,++Ia);ba|=(aa & 255) << ta - Z;}Z=Ba[ba];0 == Y.length?++ta:(Z?Y.push(Z[0]):Y.push(Y[0]),Ba[Ba.length]=Y,Y=[],Ba.length == 1 << ta && ++ta,Z || (Z=Ba[ba]));ba=fa + Z.length;ba >= ma.length && (ea=new Uint8Array(Math.ceil(1.5 * ba)),ea.set(ma),ma=ea);ma.set(Z,fa);fa=ba;Y=Y.concat(Z);}return ma.subarray(0,fa);};})();(function(){var fb,db,bb;Lb="utf-8";Kb=9007199254740992;fb=Cc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Cc);ee=function(Ya){for(var ib=[fb.GZIP,fb.LZW],rb=0;rb < ib.length && 0 < Ya.length;++rb){for(var gb=ib[rb],Ba=0;Ba < Ya.length;++Ba){if(Ya[Ba] == gb)return gb;}}return null;};db=dd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(dd);fe=function(Ya){return db.AES_CBC_PKCS5Padding == Ya?db.AES_CBC_PKCS5Padding:db.RSA_ECB_PKCS1Padding == Ya?db.RSA_ECB_PKCS1Padding:db[Ya];};bb=ge={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ge);wd=function(Ya){return bb[Ya];};Ea={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ea);})();Ab={isObjectLiteral:function(fb){return null !== fb && "object" === typeof fb && fb.constructor === Object;},extendDeep:function(){var fb,db,bb,Ya,ib,rb,gb,Ba;fb=arguments[0];db=1;bb=arguments.length;Ya=!1;"boolean" === typeof fb && (Ya=fb,fb=arguments[1],db=2);for(;db < bb;db++){if(null != (ib=arguments[db]))for(rb in ib){if(!(Ya && (rb in fb))){gb=ib[rb];if(fb !== gb && gb !== zb){Ba=fb[rb];fb[rb]=null !== Ba && null !== gb && "object" === typeof Ba && "object" === typeof gb?Ab.extendDeep(Ya,{},Ba,gb):gb;}}}}return fb;}};(function(){var gb,Ba;function fb(Ia,Ma){return function(){var ta,ma;ta=Ia.base;Ia.base=Ma;ma=Ia.apply(this,arguments);Ia.base=ta;return ma;};}function db(Ia,Ma,ta){var ma,fa,ba,Y;ta=ta || Ba;fa=! !ta.extendAll;for(ma in Ma){ba=Ma.__lookupGetter__(ma);Y=Ma.__lookupSetter__(ma);ba || Y?(ba && Ia.__defineGetter__(ma,ba),Y && Ia.__defineSetter__(ma,Y)):(ba=Ma[ma],Y=Ia[ma],"function" === typeof ba && "function" === typeof Y && ba !== Y?(ba.base !== Function.prototype.base && (ba=fb(ba,Y)),ba.base=Y):(fa || ta[ma]) && Ab.isObjectLiteral(ba) && Ab.isObjectLiteral(Y) && (ba=Ab.extendDeep({},Y,ba)),Ia[ma]=ba);}}function bb(){var Ia,Ma;Ia=Array.prototype.slice;Ma=Ia.call(arguments,1);return this.extend({init:function ma(){var fa;fa=Ia.call(arguments,0);ma.base.apply(this,Ma.concat(fa));}});}function Ya(Ia,Ma){var ta;ta=new this(gb);db(ta,Ia,Ma);return rb(ta);}function ib(Ia,Ma){db(this.prototype,Ia,Ma);return this;}function rb(Ia){var Ma;Ma=function(){var ta;ta=this.init;ta && arguments[0] !== gb && ta.apply(this,arguments);};Ia && (Ma.prototype=Ia);Ma.prototype.constructor=Ma;Ma.extend=Ya;Ma.bind=bb;Ma.mixin=ib;return Ma;}gb={};Ba={actions:!0};Function.prototype.base=function(){};Ab.Class={create:rb,mixin:db,extend:function(Ia,Ma){var ta;ta=rb();ta.prototype=new Ia();return ta.extend(Ma);}};Ab.mixin=function(){Ab.log && Ab.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");db.apply(null,arguments);};})();(function(){var gb,Ba,Ia;function fb(Ma,ta){return function(){var ma,fa;ma=Ma.base;Ma.base=ta;fa=Ma.apply(this,arguments);Ma.base=ma;return fa;};}function db(Ma,ta,ma){var fa,ba,Y,Z;ma=ma || Ba;ba=! !ma.extendAll;for(fa in ta){Y=ta.__lookupGetter__(fa);Z=ta.__lookupSetter__(fa);Y || Z?(Y && Ma.__defineGetter__(fa,Y),Z && Ma.__defineSetter__(fa,Z)):(Y=ta[fa],Z=Ma[fa],"function" === typeof Y && "function" === typeof Z && Y !== Z?(Y.base !== Ia && (Y=fb(Y,Z)),Y.base=Z):(ba || ma[fa]) && Ab.isObjectLiteral(Y) && Ab.isObjectLiteral(Z) && (Y=Ab.extendDeep({},Z,Y)),Ma[fa]=Y);}}function bb(){var Ma,ta;Ma=Array.prototype.slice;ta=Ma.call(arguments,1);return this.extend({init:function fa(){var ba;ba=Ma.call(arguments,0);fa.base.apply(this,ta.concat(ba));}});}function Ya(Ma,ta){var ma;ma=new this(gb);db(ma,Ma,ta);return rb(ma);}function ib(Ma,ta){db(this.prototype,Ma,ta);return this;}function rb(Ma){var ta;ta=function(){var ma;ma=this.init;ma && arguments[0] !== gb && ma.apply(this,arguments);};Ma && (ta.prototype=Ma);ta.prototype.constructor=ta;ta.extend=Ya;ta.bind=bb;ta.mixin=ib;return ta;}gb={};Ba={actions:!0};Ia=function(){};Function.prototype.base=Ia;Ab.Class={create:rb,mixin:db,extend:function(Ma,ta){var ma;ma=rb();ma.prototype=new Ma();return ma.extend(ta);}};Ab.mixin=function(){Ab.log && Ab.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");db.apply(null,arguments);};})();(function(){function fb(bb){return bb == Kb?1:bb + 1;}function db(bb){if(0 === Object.keys(bb._waiters).length)return 0;for(var Ya=fb(bb._nextWaiter);!bb._waiters[Ya];){Ya=fb(Ya);}return Ya;}Qc=Ab.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var Ya;if(this._waiters[bb]){Ya=this._waiters[bb];delete this._waiters[bb];bb == this._nextWaiter && (this._nextWaiter=db(this));Ya.call(this,zb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(bb,Ya){var ib,rb;ib=this;rb=fb(this._lastWaiter);this._lastWaiter=rb;ab(Ya,function(){var gb,Ba;if(0 < this._queue.length){gb=this._queue.shift();setTimeout(function(){Ya.result(gb);},0);}else {-1 != bb && (Ba=setTimeout(function(){delete ib._waiters[rb];rb == ib._nextWaiter && (ib._nextWaiter=db(ib));Ya.timeout();},bb));this._waiters[rb]=function(Ia){clearTimeout(Ba);setTimeout(function(){Ya.result(Ia);},0);};this._nextWaiter || (this._nextWaiter=rb);}},ib);return rb;},add:function(bb){var Ya;if(this._nextWaiter){Ya=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=db(this);Ya.call(this,bb);}else this._queue.push(bb);}});})();(function(){var fb;fb=0 - Kb;he=Ab.Class.create({nextBoolean:function(){var db;db=new Uint8Array(1);tc.getRandomValues(db);return db[0] & 1?!0:!1;},nextInt:function(db){var bb;if(null !== db && db !== zb){if("number" !== typeof db)throw new TypeError("n must be of type number");if(1 > db)throw new RangeError("n must be greater than zero");--db;bb=new Uint8Array(4);tc.getRandomValues(bb);return Math.floor(((bb[3] & 127) << 24 | bb[2] << 16 | bb[1] << 8 | bb[0]) / 2147483648 * (db - 0 + 1));}db=new Uint8Array(4);tc.getRandomValues(db);bb=(db[3] & 127) << 24 | db[2] << 16 | db[1] << 8 | db[0];return db[3] & 128?-bb:bb;},nextLong:function(){var bb;for(var db=fb;db == fb;){db=new Uint8Array(7);tc.getRandomValues(db);bb=16777216 * ((db[6] & 31) << 24 | db[5] << 16 | db[4] << 8 | db[3]) + (db[2] << 16 | db[1] << 8 | db[0]);db=db[6] & 128?-bb - 1:bb;}return db;},nextBytes:function(db){tc.getRandomValues(db);}});})();(function(){function fb(Ya){return Ya == Kb?1:Ya + 1;}function db(Ya){if(0 === Object.keys(Ya._waitingReaders).length)return 0;for(var ib=fb(Ya._nextReader);!Ya._waitingReaders[ib];){ib=fb(ib);}return ib;}function bb(Ya){if(0 === Object.keys(Ya._waitingWriters).length)return 0;for(var ib=fb(Ya._nextWriter);!Ya._waitingWriters[ib];){ib=fb(ib);}return ib;}xd=Ab.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(Ya){var ib;if(this._waitingReaders[Ya]){ib=this._waitingReaders[Ya];delete this._waitingReaders[Ya];Ya == this._nextReader && (this._nextReader=db(this));ib.call(this,!0);}this._waitingWriters[Ya] && (ib=this._waitingWriters[Ya],delete this._waitingWriters[Ya],Ya == this._nextWriter && (this._nextWriter=bb(this)),ib.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(Ya,ib){var rb,gb;rb=this;gb=fb(this._lastNumber);this._lastNumber=gb;ab(ib,function(){var Ba;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[gb]=!0,gb);-1 != Ya && (Ba=setTimeout(function(){delete rb._waitingReaders[gb];gb == rb._nextReader && (rb._nextReader=db(rb));ib.timeout();},Ya));this._waitingReaders[gb]=function(Ia){clearTimeout(Ba);Ia?setTimeout(function(){ib.result(zb);},0):(rb._readers[gb]=!0,setTimeout(function(){ib.result(gb);},0));};this._nextReader || (this._nextReader=gb);},rb);return gb;},writeLock:function(Ya,ib){var rb,gb;rb=this;gb=fb(this._lastNumber);this._lastNumber=gb;ab(ib,function(){var Ba;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=gb;-1 != Ya && (Ba=setTimeout(function(){delete rb._waitingWriters[gb];gb == rb._nextWriter && (rb._nextWriter=bb(rb));ib.timeout();},Ya));this._waitingWriters[gb]=function(Ia){clearTimeout(Ba);Ia?setTimeout(function(){ib.result(zb);},0):(rb._writer=gb,setTimeout(function(){ib.result(gb);},0));};this._nextWriter || (this._nextWriter=gb);},rb);return gb;},unlock:function(Ya){if(Ya == this._writer)this._writer=null;else {if(!this._readers[Ya])throw new vb("There is no reader or writer with ticket number " + Ya + ".");delete this._readers[Ya];}if(this._nextWriter)0 < Object.keys(this._readers).length || (Ya=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=bb(this),Ya.call(this,!1));else {for(var ib=this._nextReader;0 < Object.keys(this._waitingReaders).length;ib=fb(ib)){this._waitingReaders[ib] && (Ya=this._waitingReaders[ib],delete this._waitingReaders[ib],Ya.call(this,!1));}this._nextReader=0;}}});})();Ab.Class.mixin(X,{JSON_PARSE_ERROR:new X(0,Ea.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new X(1,Ea.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new X(2,Ea.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new X(3,Ea.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new X(4,Ea.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new X(5,Ea.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new X(6,Ea.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new X(7,Ea.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new X(8,Ea.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new X(9,Ea.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new X(10,Ea.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new X(11,Ea.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new X(12,Ea.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new X(13,Ea.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new X(14,Ea.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new X(15,Ea.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new X(16,Ea.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new X(17,Ea.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new X(18,Ea.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new X(19,Ea.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new X(20,Ea.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new X(21,Ea.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new X(22,Ea.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new X(23,Ea.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new X(24,Ea.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new X(25,Ea.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new X(26,Ea.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new X(27,Ea.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new X(28,Ea.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new X(29,Ea.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new X(30,Ea.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new X(31,Ea.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new X(32,Ea.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new X(33,Ea.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new X(34,Ea.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new X(35,Ea.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new X(36,Ea.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new X(37,Ea.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new X(38,Ea.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new X(39,Ea.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new X(40,Ea.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new X(41,Ea.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new X(42,Ea.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new X(43,Ea.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new X(44,Ea.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new X(45,Ea.FAIL,"Error exporting key."),DIGEST_ERROR:new X(46,Ea.FAIL,"Error in digest."),UNSUPPORTED_KEY:new X(47,Ea.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new X(48,Ea.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new X(49,Ea.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new X(50,Ea.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new X(51,Ea.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new X(52,Ea.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new X(53,Ea.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new X(54,Ea.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new X(55,Ea.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new X(56,Ea.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new X(57,Ea.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new X(58,Ea.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new X(59,Ea.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new X(60,Ea.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new X(61,Ea.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new X(62,Ea.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new X(1E3,Ea.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new X(1001,Ea.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new X(1002,Ea.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new X(1003,Ea.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(1004,Ea.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(1005,Ea.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new X(1006,Ea.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new X(1007,Ea.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new X(1008,Ea.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new X(1009,Ea.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new X(1010,Ea.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new X(1011,Ea.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new X(1012,Ea.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new X(1013,Ea.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new X(1014,Ea.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new X(2E3,Ea.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new X(2001,Ea.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new X(2002,Ea.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new X(2003,Ea.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new X(2004,Ea.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new X(2005,Ea.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2006,Ea.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2007,Ea.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new X(2008,Ea.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new X(2009,Ea.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new X(2010,Ea.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new X(2011,Ea.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new X(2012,Ea.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new X(2013,Ea.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new X(2014,Ea.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new X(2015,Ea.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new X(2016,Ea.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new X(2017,Ea.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new X(2018,Ea.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new X(2019,Ea.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new X(2020,Ea.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new X(3E3,Ea.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new X(3001,Ea.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new X(3002,Ea.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new X(3003,Ea.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new X(3004,Ea.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3005,Ea.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3006,Ea.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new X(3007,Ea.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new X(3008,Ea.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new X(3009,Ea.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new X(4E3,Ea.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new X(4001,Ea.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new X(4002,Ea.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new X(4003,Ea.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new X(4004,Ea.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new X(4005,Ea.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new X(4006,Ea.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new X(4007,Ea.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new X(4008,Ea.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new X(4009,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new X(4010,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new X(4011,Ea.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new X(4012,Ea.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new X(4013,Ea.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new X(4014,Ea.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new X(4015,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new X(4016,Ea.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new X(4017,Ea.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new X(4018,Ea.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new X(4019,Ea.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new X(4020,Ea.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new X(4021,Ea.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new X(4022,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new X(4023,Ea.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new X(4024,Ea.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new X(4025,Ea.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new X(4026,Ea.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new X(5E3,Ea.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new X(5001,Ea.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new X(5002,Ea.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new X(5003,Ea.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new X(5004,Ea.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new X(5005,Ea.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new X(5006,Ea.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new X(5007,Ea.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new X(5008,Ea.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new X(5009,Ea.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new X(5010,Ea.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new X(5011,Ea.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new X(5012,Ea.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new X(5013,Ea.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new X(5014,Ea.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new X(5015,Ea.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new X(5016,Ea.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new X(5017,Ea.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new X(5018,Ea.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new X(5019,Ea.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new X(5020,Ea.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new X(5021,Ea.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new X(5022,Ea.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new X(5023,Ea.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new X(5024,Ea.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new X(5025,Ea.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new X(5026,Ea.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new X(5027,Ea.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new X(5028,Ea.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new X(5029,Ea.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new X(5030,Ea.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new X(5031,Ea.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new X(5032,Ea.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new X(5033,Ea.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new X(5034,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new X(5035,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new X(5036,Ea.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new X(5037,Ea.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new X(5038,Ea.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new X(5039,Ea.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new X(5040,Ea.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new X(6E3,Ea.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new X(6001,Ea.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new X(6002,Ea.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new X(6003,Ea.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new X(6004,Ea.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new X(6005,Ea.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new X(6006,Ea.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new X(6007,Ea.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new X(6008,Ea.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new X(6009,Ea.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new X(6010,Ea.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new X(6011,Ea.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new X(6012,Ea.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new X(6013,Ea.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new X(6014,Ea.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new X(6015,Ea.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new X(6016,Ea.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new X(6017,Ea.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new X(6018,Ea.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(6019,Ea.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new X(6020,Ea.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new X(6021,Ea.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new X(6022,Ea.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new X(6023,Ea.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new X(6024,Ea.FAIL,"Invalid header data."),PAYLOAD_INVALID:new X(6025,Ea.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new X(6026,Ea.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new X(6027,Ea.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new X(6028,Ea.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new X(6029,Ea.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new X(6030,Ea.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new X(6031,Ea.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new X(6032,Ea.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new X(6033,Ea.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new X(6034,Ea.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new X(6035,Ea.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new X(6036,Ea.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new X(6037,Ea.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new X(7E3,Ea.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new X(7001,Ea.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new X(7002,Ea.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new X(7003,Ea.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new X(7004,Ea.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new X(7005,Ea.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new X(7006,Ea.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new X(7007,Ea.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new X(7008,Ea.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new X(7009,Ea.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new X(7010,Ea.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new X(7011,Ea.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new X(7012,Ea.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new X(7013,Ea.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new X(7014,Ea.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new X(7015,Ea.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new X(7016,Ea.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new X(8E3,Ea.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new X(8001,Ea.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new X(8002,Ea.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new X(8003,Ea.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new X(8004,Ea.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new X(8005,Ea.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new X(8006,Ea.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new X(8007,Ea.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new X(8008,Ea.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new X(8009,Ea.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new X(8010,Ea.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new X(8011,Ea.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new X(8012,Ea.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new X(9E3,Ea.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new X(9001,Ea.FAIL,"Error communicating with MSL entity."),NONE:new X(9999,Ea.FAIL,"Special unit test error.")});Object.freeze(X);(function(){cb=Ab.Class.create(Error());cb.mixin({init:function(fb,db,bb){var ib,rb,gb;function Ya(){return rb?rb:this.cause && this.cause instanceof cb?this.cause.messageId:zb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ib=fb.message;db && (ib+=" [" + db + "]");gb=this.stack;Object.defineProperties(this,{message:{value:ib,writable:!1,configurable:!0},error:{value:fb,writable:!1,configurable:!0},cause:{value:bb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:Ya,set:function(Ba){if(0 > Ba || Ba > Kb)throw new RangeError("Message ID " + Ba + " is outside the valid range.");Ya() || (rb=Ba);},configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();gb && (Ba+="\n" + gb);bb && bb.stack && (Ba+="\nCaused by " + bb.stack);return Ba;},configurable:!0}});},setEntity:function(fb){!fb || this.masterToken || this.entityAuthenticationData || (fb instanceof bc?this.masterToken=fb:fb instanceof Dc && (this.entityAuthenticationData=fb));return this;},setUser:function(fb){!fb || this.userIdToken || this.userAuthenticationData || (fb instanceof Kc?this.userIdToken=fb:fb instanceof Rc && (this.userAuthenticationData=fb));return this;},setMessageId:function(fb){this.messageId=fb;return this;},toString:function(){return this.name + ": " + this.message;}});})();tb=cb.extend({init:function ib(db,bb,Ya){ib.base.call(this,db,bb,Ya);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Db=cb.extend({init:function rb(bb,Ya,ib){rb.base.call(this,bb,Ya,ib);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});kc=cb.extend({init:function gb(Ya,ib,rb){gb.base.call(this,Ya,ib,rb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){cc=Ab.Class.create(Error());cc.mixin({init:function(Ya,ib,rb){var gb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);gb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},requestCause:{value:rb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();gb && (Ba+="\n" + gb);ib && ib.stack && (Ba+="\nCaused by " + ib.stack);return Ba;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Rb=Ab.Class.create(Error());Rb.mixin({init:function(Ya,ib){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();rb && (gb+="\n" + rb);ib && ib.stack && (gb+="\nCaused by " + ib.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Ab.Class.create(Error());vb.mixin({init:function(Ya,ib){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();rb && (gb+="\n" + rb);ib && ib.stack && (gb+="\nCaused by " + ib.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Ab.Class.create(Error());Vb.mixin({init:function(Ya,ib){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();rb && (gb+="\n" + rb);ib && ib.stack && (gb+="\nCaused by " + ib.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Mb=cb.extend({init:function Ba(ib,rb,gb){Ba.base.call(this,ib,rb,gb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Sc=cb.extend({init:function Ba(rb,gb){Ba.base.call(this,rb);Object.defineProperties(this,{masterToken:{value:gb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Hb=cb.extend({init:function Ma(gb,Ba,Ia){Ma.base.call(this,gb,Ba,Ia);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});uc=cb.extend({init:function ta(Ba,Ia,Ma){ta.base.call(this,Ba,Ia,Ma);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Ba(fa){return "undefined" === typeof fa?!1:fa;}function Ia(fa){return fa && fa.length?(Wb === ma.V2014_02 && (fa=fa.map(function(ba){return "wrap" == ba?"wrapKey":"unwrap" == ba?"unwrapKey":ba;})),fa):Wb === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Ma(fa,ba,Y,Z,ea){return Promise.resolve().then(function(){return Nb.importKey(fa,ba,Y,Z,ea);}).catch(function(aa){var ja;if("spki" !== fa && "pkcs8" !== fa)throw aa;aa=ASN1.webCryptoAlgorithmToJwkAlg(Y);ja=ASN1.webCryptoUsageToJwkKeyOps(ea);aa=ASN1.rsaDerToJwk(ba,aa,ja,Z);if(!aa)throw Error("Could not make valid JWK from DER input");aa=JSON.stringify(aa);return Nb.importKey("jwk",td(aa),Y,Z,ea);});}function ta(fa,ba){return Promise.resolve().then(function(){return Nb.exportKey(fa,ba);}).catch(function(Y){if("spki" !== fa && "pkcs8" !== fa)throw Y;return Nb.exportKey("jwk",ba).then(function(Z){Z=JSON.parse(sd(new Uint8Array(Z)));Z=ASN1.jwkToRsaDer(Z);if(!Z)throw Error("Could not make valid DER from JWK input");return Z.getDer().buffer;});});}ma=ed={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(ed);Wb=ma.LATEST;Jb={encrypt:function(fa,ba,Y){switch(Wb){case ma.LEGACY:return new Promise(function(Z,ea){var aa;aa=Nb.encrypt(fa,ba,Y);aa.oncomplete=function(ja){Z(ja.target.result);};aa.onerror=function(ja){ea(ja);};});case ma.V2014_01:case ma.V2014_02:return Nb.encrypt(fa,ba,Y).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(fa,ba,Y){switch(Wb){case ma.LEGACY:return new Promise(function(Z,ea){var aa;aa=Nb.decrypt(fa,ba,Y);aa.oncomplete=function(ja){Z(ja.target.result);};aa.onerror=function(ja){ea(ja);};});case ma.V2014_01:case ma.V2014_02:return Nb.decrypt(fa,ba,Y).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(fa,ba,Y){switch(Wb){case ma.LEGACY:return new Promise(function(Z,ea){var aa;aa=Nb.sign(fa,ba,Y);aa.oncomplete=function(ja){Z(ja.target.result);};aa.onerror=function(ja){ea(ja);};});case ma.V2014_01:case ma.V2014_02:return Nb.sign(fa,ba,Y).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(fa,ba,Y,Z){switch(Wb){case ma.LEGACY:return new Promise(function(ea,aa){var ja;ja=Nb.verify(fa,ba,Y,Z);ja.oncomplete=function(ua){ea(ua.target.result);};ja.onerror=function(ua){aa(ua);};});case ma.V2014_01:case ma.V2014_02:return Nb.verify(fa,ba,Y,Z);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(fa,ba){switch(Wb){case ma.LEGACY:return new Promise(function(Y,Z){var ea;ea=Nb.digest(fa,ba);ea.oncomplete=function(aa){Y(aa.target.result);};ea.onerror=function(aa){Z(aa);};});case ma.V2014_01:case ma.V2014_02:return Nb.digest(fa,ba).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(fa,ba,Y){var Z,ea;Z=Ba(ba);ea=Ia(Y);switch(Wb){case ma.LEGACY:return new Promise(function(aa,ja){var ua;ua=Nb.generateKey(fa,Z,ea);ua.oncomplete=function(ra){aa(ra.target.result);};ua.onerror=function(ra){ja(ra);};});case ma.V2014_01:case ma.V2014_02:return Nb.generateKey(fa,Z,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(fa,ba,Y,Z,ea){var aa,ja;aa=Ba(Z);ja=Ia(ea);switch(Wb){case ma.LEGACY:return new Promise(function(ua,ra){var la;la=Nb.deriveKey(fa,ba,Y,aa,ja);la.oncomplete=function(qa){ua(qa.target.result);};la.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Nb.deriveKey(fa,ba,Y,aa,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(fa,ba,Y,Z,ea){var aa,ja;aa=Ba(Z);ja=Ia(ea);switch(Wb){case ma.LEGACY:return new Promise(function(ua,ra){var la;la=Nb.importKey(fa,ba,Y,aa,ja);la.oncomplete=function(qa){ua(qa.target.result);};la.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Ma(fa,ba,Y,aa,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(fa,ba){switch(Wb){case ma.LEGACY:return new Promise(function(Y,Z){var ea;ea=Nb.exportKey(fa,ba);ea.oncomplete=function(aa){Y(aa.target.result);};ea.onerror=function(aa){Z(aa);};});case ma.V2014_01:case ma.V2014_02:return ta(fa,ba).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(fa,ba,Y,Z){switch(Wb){case ma.LEGACY:return new Promise(function(ea,aa){var ja;ja=Nb.wrapKey(ba,Y,Z);ja.oncomplete=function(ua){ea(ua.target.result);};ja.onerror=function(ua){aa(ua);};});case ma.V2014_01:case ma.V2014_02:return Nb.wrapKey(fa,ba,Y,Z).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(fa,ba,Y,Z,ea,aa,ja){switch(Wb){case ma.LEGACY:return new Promise(function(ua,ra){var la;la=Nb.unwrapKey(ba,ea,Y);la.oncomplete=function(qa){ua(qa.target.result);};la.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Nb.unwrapKey(fa,ba,Y,Z,ea,Ba(aa),Ia(ja));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};cd && cd.getKeyByName && (Jb.getKeyByName=function(fa){switch(Wb){case ma.LEGACY:return new Promise(function(ba,Y){var Z;Z=cd.getKeyByName(fa);Z.oncomplete=function(ea){ba(ea.target.result);};Z.onerror=function(ea){Y(ea);};});case ma.V2014_01:case ma.V2014_02:return cd.getKeyByName(fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});mb.netflix=mb.netflix || ({});mb.netflix.crypto=Jb;})();lc={name:"AES-KW"};hc={name:"AES-CBC"};ic={name:"HMAC",hash:{name:"SHA-256"}};fd={name:"RSA-OAEP",hash:{name:"SHA-1"}};yd={name:"RSAES-PKCS1-v1_5"};ie={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};vc=["encrypt","decrypt"];wc=["wrap","unwrap"];Ec=["sign","verify"];(function(){zd=Ab.Class.create({init:function(Ba,Ia,Ma){var ma;function ta(fa){La(Ia,function(){var ba;ba=fa?Eb(fa):zb;Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},keyData:{value:fa,writable:!1,configurable:!1},keyDataB64:{value:ba,writable:!1,configurable:!1}});return this;},ma);}ma=this;La(Ia,function(){if(!Ba || "object" != typeof Ba)throw new tb(X.INVALID_SYMMETRIC_KEY);!Ma && Ba.extractable?Jb.exportKey("raw",Ba).then(function(fa){ta(new Uint8Array(fa));},function(fa){Ia.error(new tb(X.KEY_EXPORT_ERROR,"raw"));}):ta(Ma);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Tc=function(Ba,Ia){new zd(Ba,Ia);};mc=function(Ba,Ia,Ma,ta){La(ta,function(){try{Ba="string" == typeof Ba?Gb(Ba):Ba;}catch(ma){throw new tb(X.INVALID_SYMMETRIC_KEY,"keydata " + Ba,ma);}Jb.importKey("raw",Ba,Ia,!0,Ma).then(function(ma){new zd(ma,ta,Ba);},function(ma){ta.error(new tb(X.INVALID_SYMMETRIC_KEY));});});};})();(function(){gd=Ab.Class.create({init:function(Ba,Ia,Ma){var ma;function ta(fa){La(Ia,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},ma);}ma=this;La(Ia,function(){if(!Ba || "object" != typeof Ba || "public" != Ba.type)throw new TypeError("Only original public crypto keys are supported.");!Ma && Ba.extractable?Jb.exportKey("spki",Ba).then(function(fa){ta(new Uint8Array(fa));},function(fa){Ia.error(new tb(X.KEY_EXPORT_ERROR,"spki"));}):ta(Ma);});},getEncoded:function(){return this.encoded;}});Bc=function(Ba,Ia){new gd(Ba,Ia);};Ad=function(Ba,Ia,Ma,ta){La(ta,function(){try{Ba="string" == typeof Ba?Gb(Ba):Ba;}catch(ma){throw new tb(X.INVALID_PUBLIC_KEY,"spki " + Ba,ma);}Jb.importKey("spki",Ba,Ia,!0,Ma).then(function(ma){new gd(ma,ta,Ba);},function(ma){ta.error(new tb(X.INVALID_PUBLIC_KEY));});});};})();(function(){je=Ab.Class.create({init:function(Ba,Ia,Ma){var ma;function ta(fa){La(Ia,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},ma);}ma=this;La(Ia,function(){if(!Ba || "object" != typeof Ba || "private" != Ba.type)throw new TypeError("Only original private crypto keys are supported.");!Ma && Ba.extractable?Jb.exportKey("pkcs8",Ba).then(function(fa){ta(new Uint8Array(fa));},function(fa){Ia.error(new tb(X.KEY_EXPORT_ERROR,"pkcs8"));}):ta(Ma);});},getEncoded:function(){return this.encoded;}});Jc=function(Ba,Ia){new je(Ba,Ia);};})();(function(){var Ba;Ba=Ed={V1:1,V2:2};Bd=Ab.Class.create({init:function(Ia,Ma,ta,ma){La(ma,function(){var fa,ba,Y,Z;fa=Ba.V1;ba=Ia;Y=null;for(Z in dd){if(dd[Z] == Ia){fa=Ba.V2;ba=null;Y=Ia;break;}}Object.defineProperties(this,{version:{value:fa,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ba,writable:!1,configurable:!1},cipherSpec:{value:Y,writable:!1,configurable:!1},iv:{value:Ma,writable:!1,configurable:!1},ciphertext:{value:ta,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ia;Ia={};switch(this.version){case Ba.V1:Ia.keyid=this.keyId;this.iv && (Ia.iv=Eb(this.iv));Ia.ciphertext=Eb(this.ciphertext);Ia.sha256="AA==";break;case Ba.V2:Ia.version=this.version;Ia.cipherspec=this.cipherSpec;this.iv && (Ia.iv=Eb(this.iv));Ia.ciphertext=Eb(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ia;}});Cd=function(Ia,Ma,ta,ma){new Bd(Ia,Ma,ta,ma);};Dd=function(Ia,Ma,ta){La(ta,function(){var ma,fa,ba,Y,Z,ea,aa;ma=Ia.keyid;fa=Ia.cipherspec;ba=Ia.iv;Y=Ia.ciphertext;Z=Ia.sha256;if(!Ma)if((Ma=Ia.version) && "number" === typeof Ma && Ma === Ma){ea=!1;for(aa in Ba){if(Ba[aa] == Ma){ea=!0;break;}}if(!ea)throw new tb(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ia));}else Ma=Ba.V1;switch(Ma){case Ba.V1:if("string" !== typeof ma || ba && "string" !== typeof ba || "string" !== typeof Y || "string" !== typeof Z)throw new Db(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ia));break;case Ba.V2:aa=Ia.version;if(aa != Ba.V2)throw new tb(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ia));if("string" !== typeof fa || ba && "string" !== typeof ba || "string" !== typeof Y)throw new Db(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ia));fa=fe(fa);if(!fa)throw new tb(X.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ia));ma=fa;break;default:throw new tb(X.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ia));}try{ba && (ba=Gb(ba));Y=Gb(Y);}catch(ja){throw new tb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ia),ja);}new Bd(ma,ba,Y,ta);});};})();(function(){var Ba;Ba=Hd={V1:1,V2:2};nc=Ab.Class.create({init:function(Ia,Ma,ta){var ma;switch(Ia){case Ba.V1:ma=ta;break;case Ba.V2:ma={};ma.version=Ia;ma.algorithm=Ma;ma.signature=Eb(ta);ma=Yb(JSON.stringify(ma),Lb);break;default:throw new vb("Signature envelope version " + Ia + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ia,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Ma,writable:!1,configurable:!1},signature:{value:ta,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});Fd=function(){var Ia,Ma,ta,ma;if(2 == arguments.length){Ia=Ba.V1;Ma=arguments[0];ta=null;ma=arguments[1];}else 3 == arguments.length && (Ia=Ba.V2,ta=arguments[0],Ma=arguments[1],ma=arguments[2]);La(ma,function(){return new nc(Ia,ta,Ma);});};Gd=function(Ia,Ma,ta){La(ta,function(){var ma,fa,ba,Y,Z,ea,aa;if(Ma)switch(Ma){case Ba.V1:return new nc(Ba.V1,null,Ia);case Ba.V2:try{ma=Xb(Ia,Lb);fa=JSON.parse(ma);ba=parseInt(fa.version);Y=fa.algorithm;Z=fa.signature;if(!ba || "number" !== typeof ba || ba != ba || "string" !== typeof Y || "string" !== typeof Z)throw new Db(X.JSON_PARSE_ERROR,"signature envelope " + Eb(Ia));if(Ba.V2 != ba)throw new tb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Ia));ea=wd(Y);if(!ea)throw new tb(X.UNIDENTIFIED_ALGORITHM,"signature envelope " + Eb(Ia));aa=Gb(Z);if(!aa)throw new tb(X.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ia));return new nc(Ba.V2,ea,aa);}catch(ja){if(ja instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"signature envelope " + Eb(Ia),ja);throw ja;}default:throw new tb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Ia));}try{ma=Xb(Ia,Lb);fa=JSON.parse(ma);}catch(ja){fa=null;}if(fa && fa.version){if((ma=fa.version,"number" !== typeof ma || ma !== ma))ma=Ba.V1;}else ma=Ba.V1;switch(ma){case Ba.V1:return new nc(ma,null,Ia);case Ba.V2:ea=fa.algorithm;Z=fa.signature;if("string" !== typeof ea || "string" !== typeof Z)return new nc(Ba.V1,null,Ia);ea=wd(ea);if(!ea)return new nc(Ba.V1,null,Ia);try{aa=Gb(Z);}catch(ja){return new nc(Ba.V1,null,Ia);}return new nc(ma,ea,aa);default:throw new tb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ia);}});};})();Lc=Ab.Class.create({encrypt:function(Ba,Ia){},decrypt:function(Ba,Ia){},wrap:function(Ba,Ia){},unwrap:function(Ba,Ia,Ma,ta){},sign:function(Ba,Ia){},verify:function(Ba,Ia,Ma){}});(function(){var Ba;Ba=pc={RSA_OAEP:fd.name,A128KW:lc.name};jc="A128GCM";oc=Ab.Class.create({init:function(Ia,Ma,ta,ma,fa){switch(Ma){case Ba.RSA_OAEP:fa=fa && (fa.rawKey || fa);ma=ma && (ma.rawKey || ma);break;case Ba.A128KW:fa=ma=ma && (ma.rawKey || ma);break;default:throw new vb("Unsupported algorithm: " + Ma);}Object.defineProperties(this,{_ctx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ta,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ia,Ma){Ma.error(new tb(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ia,Ma){Ma.error(new tb(X.DECRYPT_NOT_SUPPORTED));},wrap:function(Ia,Ma){La(Ma,function(){Jb.wrapKey("jwe+jwk",Ia.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ta){Ma.result(ta);},function(ta){Ma.error(new tb(X.WRAP_ERROR));});},this);},unwrap:function(Ia,Ma,ta,ma){function fa(ba){La(ma,function(){switch(ba.type){case "secret":Tc(ba,ma);break;case "public":Bc(ba,ma);break;case "private":Jc(ba,ma);break;default:throw new tb(X.UNSUPPORTED_KEY,"type: " + ba.type);}});}La(ma,function(){Jb.unwrapKey("jwe+jwk",Ia,this._unwrapKey,this._unwrapKey.algorithm,Ma,!1,ta).then(function(ba){fa(ba);},function(){ma.error(new tb(X.UNWRAP_ERROR));});},this);},sign:function(Ia,Ma){Ma.error(new tb(X.SIGN_NOT_SUPPORTED));},verify:function(Ia,Ma,ta){ta.error(new tb(X.VERIFY_NOT_SUPPORTED));}});})();Mc=Lc.extend({encrypt:function(Ba,Ia){Ia.result(Ba);},decrypt:function(Ba,Ia){Ia.result(Ba);},wrap:function(Ba,Ia){Ia.result(Ba);},unwrap:function(Ba,Ia,Ma,ta){ta.result(Ba);},sign:function(Ba,Ia){Ia.result(new Uint8Array(0));},verify:function(Ba,Ia,Ma){Ma.result(!0);}});(function(){var Ba;Ba=id={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};hd=Lc.extend({init:function Y(Ma,ta,ma,fa,ba){Y.base.call(this);ma && (ma=ma.rawKey);fa && (fa=fa.rawKey);Object.defineProperties(this,{id:{value:ta,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},transform:{value:ba == Ba.ENCRYPT_DECRYPT_PKCS1?yd:ba == Ba.ENCRYPT_DECRYPT_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ba == Ba.WRAP_UNWRAP_PKCS1?yd:ba == Ba.WRAP_UNWRAP_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ba == Ba.SIGN_VERIFY?ie:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ma,ta){var ma;ma=this;La(ta,function(){if("nullOp" == this.transform)return Ma;if(!this.publicKey)throw new tb(X.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Ma.length)return Ma;Jb.encrypt(ma.transform,ma.publicKey,Ma).then(function(fa){Cd(ma.id,null,fa,{result:function(ba){var Y;try{Y=JSON.stringify(ba);ta.result(Yb(Y,Lb));}catch(Z){ta.error(new tb(X.ENCRYPT_ERROR,null,Z));}},error:function(ba){ba instanceof cb || (ba=new tb(X.ENCRYPT_ERROR,null,ba));ta.error(ba);}});},function(fa){ta.error(new tb(X.ENCRYPT_ERROR));});},this);},decrypt:function(Ma,ta){var ma;ma=this;La(ta,function(){var fa,ba;if("nullOp" == this.transform)return Ma;if(!this.privateKey)throw new tb(X.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Ma.length)return Ma;try{fa=Xb(Ma,Lb);ba=JSON.parse(fa);}catch(Y){if(Y instanceof SyntaxError)throw new tb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Y);throw new tb(X.DECRYPT_ERROR,null,Y);}Dd(ba,Ed.V1,{result:function(Y){var Z;try{if(Y.keyId != ma.id)throw new tb(X.ENVELOPE_KEY_ID_MISMATCH);Z=ta.result;Jb.decrypt(ma.transform,ma.privateKey,Y.ciphertext).then(Z,function(ea){ta.error(new tb(X.DECRYPT_ERROR));});}catch(ea){ea instanceof cb?ta.error(ea):ta.error(new tb(X.DECRYPT_ERROR,null,ea));}},error:function(Y){Y instanceof Db && (Y=new tb(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Y));Y instanceof cb || (Y=new tb(X.DECRYPT_ERROR,null,Y));ta.error(Y);}});},this);},wrap:function(Ma,ta){La(ta,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new tb(X.WRAP_NOT_SUPPORTED,"no public key");ma=ta.result;Jb.wrapKey("jwk",Ma.rawKey,this.publicKey,this.wrapTransform).then(ma,function(fa){ta.error(new tb(X.WRAP_ERROR));});},this);},unwrap:function(Ma,ta,ma,fa){function ba(Y){La(fa,function(){switch(Y.type){case "secret":Tc(Y,fa);break;case "public":Bc(Y,fa);break;case "private":Jc(Y,fa);break;default:throw new tb(X.UNSUPPORTED_KEY,"type: " + Y.type);}});}La(fa,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new tb(X.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Ma,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ta,!1,ma).then(ba,function(Y){fa.error(new tb(X.UNWRAP_ERROR));});},this);},sign:function(Ma,ta){La(ta,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new tb(X.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Ma).then(function(ma){Fd(ma,{result:function(fa){ta.result(fa.bytes);},error:ta.error});},function(ma){ta.error(new tb(X.SIGNATURE_ERROR));});},this);},verify:function(Ma,ta,ma){var fa;fa=this;La(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new tb(X.VERIFY_NOT_SUPPORTED,"no public key");Gd(ta,Hd.V1,{result:function(ba){La(ma,function(){var Y;Y=ma.result;Jb.verify(this.algo,this.publicKey,ba.signature,Ma).then(Y,function(Z){ma.error(new tb(X.SIGNATURE_ERROR));});},fa);},error:ma.error});},this);}});})();(function(){jd=Lc.extend({init:function ba(Ia,Ma,ta,ma,fa){ba.base.call(this);ta=ta && ta.rawKey;ma=ma && ma.rawKey;fa=fa && fa.rawKey;Object.defineProperties(this,{ctx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},id:{value:Ma,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ia,Ma){var ta;ta=this;La(Ma,function(){var ma;if(!this.encryptionKey)throw new tb(X.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ia.length)return Ia;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Jb.encrypt({name:hc.name,iv:ma},ta.encryptionKey,Ia).then(function(fa){fa=new Uint8Array(fa);Cd(ta.id,ma,fa,{result:function(ba){var Y;try{Y=JSON.stringify(ba);Ma.result(Yb(Y,Lb));}catch(Z){Ma.error(new tb(X.ENCRYPT_ERROR,null,Z));}},error:function(ba){ba instanceof cb || (ba=new tb(X.ENCRYPT_ERROR,null,ba));Ma.error(ba);}});},function(fa){Ma.error(new tb(X.ENCRYPT_ERROR));});},this);},decrypt:function(Ia,Ma){var ta;ta=this;La(Ma,function(){var ma,fa;if(!this.encryptionKey)throw new tb(X.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ia.length)return Ia;try{ma=Xb(Ia,Lb);fa=JSON.parse(ma);}catch(ba){if(ba instanceof SyntaxError)throw new tb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new tb(X.DECRYPT_ERROR,null,ba);}Dd(fa,Ed.V1,{result:function(ba){try{if(ba.keyId != ta.id)throw new tb(X.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:hc.name,iv:ba.iv},ta.encryptionKey,ba.ciphertext).then(function(Y){Y=new Uint8Array(Y);Ma.result(Y);},function(){Ma.error(new tb(X.DECRYPT_ERROR));});}catch(Y){Y instanceof cb?Ma.error(Y):Ma.error(new tb(X.DECRYPT_ERROR,null,Y));}},error:function(ba){ba instanceof Db && (ba=new tb(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof cb || (ba=new tb(X.DECRYPT_ERROR,null,ba));Ma.error(ba);}});},this);},wrap:function(Ia,Ma){La(Ma,function(){if(!this.wrapKey)throw new tb(X.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Ia.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ta){Ma.result(ta);},function(ta){Ma.error(new tb(X.WRAP_ERROR));});},this);},unwrap:function(Ia,Ma,ta,ma){function fa(ba){La(ma,function(){switch(ba.type){case "secret":Tc(ba,ma);break;case "public":Bc(ba,ma);break;case "private":Jc(ba,ma);break;default:throw new tb(X.UNSUPPORTED_KEY,"type: " + ba.type);}});}La(ma,function(){if(!this.wrapKey)throw new tb(X.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Ia,this.wrapKey,this.wrapKey.algorithm,Ma,!1,ta).then(function(ba){fa(ba);},function(ba){ma.error(new tb(X.UNWRAP_ERROR));});},this);},sign:function(Ia,Ma){var ta;ta=this;La(Ma,function(){if(!this.hmacKey)throw new tb(X.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(ic,this.hmacKey,Ia).then(function(ma){La(Ma,function(){var fa;fa=new Uint8Array(ma);Fd(fa,{result:function(ba){Ma.result(ba.bytes);},error:Ma.error});},ta);},function(){Ma.error(new tb(X.HMAC_ERROR));});},this);},verify:function(Ia,Ma,ta){var ma;ma=this;La(ta,function(){if(!this.hmacKey)throw new tb(X.VERIFY_NOT_SUPPORTED,"no HMAC key.");Gd(Ma,Hd.V1,{result:function(fa){La(ta,function(){Jb.verify(ic,this.hmacKey,fa.signature,Ia).then(function(ba){ta.result(ba);},function(ba){ta.error(new tb(X.HMAC_ERROR));});},ma);},error:ta.error});},this);}});})();fc=jd.extend({init:function ba(Ia,Ma,ta,ma,fa){if(ta || ma || fa)ba.base.call(this,Ia,ta + "_" + Ma.sequenceNumber,ma,fa,null);else {if(!Ma.isDecrypted())throw new Sc(X.MASTERTOKEN_UNTRUSTED,Ma);ba.base.call(this,Ia,Ma.identity + "_" + Ma.sequenceNumber,Ma.encryptionKey,Ma.hmacKey,null);}}});jf=Lc.extend({encrypt:function(Ia,Ma){Ma.result(Ia);},decrypt:function(Ia,Ma){Ma.result(Ia);},wrap:function(Ia,Ma){Ma.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ia,Ma,ta,ma){ma.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ia,Ma){Ma.result(new Uint8Array(0));},verify:function(Ia,Ma,ta){ta.result(!1);}});Ob={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ob);(function(){Dc=Ab.Class.create({init:function(Ia){Object.defineProperties(this,{scheme:{value:Ia,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ia){return this === Ia?!0:Ia instanceof Dc?this.scheme == Ia.scheme:!1;},toJSON:function(){var Ia;Ia={};Ia.scheme=this.scheme;Ia.authdata=this.getAuthData();return Ia;}});ke=function(Ia,Ma){var ta,ma;ta=Ma.scheme;ma=Ma.authdata;if(!ta || !ma)throw new Db(X.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Ma));if(!Ob[ta])throw new kc(X.UNIDENTIFIED_ENTITYAUTH_SCHEME,ta);Ma=Ia.getEntityAuthenticationFactory(ta);if(!Ma)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ta);return Ma.createData(Ia,ma);};})();kd=Ab.Class.create({init:function(Ia){Object.defineProperties(this,{scheme:{value:Ia,writable:!1,configurable:!1}});},createData:function(Ia,Ma){},getCryptoContext:function(Ia,Ma){}});(function(){qc=Dc.extend({init:function ta(Ma){ta.base.call(this,Ob.MGK);Object.defineProperties(this,{identity:{value:Ma,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Ma;Ma={};Ma.identity=this.identity;return Ma;},equals:function ma(ta){return this === ta?!0:ta instanceof qc?ma.base.call(this,this,ta) && this.identity == ta.identity:!1;}});le=function(ta){var ma;ma=ta.identity;if(!ma)throw new Db(X.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ta));return new qc(ma);};})();kf=kd.extend({init:function ta(Ma){ta.base.call(this,Ob.MGK);Object.defineProperties(this,{localIdentity:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Ma,ta){return le(ta);},getCryptoContext:function(Ma,ta){if(!(ta instanceof qc))throw new vb("Incorrect authentication data type " + JSON.stringify(ta) + ".");if(ta.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"mgk " + ta.identity).setEntity(ta);return new Mc();}});(function(){rc=Dc.extend({init:function ma(ta){ma.base.call(this,Ob.PSK);Object.defineProperties(this,{identity:{value:ta,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ta;ta={};ta.identity=this.identity;return ta;},equals:function fa(ma){return this === ma?!0:ma instanceof rc?fa.base.call(this,this,ma) && this.identity == ma.identity:!1;}});me=function(ma){var fa;fa=ma.identity;if(!fa)throw new Db(X.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new rc(fa);};})();lf=kd.extend({init:function ma(ta){ma.base.call(this,Ob.PSK);Object.defineProperties(this,{localIdentity:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ta,ma){return me(ma);},getCryptoContext:function(ta,ma){if(!(ma instanceof rc))throw new vb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new Mc();}});(function(){ld=Dc.extend({init:function ba(ma,fa){ba.base.call(this,Ob.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:fa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function ba(fa){return this === fa?!0:fa instanceof ld?ba.base.call(this,this,fa) && this.identity == fa.identity && this.publicKeyId == fa.publicKeyId:!1;}});ne=function(fa){var ba,Y;ba=fa.identity;Y=fa.pubkeyid;if(!ba || "string" !== typeof ba || !Y || "string" !== typeof Y)throw new Db(X.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(fa));return new ld(ba,Y);};})();mf=kd.extend({init:function fa(ma){fa.base.call(this,Ob.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,fa){return ne(fa);},getCryptoContext:function(ma,fa){var ba,Y,Z;if(!(fa instanceof ld))throw new vb("Incorrect authentication data type " + fa + ".");ba=fa.identity;Y=fa.publicKeyId;Z=this.store.getPublicKey(Y);if(!Z)throw new kc(X.RSA_PUBLICKEY_NOT_FOUND,Y).setEntity(fa);return new hd(ma,ba,null,Z,id.SIGN_VERIFY);}});(function(){Pc=Dc.extend({init:function ba(fa){ba.base.call(this,Ob.NONE);Object.defineProperties(this,{identity:{value:fa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var fa;fa={};fa.identity=this.identity;return fa;},equals:function Y(ba){return this === ba?!0:ba instanceof Pc?Y.base.call(this,this,ba) && this.identity == ba.identity:!1;}});oe=function(ba){var Y;Y=ba.identity;if(!Y)throw new Db(X.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ba));return new Pc(Y);};})();hf=kd.extend({init:function fa(){fa.base.call(this,Ob.NONE);},createData:function(fa,ba){return oe(ba);},getCryptoContext:function(fa,ba){if(!(ba instanceof Pc))throw new vb("Incorrect authentication data type " + JSON.stringify(ba) + ".");return new Mc();}});nf=Ab.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(fa,ba){if(!(ba instanceof gd))throw new vb("Incorrect key data type " + ba + ".");this.rsaKeys[fa]=ba;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(fa){delete this.rsaKeys[fa];},getPublicKey:function(fa){return this.rsaKeys[fa];}});Id=Ab.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(fa,ba,Y){}});md=Ab.Class.create({abort:function(){},close:function(fa,ba){},write:function(fa,ba,Y,Z,ea){},flush:function(fa,ba){}});of=Ab.Class.create({init:function(fa){Object.defineProperties(this,{_data:{value:fa,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Rb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(fa,ba,Y){ab(Y,function(){var Z;if(this._closed)throw new Rb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == fa && (fa=this._data.length - this._currentPosition);Z=this._data.subarray(this._currentPosition,this._currentPosition + fa);this._currentPosition+=Z.length;return Z;},this);}});pf=Ab.Class.create({init:function(){var fa;fa={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},abort:function(){},close:function(fa,ba){this._closed=!0;ba.result(!0);},write:function(fa,ba,Y,Z,ea){ab(ea,function(){var aa;if(this._closed)throw new Rb("Stream is already closed.");if(0 > ba)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ba + Y > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");aa=fa.subarray(ba,Y);this._buffered.push(aa);return aa.length;},this);},flush:function(fa,ba){var Y;for(;0 < this._buffered.length;){if((fa=this._buffered.shift(),this._result)){Y=new Uint8Array(this._result.length + fa.length);Y.set(this._result);Y.set(fa,this._result.length);this._result=Y;}else this._result=new Uint8Array(fa);}ba.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});qf=Ab.Class.create({getResponse:function(fa,ba,Y){}});(function(){var fa,ba;fa=md.extend({init:function(Y,Z){Y={_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Z,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new pf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:zb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:zb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Qc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(Y){this._timeout=Y;},getResponse:function(Y,Z){var ea;ea=this;this._responseQueue.poll(Y,{result:function(aa){ab(Z,function(){aa && this._responseQueue.add(aa);return aa;},ea);},timeout:function(){ab(Z,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();Z.timeout();},ea);},error:function(aa){ab(Z,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw aa;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Y,Z){var ea;ea=this;ab(Z,function(){var aa;if(this._response)return !0;aa=this._buffer.toByteArray();0 < aa.length && (this._abortToken=this._httpLocation.getResponse({body:aa},this._timeout,{result:function(ja){ea._response={response:ja};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ja){ea._response={isError:!0,error:ja};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(Y,Z,ea,aa,ja){ab(ja,function(){if(this._response)throw new Rb("HttpOutputStream already closed.");this._buffer.write(Y,Z,ea,aa,ja);},this);},flush:function(Y,Z){ab(Z,function(){if(this._response)return !0;this._buffer.flush(Y,Z);},this);}});ba=Id.extend({init:function(Y){Object.defineProperties(this,{_out:{value:Y,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:zb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:zb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Y,Z,ea){var ja;function aa(ua){ab(ea,function(){if(!ua)return new Uint8Array(0);this._out.getResponse(Z,{result:function(ra){ab(ea,function(){var la;if(ra.isTimeout)(this._timedout=!0,ea.timeout());else {if(ra.isError)throw (this._exception=ra.error || new Rb("Unknown HTTP exception."),this._exception);if(!ra.response)throw (this._exception=new Rb("Missing HTTP response."),this._exception);ra.response.json !== zb && (this._json=ra.response.json,this.getJSON=function(){return ja._json;});la=ra.response.content || td("string" === typeof ra.response.body?ra.response.body:JSON.stringify(this._json));this._buffer=new of(la);this._buffer.read(Y,Z,ea);}},ja);},timeout:function(){ea.timeout();},error:function(ra){ea.error(ra);}});},ja);}ja=this;ab(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Y,Z,ea):this._out.close(Z,{result:function(ua){aa(ua);},timeout:function(){ea.timeout();},error:function(ua){ea.error(ua);}});}},ja);}});$d=Ab.Class.create({init:function(Y,Z){Object.defineProperties(this,{_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Z,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Y){this._timeout=Y;},openConnection:function(){var Y;Y=new fa(this._httpLocation,this._timeout);return {input:new ba(Y),output:Y};}});})();(function(){var fa,ba;fa=md.extend({init:function(){var Y;Y={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},getResponse:function(Y,Z){Z.result({success:!1,content:null,errorHttpCode:zb,errorSubCode:zb});},abort:function(){},close:function(Y,Z){Z.result(!0);},write:function(Y,Z,ea,aa,ja){var ua,ra;try{if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(Z + ea > Y.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ua=Y.subarray(Z,ea);ra=new Uint8Array(this._buffer.length + ua.length);ra.set(this._buffer);ra.set(ua,this._buffer.length);this._buffer=ra;ja.result(ua.length);}catch(la){ja.error(la);}},flush:function(Y,Z){Z.result(!0);},request:function(){return this._buffer;}});ba=Id.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Y,Z,ea){ea.result(new Uint8Array(16));}});ae=Ab.Class.create({init:function(){var Y;Y={output:{value:new fa(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ba(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return sd(this.output.request());}});})();pe=function(fa,ba,Y){(function(Z,ea,aa){Z.read(-1,ea,{result:function(ja){ja && ja.length?aa(null,ja):aa(null,null);},timeout:function(){Y.timeout();},error:function(ja){aa(ja,null);}});})(fa,ba,function(Z,ea){var aa,ja;if(Z)Y.error(Z);else if(ea){if(fa.getJSON !== zb && "function" === typeof fa.getJSON)Y.result(fa.getJSON());else {Z=Y.result;ea=new rf(Xb(ea,"utf-8"));aa=[];for(ja=ea.nextValue();ja !== zb;){aa.push(ja);ja=ea.nextValue();}Z.call(Y,aa);}}else Y.result(null);});};dc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(dc);(function(){Uc=Ab.Class.create({init:function(fa){Object.defineProperties(this,{keyExchangeScheme:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof Uc?this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});qe=function(fa,ba,Y){La(Y,function(){var Z,ea,aa;Z=ba.scheme;ea=ba.keydata;if(!Z || !ea || "object" !== typeof ea)throw new Db(X.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ba));if(!dc[Z])throw new Mb(X.UNIDENTIFIED_KEYX_SCHEME,Z);aa=fa.getKeyExchangeFactory(Z);if(!aa)throw new Mb(X.KEYX_FACTORY_NOT_FOUND,Z);aa.createRequestData(fa,ea,Y);});};})();(function(){Vc=Ab.Class.create({init:function(fa,ba){Object.defineProperties(this,{masterToken:{value:fa,writable:!1,configurable:!1},keyExchangeScheme:{value:ba,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.mastertoken=this.masterToken;fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof Vc?this.masterToken.equals(fa.masterToken) && this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});re=function(fa,ba,Y){La(Y,function(){var Z,ea,aa;Z=ba.mastertoken;ea=ba.scheme;aa=ba.keydata;if(!ea || !Z || "object" !== typeof Z || !aa || "object" !== typeof aa)throw new Db(X.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ba));if(!dc[ea])throw new Mb(X.UNIDENTIFIED_KEYX_SCHEME,ea);Wc(fa,Z,{result:function(ja){La(Y,function(){var ua;ua=fa.getKeyExchangeFactory(ea);if(!ua)throw new Mb(X.KEYX_FACTORY_NOT_FOUND,ea);return ua.createResponseData(fa,ja,aa);});},error:function(ja){Y.error(ja);}});});};})();(function(){var fa;fa=Ab.Class.create({init:function(ba,Y){Object.defineProperties(this,{keyResponseData:{value:ba,writable:!1,configurable:!1},cryptoContext:{value:Y,writable:!1,configurable:!1}});}});gc=Ab.Class.create({init:function(ba){Object.defineProperties(this,{scheme:{value:ba,writable:!1,configurable:!1}});},createRequestData:function(ba,Y,Z){},createResponseData:function(ba,Y,Z){},generateResponse:function(ba,Y,Z,ea){},getCryptoContext:function(ba,Y,Z,ea,aa){},generateSessionKeys:function(ba,Y){La(Y,function(){var Z,ea;Z=new Uint8Array(16);ea=new Uint8Array(32);ba.getRandom().nextBytes(Z);ba.getRandom().nextBytes(ea);mc(Z,hc,vc,{result:function(aa){mc(ea,ic,Ec,{result:function(ja){Y.result({encryptionKey:aa,hmacKey:ja});},error:function(ja){Y.error(new tb(X.SESSION_KEY_CREATION_FAILURE,null,ja));}});},error:function(aa){Y.error(new tb(X.SESSION_KEY_CREATION_FAILURE,null,aa));}});});},importSessionKeys:function(ba,Y,Z){mc(ba,hc,vc,{result:function(ea){mc(Y,ic,Ec,{result:function(aa){Z.result({encryptionKey:ea,hmacKey:aa});},error:function(aa){Z.error(aa);}});},error:function(ea){Z.error(ea);}});}});gc.KeyExchangeData=fa;})();(function(){var ba,Y,Z;function fa(ea,aa,ja,ua,ra){La(ra,function(){var la,qa;switch(aa){case ba.PSK:(la=new rc(ua),qa=ea.getEntityAuthenticationFactory(Ob.PSK));if(!qa)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,aa);la=qa.getCryptoContext(ea,la);return new oc(ea,pc.A128KW,jc,zb);case ba.MGK:la=new qc(ua);qa=ea.getEntityAuthenticationFactory(Ob.MGK);if(!qa)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,aa);la=qa.getCryptoContext(ea,la);return new oc(ea,pc.A128KW,jc,zb);case ba.WRAP:la=ea.getMslCryptoContext();la.unwrap(ja,lc,wc,{result:function(ya){La(ra,function(){return new oc(ea,pc.A128KW,jc,ya);});},error:ra.error});break;default:throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,aa);}});}ba={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=se=Uc.extend({init:function ua(aa,ja){ua.base.call(this,dc.JWE_LADDER);switch(aa){case ba.WRAP:if(!ja)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ja=null;}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},wrapdata:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var aa;aa={};aa.mechanism=this.mechanism;this.wrapdata && (aa.wrapdata=Eb(this.wrapdata));return aa;},equals:function ua(ja){return ja === this?!0:ja instanceof se?ua.base.call(this,ja) && this.mechanism == ja.mechanism && Zb(this.wrapdata,ja.wrapdata):!1;},uniqueKey:function ua(){var ra;ra=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + $b(this.wrapdata));return ra;}});Z=te=Vc.extend({init:function da(ra,la,qa,ya,na){da.base.call(this,ra,dc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:la,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Eb(this.wrapKey);ra.wrapdata=Eb(this.wrapdata);ra.encryptionkey=Eb(this.encryptionKey);ra.hmackey=Eb(this.hmacKey);return ra;},equals:function qa(la){return this === la?!0:la instanceof te?qa.base.call(this,la) && Zb(this.wrapKey,la.wrapKey) && Zb(this.wrapdata,la.wrapdata) && Zb(this.encryptionKey,la.encryptionKey) && Zb(this.hmacKey,la.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + $b(this.wrapKey) + ":" + $b(this.wrapdata) + ":" + $b(this.encryptionKey) + ":" + $b(this.hmacKey);}});gc.extend({init:function na(ya){na.base.call(this,dc.JWE_LADDER);Object.defineProperties(this,{repository:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ya,na,da){La(da,function(){var ha,ka,va;ha=na.mechanism;ka=na.wrapdata;if(!ha || ha == ba.WRAP && (!ka || "string" !== typeof ka))throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(na));if(!ba[ha])throw new Mb(X.UNIDENTIFIED_KEYX_MECHANISM,ha);switch(ha){case ba.WRAP:try{va=Gb(ka);}catch(Ra){throw new Mb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + na.toString());}if(null == va || 0 == va.length)throw new Mb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + na.toString());break;default:va=null;}return new Y(ha,va);});},createResponseData:function(ya,na,da){var ha,ka,va,Ra,Ka,Qa,Sa;ya=da.wrapkey;ha=da.wrapdata;ka=da.encryptionkey;va=da.hmackey;if(!(ya && "string" === typeof ya && ha && "string" === typeof ha && ka && "string" === typeof ka && va) || "string" !== typeof va)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Ra=Gb(ya);Ka=Gb(ha);}catch(oa){throw new tb(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),oa);}try{Qa=Gb(ka);}catch(oa){throw new tb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),oa);}try{Sa=Gb(va);}catch(oa){throw new tb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),oa);}return new Z(na,Ra,Ka,Qa,Sa);},generateResponse:function(ya,na,da,ha){var Qa,Sa;function ka(oa,xa,Da){Qa.generateSessionKeys(ya,{result:function(Ga){La(ha,function(){va(oa,xa,Da,Ga.encryptionKey,Ga.hmacKey);},Qa);},error:function(Ga){La(ha,function(){Ga instanceof cb && Ga.setEntity(Sa);throw Ga;});}});}function va(oa,xa,Da,Ga,Aa){La(ha,function(){fa(ya,na.mechanism,na.wrapdata,oa,{result:function(Ta){Ta.wrap(xa,{result:function(Fa){Ra(xa,Da,Ga,Aa,Fa);},error:function(Fa){La(ha,function(){Fa instanceof cb && Fa.setEntity(Sa);throw Fa;});}});},error:function(Ta){La(ha,function(){Ta instanceof cb && Ta.setEntity(Sa);throw Ta;});}});},Qa);}function Ra(oa,xa,Da,Ga,Aa){La(ha,function(){var Ta;Ta=new oc(ya,pc.A128KW,jc,oa);Ta.wrap(Da,{result:function(Fa){Ta.wrap(Ga,{result:function(Wa){Ka(xa,Aa,Da,Fa,Ga,Wa);},error:function(Wa){La(ha,function(){Wa instanceof cb && Wa.setEntity(Sa);throw Wa;});}});},error:function(Fa){La(ha,function(){Fa instanceof cb && Fa.setEntity(Sa);throw Fa;});}});},Qa);}function Ka(oa,xa,Da,Ga,Aa,Ta){La(ha,function(){var Fa;Fa=ya.getTokenFactory();Sa?Fa.renewMasterToken(ya,Sa,Da,Aa,{result:function(Wa){La(ha,function(){var Za,Va;Za=new fc(ya,Wa);Va=new Z(Wa,xa,oa,Ga,Ta);return new gc.KeyExchangeData(Va,Za,ha);},Qa);},error:function(Wa){La(ha,function(){Wa instanceof cb && Wa.setEntity(Sa);throw Wa;});}}):Fa.createMasterToken(ya,da,Da,Aa,{result:function(Wa){La(ha,function(){var Za,Va;Za=new fc(ya,Wa);Va=new Z(Wa,xa,oa,Ga,Ta);return new gc.KeyExchangeData(Va,Za,ha);},Qa);},error:ha.error});},Qa);}Qa=this;La(ha,function(){var oa,xa;if(!(na instanceof Y))throw new vb("Key request data " + JSON.stringify(na) + " was not created by this factory.");oa=da;if(da instanceof bc){if(!da.isVerified())throw new Sc(X.MASTERTOKEN_UNTRUSTED,da);Sa=da;oa=da.identity;}xa=new Uint8Array(16);ya.getRandom().nextBytes(xa);mc(xa,lc,wc,{result:function(Da){La(ha,function(){ya.getMslCryptoContext().wrap(Da,{result:function(Ga){ka(oa,Da,Ga);},error:function(Ga){La(ha,function(){Ga instanceof cb && Ga.setEntity(Sa);throw Ga;},Qa);}});},Qa);},error:function(Da){La(ha,function(){throw new tb(X.WRAP_KEY_CREATION_FAILURE,null,Da).setEntity(Sa);},Qa);}});},Qa);},getCryptoContext:function(ya,na,da,ha,ka){var Ra;function va(Ka,Qa,Sa,oa,xa){La(ka,function(){var Da;Da=new oc(ya,pc.A128KW,jc,xa);Da.unwrap(Qa.encryptionKey,hc,vc,{result:function(Ga){Da.unwrap(Qa.hmacKey,ic,Ec,{result:function(Aa){La(ka,function(){this.repository.addCryptoContext(Qa.wrapdata,Da);this.repository.removeCryptoContext(Sa);return new fc(ya,Qa.masterToken,oa,Ga,Aa);},Ra);},error:function(Aa){La(ka,function(){Aa instanceof cb && Aa.setEntity(Ka);throw Aa;});}});},error:function(Ga){La(ka,function(){Ga instanceof cb && Ga.setEntity(Ka);throw Ga;});}});},Ra);}Ra=this;La(ka,function(){var Ka,Qa;if(!(na instanceof Y))throw new vb("Key request data " + JSON.stringify(na) + " was not created by this factory.");if(!(da instanceof Z))throw new vb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Ka=na.mechanism;Qa=na.wrapdata;ya.getEntityAuthenticationData(null,{result:function(Sa){La(ka,function(){var oa,xa,Da;oa=Sa.getIdentity();switch(Ka){case ba.PSK:xa=new rc(oa);Da=ya.getEntityAuthenticationFactory(Ob.PSK);if(!Da)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,Ka).setEntity(Sa);xa=Da.getCryptoContext(ya,xa);xa=new oc(ya,pc.A128KW,jc,zb);break;case ba.MGK:xa=new qc(oa);Da=ya.getEntityAuthenticationFactory(Ob.MGK);if(!Da)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,Ka).setEntity(Sa);xa=Da.getCryptoContext(ya,xa);xa=new oc(ya,pc.A128KW,jc,xa.wrapKey);break;case ba.WRAP:xa=this.repository.getCryptoContext(Qa);if(!xa)throw new Mb(X.KEYX_WRAPPING_KEY_MISSING,Eb(Qa)).setEntity(Sa);break;default:throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,Ka).setEntity(Sa);}xa.unwrap(da.wrapKey,lc,wc,{result:function(Ga){va(Sa,da,Qa,oa,Ga);},error:function(Ga){La(ka,function(){Ga instanceof cb && Ga.setEntity(Sa);throw Ga;});}});},Ra);},error:ka.error});},Ra);}});})();(function(){var ba,Y,Z,ea;function fa(aa,ja,ua,ra,la){La(la,function(){var qa,ya;switch(ja){case ba.PSK:(qa=new rc(ra),ya=aa.getEntityAuthenticationFactory(Ob.PSK));if(!ya)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,ja);qa=ya.getCryptoContext(aa,qa);return new ea(zb);case ba.MGK:qa=new qc(ra);ya=aa.getEntityAuthenticationFactory(Ob.MGK);if(!ya)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,ja);qa=ya.getCryptoContext(aa,qa);return new ea(zb);case ba.WRAP:qa=aa.getMslCryptoContext();qa.unwrap(ua,lc,wc,{result:function(na){La(la,function(){return new ea(na);});},error:la.error});break;default:throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,ja);}});}ba={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=ue=Uc.extend({init:function ra(ja,ua){ra.base.call(this,dc.JWK_LADDER);switch(ja){case ba.WRAP:if(!ua)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ua=null;}Object.defineProperties(this,{mechanism:{value:ja,writable:!1,configurable:!1},wrapdata:{value:ua,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.mechanism=this.mechanism;this.wrapdata && (ja.wrapdata=Eb(this.wrapdata));return ja;},equals:function ra(ua){return ua === this?!0:ua instanceof ue?ra.base.call(this,ua) && this.mechanism == ua.mechanism && Zb(this.wrapdata,ua.wrapdata):!1;},uniqueKey:function ra(){var la;la=ra.base.call(this) + ":" + this.mechanism;this.wrapdata && (la+=":" + $b(this.wrapdata));return la;}});Z=ve=Vc.extend({init:function ha(la,qa,ya,na,da){ha.base.call(this,la,dc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:ya,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.wrapkey=Eb(this.wrapKey);la.wrapdata=Eb(this.wrapdata);la.encryptionkey=Eb(this.encryptionKey);la.hmackey=Eb(this.hmacKey);return la;},equals:function ya(qa){return this === qa?!0:qa instanceof ve?ya.base.call(this,qa) && Zb(this.wrapKey,qa.wrapKey) && Zb(this.wrapdata,qa.wrapdata) && Zb(this.encryptionKey,qa.encryptionKey) && Zb(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + $b(this.wrapKey) + ":" + $b(this.wrapdata) + ":" + $b(this.encryptionKey) + ":" + $b(this.hmacKey);}});ea=Lc.extend({init:function(ya){ya && ya.rawKey && (ya=ya.rawKey);Object.defineProperties(this,{_wrapKey:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ya,na){na.error(new tb(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ya,na){na.error(new tb(X.DECRYPT_NOT_SUPPORTED));},wrap:function(ya,na){La(na,function(){Jb.wrapKey("jwk",ya.rawKey,this._wrapKey,lc).then(function(da){na.result(da);},function(da){na.error(new tb(X.WRAP_ERROR));});},this);},unwrap:function(ya,na,da,ha){function ka(va){La(ha,function(){switch(va.type){case "secret":Tc(va,ha);break;case "public":Bc(va,ha);break;case "private":Jc(va,ha);break;default:throw new tb(X.UNSUPPORTED_KEY,"type: " + va.type);}});}La(ha,function(){Jb.unwrapKey("jwk",ya,this._wrapKey,lc,na,!1,da).then(function(va){ka(va);},function(va){ha.error(new tb(X.UNWRAP_ERROR));});},this);},sign:function(ya,na){na.error(new tb(X.SIGN_NOT_SUPPORTED));},verify:function(ya,na,da){da.error(new tb(X.VERIFY_NOT_SUPPORTED));}});gc.extend({init:function da(na){da.base.call(this,dc.JWK_LADDER);Object.defineProperties(this,{repository:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(na,da,ha){La(ha,function(){var ka,va,Ra;ka=da.mechanism;va=da.wrapdata;if(!ka || ka == ba.WRAP && (!va || "string" !== typeof va))throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));if(!ba[ka])throw new Mb(X.UNIDENTIFIED_KEYX_MECHANISM,ka);switch(ka){case ba.WRAP:try{Ra=Gb(va);}catch(Ka){throw new Mb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());}if(null == Ra || 0 == Ra.length)throw new Mb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());break;default:Ra=null;}return new Y(ka,Ra);});},createResponseData:function(na,da,ha){var ka,va,Ra,Ka,Qa,Sa,oa;na=ha.wrapkey;ka=ha.wrapdata;va=ha.encryptionkey;Ra=ha.hmackey;if(!(na && "string" === typeof na && ka && "string" === typeof ka && va && "string" === typeof va && Ra) || "string" !== typeof Ra)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ha));try{Ka=Gb(na);Qa=Gb(ka);}catch(xa){throw new tb(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ha),xa);}try{Sa=Gb(va);}catch(xa){throw new tb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ha),xa);}try{oa=Gb(Ra);}catch(xa){throw new tb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ha),xa);}return new Z(da,Ka,Qa,Sa,oa);},generateResponse:function(na,da,ha,ka){var Sa,oa;function va(xa,Da,Ga){Sa.generateSessionKeys(na,{result:function(Aa){La(ka,function(){Ra(xa,Da,Ga,Aa.encryptionKey,Aa.hmacKey);},Sa);},error:function(Aa){La(ka,function(){Aa instanceof cb && Aa.setEntity(oa);throw Aa;});}});}function Ra(xa,Da,Ga,Aa,Ta){La(ka,function(){fa(na,da.mechanism,da.wrapdata,xa,{result:function(Fa){Fa.wrap(Da,{result:function(Wa){Ka(Da,Ga,Aa,Ta,Wa);},error:function(Wa){La(ka,function(){Wa instanceof cb && Wa.setEntity(oa);throw Wa;});}});},error:function(Fa){La(ka,function(){Fa instanceof cb && Fa.setEntity(oa);throw Fa;});}});},Sa);}function Ka(xa,Da,Ga,Aa,Ta){La(ka,function(){var Fa;Fa=new ea(xa);Fa.wrap(Ga,{result:function(Wa){Fa.wrap(Aa,{result:function(Za){Qa(Da,Ta,Ga,Wa,Aa,Za);},error:function(Za){La(ka,function(){Za instanceof cb && Za.setEntity(oa);throw Za;});}});},error:function(Wa){La(ka,function(){Wa instanceof cb && Wa.setEntity(oa);throw Wa;});}});},Sa);}function Qa(xa,Da,Ga,Aa,Ta,Fa){La(ka,function(){var Wa;Wa=na.getTokenFactory();oa?Wa.renewMasterToken(na,oa,Ga,Ta,{result:function(Za){La(ka,function(){var Va,hb;Va=new fc(na,Za);hb=new Z(Za,Da,xa,Aa,Fa);return new gc.KeyExchangeData(hb,Va,ka);},Sa);},error:function(Za){La(ka,function(){Za instanceof cb && Za.setEntity(oa);throw Za;});}}):Wa.createMasterToken(na,ha,Ga,Ta,{result:function(Za){La(ka,function(){var Va,hb;Va=new fc(na,Za);hb=new Z(Za,Da,xa,Aa,Fa);return new gc.KeyExchangeData(hb,Va,ka);},Sa);},error:ka.error});},Sa);}Sa=this;La(ka,function(){var xa,Da;if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");xa=ha;if(ha instanceof bc){if(!ha.isVerified())throw new Sc(X.MASTERTOKEN_UNTRUSTED,ha);oa=ha;xa=ha.identity;}Da=new Uint8Array(16);na.getRandom().nextBytes(Da);mc(Da,lc,wc,{result:function(Ga){La(ka,function(){na.getMslCryptoContext().wrap(Ga,{result:function(Aa){va(xa,Ga,Aa);},error:function(Aa){La(ka,function(){Aa instanceof cb && Aa.setEntity(oa);throw Aa;},Sa);}});},Sa);},error:function(Ga){La(ka,function(){throw new tb(X.WRAP_KEY_CREATION_FAILURE,null,Ga).setEntity(oa);},Sa);}});},Sa);},getCryptoContext:function(na,da,ha,ka,va){var Ka;function Ra(Qa,Sa,oa,xa,Da){La(va,function(){var Ga;Ga=new ea(Da);Ga.unwrap(Sa.encryptionKey,hc,vc,{result:function(Aa){Ga.unwrap(Sa.hmacKey,ic,Ec,{result:function(Ta){La(va,function(){this.repository.addCryptoContext(Sa.wrapdata,Ga);this.repository.removeCryptoContext(oa);return new fc(na,Sa.masterToken,xa,Aa,Ta);},Ka);},error:function(Ta){La(va,function(){Ta instanceof cb && Ta.setEntity(Qa);throw Ta;});}});},error:function(Aa){La(va,function(){Aa instanceof cb && Aa.setEntity(Qa);throw Aa;});}});},Ka);}Ka=this;La(va,function(){var Qa,Sa;if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ha instanceof Z))throw new vb("Key response data " + JSON.stringify(ha) + " was not created by this factory.");Qa=da.mechanism;Sa=da.wrapdata;na.getEntityAuthenticationData(null,{result:function(oa){La(va,function(){var xa,Da,Ga;xa=oa.getIdentity();switch(Qa){case ba.PSK:Da=new rc(xa);Ga=na.getEntityAuthenticationFactory(Ob.PSK);if(!Ga)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(oa);Da=Ga.getCryptoContext(na,Da);Da=new ea(Da.wrapKey);break;case ba.MGK:Da=new qc(xa);Ga=na.getEntityAuthenticationFactory(Ob.MGK);if(!Ga)throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(oa);Da=Ga.getCryptoContext(na,Da);Da=new ea(Da.wrapKey);break;case ba.WRAP:Da=this.repository.getCryptoContext(Sa);if(!Da)throw new Mb(X.KEYX_WRAPPING_KEY_MISSING,Eb(Sa)).setEntity(oa);break;default:throw new Mb(X.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(oa);}Da.unwrap(ha.wrapKey,lc,wc,{result:function(Aa){Ra(oa,ha,Sa,xa,Aa);},error:function(Aa){La(va,function(){Aa instanceof cb && Aa.setEntity(oa);throw Aa;});}});},Ka);},error:va.error});},Ka);}});})();sf=Ab.Class.create({addCryptoContext:function(fa,ba){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){}});(function(){var ba,Y,Z,ea;function fa(aa,ja,ua,ra,la){switch(ua){case ba.JWE_RSA:case ba.JWEJS_RSA:return new oc(aa,pc.RSA_OAEP,jc,ra,la);case ba.JWK_RSA:return new hd(aa,ja,ra,la,id.WRAP_UNWRAP_OAEP);case ba.JWK_RSAES:return new hd(aa,ja,ra,la,id.WRAP_UNWRAP_PKCS1);default:throw new tb(X.UNSUPPORTED_KEYX_MECHANISM,ua);}}ba=we={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Y=vd=Uc.extend({init:function qa(ja,ua,ra,la){qa.base.call(this,dc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ja,writable:!1,configurable:!1},mechanism:{value:ua,writable:!1,configurable:!1},publicKey:{value:ra,writable:!1,configurable:!1},privateKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.keypairid=this.keyPairId;ja.mechanism=this.mechanism;ja.publickey=Eb(this.publicKey.getEncoded());return ja;},equals:function ra(ua){var la;if(ua === this)return !0;if(!(ua instanceof vd))return !1;la=this.privateKey === ua.privateKey || this.privateKey && ua.privateKey && Zb(this.privateKey.getEncoded(),ua.privateKey.getEncoded());return ra.base.call(this,ua) && this.keyPairId == ua.keyPairId && this.mechanism == ua.mechanism && Zb(this.publicKey.getEncoded(),ua.publicKey.getEncoded()) && la;},uniqueKey:function ra(){var la,qa;la=this.publicKey.getEncoded();qa=this.privateKey && this.privateKey.getEncoded();la=ra.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + $b(la);qa && (la+=":" + $b(qa));return la;}});Z=function(ra,la){La(la,function(){var qa,ya,na,da;qa=ra.keypairid;ya=ra.mechanism;na=ra.publickey;if(!qa || "string" !== typeof qa || !ya || !na || "string" !== typeof na)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!ba[ya])throw new Mb(X.UNIDENTIFIED_KEYX_MECHANISM,ya);try{da=Gb(na);switch(ya){case ba.JWE_RSA:case ba.JWEJS_RSA:case ba.JWK_RSA:Ad(da,fd,wc,{result:function(ha){la.result(new Y(qa,ya,ha,null));},error:function(ha){la.error(ha);}});break;case ba.JWK_RSAES:Ad(da,yd,wc,{result:function(ha){la.result(new Y(qa,ya,ha,null));},error:function(ha){la.error(ha);}});break;default:throw new tb(X.UNSUPPORTED_KEYX_MECHANISM,ya);}}catch(ha){if(!(ha instanceof cb))throw new tb(X.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ra),ha);throw ha;}});};ea=xe=Vc.extend({init:function da(la,qa,ya,na){da.base.call(this,la,dc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.keypairid=this.keyPairId;la.encryptionkey=Eb(this.encryptionKey);la.hmackey=Eb(this.hmacKey);return la;},equals:function ya(qa){return this === qa?!0:qa instanceof xe?ya.base.call(this,qa) && this.keyPairId == qa.keyPairId && Zb(this.encryptionKey,qa.encryptionKey) && Zb(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + this.keyPairId + ":" + $b(this.encryptionKey) + ":" + $b(this.hmacKey);}});be=gc.extend({init:function na(){na.base.call(this,dc.ASYMMETRIC_WRAPPED);},createRequestData:function(na,da,ha){Z(da,ha);},createResponseData:function(na,da,ha){var ka,va,Ra,Ka;na=ha.keypairid;ka=ha.encryptionkey;va=ha.hmackey;if(!na || "string" !== typeof na || !ka || "string" !== typeof ka || !va || "string" !== typeof va)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ha));try{Ra=Gb(ka);}catch(Qa){throw new tb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ha),Qa);}try{Ka=Gb(va);}catch(Qa){throw new tb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ha),Qa);}return new ea(da,na,Ra,Ka);},generateResponse:function(na,da,ha,ka){var Ka;function va(Qa,Sa){La(ka,function(){var oa;oa=fa(na,da.keyPairId,da.mechanism,null,da.publicKey);oa.wrap(Qa,{result:function(xa){La(ka,function(){oa.wrap(Sa,{result:function(Da){Ra(Qa,xa,Sa,Da);},error:function(Da){La(ka,function(){Da instanceof cb && ha instanceof bc && Da.setEntity(ha);throw Da;},Ka);}});},Ka);},error:function(xa){La(ka,function(){xa instanceof cb && ha instanceof bc && xa.setEntity(ha);throw xa;},Ka);}});},Ka);}function Ra(Qa,Sa,oa,xa){La(ka,function(){var Da;Da=na.getTokenFactory();ha instanceof bc?Da.renewMasterToken(na,ha,Qa,oa,{result:function(Ga){La(ka,function(){var Aa,Ta;Aa=new fc(na,Ga);Ta=new ea(Ga,da.keyPairId,Sa,xa);return new gc.KeyExchangeData(Ta,Aa,ka);},Ka);},error:function(Ga){La(ka,function(){Ga instanceof cb && Ga.setEntity(ha);throw Ga;},Ka);}}):Da.createMasterToken(na,ha,Qa,oa,{result:function(Ga){La(ka,function(){var Aa,Ta;Aa=new fc(na,Ga);Ta=new ea(Ga,da.keyPairId,Sa,xa);return new gc.KeyExchangeData(Ta,Aa,ka);},Ka);},error:ka.error});},Ka);}Ka=this;La(ka,function(){if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");this.generateSessionKeys(na,{result:function(Qa){va(Qa.encryptionKey,Qa.hmacKey);},error:function(Qa){La(ka,function(){Qa instanceof cb && ha instanceof bc && Qa.setEntity(ha);throw Qa;},Ka);}});},Ka);},getCryptoContext:function(na,da,ha,ka,va){var Ra;Ra=this;La(va,function(){var Ka,Qa,Sa;if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ha instanceof ea))throw new vb("Key response data " + JSON.stringify(ha) + " was not created by this factory.");Ka=da.keyPairId;Qa=ha.keyPairId;if(Ka != Qa)throw new Mb(X.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ka + "; response " + Qa).setEntity(ka);Qa=da.privateKey;if(!Qa)throw new Mb(X.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ka);Sa=fa(na,Ka,da.mechanism,Qa,null);Sa.unwrap(ha.encryptionKey,hc,vc,{result:function(oa){Sa.unwrap(ha.hmacKey,ic,Ec,{result:function(xa){na.getEntityAuthenticationData(null,{result:function(Da){La(va,function(){var Ga;Ga=Da.getIdentity();return new fc(na,ha.masterToken,Ga,oa,xa);},Ra);},error:function(Da){La(va,function(){Da instanceof cb && Da.setEntity(ka);throw Da;},Ra);}});},error:function(xa){La(va,function(){xa instanceof cb && xa.setEntity(ka);throw xa;},Ra);}});},error:function(oa){La(va,function(){oa instanceof cb && oa.setEntity(ka);throw oa;},Ra);}});},Ra);}});})();rf=Ab.Class.create({init:function(fa){var ba,Y,Z,ea,aa,ja,ua,ra;ba=Ub.parser();Y=[];Z=[];ua=0;ra=!1;ba.onerror=function(la){ra || (ra=!0,ba.end());};ba.onopenobject=function(la){var qa;if(ea)(ea[ja]={},Z.push(ea),ea=ea[ja]);else if(aa){qa={};Z.push(aa);aa.push(qa);ea=qa;aa=zb;}else ea={};ja=la;};ba.oncloseobject=function(){var la;la=Z.pop();la?"object" === typeof la?ea=la:(ea=zb,aa=la):(Y.push(ea),ua=ba.index,ea=zb);};ba.onopenarray=function(){var la;if(ea)(ea[ja]=[],Z.push(ea),aa=ea[ja],ea=zb);else if(aa){la=[];Z.push(aa);aa.push(la);aa=la;}else aa=[];};ba.onclosearray=function(){var la;la=Z.pop();la?"object" === typeof la?(ea=la,aa=zb):aa=la:(Y.push(aa),ua=ba.index,aa=zb);};ba.onkey=function(la){ja=la;};ba.onvalue=function(la){ea?ea[ja]=la:aa?aa.push(la):(Y.push(la),ua=ba.index);};ba.write(fa).close();Object.defineProperties(this,{_values:{value:Y,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:ua,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?zb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var fa,ba,Y,Z,ea;fa=Jd="entityauthdata";ba=ze="mastertoken";Y=Ae="headerdata";Z=Be="errordata";ea=Kd="signature";ye=function(aa,ja,ua,ra){La(ra,function(){var la,qa,ya,na,da,ha;la=ja[fa];qa=ja[ba];ya=ja[ea];if(la && "object" !== typeof la || qa && "object" !== typeof qa || "string" !== typeof ya)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));try{na=Gb(ya);}catch(ka){throw new Hb(X.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ja),ka);}da=null;la && (da=ke(aa,la));ha=ja[Y];if(ha != zb && null != ha){if("string" !== typeof ha)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));qa?Wc(aa,qa,{result:function(ka){Ld(aa,ha,da,ka,na,ua,ra);},error:function(ka){ra.error(ka);}}):Ld(aa,ha,da,null,na,ua,ra);}else if((la=ja[Z],la != zb && null != la)){if("string" !== typeof la)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));Ce(aa,la,da,na,ra);}else throw new Db(X.JSON_PARSE_ERROR,JSON.stringify(ja));});};})();(function(){function fa(ba,Y){this.errordata=ba;this.signature=Y;}Ac=Ab.Class.create({init:function(ba,Y,Z,ea,aa,ja,ua,ra,la,qa){var ya;ya=this;La(qa,function(){var na,da;0 > ja && (ja=-1);if(0 > ea || ea > Kb)throw new vb("Message ID " + ea + " is out of range.");if(!Y)throw new Hb(X.MESSAGE_ENTITY_NOT_FOUND);if(la)return (Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:Z,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:aa,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:la.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:la.signature,writable:!1,enumerable:!1,configurable:!1}}),this);na={};Z && (na.recipient=Z);na.messageid=ea;na.errorcode=aa;0 < ja && (na.internalcode=ja);ua && (na.errormsg=ua);ra && (na.usermsg=ra);try{da=ba.getEntityAuthenticationFactory(Y.scheme).getCryptoContext(ba,Y);}catch(ha){throw (ha instanceof cb && (ha.setEntity(Y),ha.setMessageId(ea)),ha);}na=Yb(JSON.stringify(na),Lb);da.encrypt(na,{result:function(ha){La(qa,function(){da.sign(ha,{result:function(ka){La(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:Z,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:aa,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:ha,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},ya);},error:function(ka){La(qa,function(){ka instanceof cb && (ka.setEntity(Y),ka.setMessageId(ea));throw ka;},ya);}});},ya);},error:function(ha){La(qa,function(){ha instanceof cb && (ha.setEntity(Y),ha.setMessageId(ea));throw ha;},ya);}});},ya);},toJSON:function(){var ba;ba={};ba[Jd]=this.entityAuthenticationData;ba[Be]=Eb(this.errordata);ba[Kd]=Eb(this.signature);return ba;}});De=function(ba,Y,Z,ea,aa,ja,ua,ra,la){new Ac(ba,Y,Z,ea,aa,ja,ua,ra,null,la);};Ce=function(ba,Y,Z,ea,aa){La(aa,function(){var ja,ua,ra;if(!Z)throw new Hb(X.MESSAGE_ENTITY_NOT_FOUND);try{ja=Z.scheme;ua=ba.getEntityAuthenticationFactory(ja);if(!ua)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ja);ra=ua.getCryptoContext(ba,Z);}catch(la){throw (la instanceof cb && la.setEntity(Z),la);}try{Y=Gb(Y);}catch(la){throw new Hb(X.HEADER_DATA_INVALID,Y,la).setEntity(Z);}if(!Y || 0 == Y.length)throw new Hb(X.HEADER_DATA_MISSING,Y).setEntity(Z);ra.verify(Y,ea,{result:function(la){La(aa,function(){if(!la)throw new tb(X.MESSAGE_VERIFICATION_FAILED).setEntity(Z);ra.decrypt(Y,{result:function(qa){La(aa,function(){var ya,na,da,ha,ka,va,Ra,Ka;ya=Xb(qa,Lb);try{na=JSON.parse(ya);}catch(Sa){if(Sa instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"errordata " + ya,Sa).setEntity(Z);throw Sa;}da=na.recipient !== zb?na.recipient:null;ha=parseInt(na.messageid);ka=parseInt(na.errorcode);va=parseInt(na.internalcode);Ra=na.errormsg;Ka=na.usermsg;if(da && "string" !== typeof da || !ha || ha != ha || !ka || ka != ka || na.internalcode && va != va || Ra && "string" !== typeof Ra || Ka && "string" !== typeof Ka)throw new Db(X.JSON_PARSE_ERROR,"errordata " + ya).setEntity(Z);if(0 > ha || ha > Kb)throw new Hb(X.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ya).setEntity(Z);na=!1;for(var Qa in Ea){if(Ea[Qa] == ka){na=!0;break;}}na || (ka=Ea.FAIL);if(va){if(0 > va)throw new Hb(X.INTERNAL_CODE_NEGATIVE,"errordata " + ya).setEntity(Z).setMessageId(ha);}else va=-1;ya=new fa(Y,ea);new Ac(ba,Z,da,ha,ka,va,Ra,Ka,ya,aa);});},error:function(qa){La(aa,function(){qa instanceof cb && qa.setEntity(Z);throw qa;});}});});},error:function(la){La(aa,function(){la instanceof cb && la.setEntity(Z);throw la;});}});});};})();tf=Ab.Class.create({getUserMessage:function(fa,ba){}});(function(){Md=function(fa,ba){var Y;if(!fa || !ba)return null;Y=fa.compressionAlgorithms.filter(function(Z){for(var ea=0;ea < ba.compressionAlgorithms.length;++ea){if(Z == ba.compressionAlgorithms[ea])return !0;}return !1;});fa=fa.languages.filter(function(Z){for(var ea=0;ea < ba.languages.length;++ea){if(Z == ba.languages[ea])return !0;}return !1;});return new Xc(Y,fa);};Xc=Ab.Class.create({init:function(fa,ba){fa || (fa=[]);ba || (ba=[]);fa.sort();Object.defineProperties(this,{compressionAlgorithms:{value:fa,writable:!1,enumerable:!0,configurable:!1},languages:{value:ba,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var fa;fa={};fa.compressionalgos=this.compressionAlgorithms;fa.languages=this.languages;return fa;},equals:function(fa){return this === fa?!0:fa instanceof Xc?Vd(this.compressionAlgorithms,fa.compressionAlgorithms) && Vd(this.languages,fa.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ee=function(fa){var ba,Y,ea;ba=fa.compressionalgos;Y=fa.languages;if(ba && !(ba instanceof Array) || Y && !(Y instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(fa));fa=[];for(var Z=0;ba && Z < ba.length;++Z){ea=ba[Z];Cc[ea] && fa.push(ea);}return new Xc(fa,Y);};})();(function(){var qa,ya;function fa(na,da,ha,ka,va){this.customer=na;this.sender=da;this.messageCryptoContext=ha;this.headerdata=ka;this.signature=va;}function ba(na,da,ha,ka,va,Ra,Ka,Qa,Sa,oa,xa,Da,Ga,Aa,Ta,Fa,Wa,Za,Va,hb){return {cryptoContext:{value:da,writable:!1,configurable:!1},customer:{value:ha,writable:!1,configurable:!1},entityAuthenticationData:{value:ka,writable:!1,configurable:!1},masterToken:{value:va,writable:!1,configurable:!1},sender:{value:Ra,writable:!1,configurable:!1},messageId:{value:Ka,writable:!1,configurable:!1},nonReplayableId:{value:Fa,writable:!1,configurable:!1},keyRequestData:{value:Qa,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthenticationData:{value:oa,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:Da,writable:!1,configurable:!1},peerMasterToken:{value:Ga,writable:!1,configurable:!1},peerUserIdToken:{value:Aa,writable:!1,configurable:!1},peerServiceTokens:{value:Ta,writable:!1,configurable:!1},messageCapabilities:{value:Za,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:hb,writable:!1,enumerable:!1,configurable:!1}};}function Y(na,da,ha){var ka;if(ha){if(da=na.getMslStore().getCryptoContext(ha))return da;if(!ha.isVerified() || !ha.isDecrypted())throw new Sc(X.MASTERTOKEN_UNTRUSTED,ha);return new fc(na,ha);}ha=da.scheme;ka=na.getEntityAuthenticationFactory(ha);if(!ka)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ha);return ka.getCryptoContext(na,da);}function Z(na,da,ha,ka,va){La(va,function(){da.verify(ha,ka,{result:function(Ra){La(va,function(){if(!Ra)throw new tb(X.MESSAGE_VERIFICATION_FAILED);da.decrypt(ha,{result:function(Ka){La(va,function(){return Xb(Ka,Lb);});},error:function(Ka){va.error(Ka);}});});},error:function(Ra){va.error(Ra);}});});}function ea(na,da,ha){La(ha,function(){if(da)re(na,da,ha);else return null;});}function aa(na,da,ha,ka){La(ka,function(){if(da)nd(na,da,ha,ka);else return null;});}function ja(na,da,ha,ka){La(ka,function(){if(ha)Ie(na,da,ha,ka);else return null;});}function ua(na,da,ha,ka,va,Ra,Ka){var Sa;function Qa(oa,xa,Da){var Ga,Aa;if(xa >= oa.length){Ga=[];for(Aa in Sa){Ga.push(Sa[Aa]);}Da.result(Ga);}else {Ga=oa[xa];if("object" !== typeof Ga)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Ra);od(na,Ga,ha,ka,va,{result:function(Ta){La(Da,function(){Sa[Ta.uniqueKey()]=Ta;Qa(oa,xa + 1,Da);});},error:function(Ta){Da.error(Ta);}});}}Sa={};La(Ka,function(){if(da){if(!(da instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Ra);Qa(da,0,Ka);}else return [];});}function ra(na,da,ha,ka,va,Ra){function Ka(Sa,oa,xa){La(xa,function(){var Da;Da=oa.peermastertoken;if(Da && "object" !== typeof Da)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + va);if(!Da)return null;Wc(Sa,Da,xa);});}function Qa(Sa,oa,xa,Da){La(Da,function(){var Ga;Ga=oa.peeruseridtoken;if(Ga && "object" !== typeof Ga)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + va);if(!Ga)return null;nd(Sa,Ga,xa,Da);});}La(Ra,function(){if(!na.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ka(na,da,{result:function(Sa){La(Ra,function(){var oa;oa=ha?ha.masterToken:Sa;Qa(na,da,oa,{result:function(xa){La(Ra,function(){ua(na,da.peerservicetokens,oa,xa,ka,va,{result:function(Da){La(Ra,function(){return {peerMasterToken:Sa,peerUserIdToken:xa,peerServiceTokens:Da};});},error:function(Da){La(Ra,function(){Da instanceof cb && (Da.setEntity(oa),Da.setUser(xa));throw Da;});}});});},error:function(xa){La(Ra,function(){xa instanceof cb && xa.setEntity(oa);throw xa;});}});});},error:Ra.error});});}function la(na,da,ha,ka){var Ra;function va(Ka,Qa){La(ka,function(){if(Qa >= Ka.length)return Ra;qe(na,Ka[Qa],{result:function(Sa){La(ka,function(){Ra.push(Sa);va(Ka,Qa + 1);});},error:function(Sa){ka.error(Sa);}});});}Ra=[];La(ka,function(){var Ka;Ka=da.keyrequestdata;if(!Ka)return Ra;if(!(Ka instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ha);va(Ka,0);});}qa=Ge=Ab.Class.create({init:function(na,da,ha,ka,va,Ra,Ka,Qa,Sa){Object.defineProperties(this,{messageId:{value:na,writable:!1,configurable:!1},nonReplayableId:{value:da,writable:!1,configurable:!1},renewable:{value:ha,writable:!1,configurable:!1},capabilities:{value:ka,writable:!1,configurable:!1},keyRequestData:{value:va,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthData:{value:Ka,writable:!1,configurable:!1},userIdToken:{value:Qa,writable:!1,configurable:!1},serviceTokens:{value:Sa,writable:!1,configurable:!1}});}});ya=He=Ab.Class.create({init:function(na,da,ha){Object.defineProperties(this,{peerMasterToken:{value:na,writable:!1,configurable:!1},peerUserIdToken:{value:da,writable:!1,configurable:!1},peerServiceTokens:{value:ha,writable:!1,configurable:!1}});}});Yc=Ab.Class.create({init:function(na,da,ha,ka,va,Ra,Ka){var Sa;function Qa(oa){La(Ka,function(){var xa,Da,Ga,Aa,Ta,Fa,Wa,Za,Va,hb,jb,nb,pb,qb,yb,xb,t;da=ha?null:da;xa=ka.nonReplayableId;Da=ka.renewable;Ga=ka.capabilities;Aa=ka.messageId;Ta=ka.keyRequestData?ka.keyRequestData:[];Fa=ka.keyResponseData;Wa=ka.userAuthData;Za=ka.userIdToken;Va=ka.serviceTokens?ka.serviceTokens:[];if(na.isPeerToPeer()){hb=va.peerMasterToken;jb=va.peerUserIdToken;nb=va.peerServiceTokens?va.peerServiceTokens:[];}else (jb=hb=null,nb=[]);if(0 > Aa || Aa > Kb)throw new vb("Message ID " + Aa + " is out of range.");if(!da && !ha)throw new vb("Message entity authentication data or master token must be provided.");if(Fa){if(na.isPeerToPeer()){pb=ha;qb=Fa.masterToken;}else (pb=Fa.masterToken,qb=hb);}else (pb=ha,qb=hb);if(Za && (!pb || !Za.isBoundTo(pb)))throw new vb("User ID token must be bound to a master token.");if(jb && (!qb || !jb.isBoundTo(qb)))throw new vb("Peer user ID token must be bound to a peer master token.");Va.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Za || !b.isBoundTo(Za)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);nb.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!jb || !b.isBoundTo(jb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ra){t=Ra.customer;yb=Ra.messageCryptoContext;xb=ba(na,yb,t,da,ha,oa,Aa,Ta,Fa,Wa,Za,Va,hb,jb,nb,xa,Da,Ga,Ra.headerdata,Ra.signature);Object.defineProperties(this,xb);return this;}t=Za?Za.customer:null;xb={};oa && (xb.sender=oa);xb.messageid=Aa;"number" === typeof xa && (xb.nonreplayableid=xa);xb.renewable=Da;Ga && (xb.capabilities=Ga);0 < Ta.length && (xb.keyrequestdata=Ta);Fa && (xb.keyresponsedata=Fa);Wa && (xb.userauthdata=Wa);Za && (xb.useridtoken=Za);0 < Va.length && (xb.servicetokens=Va);hb && (xb.peermastertoken=hb);jb && (xb.peeruseridtoken=jb);0 < nb.length && (xb.peerservicetokens=nb);try{yb=Y(na,da,ha);}catch(b){throw (b instanceof cb && (b.setEntity(ha),b.setEntity(da),b.setUser(Za),b.setUser(Wa),b.setMessageId(Aa)),b);}xb=Yb(JSON.stringify(xb),Lb);yb.encrypt(xb,{result:function(b){La(Ka,function(){yb.sign(b,{result:function(a){La(Ka,function(){var c;c=ba(na,yb,t,da,ha,oa,Aa,Ta,Fa,Wa,Za,Va,hb,jb,nb,xa,Da,Ga,b,a);Object.defineProperties(this,c);return this;},Sa);},error:function(a){La(Ka,function(){a instanceof cb && (a.setEntity(ha),a.setEntity(da),a.setUser(Za),a.setUser(Wa),a.setMessageId(Aa));throw a;},Sa);}});},Sa);},error:function(b){La(Ka,function(){b instanceof cb && (b.setEntity(ha),b.setEntity(da),b.setUser(Za),b.setUser(Wa),b.setMessageId(Aa));throw b;},Sa);}});},Sa);}Sa=this;La(Ka,function(){Ra?Qa(Ra.sender):ha?na.getEntityAuthenticationData(null,{result:function(oa){oa=oa.getIdentity();Qa(oa);},error:Ka.error}):Qa(null);},Sa);},isEncrypting:function(){return this.masterToken || ud(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var na;na={};this.masterToken?na[ze]=this.masterToken:na[Jd]=this.entityAuthenticationData;na[Ae]=Eb(this.headerdata);na[Kd]=Eb(this.signature);return na;}});Fe=function(na,da,ha,ka,va,Ra){new Yc(na,da,ha,ka,va,null,Ra);};Ld=function(na,da,ha,ka,va,Ra,Ka){La(Ka,function(){var Qa,Sa;ha=ka?null:ha;if(!ha && !ka)throw new Hb(X.MESSAGE_ENTITY_NOT_FOUND);Qa=da;try{da=Gb(Qa);}catch(oa){throw new Hb(X.HEADER_DATA_INVALID,Qa,oa);}if(!da || 0 == da.length)throw new Hb(X.HEADER_DATA_MISSING,Qa);try{Sa=Y(na,ha,ka);}catch(oa){throw (oa instanceof cb && (oa.setEntity(ka),oa.setEntity(ha)),oa);}Z(na,Sa,da,va,{result:function(oa){La(Ka,function(){var xa,Da,Ga,Aa,Ta;try{xa=JSON.parse(oa);}catch(Fa){if(Fa instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa,Fa).setEntity(ka).setEntity(ha);throw Fa;}Da=parseInt(xa.messageid);if(!Da || Da != Da)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ka).setEntity(ha);if(0 > Da || Da > Kb)throw new Hb(X.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + oa).setEntity(ka).setEntity(ha);Ga=ka?xa.sender:null;if(ka && (!Ga || "string" !== typeof Ga))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ka).setEntity(ha).setMessageId(Da);Aa=xa.keyresponsedata;if(Aa && "object" !== typeof Aa)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ka).setEntity(ha).setMessageId(Da);Ta=Ka;Ka={result:function(Fa){Ta.result(Fa);},error:function(Fa){Fa instanceof cb && (Fa.setEntity(ka),Fa.setEntity(ha),Fa.setMessageId(Da));Ta.error(Fa);}};ea(na,Aa,{result:function(Fa){La(Ka,function(){var Wa,Za;Wa=!na.isPeerToPeer() && Fa?Fa.masterToken:ka;Za=xa.useridtoken;if(Za && "object" !== typeof Za)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);aa(na,Za,Wa,{result:function(Va){La(Ka,function(){var hb;hb=xa.userauthdata;if(hb && "object" !== typeof hb)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);ja(na,Wa,hb,{result:function(jb){La(Ka,function(){var nb,pb,qb;if(jb){nb=jb.scheme;pb=na.getUserAuthenticationFactory(nb);if(!pb)throw new uc(X.USERAUTH_FACTORY_NOT_FOUND,nb).setUser(Va).setUser(jb);nb=ka?ka.identity:ha.getIdentity();qb=pb.authenticate(na,nb,jb,Va);}else qb=Va?Va.customer:null;ua(na,xa.servicetokens,Wa,Va,Ra,oa,{result:function(yb){La(Ka,function(){var xb,t,b,a;xb=xa.nonreplayableid !== zb?parseInt(xa.nonreplayableid):null;t=xa.renewable;if(xb != xb || "boolean" !== typeof t)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);if(0 > xb || xb > Kb)throw new Hb(X.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + oa);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);b=Ee(a);}la(na,xa,oa,{result:function(c){ra(na,xa,Fa,Ra,oa,{result:function(k){La(Ka,function(){var g,h,d,f;g=k.peerMasterToken;h=k.peerUserIdToken;d=k.peerServiceTokens;f=new qa(Da,xb,t,b,c,Fa,jb,Va,yb);g=new ya(g,h,d);h=new fa(qb,Ga,Sa,da,va);new Yc(na,ha,ka,f,g,h,Ka);});},error:Ka.error});},error:function(c){La(Ka,function(){c instanceof cb && (c.setUser(Va),c.setUser(jb));throw c;});}});});},error:function(yb){La(Ka,function(){yb instanceof cb && (yb.setEntity(Wa),yb.setUser(Va),yb.setUser(jb));throw yb;});}});});},error:Ka.error});});},error:Ka.error});});},error:Ka.error});});},error:Ka.error});});};})();(function(){function fa(ba,Y){this.payload=ba;this.signature=Y;}Nd=Ab.Class.create({init:function(ba,Y,Z,ea,aa,ja,ua,ra){var la;la=this;La(ra,function(){var qa,ya;if(0 > ba || ba > Kb)throw new vb("Sequence number " + ba + " is outside the valid range.");if(0 > Y || Y > Kb)throw new vb("Message ID " + Y + " is outside the valid range.");if(ua)return (Object.defineProperties(this,{sequenceNumber:{value:ba,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},endofmsg:{value:Z,writable:!1,enumerable:!1,configurable:!1},payload:{value:ua.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){qa=Od(ea,aa);qa || (ea=null,qa=aa);}else (ea=null,qa=aa);ya={};ya.sequencenumber=ba;ya.messageid=Y;Z && (ya.endofmsg=Z);ea && (ya.compressionalgo=ea);ya.data=Eb(qa);qa=Yb(JSON.stringify(ya),Lb);ja.encrypt(qa,{result:function(na){La(ra,function(){ja.sign(na,{result:function(da){La(ra,function(){Object.defineProperties(this,{sequenceNumber:{value:ba,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},endofmsg:{value:Z,writable:!1,enumerable:!1,configurable:!1},payload:{value:na,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(da){ra.error(da);}});},la);},error:function(na){ra.error(na);}});},la);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ba;ba={};ba.payload=Eb(this.payload);ba.signature=Eb(this.signature);return ba;}});Je=function(ba,Y,Z,ea,aa,ja,ua){new Nd(ba,Y,Z,ea,aa,ja,null,ua);};Ke=function(ba,Y,Z){La(Z,function(){var ea,aa,ja,ua;ea=ba.payload;aa=ba.signature;if(!ea || "string" !== typeof ea || "string" !== typeof aa)throw new Db(X.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ba));try{ja=Gb(ea);}catch(ra){throw new Hb(X.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ba),ra);}try{ua=Gb(aa);}catch(ra){throw new Hb(X.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ba),ra);}Y.verify(ja,ua,{result:function(ra){La(Z,function(){if(!ra)throw new tb(X.PAYLOAD_VERIFICATION_FAILED);Y.decrypt(ja,{result:function(la){La(Z,function(){var qa,ya,na,da,ha,ka,va;qa=Xb(la,Lb);try{ya=JSON.parse(qa);}catch(Ra){if(Ra instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"payload chunk payload " + qa,Ra);throw Ra;}na=parseInt(ya.sequencenumber);da=parseInt(ya.messageid);ha=ya.endofmsg;ka=ya.compressionalgo;ya=ya.data;if(!na || na != na || !da || da != da || ha && "boolean" !== typeof ha || ka && "string" !== typeof ka || "string" !== typeof ya)throw new Db(X.JSON_PARSE_ERROR,"payload chunk payload " + qa);if(0 > na || na > Kb)throw new cb(X.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + qa);if(0 > da || da > Kb)throw new cb(X.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + qa);ha || (ha=!1);if(ka && !Cc[ka])throw new Hb(X.UNIDENTIFIED_COMPRESSION,ka);try{va=Gb(ya);}catch(Ra){throw new Hb(X.PAYLOAD_DATA_CORRUPT,ya,Ra);}if(va && 0 != va.length)qa=ka?pd(ka,va):va;else {if(0 < ya.length)throw new Hb(X.PAYLOAD_DATA_CORRUPT,ya);if(ha)qa=new Uint8Array(0);else throw new Hb(X.PAYLOAD_DATA_MISSING,ya);}va=new fa(ja,ua);new Nd(na,da,ha,ka,qa,Y,va,Z);});},error:function(la){Z.error(la);}});});},error:function(ra){Z.error(ra);}});});};})();(function(){var Z,ea;function fa(aa,ja,ua,ra,la){var ya,na,da,ha,ka;function qa(){La(la,function(){var va,Ra;na >= ja.length && (na=0,++ya);if(ya >= da.length){if(ha)throw ha;throw new Mb(X.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ja));}va=da[ya];Ra=ja[na];va.scheme != Ra.keyExchangeScheme?(++na,qa()):va.generateResponse(aa,Ra,ka,{result:function(Ka){la.result(Ka);},error:function(Ka){La(la,function(){if(!(Ka instanceof cb))throw Ka;ha=Ka;++na;qa();});}});});}ya=0;na=0;da=aa.getKeyExchangeFactories();ka=ua?ua:ra;qa();}function ba(aa,ja,ua,ra,la){La(la,function(){var qa;qa=ja.keyRequestData;if(ja.isRenewable() && 0 < qa.length)ra?ra.isRenewable() || ra.isExpired()?fa(aa,qa,ra,null,la):aa.getTokenFactory().isNewestMasterToken(aa,ra,{result:function(ya){La(la,function(){if(ya)return null;fa(aa,qa,ra,null,la);});},error:la.error}):fa(aa,qa,null,ua.getIdentity(),la);else return null;});}function Y(aa,ja,ua,ra){La(ra,function(){var la,qa,ya,na;la=ja.userIdToken;qa=ja.userAuthenticationData;ya=ja.messageId;if(la && la.isVerified()){if(la.isRenewable() && ja.isRenewable() || la.isExpired() || !la.isBoundTo(ua)){qa=aa.getTokenFactory();qa.renewUserIdToken(aa,la,ua,ra);return;}}else if(ja.isRenewable() && ua && qa){la=ja.customer;if(!la){la=qa.scheme;na=aa.getUserAuthenticationFactory(la);if(!na)throw new uc(X.USERAUTH_FACTORY_NOT_FOUND,la).setEntity(ua).setUser(qa).setMessageId(ya);la=na.authenticate(aa,ua.identity,qa,null);}qa=aa.getTokenFactory();qa.createUserIdToken(aa,la,ua,ra);return;}return la;});}Z=new Uint8Array(0);ea=Fc=function(aa){if(0 > aa || aa > Kb)throw new vb("Message ID " + aa + " is outside the valid range.");return aa == Kb?0:aa + 1;};Nc=function(aa){if(0 > aa || aa > Kb)throw new vb("Message ID " + aa + " is outside the valid range.");return 0 == aa?Kb:aa - 1;};Gc=function(aa,ja,ua,ra,la){La(la,function(){var qa;if(ra == zb || null == ra){qa=aa.getRandom();do {ra=qa.nextLong();}while(0 > ra || ra > Kb);}else if(0 > ra || ra > Kb)throw new vb("Message ID " + ra + " is outside the valid range.");aa.getEntityAuthenticationData(null,{result:function(ya){La(la,function(){var na;na=aa.getMessageCapabilities();return new qd(aa,ra,na,ya,ja,ua,null,null,null,null,null);});},error:function(ya){la.error(ya);}});});};Le=function(aa,ja,ua){La(ua,function(){var la,qa,ya,na,da,ha;function ra(ka){La(ua,function(){ka instanceof cb && (ka.setEntity(la),ka.setEntity(qa),ka.setUser(ya),ka.setUser(na),ka.setMessageId(da));throw ka;});}la=ja.masterToken;qa=ja.entityAuthenticationData;ya=ja.userIdToken;na=ja.userAuthenticationData;da=ja.messageId;ha=ea(da);ba(aa,ja,qa,la,{result:function(ka){La(ua,function(){var va;va=ka?ka.keyResponseData.masterToken:va=la;aa.getEntityAuthenticationData(null,{result:function(Ra){La(ua,function(){Y(aa,ja,va,{result:function(Ka){La(ua,function(){var Qa,Sa,oa;ya=Ka;Qa=Md(ja.messageCapabilities,aa.getMessageCapabilities());Sa=ja.keyResponseData;oa=ja.serviceTokens;return aa.isPeerToPeer()?new qd(aa,ha,Qa,Ra,Sa?Sa.masterToken:ja.peerMasterToken,ja.peerUserIdToken,ja.peerServiceTokens,la,ya,oa,ka):new qd(aa,ha,Qa,Ra,Sa?Sa.masterToken:la,ya,oa,null,null,null,ka);});},error:ra});});},error:ra});});},error:ra});});};Me=function(aa,ja,ua,ra,la){La(la,function(){aa.getEntityAuthenticationData(null,{result:function(qa){La(la,function(){var ya,na;if(ja != zb && null != ja)ya=ea(ja);else {na=aa.getRandom();do {ya=na.nextInt();}while(0 > ya || ya > Kb);}De(aa,qa,ya,ua.responseCode,ua.internalCode,ua.message,ra,la);});},error:function(qa){la.error(qa);}});});};qd=Ab.Class.create({init:function(aa,ja,ua,ra,la,qa,ya,na,da,ha,ka){var va,Ra,Ka,Qa,Sa;if(!aa.isPeerToPeer() && (na || da))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");va=ka && !aa.isPeerToPeer()?ka.keyResponseData.masterToken:la;Ra=[];va=aa.getMslStore().getServiceTokens(va,qa);Ra.push.apply(Ra,va);ya && ya.forEach(function(oa){Ra.push(oa);},this);Ka=[];if(aa.isPeerToPeer()){Qa=na;Sa=da;ya=ka?ka.keyResponseData.masterToken:na;da=aa.getMslStore().getServiceTokens(ya,da);Ka.push.apply(Ka,da);ha && ha.forEach(function(oa){Ka.push(oa);},this);}Object.defineProperties(this,{_ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ra,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ja,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ua,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ka,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ka,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || ud(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ud(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Wd(this._entityAuthData.scheme);},getHeader:function(aa){La(aa,function(){var ja,ua,ra;ja=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;ua=[];for(ra in this._keyRequestData){ua.push(this._keyRequestData[ra]);}if(this._nonReplayable){if(!this._masterToken)throw new Hb(X.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ra=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ra=null;ja=new Ge(this._messageId,ra,this._renewable,this._capabilities,ua,ja,this._userAuthData,this._userIdToken,this._serviceTokens);ua=new He(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Fe(this._ctx,this._entityAuthData,this._masterToken,ja,ua,aa);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(aa){this._nonReplayable=aa;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(aa){this._renewable=aa;return this;},setAuthTokens:function(aa,ja){var ua,la;if(ja && !ja.isBoundTo(aa))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{ua=this._ctx.getMslStore().getServiceTokens(aa,ja);}catch(qa){if(qa instanceof cb)throw new vb("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){la=this._serviceTokens[ra];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(aa)) && this._serviceTokens.splice(ra,1);}ua.forEach(function(qa){this.excludeServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._serviceTokens.push(qa);},this);this._masterToken=aa;this._userIdToken=ja;},setUserAuthenticationData:function(aa){this._userAuthData=aa;return this;},setCustomer:function(aa,ja){var ua;ua=this;La(ja,function(){var ra;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");ra=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ra)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,aa,ra,{result:function(la){La(ja,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=la:(this._userIdToken=la,this._userAuthData=null);return !0;},ua);},error:function(la){ja.error(la);}});},ua);},addKeyRequestData:function(aa){this._keyRequestData[aa.uniqueKey()]=aa;return this;},removeKeyRequestData:function(aa){delete this._keyRequestData[aa.uniqueKey()];return this;},addServiceToken:function(aa){var ja;ja=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(aa.isMasterTokenBound() && !aa.isBoundTo(ja))throw new Hb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; mt " + JSON.stringify(ja)).setEntity(ja);if(aa.isUserIdTokenBound() && !aa.isBoundTo(this._userIdToken))throw new Hb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ja).setUser(this._userIdToken);this.excludeServiceToken(aa.name,aa.isMasterTokenBound(),aa.isUserIdTokenBound());this._serviceTokens.push(aa);return this;},addServiceTokenIfAbsent:function(aa){var ua;for(var ja=this._serviceTokens.length - 1;0 <= ja;--ja){ua=this._serviceTokens[ja];if(ua.name == aa.name && ua.isMasterTokenBound() == aa.isMasterTokenBound() && ua.isUserIdTokenBound() == aa.isUserIdTokenBound())return this;}this.addServiceToken(aa);return this;},excludeServiceToken:function(){var aa,ja,ua,la;if(1 == arguments.length){aa=arguments[0];ja=aa.name;ua=aa.isMasterTokenBound();aa=aa.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],ua=arguments[1],aa=arguments[2]);for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){la=this._serviceTokens[ra];la.name == ja && la.isMasterTokenBound() == ua && la.isUserIdTokenBound() == aa && this._serviceTokens.splice(ra,1);}return this;},deleteServiceToken:function(){var aa,ja,ua,ra;if(2 == arguments.length){aa=arguments[0];ja=aa.name;aa.isMasterTokenBound();aa.isUserIdTokenBound();ua=arguments[1];}else (arguments.length=4,ja=arguments[0],ua=arguments[3]);ra=this;La(ua,function(){var la,qa;la=originalToken.isMasterTokenBound()?this._masterToken:null;qa=originalToken.isUserIdTokenBound()?this._userIdToken:null;sc(this._ctx,ja,Z,la,qa,!1,null,new Mc(),{result:function(ya){La(ua,function(){return this.addServiceToken(ya);},ra);},error:function(ya){ya instanceof cb && (ya=new vb("Failed to create and add empty service token to message.",ya));ua.error(ya);}});},ra);},getServiceTokens:function(){var aa;aa=[];aa.push.apply(aa,this._serviceTokens);return aa;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(aa,ja){var ua,la;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ja && !aa)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(ja && !ja.isBoundTo(aa))throw new Hb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ja + "; mt " + aa).setEntity(aa).setUser(ja);try{ua=this._ctx.getMslStore().getServiceTokens(aa,ja);}catch(qa){if(qa instanceof cb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){la=this._peerServiceTokens[ra];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(aa)) && this._peerServiceTokens.slice(ra,1);}ua.forEach(function(qa){this.excludePeerServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._peerServiceTokens.push(qa);},this);this._peerUserIdToken=ja;this._peerMasterToken=aa;return this;},addPeerServiceToken:function(aa){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(aa.isMasterTokenBound() && !aa.isBoundTo(this._peerMasterToken))throw new Hb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(aa.isUserIdTokenBound() && !aa.isBoundTo(this._peerUserIdToken))throw new Hb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(aa.name,aa.isMasterTokenBound(),aa.isUserIdTokenBound());this._peerServiceTokens.push(aa);return this;},addPeerServiceTokenIfAbsent:function(aa){var ua;for(var ja=this._peerServiceTokens.length - 1;0 <= ja;--ja){ua=this._peerServiceTokens[ja];if(ua.name == aa.name && ua.isMasterTokenBound() == aa.isMasterTokenBound() && ua.isUserIdTokenBound() == aa.isUserIdTokenBound())return this;}this.addPeerServiceToken(aa);return this;},excludePeerServiceToken:function(){var aa,ja,ua,la;if(1 == arguments.length){aa=arguments[0];ja=aa.name;ua=aa.isMasterTokenBound();aa=aa.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],ua=arguments[1],aa=arguments[2]);for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){la=this._peerServiceTokens[ra];la.name == ja && la.isMasterTokenBound() == ua && la.isUserIdTokenBound() == aa && this._peerServiceTokens.splice(ra,1);}return this;},deletePeerServiceToken:function(){var aa,ja,ua,ra,la,qa;if(2 == arguments.length){aa=arguments[0];ja=aa.name;ua=aa.isMasterTokenBound();ra=aa.isUserIdTokenBound();la=arguments[1];}else (arguments.length=4,ja=arguments[0],ua=arguments[1],ra=arguments[2],la=arguments[3]);qa=this;La(la,function(){sc(this._ctx,ja,Z,ua?this._peerMasterToken:null,ra?this._peerUserIdToken:null,!1,null,new Mc(),{result:function(ya){La(la,function(){return this.addPeerServiceToken(ya);},qa);},error:function(ya){ya instanceof cb && (ya=new vb("Failed to create and add empty peer service token to message.",ya));la.error(ya);}});},qa);},getPeerServiceTokens:function(){var aa;aa=[];aa.push.apply(aa,this._peerServiceTokens);return aa;}});})();(function(){function fa(Y,Z){return Z[Y]?Z[Y]:Z[""];}function ba(Y){var Z;Z=Y.builder.getKeyExchangeData();return Z && !Y.ctx.isPeerToPeer()?Z.keyResponseData.masterToken:Y.builder.getMasterToken();}Ne=Ab.Class.create({init:function(Y,Z,ea){Y={ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:Z.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},isPrimaryMasterTokenAvailable:function(){return ba(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Y){try{return (this.builder.addServiceToken(Y),!0);}catch(Z){if(Z instanceof Hb)return !1;throw Z;}},addPeerServiceToken:function(Y){try{return (this.builder.addPeerServiceToken(Y),!0);}catch(Z){if(Z instanceof Hb)return !1;throw Z;}},addUnboundPrimaryServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;La(ja,function(){var ra;ra=fa(Y,this.cryptoContexts);if(!ra)return !1;sc(this.ctx,Y,Z,null,null,ea,aa,ra,{result:function(la){La(ja,function(){try{this.builder.addServiceToken(la);}catch(qa){if(qa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},ua);},error:function(la){ja.error(la);}});},ua);},addUnboundPeerServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;La(ja,function(){var ra;ra=fa(Y,this.cryptoContexts);if(!ra)return !1;sc(this.ctx,Y,Z,null,null,ea,aa,ra,{result:function(la){La(ja,function(){try{this.builder.addPeerServiceToken(la);}catch(qa){if(qa instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},ua);},error:function(la){ja.error(la);}});},ua);},addMasterBoundPrimaryServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;La(ja,function(){var ra,la;ra=ba(this);if(!ra)return !1;la=fa(Y,this.cryptoContexts);if(!la)return !1;sc(this.ctx,Y,Z,ra,null,ea,aa,la,{result:function(qa){La(ja,function(){try{this.builder.addServiceToken(qa);}catch(ya){if(ya instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},ua);},error:function(qa){ja.error(qa);}});},ua);},addMasterBoundPeerServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;La(ja,function(){var ra,la;ra=this.builder.getPeerMasterToken();if(!ra)return !1;la=fa(Y,this.cryptoContexts);if(!la)return !1;sc(this.ctx,Y,Z,ra,null,ea,aa,la,{result:function(qa){La(ja,function(){try{this.builder.addPeerServiceToken(qa);}catch(ya){if(ya instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},ua);},error:function(qa){ja.error(qa);}});},ua);},addUserBoundPrimaryServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;La(ja,function(){var ra,la,qa;ra=ba(this);if(!ra)return !1;la=this.builder.getUserIdToken();if(!la)return !1;qa=fa(Y,this.cryptoContexts);if(!qa)return !1;sc(this.ctx,Y,Z,ra,la,ea,aa,qa,{result:function(ya){La(ja,function(){try{this.builder.addServiceToken(ya);}catch(na){if(na instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return !0;},ua);},error:function(ya){ja.error(ya);}});},ua);},addUserBoundPeerServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;La(ja,function(){var ra,la,qa;ra=this.builder.getPeerMasterToken();if(!ra)return !1;la=this.builder.getPeerUserIdToken();if(!la)return !1;qa=fa(Y,this.cryptoContexts);if(!qa)return !1;sc(this.ctx,Y,Z,ra,la,ea,aa,qa,{result:function(ya){La(ja,function(){try{this.builder.addPeerServiceToken(ya);}catch(na){if(na instanceof Hb)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return !0;},ua);},error:function(ya){ja.error(ya);}});},ua);},excludePrimaryServiceToken:function(){var Y,Z,ea,aa;if(1 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],ea=arguments[1],aa=arguments[2]);for(var ja=this.builder.getServiceTokens(),ua=0;ua < ja.length;++ua){if((Y=ja[ua],Y.name == Z && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == aa))return (this.builder.excludeServiceToken(Z,ea,aa),!0);}return !1;},excludePeerServiceToken:function(){var Y,Z,ea,aa;if(1 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],ea=arguments[1],aa=arguments[2]);for(var ja=this.builder.getPeerServiceTokens(),ua=0;ua < ja.length;++ua){if((Y=ja[ua],Y.name == Z && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == aa))return (this.builder.excludePeerServiceToken(Z,ea,aa),!0);}return !1;},deletePrimaryServiceToken:function(){var Y,Z,ea,aa,ja;if(2 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (Z=arguments[0],ea=arguments[1],aa=arguments[2],ja=arguments[3]);La(ja,function(){var la;for(var ua=this.builder.getServiceTokens(),ra=0;ra < ua.length;++ra){la=ua[ra];if(la.name == Z && la.isMasterTokenBound() == ea && la.isUserIdTokenBound() == aa){this.builder.deleteServiceToken(Z,ea,aa,{result:function(){ja.result(!0);},error:function(qa){ja.error(qa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Y,Z,ea,aa,ja;if(2 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (Z=arguments[0],ea=arguments[1],aa=arguments[2],ja=arguments[3]);La(ja,function(){var la;for(var ua=this.builder.getPeerServiceTokens(),ra=0;ra < ua.length;++ra){la=ua[ra];if(la.name == Z && la.isMasterTokenBound() == ea && la.isUserIdTokenBound() == aa){this.builder.deletePeerServiceToken(Z,ea,aa,{result:function(){ja.result(!0);},error:function(qa){ja.error(qa);}});return;}}return !1;},this);}});})();(function(){function fa(ba,Y,Z,ea){La(ea,function(){var ja,ua,ra,la,qa,ya;function aa(){La(ea,function(){var na;if(ya >= Z.length){if(qa)throw qa;throw new Mb(X.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(Z));}na=Z[ya];ra != na.keyExchangeScheme?(++ya,aa()):la.getCryptoContext(ba,na,ua,ja,{result:ea.result,error:function(da){La(ea,function(){if(!(da instanceof cb))throw da;qa=da;++ya;aa();});}});});}ja=Y.masterToken;ua=Y.keyResponseData;if(!ua)return null;ra=ua.keyExchangeScheme;la=ba.getKeyExchangeFactory(ra);if(!la)throw new Mb(X.KEYX_FACTORY_NOT_FOUND,ra);ya=0;aa();});}Oe=Id.extend({init:function(ba,Y,Z,ea,aa,ja,ua){var ra;ra=this;ab(ua,function(){var ha;function la(){ra._ready=!0;ra._readyQueue.add(!0);}function qa(ka,va){var Ra;try{Ra=va.masterToken;ka.getTokenFactory().isMasterTokenRevoked(ka,Ra,{result:function(Ka){Ka?(ra._errored=new Sc(Ka,Ra).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):ya(ka,va);},error:function(Ka){Ka instanceof cb && (Ka.setEntity(va.masterToken),Ka.setUser(va.userIdToken),Ka.setUser(va.userAuthenticationData),Ka.setMessageId(va.messageId));ra._errored=Ka;la();}});}catch(Ka){Ka instanceof cb && (Ka.setEntity(va.masterToken),Ka.setUser(va.userIdToken),Ka.setUser(va.userAuthenticationData),Ka.setMessageId(va.messageId));ra._errored=Ka;la();}}function ya(ka,va){var Ra,Ka;try{Ra=va.masterToken;Ka=va.userIdToken;Ka?ka.getTokenFactory().isUserIdTokenRevoked(ka,Ra,Ka,{result:function(Qa){Qa?(ra._errored=new MslUserIdTokenException(Qa,Ka).setEntity(Ra).setUser(Ka).setMessageId(va.messageId),la()):na(ka,va);},error:function(Qa){Qa instanceof cb && (Qa.setEntity(va.masterToken),Qa.setUser(va.userIdToken),Qa.setUser(va.userAuthenticationData),Qa.setMessageId(va.messageId));ra._errored=Qa;la();}}):na(ka,va);}catch(Qa){Qa instanceof cb && (Qa.setEntity(va.masterToken),Qa.setUser(va.userIdToken),Qa.setUser(va.userAuthenticationData),Qa.setMessageId(va.messageId));ra._errored=Qa;la();}}function na(ka,va){var Ra;try{Ra=va.masterToken;Ra.isExpired()?va.isRenewable() && 0 != va.keyRequestData.length?ka.getTokenFactory().isMasterTokenRenewable(ka,Ra,{result:function(Ka){Ka?(ra._errored=new Hb(Ka,"Master token is expired and not renewable.").setEntity(Ra).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):da(ka,va);},error:function(Ka){Ka instanceof cb && (Ka.setEntity(va.masterToken),Ka.setUser(va.userIdToken),Ka.setUser(va.userAuthenticationData),Ka.setMessageId(va.messageId));ra._errored=Ka;la();}}):(ra._errored=new Hb(X.MESSAGE_EXPIRED,JSON.stringify(va)).setEntity(Ra).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):da(ka,va);}catch(Ka){Ka instanceof cb && (Ka.setEntity(va.masterToken),Ka.setUser(va.userIdToken),Ka.setUser(va.userAuthenticationData),Ka.setMessageId(va.messageId));ra._errored=Ka;la();}}function da(ka,va){var Ra,Ka;try{Ra=va.masterToken;Ka=va.nonReplayableId;"number" === typeof Ka?Ra?ka.getTokenFactory().acceptNonReplayableId(ka,Ra,Ka,{result:function(Qa){Qa || (ra._errored=new Hb(X.MESSAGE_REPLAYED,JSON.stringify(va)).setEntity(Ra).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId));la();},error:function(Qa){Qa instanceof cb && (Qa.setEntity(Ra),Qa.setUser(va.userIdToken),Qa.setUser(va.userAuthenticationData),Qa.setMessageId(va.messageId));ra._errored=Qa;la();}}):(ra._errored=new Hb(X.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(va)).setEntity(va.entityAuthenticationData).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):la();}catch(Qa){Qa instanceof cb && (Qa.setEntity(va.masterToken),Qa.setEntity(va.entityAuthenticationData),Qa.setUser(va.userIdToken),Qa.setUser(va.userAuthenticationData),Qa.setMessageId(va.messageId));ra._errored=Qa;la();}}ha={_source:{value:Y,writable:!1,enumerable:!1,configurable:!1},_parser:{value:zb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:Z,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ja,writable:!1,enumerable:!1,configurable:!1},_header:{value:zb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:zb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);pe(ra._source,ja,{result:function(ka){ra._json=ka;ra._jsonIndex=0;null === ra._json?(ra._errored=new Db(X.MESSAGE_DATA_MISSING),la()):ye(ba,ra._json[ra._jsonIndex++],aa,{result:function(va){var Ra;ra._header=va;if(ra._header instanceof Ac)(ra._keyxCryptoContext=null,ra._cryptoContext=null,la());else {Ra=ra._header;fa(ba,Ra,ea,{result:function(Ka){var Qa;try{ra._keyxCryptoContext=Ka;ba.isPeerToPeer() || !ra._keyxCryptoContext?ra._cryptoContext=Ra.cryptoContext:ra._cryptoContext=ra._keyxCryptoContext;try{Qa=Ra.masterToken;Qa && (ba.isPeerToPeer() || Qa.isVerified())?qa(ba,Ra):da(ba,Ra);}catch(Sa){Sa instanceof cb && (Sa.setEntity(Ra.masterToken),Sa.setUser(Ra.userIdToken),Sa.setUser(Ra.userAuthenticationData),Sa.setMessageId(Ra.messageId));ra._errored=Sa;la();}}catch(Sa){Sa instanceof cb && (Sa.setEntity(Ra.masterToken),Sa.setEntity(Ra.entityAuthenticationData),Sa.setUser(Ra.userIdToken),Sa.setUser(Ra.userAuthenticationData),Sa.setMessageId(Ra.messageId));ra._errored=Sa;la();}},error:function(Ka){Ka instanceof cb && (Ka.setEntity(Ra.masterToken),Ka.setEntity(Ra.entityAuthenticationData),Ka.setUser(Ra.userIdToken),Ka.setUser(Ra.userAuthenticationData),Ka.setMessageId(Ra.messageId));ra._errored=Ka;la();}});}},error:function(va){ra._errored=va;la();}});},timeout:function(){ra._timedout=!0;la();},error:function(ka){ra._errored=ka;la();}});return this;},ra);},nextData:function(ba,Y){var Z;Z=this;ab(Y,function(){var aa;function ea(ja){ab(ja,function(){var ua;if(this._jsonIndex < this._json.length)return ua=this._json[this._jsonIndex++];pe(this._source,this._timeout,{result:function(ra){ra && ra.length && 0 < ra.length?(ra.forEach(function(la){this._json.push(la);}),ea(ja)):(this._eom=!0,ja.result(null));},timeout:function(){ja.timeout();},error:function(ra){ja.error(ra);}});},Z);}aa=this.getMessageHeader();if(!aa)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ja){ab(Y,function(){if(!ja)return null;if("object" !== typeof ja)throw new Db(X.MESSAGE_FORMAT_ERROR);Ke(ja,this._cryptoContext,{result:function(ua){ab(Y,function(){var ra,la,qa,ya;ra=aa.masterToken;la=aa.entityAuthenticationData;qa=aa.userIdToken;ya=aa.getUserAuthenticationData;if(ua.messageId != aa.messageId)throw new Hb(X.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + ua.messageId + " header mid " + aa.messageId).setEntity(ra).setEntity(la).setUser(qa).setUser(ya);if(ua.sequenceNumber != this._payloadSequenceNumber)throw new Hb(X.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + ua.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ra).setEntity(la).setUser(qa).setUser(ya);++this._payloadSequenceNumber;ua.isEndOfMessage() && (this._eom=!0);ra=ua.data;this._payloads.push(ra);this._payloadIndex=-1;return ra;},Z);},error:function(ua){ua instanceof SyntaxError && (ua=new Db(X.JSON_PARSE_ERROR,"payloadchunk",ua));Y.error(ua);}});},Z);},timeout:function(){Y.timeout();},error:function(ja){Y.error(ja);}});},Z);},isReady:function(ba,Y){var ea;function Z(){ab(Y,function(){if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;ab(Y,function(){this._ready?Z():this._readyQueue.poll(ba,{result:function(aa){ab(Y,function(){if(aa === zb)return !1;Z();},ea);},timeout:function(){Y.timeout();},error:function(aa){Y.error(aa);}});},ea);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorHeader:function(){return this._header instanceof Ac?this._header:null;},getIdentity:function(){var ba,Y;ba=this.getMessageHeader();if(ba){Y=ba.masterToken;return Y?Y.identity:ba.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ba;ba=this.getMessageHeader();return ba?ba.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ba){this._closeSource=ba;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ba,Y,Z){var aa;function ea(){ab(Z,function(){var ua,ra,la,qa;function ja(ya){ab(ya,function(){var na,da,ha;if(ra && qa >= ra.length)return ra.subarray(0,qa);na=-1;if(this._currentPayload){da=this._currentPayload.length - this._payloadOffset;if(!ra){ha=da;if(-1 != this._payloadIndex)for(var ka=this._payloadIndex;ka < this._payloads.length;++ka){ha+=this._payloads[ka].length;}0 < ha && (ra=new Uint8Array(ha));}da=Math.min(da,ra?ra.length - qa:0);0 < da && (na=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + da),ra.set(na,la),na=da,la+=da,this._payloadOffset+=da);}-1 != na?(qa+=na,ja(ya)):this.nextData(Y,{result:function(va){ab(ya,function(){if(this._aborted)return ra?ra.subarray(0,qa):new Uint8Array(0);this._currentPayload=va;this._payloadOffset=0;if(this._currentPayload)ja(ya);else return 0 == qa && 0 != ba?null:ra?ra.subarray(0,qa):new Uint8Array(0);},aa);},timeout:function(){ya.timeout(ra?ra.subarray(0,qa):new Uint8Array(0));},error:function(va){ab(ya,function(){va instanceof cb && (va=new Rb("Error reading the payload chunk.",va));if(0 < qa)return (aa._readException=va,ra.subarray(0,qa));throw va;},aa);}});},aa);}if(this._aborted)return new Uint8Array(0);if(this._timedout)Z.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){ua=this._readException;this._readException=null;throw ua;}ra=-1 != ba?new Uint8Array(ba):zb;la=0;qa=0;ja(Z);}},aa);}aa=this;ab(Z,function(){if(-1 > ba)throw new RangeError("read requested with illegal length " + ba);this._ready?ea():this._readyQueue.poll(Y,{result:function(ja){ja === zb?Z.result(!1):ea();},timeout:function(){Z.timeout(new Uint8Array(0));},error:function(ja){Z.error(ja);}});},aa);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Pe=function(ba,Y,Z,ea,aa,ja,ua){new Oe(ba,Y,Z,ea,aa,ja,ua);};})();(function(){Qe=md.extend({init:function(fa,ba,Y,Z,ea,aa,ja){var ua;ua=this;ab(ja,function(){var la,qa,ya;function ra(){ua._ready=!0;ua._readyQueue.add(!0);}la=Md(fa.getMessageCapabilities(),Z.messageCapabilities);qa=null;la && (qa=ee(la.compressionAlgorithms));la={_destination:{value:ba,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_header:{value:Z,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:qa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);ya=Yb(JSON.stringify(Z),Y);ba.write(ya,0,ya.length,aa,{result:function(na){try{ua._aborted?ra():na < ya.length?(ua._timedout=!0,ra()):ba.flush(aa,{result:function(da){ua._aborted || (ua._timedout=!da);ra();},timeout:function(){ua._timedout=!0;ra();},error:function(da){ua._errored=da;ra();}});}catch(da){ua._errored=da;ra();}},timeout:function(){ua._timedout=!0;ra();},error:function(na){ua._errored=na;ra();}});return this;},ua);},setCompressionAlgorithm:function(fa,ba,Y){var ea;function Z(){ea.flush(ba,{result:function(aa){ab(Y,function(){if(!aa)throw new Rb("flush() aborted");this._compressionAlgo=fa;return !0;},ea);},timeout:function(){Y.timeout();},error:function(aa){Y.error(aa);}});}ea=this;ab(Y,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == fa)return !0;if(fa){if(!this._capabilities)return !1;for(var aa=this._capabilities.compressionAlgorithms,ja=0;ja < aa.length;++ja){if(aa[ja] == fa){Z();return;}}return !1;}Z();},ea);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorMessage:function(){return this._header instanceof Ac?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(fa,ba){var Y;Y=this;ab(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(fa,{result:function(Z){ab(ba,function(){Z && (this._currentPayload=null);return Z;},Y);},timeout:function(){ba.timeout();},error:function(Z){ba.error(Z);}});}},Y);},flush:function(fa,ba){var Z;function Y(){ab(ba,function(){var ea,aa,la;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;aa=0;this._currentPayload && this._currentPayload.forEach(function(qa){aa+=qa.length;});for(var ja=new Uint8Array(aa),ua=0,ra=0;this._currentPayload && ra < this._currentPayload.length;++ra){la=this._currentPayload[ra];ja.set(la,ua);ua+=la.length;}Je(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ja,this._cryptoContext,{result:function(qa){ab(ba,function(){var ya;this._payloads.push(qa);ya=Yb(JSON.stringify(qa),this._charset);this._destination.write(ya,0,ya.length,fa,{result:function(na){ab(ba,function(){if(this._aborted)return !1;na < qa.length?ba.timeout():this._destination.flush(fa,{result:function(da){ab(ba,function(){if(this._aborted)return !1;if(da)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ba.timeout();},Z);},timeout:function(){ba.timeout();},error:function(da){da instanceof cb && (da=new Rb("Error encoding payload chunk [sequence number " + Z._payloadSequenceNumber + "].",da));ba.error(da);}});},Z);},timeout:function(na){ba.timeout();},error:function(na){na instanceof cb && (na=new Rb("Error encoding payload chunk [sequence number " + Z._payloadSequenceNumber + "].",na));ba.error(na);}});},Z);},error:function(qa){qa instanceof cb && (qa=new Rb("Error encoding payload chunk [sequence number " + Z._payloadSequenceNumber + "].",qa));ba.error(qa);}});}},Z);}Z=this;ab(ba,function(){this._ready?Y():this._readyQueue.poll(fa,{result:function(ea){ea === zb?ba.result(!1):Y();},timeout:function(){ba.timeout();},error:function(ea){ba.error(ea);}});},Z);},write:function(fa,ba,Y,Z,ea){ab(ea,function(){var aa;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Rb("Message output stream already closed.");if(0 > ba)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ba + Y > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");aa=fa.subarray(ba,ba + Y);this._currentPayload.push(aa);return aa.length;}},this);}});rd=function(fa,ba,Y,Z,ea,aa,ja){new Qe(fa,ba,Y,Z,ea,aa,ja);};})();uf=Ab.Class.create({sentHeader:function(fa){},receivedHeader:function(fa){}});Object.freeze({USERDATA_REAUTH:Ea.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ea.SSOTOKEN_REJECTED});Re=Ab.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(fa,ba,Y,Z){},getCustomer:function(){},getKeyRequestData:function(fa){},updateServiceTokens:function(fa,ba,Y){},write:function(fa,ba,Y){},getDebugContext:function(){}});Ab.Class.create({getInputStream:function(fa){},getOutputStream:function(fa){}});(function(){var ua,ra,la,qa,ya,na,da,ha,ka,va,Ra,Ka;function fa(Qa){return function(){Qa.abort();};}function ba(Qa,Sa){Object.defineProperties(this,{masterToken:{value:Qa,writable:!1,configurable:!1},ticket:{value:Sa,writable:!1,configurable:!1}});}function Y(Qa,Sa){Object.defineProperties(this,{builder:{value:Qa,writable:!1,configurable:!1},msgCtx:{value:Sa,writable:!1,configurable:!1}});}function Z(Qa,Sa,oa){Object.defineProperties(this,{requestHeader:{value:Qa,writable:!1,configurable:!1},payloads:{value:Sa,writable:!1,configurable:!1},handshake:{value:oa,writable:!1,configurable:!1}});}function ea(Qa,Sa){Object.defineProperties(this,{requestHeader:{value:Sa.requestHeader,writable:!1,configurable:!1},payloads:{value:Sa.payloads,writable:!1,configurable:!1},handshake:{value:Sa.handshake,writable:!1,configurable:!1},response:{value:Qa,writable:!1,configurable:!1}});}function aa(Qa){for(;Qa;){if(Qa instanceof Vb)return !0;Qa=Qa instanceof cb?Qa.cause:zb;}return !1;}function ja(Qa,Sa,oa,xa,Da,Ga,Aa,Ta,Fa){Me(Sa,xa,Da,Ga,{result:function(Wa){oa && oa.sentHeader(Wa);rd(Sa,Aa,Lb,Wa,null,null,Ta,{result:function(Za){Qa.setAbort(function(){Za.abort();});Za.close(Ta,{result:function(Va){ab(Fa,function(){if(!Va)throw new Vb("sendError aborted.");return Va;});},timeout:function(){Fa.timeout();},error:function(Va){Fa.error(Va);}});},timeout:function(){},error:function(Za){Fa.error(Za);}});},error:function(Wa){Fa.error(Wa);}});}ua=md.extend({close:function(Qa,Sa){Sa.result(!0);},write:function(Qa,Sa,oa,xa,Da){La(Da,function(){return Math.min(Qa.length - Sa,oa);});},flush:function(Qa,Sa){Sa.result(!0);}});ra=tf.extend({getUserMessage:function(Qa,Sa){return null;}});la=Re.extend({init:function(Qa){Object.defineProperties(this,{_appCtx:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Qa,Sa,oa,xa){this._appCtx.getUserAuthData(Qa,Sa,oa,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Qa){this._appCtx.getKeyRequestData(Qa);},updateServiceTokens:function(Qa,Sa,oa){this._appCtx.updateServiceTokens(Qa,Sa,oa);},write:function(Qa,Sa,oa){this._appCtx.write(Qa,Sa,oa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=la.extend({init:function xa(Sa,oa){xa.base.call(this,oa);Object.defineProperties(this,{_payloads:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Sa,oa,xa){var Ga;function Da(Aa,Ta){var Fa;if(Aa == Ga._payloads.length)xa.result(!0);else {Fa=Ga._payloads[Aa];Sa.setCompressionAlgorithm(Fa.compressionAlgo,oa,{result:function(Wa){Sa.write(Fa.data,0,Fa.data.length,oa,{result:function(Za){ab(xa,function(){Fa.isEndOfMessage()?Da(Aa + 1,Ta):Sa.flush(oa,{result:function(Va){xa.result(Va);},timeout:function(){xa.timeout();},error:function(Va){xa.error(Va);}});},Ga);},timeout:function(Za){xa.timeout(Za);},error:function(Za){xa.error(Za);}});},timeout:function(){},error:function(Wa){xa.error(Wa);}});}}Ga=this;Da(0);}});ya=la.extend({init:function xa(oa){xa.base.call(this,oa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(oa,xa,Da){Da.result(!0);}});na={};da=Ab.Class.create({init:function(oa){oa || (oa=new ra());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(oa){this._filterFactory=oa;},getNewestMasterToken:function(oa,xa,Da,Ga){var Aa;Aa=this;ab(Ga,function(){var Ta,Fa,Wa,Za,Va;Ta=xa.getMslStore();Fa=Ta.getMasterToken();if(!Fa)return null;Wa=Fa.uniqueKey();Za=this._masterTokenLocks[Wa];Za || (Za=new xd(),this._masterTokenLocks[Wa]=Za);Va=Za.readLock(Da,{result:function(hb){ab(Ga,function(){var jb;if(hb === zb)throw new Vb("getNewestMasterToken aborted.");jb=Ta.getMasterToken();if(Fa.equals(jb))return new ba(Fa,hb);Za.unlock(hb);Za.writeLock(Da,{result:function(nb){ab(Ga,function(){if(nb === zb)throw new Vb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];Za.unlock(nb);return this.getNewestMasterToken(oa,xa,Da,Ga);},Aa);},timeout:function(){Ga.timeout();},error:function(nb){Ga.error(nb);}});},Aa);},timeout:function(){Ga.timeout();},error:function(hb){Ga.error(hb);}});oa.setAbort(function(){Va && (Za.cancel(Va),Va=zb);});},Aa);},deleteMasterToken:function(oa,xa){var Da;if(xa){Da=this;setTimeout(function(){var Ga,Aa;Ga=xa.uniqueKey();Aa=Da._masterTokenLocks[Ga];Aa || (Aa=new xd(),Da._masterTokenLocks[Ga]=Aa);Aa.writeLock(-1,{result:function(Ta){oa.getMslStore().removeCryptoContext(xa);delete Da._masterTokenLocks[Ga];Aa.unlock(Ta);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Ta){throw Ta;}});},0);}},releaseMasterToken:function(oa){var xa;if(oa && oa.masterToken){xa=oa.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new vb("Master token read/write lock does not exist when it should.");xa.unlock(oa.ticket);}},updateOutgoingCryptoContexts:function(oa,xa,Da){var Ga;Ga=oa.getMslStore();!oa.isPeerToPeer() && Da && (Ga.setCryptoContext(Da.keyResponseData.masterToken,Da.cryptoContext),this.deleteMasterToken(oa,xa.masterToken));},updateIncomingCryptoContexts:function(oa,xa,Da){var Ga,Aa;Ga=Da.getMessageHeader();if(Ga){Aa=oa.getMslStore();if(Ga=Ga.keyResponseData)(Aa.setCryptoContext(Ga.masterToken,Da.getKeyExchangeCryptoContext()),this.deleteMasterToken(oa,xa.masterToken));}},storeServiceTokens:function(oa,xa,Da,Ga){var Fa,Wa;oa=oa.getMslStore();for(var Aa=[],Ta=0;Ta < Ga.length;++Ta){Fa=Ga[Ta];if(!Fa.isBoundTo(xa) || !xa.isVerified()){Wa=Fa.data;Wa && 0 == Wa.length?oa.removeServiceTokens(Fa.name,Fa.isMasterTokenBound()?xa:null,Fa.isUserIdTokenBound()?Da:null):Aa.push(Fa);}}0 < Aa.length && oa.addServiceTokens(Aa);},buildRequest:function(oa,xa,Da,Ga,Aa){var Ta;Ta=this;this.getNewestMasterToken(oa,xa,Ga,{result:function(Fa){La(Aa,function(){var Wa,Za,Va;Wa=Fa && Fa.masterToken;if(Wa){Za=Da.getUserId();Va=xa.getMslStore();Za=(Za=Za?Va.getUserIdToken(Za):null) && Za.isBoundTo(Wa)?Za:null;}else Za=null;Gc(xa,Wa,Za,null,{result:function(hb){La(Aa,function(){hb.setNonReplayable(Da.isNonReplayable());return {builder:hb,tokenTicket:Fa};});},error:function(hb){La(Aa,function(){this.releaseMasterToken(Fa);hb instanceof cb && (hb=new vb("User ID token not bound to master token despite internal check.",hb));throw hb;},Ta);}});},Ta);},timeout:function(){Aa.timeout();},error:function(Fa){Aa.error(Fa);}});},buildResponse:function(oa,xa,Da,Ga,Aa,Ta){var Fa;Fa=this;Le(xa,Ga,{result:function(Wa){ab(Ta,function(){Wa.setNonReplayable(Da.isNonReplayable());if(!xa.isPeerToPeer() && !Ga.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(oa,xa,Aa,{result:function(Za){ab(Ta,function(){var Va,hb,jb;Va=Za && Za.masterToken;if(Va){hb=Da.getUserId();jb=xa.getMslStore();hb=(hb=hb?jb.getUserIdToken(hb):null) && hb.isBoundTo(Va)?hb:null;}else hb=null;Wa.setAuthTokens(Va,hb);return {builder:Wa,tokenTicket:Za};},Fa);},timeout:function(){Ta.timeout();},error:function(Za){Ta.error(Za);}});},Fa);},error:function(Wa){Ta.error(Wa);}});},buildErrorResponse:function(oa,xa,Da,Ga,Aa,Ta,Fa){var Va;function Wa(hb,jb){ab(Fa,function(){var nb,pb;nb=Fc(Aa.messageId);pb=new qa(jb,Da);Gc(xa,null,null,nb,{result:function(qb){ab(Fa,function(){xa.isPeerToPeer() && qb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Y(qb,pb),tokenTicket:null};},Va);},error:function(qb){Fa.error(qb);}});},Va);}function Za(hb,jb){Va.getNewestMasterToken(oa,xa,Ta,{result:function(nb){ab(Fa,function(){var pb,qb,yb;pb=nb && nb.masterToken;qb=Fc(Aa.messageId);yb=new qa(jb,Da);Gc(xa,pb,null,qb,{result:function(xb){ab(Fa,function(){xa.isPeerToPeer() && xb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);xb.setNonReplayable(yb.isNonReplayable());return {errorResult:new Y(xb,yb),tokenTicket:nb};},Va);},error:function(xb){Fa.error(xb);}});},Va);},timeout:function(){Fa.timeout();},error:function(nb){Fa.error(nb);}});}Va=this;ab(Fa,function(){var hb,jb,nb,pb;hb=Ga.requestHeader;jb=Ga.payloads;nb=Aa.errorCode;switch(nb){case Ea.ENTITYDATA_REAUTH:case Ea.ENTITY_REAUTH:xa.getEntityAuthenticationData(nb,{result:function(qb){ab(Fa,function(){if(!qb)return null;Wa(hb,jb);},Va);},error:function(qb){Fa.error(qb);}});break;case Ea.USERDATA_REAUTH:case Ea.SSOTOKEN_REJECTED:Da.getUserAuthData(nb,!1,!0,{result:function(qb){ab(Fa,function(){if(!qb)return null;Za(hb,jb);},Va);},error:function(qb){Fa.error(qb);}});break;case Ea.USER_REAUTH:Za(hb,jb);break;case Ea.KEYX_REQUIRED:nb=Fc(Aa.messageId);pb=new qa(jb,Da);Gc(xa,null,null,nb,{result:function(qb){ab(Fa,function(){xa.isPeerToPeer() && qb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);qb.setRenewable(!0);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Y(qb,pb),tokenTicket:null};},Va);},error:function(qb){Fa.error(qb);}});break;case Ea.EXPIRED:this.getNewestMasterToken(oa,xa,Ta,{result:function(qb){ab(Fa,function(){var yb,xb,t,b;yb=qb && qb.masterToken;xb=hb.userIdToken;t=Fc(Aa.messageId);b=new qa(jb,Da);Gc(xa,yb,xb,t,{result:function(a){ab(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(yb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:qb};},Va);},error:function(a){Fa.error(a);}},Va);},Va);},timeout:function(){Fa.timeout();},error:function(qb){Fa.error(qb);}});break;case Ea.REPLAYED:this.getNewestMasterToken(oa,xa,Ta,{result:function(qb){ab(Fa,function(){var yb,xb,t,b;yb=qb && qb.masterToken;xb=hb.userIdToken;t=Fc(Aa.messageId);b=new qa(jb,Da);Gc(xa,yb,xb,t,{result:function(a){ab(Fa,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(yb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:qb};},Va);},error:function(a){Fa.error(a);}});},Va);},timeout:function(){Fa.timeout();},error:function(qb){Fa.error(qb);}});break;default:return null;}},Va);},cleanupContext:function(oa,xa,Da){switch(Da.errorCode){case Ea.ENTITY_REAUTH:this.deleteMasterToken(oa,xa.masterToken);break;case Ea.USER_REAUTH:(Da=xa.userIdToken,xa.masterToken && Da && oa.getMslStore().removeUserIdToken(Da));}},send:function(oa,xa,Da,Ga,Aa,Ta,Fa){var nb;function Wa(pb,qb,yb){ab(Fa,function(){var xb;xb=Aa.getPeerUserIdToken();!xa.isPeerToPeer() && !qb || xa.isPeerToPeer() && !xb?(xb=Da.getCustomer())?Aa.setCustomer(xb,{result:function(t){ab(Fa,function(){qb=Aa.getUserIdToken();Za(pb,qb,yb);},nb);},error:function(t){Fa.error(t);}}):Za(pb,qb,yb):Za(pb,qb,yb);},nb);}function Za(pb,qb,yb){ab(Fa,function(){var xb,t;xb=!yb && (!Da.isEncrypted() || Aa.willEncryptPayloads()) && (!Da.isIntegrityProtected() || Aa.willIntegrityProtectPayloads()) && (!Da.isNonReplayable() || Aa.isNonReplayable() && pb);xb || Aa.setNonReplayable(!1);t=[];Aa.isRenewable() && (!pb || pb.isRenewable() || Da.isNonReplayable())?Da.getKeyRequestData({result:function(b){ab(Fa,function(){var c;for(var a=0;a < b.length;++a){c=b[a];t.push(c);Aa.addKeyRequestData(c);}Va(pb,qb,xb,t);},nb);},error:function(b){Fa.error(b);}}):Va(pb,qb,xb,t);},nb);}function Va(pb,qb,yb,xb){ab(Fa,function(){var t;t=new Ne(xa,Da,Aa);Da.updateServiceTokens(t,!yb,{result:function(b){Aa.getHeader({result:function(a){ab(Fa,function(){var c,k;c=Da.getDebugContext();c && c.sentHeader(a);c=Aa.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,pb,qb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(oa.isAborted())throw new Vb("send aborted.");k=null != this._filterFactory?this._filterFactory.getOutputStream(Ga):Ga;rd(xa,k,Lb,a,c,Ta,{result:function(g){oa.setAbort(function(){g.abort();});hb(g,a,yb);},timeout:function(){Fa.timeout();},error:function(g){Fa.error(g);}});},nb);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},error:function(b){Fa.error(b);}});},nb);}function hb(pb,qb,yb){var xb,t;if(yb)Da.write(pb,Ta,{result:function(b){ab(Fa,function(){if(oa.isAborted())throw new Vb("MessageOutputStream write aborted.");jb(pb,qb,yb);},nb);},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});else {xb=new ua();t=new Mc();rd(xa,xb,Lb,qb,t,Ta,{result:function(b){Da.write(b,Ta,{result:function(a){ab(Fa,function(){if(oa.isAborted())throw new Vb("MessageOutputStream proxy write aborted.");b.close(Ta,{result:function(c){ab(Fa,function(){var k;if(!c)throw new Vb("MessageOutputStream proxy close aborted.");k=b.getPayloads();jb(pb,qb,yb,k);},nb);},timeout:function(){Fa.timeout();},error:function(c){Fa.error(c);}});},nb);},timeout:function(){Fa.timeout();},error:function(a){Fa.error(a);}});},timeout:function(){Fa.timeout();},error:function(b){Fa.error(b);}});}}function jb(pb,qb,yb,xb){pb.close(Ta,{result:function(t){ab(Fa,function(){if(!t)throw new Vb("MessageOutputStream close aborted.");xb || (xb=pb.getPayloads());return new Z(qb,xb,!yb);},nb);},timeout:function(){Fa.timeout();},error:function(t){Fa.error(t);}});}nb=this;ab(Fa,function(){var pb,qb,yb,xb;pb=Aa.getMasterToken();qb=Aa.getUserIdToken();yb=!1;if(Da.getUserId()){xb=!qb;Da.getUserAuthData(null,Aa.isRenewable(),xb,{result:function(t){ab(Fa,function(){t && (Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()?Aa.setUserAuthenticationData(t):yb=!0);Wa(pb,qb,yb);},nb);},error:function(t){Fa.error(t);}});}else Wa(pb,qb,yb);},nb);},receive:function(oa,xa,Da,Ga,Aa,Ta,Fa){var Wa;Wa=this;ab(Fa,function(){var Za,Va,hb;if(oa.isAborted())throw new Vb("receive aborted.");Za=[];Aa && (Za=Aa.keyRequestData.filter(function(){return !0;}));Va=Da.getCryptoContexts();hb=this._filterFactory?this._filterFactory.getInputStream(Ga):Ga;Pe(xa,hb,Lb,Za,Va,Ta,{result:function(jb){oa.setAbort(function(){jb.abort();});jb.isReady(Ta,{result:function(nb){ab(Fa,function(){var pb,qb,yb,xb;if(!nb)throw new Vb("MessageInputStream aborted.");pb=jb.getMessageHeader();qb=jb.getErrorHeader();yb=Da.getDebugContext();yb && yb.receivedHeader(pb?pb:qb);if(Aa && (yb=qb?qb.errorCode:null,pb || yb != Ea.FAIL && yb != Ea.TRANSIENT_FAILURE && yb != Ea.ENTITY_REAUTH && yb != Ea.ENTITYDATA_REAUTH)){yb=pb?pb.messageId:qb.messageId;xb=Fc(Aa.messageId);if(yb != xb)throw new Hb(X.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + yb);}xa.getEntityAuthenticationData(null,{result:function(t){ab(Fa,function(){var b,a,c,k;b=t.getIdentity();if(pb){a=pb.entityAuthenticationData;c=pb.masterToken;a=c?pb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Hb(X.UNEXPECTED_MESSAGE_SENDER,a);Aa && this.updateIncomingCryptoContexts(xa,Aa,jb);b=pb.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:pb.peerMasterToken,c=pb.peerUserIdToken,a=pb.peerServiceTokens):(b=b?b.masterToken:pb.masterToken,c=pb.userIdToken,a=pb.serviceTokens);k=Da.getUserId();k && c && !c.isVerified() && xa.getMslStore().addUserIdToken(k,c);this.storeServiceTokens(xa,b,c,a);}else if((a=qb.entityAuthenticationData.getIdentity(),b == a))throw new Hb(X.UNEXPECTED_MESSAGE_SENDER,a);return jb;},Wa);},error:Fa.error});},Wa);},timeout:function(){Fa.timeout();},error:function(nb){Fa.error(nb);}});},timeout:function(){Fa.timeout();},error:function(jb){Fa.error(jb);}});},Wa);},sendReceive:function(oa,xa,Da,Ga,Aa,Ta,Fa,Wa,Za){var hb;function Va(jb,nb){ab(Za,function(){Ta.setRenewable(nb);this.send(oa,xa,Da,Aa,Ta,Fa,{result:function(pb){ab(Za,function(){var qb;qb=pb.requestHeader.keyRequestData;Wa || pb.handshake || !qb.isEmpty()?this.receive(oa,xa,Da,Ga,pb.requestHeader,Fa,{result:function(yb){ab(Za,function(){nb && this.releaseRenewalLock(xa,jb,yb);return new ea(yb,pb);},hb);},timeout:function(){ab(Za,function(){nb && this.releaseRenewalLock(xa,jb,null);Za.timeout();},hb);},error:function(yb){ab(Za,function(){nb && this.releaseRenewalLock(xa,jb,null);throw yb;},hb);}}):ab(Za,function(){nb && this.releaseRenewalLock(xa,jb,null);return new ea(null,pb);},hb);},hb);},timeout:function(){ab(Za,function(){nb && this.releaseRenewalLock(xa,jb,null);Za.timeout();},hb);},error:function(pb){ab(Za,function(){nb && this.releaseRenewalLock(xa,jb,null);throw pb;},hb);}});},hb);}hb=this;ab(Za,function(){var jb;jb=new Qc();this.acquireRenewalLock(oa,xa,Da,jb,Ta,Fa,{result:function(nb){Va(jb,nb);},timeout:function(){Za.timeout();},error:function(nb){nb instanceof Vb?Za.result(null):Za.error(nb);}});},hb);},acquireRenewalLock:function(oa,xa,Da,Ga,Aa,Ta,Fa){var Va;function Wa(hb,jb,nb){ab(Fa,function(){var yb,xb;if(oa.isAborted())throw new Vb("acquireRenewalLock aborted.");for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){yb=this._renewingContexts[qb];if(yb.ctx === xa){pb=yb.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:xa,queue:Ga}),!0);xb=pb.poll(Ta,{result:function(t){ab(Fa,function(){var b;if(t === zb)throw new Vb("acquireRenewalLock aborted.");pb.add(t);if(t === na || t.isExpired())Wa(t,jb,nb);else {if(nb && !jb || jb && !jb.isBoundTo(t)){b=xa.getMslStore().getUserIdToken(nb);jb=b && b.isBoundTo(t)?b:null;}Aa.setAuthTokens(t,jb);Aa.isRenewable() && t.equals(hb)?Wa(t,jb,nb):Da.isRequestingTokens() && !jb?Wa(t,jb,nb):Za(t,jb);}},Va);},timeout:function(){},error:function(t){}});oa.setAbort(function(){xb && (pb.cancel(xb),xb=zb);});},Va);}function Za(hb,jb){ab(Fa,function(){var qb;if(oa.isAborted())throw new Vb("acquireRenewalLock aborted.");if(!hb || hb.isRenewable() || !jb && Da.getUserId() || jb && jb.isRenewable()){for(var nb=null,pb=0;pb < this._renewingContexts.length;++pb){qb=this._renewingContexts[pb];if(qb.ctx === xa){nb=qb.queue;break;}}if(!nb)return (this._renewingContexts.push({ctx:xa,queue:Ga}),!0);}return !1;},Va);}Va=this;ab(Fa,function(){var hb,jb,nb;hb=Aa.getMasterToken();jb=Aa.getUserIdToken();nb=Da.getUserId();Da.isEncrypted() && !Aa.willEncryptPayloads() || Da.isIntegrityProtected() && !Aa.willIntegrityProtectPayloads() || Aa.isRenewable() || !hb && Da.isNonReplayable() || hb && hb.isExpired() || !(jb || !nb || Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()) || Da.isRequestingTokens() && (!hb || nb && !jb)?Wa(hb,jb,nb):Za(hb,jb);},Va);},releaseRenewalLock:function(oa,xa,Da){var Fa;for(var Ga,Aa,Ta=0;Ta < this._renewingContexts.length;++Ta){Fa=this._renewingContexts[Ta];if(Fa.ctx === oa){Ga=Ta;Aa=Fa.queue;break;}}if(Aa !== xa)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Da?(Da=Da.messageHeader)?(Aa=Da.keyResponseData)?xa.add(Aa.masterToken):(oa=oa.isPeerToPeer()?Da.peerMasterToken:Da.masterToken)?xa.add(oa):xa.add(na):xa.add(na):xa.add(na);this._renewingContexts.splice(Ga,1);}});Se=Ab.Class.create({init:function(){var oa;oa={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);},setFilterFactory:function(oa){this._impl.setFilterFactory(oa);},shutdown:function(){this._shutdown=!0;},receive:function(oa,xa,Da,Ga,Aa,Ta){var Fa;if(this._shutdown)throw new cb("MslControl is shutdown.");Fa=new ha(this._impl,oa,xa,Da,Ga,Aa);setTimeout(function(){Fa.call(Ta);},0);return fa(Fa);},respond:function(oa,xa,Da,Ga,Aa,Ta,Fa){var Wa;if(this._shutdown)throw new cb("MslControl is shutdown.");Wa=new ka(this._impl,oa,xa,Da,Ga,Aa,Ta);setTimeout(function(){Wa.call(Fa);},0);return fa(Wa);},error:function Da(oa,xa,Da,Ga,Aa,Ta,Fa){var Wa;if(this._shutdown)throw new cb("MslControl is shutdown.");Wa=new va(this._impl,oa,xa,Da,Ga,Aa,Ta);setTimeout(function(){Wa.call(Fa);},0);return fa(Wa);},request:function(oa,xa){var Da,Ga,Aa,Ta,Fa,Wa;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Ga=arguments[2];Aa=Da=null;Ta=arguments[3];Fa=arguments[4];if(oa.isPeerToPeer()){Fa.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ga=null,Da=arguments[2],Aa=arguments[3],Ta=arguments[4],Fa=arguments[5],!oa.isPeerToPeer())){Fa.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Ka(this._impl,oa,xa,Ga,Da,Aa,null,0,Ta);setTimeout(function(){Wa.call(Fa);},0);return fa(Wa);}});ha=Ab.Class.create({init:function(oa,xa,Da,Ga,Aa,Ta){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var Aa;function xa(Ta){ab(oa,function(){var Fa;Fa=Ta.messageHeader;if(!Fa)return Ta;this.setAbort(function(){Ta.abort();});Ta.mark(Number.MAX_VALUE);Ta.read(1,Aa._timeout,{result:function(Wa){ab(oa,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Ta.reset(),Ta);Da(Ta);},Aa);},timeout:function(){oa.timeout();},error:function(Wa){ab(oa,function(){var Za,Va,hb;if(aa(Wa))return null;Za=Fa?Fa.messageId:null;if(Wa instanceof Rb){Va=X.MSL_COMMS_FAILURE;hb=Wa;}else (Va=X.INTERNAL_EXCEPTION,hb=new vb("Error peeking into the message payloads."));ja(this,this._ctx,this._msgCtx.getDebugContext(),Za,Va,null,this._output,this._timeout,{result:function(jb){oa.error(hb);},timeout:function(){oa.timeout();},error:function(jb){ab(oa,function(){if(aa(jb))return null;throw new cc("Error peeking into the message payloads.",jb,Wa);},Aa);}});},Aa);}});},Aa);}function Da(Ta){ab(oa,function(){Ta.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ta.messageHeader,this._timeout,{result:function(Fa){ab(oa,function(){var Wa,Za,Va,hb,jb;Wa=Fa.builder;Za=Fa.tokenTicket;Va=Ta.messageHeader;hb=new ya(this._msgCtx);if(!this._ctx.isPeerToPeer() || Va.isEncrypting() || Va.keyResponseData)Ga(Va,Wa,hb,Za);else {jb=new Ka(this._ctrl,this._ctx,hb,null,this._input,this._output,Fa,1,this._timeout);this.setAbort(function(){jb.abort();});jb.call(oa);}},Aa);},timeout:function(){oa.timeout();},error:function(Fa){ab(oa,function(){var Wa,Za,Va,hb;if(aa(Fa))return null;if(Fa instanceof cb){Wa=Fa.messageId;Za=Fa.error;Va=Ta.messageHeader.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(Za,Va?Va.languages:null);hb=Fa;}else (Wa=requestHeader?requestHeader.messageId:null,Za=X.INTERNAL_EXCEPTION,Va=null,hb=new vb("Error creating an automatic handshake response.",Fa));ja(this,this._ctx,this._msgCtx.getDebugContext(),Wa,Za,Va,this._output,this._timeout,{result:function(jb){oa.error(hb);},timeout:function(){oa.timeout();},error:function(jb){ab(oa,function(){if(aa(jb))return null;throw new cc("Error creating an automatic handshake response.",jb,Fa);},Aa);}});},Aa);}});},Aa);}function Ga(Ta,Fa,Wa,Za){ab(oa,function(){Fa.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Fa,this._timeout,{result:function(Va){ab(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);return null;},Aa);},timeout:function(){ab(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);oa.timeout();},Aa);},error:function(Va){ab(oa,function(){var hb,jb,nb,pb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);if(aa(Va))return null;if(Va instanceof cb){hb=Va.messageId;jb=Va.error;nb=Ta?Ta.messageCapabilities:null;nb=this._ctrl.messageRegistry.getUserMessage(jb,nb?nb.languages:null);pb=Va;}else Va instanceof Rb?(hb=Ta?Ta.messageId:null,jb=X.MSL_COMMS_FAILURE,nb=null,pb=Va):(hb=Ta?Ta.messageId:null,jb=X.INTERNAL_EXCEPTION,nb=null,pb=new vb("Error sending an automatic handshake response.",Va));ja(this,this._ctx,this._msgCtx.getDebugContext(),hb,jb,nb,this._output,this._timeout,{result:function(qb){oa.error(pb);},timeout:function(){oa.timeout();},error:function(qb){ab(oa,function(){if(aa(qb))return null;throw new cc("Error sending an automatic handshake response.",qb,Va);},Aa);}});},Aa);}});},Aa);}Aa=this;ab(oa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ta){xa(Ta);},timeout:function(){oa.timeout();},error:function(Ta){ab(oa,function(){var Fa,Wa,Za,Va;if(aa(Ta))return null;if(Ta instanceof cb){Fa=Ta.messageId;Wa=Ta.error;Za=this._ctrl.messageRegistry.getUserMessage(Wa,null);Va=Ta;}else (Fa=null,Wa=X.INTERNAL_EXCEPTION,Za=null,Va=new vb("Error receiving the message header.",Ta));ja(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Wa,Za,this._output,this._timeout,{result:function(hb){oa.error(Va);},timeout:function(){oa.timeout();},error:function(hb){ab(oa,function(){if(aa(hb))return null;throw new cc("Error receiving the message header.",hb,Ta);},Aa);}});},Aa);}});},Aa);}});ka=Ab.Class.create({init:function(oa,xa,Da,Ga,Aa,Ta,Fa){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},trustedNetworkExecute:function(oa,xa,Da){var Ga;Ga=this;ab(Da,function(){var Aa,Ta;if(12 < xa + 1)return !1;if(Aa=this._msgCtx.isIntegrityProtected() && !oa.willIntegrityProtectHeader()?X.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !oa.willEncryptPayloads()?X.RESPONSE_REQUIRES_ENCRYPTION:null){Ta=Nc(oa.getMessageId());ja(this,this._ctx,this._msgCtx.getDebugContext(),Ta,Aa,null,this._output,this._timeout,{result:function(Fa){Da.result(!1);},timeout:function(){Da.timeout();},error:function(Fa){ab(Da,function(){if(aa(Fa))return !1;throw new cc("Response requires encryption or integrity protection but cannot be protected: " + Aa,Fa,null);},Ga);}});}else !this._msgCtx.getCustomer() || oa.getMasterToken() || oa.getKeyExchangeData()?(oa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,oa,this._timeout,{result:function(Fa){Da.result(!0);},timeout:function(){Da.timeout();},error:function(Fa){Da.error(Fa);}})):(Ta=Nc(oa.getMessageId()),ja(this,this._ctx,this._msgCtx.getDebugContext(),Ta,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Fa){Da.result(!1);},timeout:function(){Da.timeout();},error:function(Fa){ab(Da,function(){if(aa(Fa))return !1;throw new cc("Response wishes to attach a user ID token but there is no master token.",Fa,null);},Ga);}}));},Ga);},peerToPeerExecute:function(oa,xa,Da,Ga){var Ta;function Aa(Fa){ab(Ga,function(){var Wa;Wa=Fa.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Fa.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,oa,Fa,Wa,{result:function(Za){ab(Ga,function(){var Va,hb;if(!Za)return !1;Va=Za.errorResult;hb=Za.tokenTicket;this.peerToPeerExecute(Va.msgCtx,Va.builder,Da,{result:function(jb){ab(Ga,function(){this._ctrl.releaseMasterToken(hb);return jb;},Ta);},timeout:function(){ab(Ga,function(){this._ctrl.releaseMasterToken(hb);Ga.timeout();},Ta);},error:function(jb){ab(Ga,function(){this._ctrl.releaseMasterToken(hb);throw jb;},Ta);}});},Ta);}});},Ta);}Ta=this;ab(Ga,function(){var Fa;if(12 < Da + 2)return !1;if(null != oa.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Fa=Nc(xa.getMessageId());ja(this,this._ctx,oa.getDebugContext(),Fa,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ga.result(!1);},timeout:function(){Ga.timeout();},error:function(Wa){ab(Ga,function(){if(aa(Wa))return !1;throw new cc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Ta);}});}else this._ctrl.sendReceive(this._ctx,oa,this._input,this._output,xa,this._timeout,!1,{result:function(Wa){ab(Ga,function(){var hb,jb,nb;function Za(){hb.read(32768,Ta._timeout,{result:function(pb){ab(Ga,function(){pb?Za():Va();},Ta);},timeout:function(){Ga.timeout();},error:function(pb){Ga.error(pb);}});}function Va(){ab(Ga,function(){var pb;pb=new qa(Wa.payloads,oa);this._ctrl.buildResponse(this,this._ctx,pb,jb,this._timeout,{result:function(qb){ab(Ga,function(){var yb;yb=qb.tokenTicket;this.peerToPeerExecute(pb,qb.builder,Da,{result:function(xb){ab(Ga,function(){this._ctrl.releaseMasterToken(yb);return xb;},Ta);},timeout:function(){ab(Ga,function(){this._ctrl.releaseMasterToken(yb);Ga.timeout();},Ta);},error:function(xb){ab(Ga,function(){this._ctrl.releaseMasterToken(yb);throw xb;},Ta);}});},Ta);},timeout:function(){Ga.timeout();},error:function(qb){Ga.error(qb);}});},Ta);}hb=Wa.response;Da+=2;if(!hb)return !0;jb=hb.getMessageHeader();if(jb){nb=Wa.payloads;nb=0 < nb.length && 0 < nb[0].data.length;if(Wa.handshake && nb)Za();else return !0;}else Aa(Wa);},Ta);},timeout:function(){Ga.timeout();},error:function(Wa){Ga.error(Wa);}});},Ta);},call:function(oa){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Da){ab(oa,function(){var Ga,Aa;Ga=Da.builder;Aa=Da.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ga,3,{result:function(Ta){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Ta;},xa);},timeout:function(){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);oa.timeout();},xa);},error:function(Ta){ab(oa,function(){var Fa,Wa,Za,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(aa(Ta))return !1;Fa=Nc(Ga.getMessageId());if(Ta instanceof cb){Wa=Ta.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Wa,Za?Za.languages:null);Va=Ta;}else Ta instanceof Rb?(Wa=X.MSL_COMMS_FAILURE,Za=null,Va=Ta):(Wa=X.INTERNAL_EXCEPTION,Za=null,Va=new vb("Error sending the response.",Ta));ja(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Wa,Za,this._output,this._timeout,{result:function(hb){oa.error(Va);},timeout:function(){oa.timeout();},error:function(hb){ab(oa,function(){if(aa(hb))return !1;throw new cc("Error sending the response.",hb,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Ga,3,{result:function(Ta){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Ta;},xa);},timeout:function(){ab(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);oa.timeout();},xa);},error:function(Ta){ab(oa,function(){var Fa,Wa,Za,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(aa(Ta))return !1;Fa=Nc(Ga.getMessageId());if(Ta instanceof cb){Wa=Ta.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Wa,Za?Za.languages:null);Va=Ta;}else Ta instanceof Rb?(Wa=X.MSL_COMMS_FAILURE,Za=null,Va=Ta):(Wa=X.INTERNAL_EXCEPTION,Za=null,Va=new vb("Error sending the response.",Ta));ja(this,this._ctx,this._msgCtx.getDebugContext(),Fa,Wa,Za,this._output,this._timeout,{result:function(hb){oa.error(Va);},timeout:function(){oa.timeout();},error:function(hb){ab(oa,function(){if(aa(hb))return !1;throw new cc("Error sending the response.",hb,null);},xa);}});},xa);}});},xa);},timeout:function(){oa.timeout();},error:function(Da){ab(oa,function(){var Ga,Aa,Ta,Fa;if(aa(Da))return !1;if(Da instanceof cb){Ga=Da.messageId;Aa=Da.error;Ta=this._request.messageCapabilities;Ta=this._ctrl.messageRegistry.getUserMessage(Aa,Ta?Ta.languages:null);Fa=Da;}else (Ga=null,Aa=X.INTERNAL_EXCEPTION,Ta=null,Fa=new vb("Error building the response.",Da));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Aa,Ta,this._output,this._timeout,{result:function(Wa){oa.error(Fa);},timeout:function(){oa.timeout();},error:function(Wa){ab(oa,function(){if(aa(Wa))return null;throw new cc("Error building the response.",Wa,Da);},xa);}});},xa);}});}});va=Ab.Class.create({init:function(oa,xa,Da,Ga,Aa,Ta,Fa){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var xa;xa=this;ab(oa,function(){var Da,Ga;if(this._appError == ENTITY_REJECTED)Da=this._request.masterToken?X.MASTERTOKEN_REJECTED_BY_APP:X.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Da=this._request.userIdToken?X.USERIDTOKEN_REJECTED_BY_APP:X.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ga=this._request.messageCapabilities;Ga=this._ctrl.messageRegistry.getUserMessage(Da,Ga?Ga.languages:null);ja(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Da,Ga,this._output,this._timeout,{result:function(Aa){oa.result(Aa);},timeout:oa.timeout,error:function(Aa){ab(oa,function(){if(aa(Aa))return !1;if(Aa instanceof cb)throw Aa;throw new vb("Error building the error response.",Aa);},xa);}});},xa);}});Ra={result:function(){},timeout:function(){},error:function(){}};Ka=Ab.Class.create({init:function(oa,xa,Da,Ga,Aa,Ta,Fa,Wa,Za){var Va;if(Fa){Va=Fa.builder;Fa=Fa.tokenTicket;}else Fa=Va=null;Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_input:{value:Aa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Va,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Za,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:zb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},execute:function(oa,xa,Da,Ga,Aa){var Wa;function Ta(Za){function Va(hb){ab(Aa,function(){var jb;jb=Za.response;return hb?hb:jb;},Wa);}ab(Aa,function(){var hb,jb;hb=Za.response;hb.close();jb=hb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Za.requestHeader,jb);this._ctrl.buildErrorResponse(this,this._ctx,oa,Za,jb,Da,{result:function(nb){ab(Aa,function(){var pb,qb,yb,xb;if(!nb)return hb;pb=nb.errorResult;qb=nb.tokenTicket;yb=pb.builder;pb=pb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(pb,yb,this._timeout,Ga,{result:function(t){ab(Aa,function(){this._ctrl.releaseMasterToken(qb);Va(t);},Wa);},timeout:function(){ab(Aa,function(){this._ctrl.releaseMasterToken(qb);Aa.timeout();},Wa);},error:function(t){ab(Aa,function(){this._ctrl.releaseMasterToken(qb);Aa.error(t);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Da,Ra));xb=new Ka(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,{builder:yb,tokenTicket:qb},Ga,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(t){Va(t);},timeout:function(){Aa.timeout();},error:function(t){Aa.error(t);}});}},Wa);},timeout:function(){Aa.timeout();},error:function(nb){Aa.error(nb);}});},Wa);}function Fa(Za){ab(Aa,function(){var jb,nb,pb,qb,yb;function Va(){jb.read(32768,Wa._timeout,{result:function(xb){xb?Va():hb();},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}function hb(){ab(Aa,function(){var xb;xb=new qa(Za.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,nb,Da,{result:function(t){ab(Aa,function(){var b;b=t.tokenTicket;this.execute(xb,t.builder,this._timeout,Ga,{result:function(a){ab(Aa,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){ab(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Wa);},error:function(a){ab(Aa,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Aa.timeout();},error:function(t){Aa.error(t);}});},Wa);}jb=Za.response;nb=jb.getMessageHeader();pb=Za.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Za.handshake || !pb)return jb;this._openedStreams && (this._input.close(),this._output.close(Da,Ra));qb=new qa(Za.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,nb,Da,{result:function(xb){ab(Aa,function(){var t;t=new Ka(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,xb,Ga,this._timeout);this.setAbort(function(){t.abort();});t.call(Aa);},Wa);},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}else if(Za.handshake && pb)Va();else if(0 < nb.keyRequestData.length){yb=new ya(oa);this._ctrl.buildResponse(this,this._ctx,yb,nb,Da,{result:function(xb){ab(Aa,function(){var t,b;t=xb.builder;b=xb.tokenTicket;jb.mark();jb.read(1,this._timeout,{result:function(a){ab(Aa,function(){function c(){jb.read(32768,Wa._timeout,{result:function(g){g?c():k();},timeout:function(){Aa.timeout();},error:function(g){Aa.error(g);}});}function k(){Wa.execute(yb,t,Wa._timeout,Ga,{result:function(g){ab(Aa,function(){this._ctrl.releaseMasterToken(b);return g;},Wa);},timeout:function(){ab(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Wa);},error:function(g){ab(Aa,function(){this._ctrl.releaseMasterToken(b);throw g;},Wa);}});}if(a){if((jb.reset(),12 >= Ga + 1))(t.setRenewable(!1),this._ctrl.send(this,this._ctx,yb,this._output,t,this._timeout,{result:function(g){ab(Aa,function(){this.releaseMasterToken(b);return jb;},Wa);},timeout:function(){Aa.timeout();},error:function(g){Aa.error(g);}}));else return (this.releaseMasterToken(b),jb);}else c();},Wa);},timeout:function(){ab(Aa,function(){this.releaseMasterToken(b);Aa.timeout();},Wa);},error:function(a){ab(Aa,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}},Wa);}Wa=this;ab(Aa,function(){if(12 < Ga + 2)return null;this._ctrl.sendReceive(this,this._ctx,oa,this._input,this._output,xa,Da,!0,{result:function(Za){ab(Aa,function(){var Va;if(!Za)return null;Va=Za.response;Ga+=2;Va.getMessageHeader()?Fa(Za):Ta(Za);},Wa);},timeout:function(){Aa.timeout();},error:function(Za){Aa.error(Za);}});},Wa);},call:function(oa){var Da;function xa(Ga,Aa,Ta){ab(oa,function(){this.execute(this._msgCtx,Ga,Ta,this._msgCount,{result:function(Fa){ab(oa,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && this._output.close(Ta,Ra);Fa && Fa.closeSource(this._openedStreams);return Fa;},Da);},timeout:function(){ab(oa,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Ta,Ra),this._input.close());oa.timeout();},Da);},error:function(Fa){ab(oa,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Ta,Ra),this._input.close());if(aa(Fa))return null;throw Fa;},Da);}});},Da);}Da=this;ab(oa,function(){var Ga,Aa,Ta;Ga=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Aa=Date.now();Ta=this._remoteEntity.openConnection();this._output=Ta.output;this._input=Ta.input;-1 != Ga && (Ga=this._timeout - (Date.now() - Aa));this._openedStreams=!0;}catch(Fa){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ra);this._input && this._input.close();if(aa(Fa))return null;throw Fa;}this._builder?xa(this._builder,this._tokenTicket,Ga):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Fa){ab(oa,function(){xa(Fa.builder,Fa.tokenTicket,Ga);},Da);},timeout:function(){ab(oa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());oa.timeout();},Da);},error:function(Fa){ab(oa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());if(aa(Fa))return null;throw Fa;},Da);}});},Da);}});})();(function(){Pd=Ab.Class.create({init:function(fa){Object.defineProperties(this,{id:{value:fa,writable:!1,configurable:!1}});},toJSON:function(){var fa;fa={};fa.id=this.id;return fa;},equals:function(fa){return this === fa?!0:fa instanceof Pd?this.id == fa.id:!1;},uniqueKey:function(){return this.id;}});Te=function(fa){var ba;ba=fa.id;if(!ba)throw new Db(X.JSON_PARSE_ERROR,JSON.stringify(fa));return new Pd(ba);};})();Ab.Class.create({isNewestMasterToken:function(fa,ba,Y){},isMasterTokenRevoked:function(fa,ba){},acceptNonReplayableId:function(fa,ba,Y,Z){},createMasterToken:function(fa,ba,Y,Z,ea){},isMasterTokenRenewable:function(fa,ba,Y){},renewMasterToken:function(fa,ba,Y,Z,ea){},isUserIdTokenRevoked:function(fa,ba,Y,Z){},createUserIdToken:function(fa,ba,Y,Z){},renewUserIdToken:function(fa,ba,Y,Z){}});(function(){function fa(ba,Y,Z,ea){this.sessiondata=ba;this.tokendata=Y;this.signature=Z;this.verified=ea;}bc=Ab.Class.create({init:function(ba,Y,Z,ea,aa,ja,ua,ra,la,qa,ya){var na;na=this;La(ya,function(){var da,ha,ka,va,Ra;if(Z.getTime() < Y.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Kb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > aa || aa > Kb)throw new vb("Serial number " + aa + " is outside the valid range.");da=Math.floor(Y.getTime() / 1E3);ha=Math.floor(Z.getTime() / 1E3);if(qa)ka=qa.sessiondata;else {va={};ja && (va.issuerdata=ja);va.identity=ua;va.encryptionkey=Eb(ra.toByteArray());va.hmackey=Eb(la.toByteArray());ka=Yb(JSON.stringify(va),Lb);}if(qa)return (Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ha,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ka,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ra=ba.getMslCryptoContext();Ra.encrypt(ka,{result:function(Ka){La(ya,function(){var Qa,Sa;Qa={};Qa.renewalwindow=da;Qa.expiration=ha;Qa.sequencenumber=ea;Qa.serialnumber=aa;Qa.sessiondata=Eb(Ka);Sa=Yb(JSON.stringify(Qa),Lb);Ra.sign(Sa,{result:function(oa){La(ya,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ha,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ka,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(oa){ya.error(oa);}});},na);},error:function(Ka){ya.error(Ka);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ba){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ba){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ba){var Y;if(this.sequenceNumber == ba.sequenceNumber)return this.expiration > ba.expiration;if(this.sequenceNumber > ba.sequenceNumber){Y=this.sequenceNumber - Kb + 127;return ba.sequenceNumber >= Y;}Y=ba.sequenceNumber - Kb + 127;return this.sequenceNumber < Y;},toJSON:function(){var ba;ba={};ba.tokendata=Eb(this.tokendata);ba.signature=Eb(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof bc?this.serialNumber == ba.serialNumber && this.sequenceNumber == ba.sequenceNumber && this.expiration.getTime() == ba.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Wc=function(ba,Y,Z){La(Z,function(){var ea,aa,ja,ua,ra;ea=ba.getMslCryptoContext();aa=Y.tokendata;ja=Y.signature;if("string" !== typeof aa || "string" !== typeof ja)throw new Db(X.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Y));try{ua=Gb(aa);}catch(la){throw new cb(X.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Y),la);}if(!ua || 0 == ua.length)throw new Db(X.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Y));try{ra=Gb(ja);}catch(la){throw new cb(X.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Y),la);}ea.verify(ua,ra,{result:function(la){La(Z,function(){var qa,ya,na,da,ha,ka,va,Ra,Ka,Qa;qa=Xb(ua,Lb);try{ya=JSON.parse(qa);na=parseInt(ya.renewalwindow);da=parseInt(ya.expiration);ha=parseInt(ya.sequencenumber);ka=parseInt(ya.serialnumber);va=ya.sessiondata;}catch(Sa){if(Sa instanceof SyntaxError)throw new Db(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa,Sa);throw Sa;}if(!na || na != na || !da || da != da || "number" !== typeof ha || ha != ha || "number" !== typeof ka || ka != ka || "string" !== typeof va)throw new Db(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa);if(da < na)throw new cb(X.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + qa);if(0 > ha || ha > Kb)throw new cb(X.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);if(0 > ka || ka > Kb)throw new cb(X.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);Ra=new Date(1E3 * na);Ka=new Date(1E3 * da);try{Qa=Gb(va);}catch(Sa){throw new cb(X.MASTERTOKEN_SESSIONDATA_INVALID,va,Sa);}if(!Qa || 0 == Qa.length)throw new cb(X.MASTERTOKEN_SESSIONDATA_MISSING,va);la?ea.decrypt(Qa,{result:function(Sa){La(Z,function(){var oa,xa,Da,Ga,Aa,Ta;oa=Xb(Sa,Lb);try{xa=JSON.parse(oa);Da=xa.issuerdata;Ga=xa.identity;Aa=xa.encryptionkey;Ta=xa.hmackey;}catch(Fa){if(Fa instanceof SyntaxError)throw new Db(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa,Fa);throw Fa;}if(Da && "object" !== typeof Da || !Ga || "string" !== typeof Aa || "string" !== typeof Ta)throw new Db(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa);mc(Aa,hc,vc,{result:function(Fa){mc(Ta,ic,Ec,{result:function(Wa){La(Z,function(){var Za;Za=new fa(Sa,ua,ra,la);new bc(ba,Ra,Ka,ha,ka,Da,Ga,Fa,Wa,Za,Z);});},error:function(Wa){Z.error(new tb(X.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Fa){Z.error(new tb(X.MASTERTOKEN_KEY_CREATION_ERROR,Fa));}});});},error:function(Sa){Z.error(Sa);}}):(na=new fa(null,ua,ra,la),new bc(ba,Ra,Ka,ha,ka,null,null,null,null,na,Z));});},error:function(la){Z.error(la);}});});};})();(function(){function fa(ba,Y,Z){this.tokendata=ba;this.signature=Y;this.verified=Z;}Kc=Ab.Class.create({init:function(ba,Y,Z,ea,aa,ja,ua,ra,la){var qa;qa=this;La(la,function(){var ya,na,da,ha,ka,va,Ra;if(Z.getTime() < Y.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > aa || aa > Kb)throw new vb("Serial number " + aa + " is outside the valid range.");ya=Math.floor(Y.getTime() / 1E3);na=Math.floor(Z.getTime() / 1E3);da=ea.serialNumber;if(ra){ha=ra.tokendata;ka=ra.signature;va=ra.verified;da=ea.serialNumber;Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:na,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:va,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ha,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;}ha={};ja && (ha.issuerdata=ja);ha.identity=ua;ha=Yb(JSON.stringify(ha),Lb);Ra=ba.getMslCryptoContext();Ra.encrypt(ha,{result:function(Ka){La(la,function(){var Qa,Sa;Qa={};Qa.renewalwindow=ya;Qa.expiration=na;Qa.mtserialnumber=da;Qa.serialnumber=aa;Qa.userdata=Eb(Ka);Sa=Yb(JSON.stringify(Qa),Lb);Ra.sign(Sa,{result:function(oa){La(la,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:na,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(oa){La(la,function(){oa instanceof cb && oa.setEntity(ea);throw oa;},qa);}});},qa);},error:function(Ka){La(la,function(){Ka instanceof cb && Ka.setEntity(ea);throw Ka;},qa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ba){return ba && ba.serialNumber == this.mtSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Eb(this.tokendata);ba.signature=Eb(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof Kc?this.serialNumber == ba.serialNumber && this.mtSerialNumber == ba.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});nd=function(ba,Y,Z,ea){La(ea,function(){var aa,ja,ua,ra,la;aa=ba.getMslCryptoContext();ja=Y.tokendata;ua=Y.signature;if("string" !== typeof ja || "string" !== typeof ua)throw new Db(X.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Y)).setEntity(Z);try{ra=Gb(ja);}catch(qa){throw new cb(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),qa).setEntity(Z);}if(!ra || 0 == ra.length)throw new Db(X.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Y)).setEntity(Z);try{la=Gb(ua);}catch(qa){throw new cb(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),qa).setEntity(Z);}aa.verify(ra,la,{result:function(qa){La(ea,function(){var ya,na,da,ha,ka,va,Ra,Ka,Qa,Sa;ya=Xb(ra,Lb);try{na=JSON.parse(ya);da=parseInt(na.renewalwindow);ha=parseInt(na.expiration);ka=parseInt(na.mtserialnumber);va=parseInt(na.serialnumber);Ra=na.userdata;}catch(oa){if(oa instanceof SyntaxError)throw new Db(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya,oa).setEntity(Z);throw oa;}if(!da || da != da || !ha || ha != ha || "number" !== typeof ka || ka != ka || "number" !== typeof va || va != va || "string" !== typeof Ra)throw new Db(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya).setEntity(Z);if(ha < da)throw new cb(X.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ya).setEntity(Z);if(0 > ka || ka > Kb)throw new cb(X.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(Z);if(0 > va || va > Kb)throw new cb(X.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(Z);Ka=new Date(1E3 * da);Qa=new Date(1E3 * ha);if(!Z || ka != Z.serialNumber)throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ka + "; mt " + JSON.stringify(Z)).setEntity(Z);try{Sa=Gb(Ra);}catch(oa){throw new cb(X.USERIDTOKEN_USERDATA_INVALID,Ra,oa).setEntity(Z);}if(!Sa || 0 == Sa.length)throw new cb(X.USERIDTOKEN_USERDATA_MISSING,Ra).setEntity(Z);qa?aa.decrypt(Sa,{result:function(oa){La(ea,function(){var xa,Da,Ga,Aa,Ta;xa=Xb(oa,Lb);try{Da=JSON.parse(xa);Ga=Da.issuerdata;Aa=Da.identity;}catch(Fa){if(Fa instanceof SyntaxError)throw new Db(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(Z);throw Fa;}if(Ga && "object" !== typeof Ga || "object" !== typeof Aa)throw new Db(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(Z);try{Ta=Te(Aa);}catch(Fa){throw new cb(X.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Fa).setEntity(Z);}Aa=new fa(ra,la,qa);new Kc(ba,Ka,Qa,Z,va,Ga,Ta,Aa,ea);});},error:function(oa){La(ea,function(){oa instanceof cb && oa.setEntity(Z);throw oa;});}}):(da=new fa(ra,la,qa),new Kc(ba,Ka,Qa,Z,va,null,null,da,ea));});},error:function(qa){La(ea,function(){qa instanceof cb && qa.setEntity(Z);throw qa;});}});});};})();(function(){function fa(Y,Z){var ea,aa,ja;ea=Y.tokendata;if("string" !== typeof ea)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));try{aa=Gb(ea);}catch(ua){throw new cb(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Y),ua);}if(!aa || 0 == aa.length)throw new Db(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Y));try{ja=JSON.parse(Xb(aa,Lb)).name;}catch(ua){if(ua instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y),ua);throw ua;}if(!ja)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));return Z[ja]?Z[ja]:Z[""];}function ba(Y,Z,ea){this.tokendata=Y;this.signature=Z;this.verified=ea;}xc=Ab.Class.create({init:function(Y,Z,ea,aa,ja,ua,ra,la,qa,ya){var na;na=this;La(ya,function(){var da,ha,ka,va,Ra;if(aa && ja && !ja.isBoundTo(aa))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");da=aa?aa.serialNumber:-1;ha=ja?ja.serialNumber:-1;if(qa)return (Ra=qa.tokendata,Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:Z,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ha,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ra){ka=Od(ra,ea);ka.length < ea.length || (ra=null,ka=ea);}else (ra=null,ka=ea);va={};va.name=Z;-1 != da && (va.mtserialnumber=da);-1 != ha && (va.uitserialnumber=ha);va.encrypted=ua;ra && (va.compressionalgo=ra);if(ua && 0 < ka.length)la.encrypt(ka,{result:function(Ka){La(ya,function(){var Qa;va.servicedata=Eb(Ka);Qa=Yb(JSON.stringify(va),Lb);la.sign(Qa,{result:function(Sa){La(ya,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:Z,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ha,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(Sa){La(ya,function(){Sa instanceof cb && (Sa.setEntity(aa),Sa.setUser(ja));throw Sa;});}});},na);},error:function(Ka){La(ya,function(){Ka instanceof cb && (Ka.setEntity(aa),Ka.setUser(ja));throw Ka;});}});else {va.servicedata=Eb(ka);Ra=Yb(JSON.stringify(va),Lb);la.sign(Ra,{result:function(Ka){La(ya,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:Z,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ha,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ka,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(Ka){La(ya,function(){Ka instanceof cb && (Ka.setEntity(aa),Ka.setUser(ja));throw Ka;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Y){return Y?Y instanceof bc?Y.serialNumber == this.mtSerialNumber:Y instanceof Kc?Y.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Y;Y={};Y.tokendata=Eb(this.tokendata);Y.signature=Eb(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof xc?this.name == Y.name && this.mtSerialNumber == Y.mtSerialNumber && this.uitSerialNumber == Y.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});sc=function(Y,Z,ea,aa,ja,ua,ra,la,qa){new xc(Y,Z,ea,aa,ja,ua,ra,la,null,qa);};od=function(Y,Z,ea,aa,ja,ua){La(ua,function(){var ra,la,qa,ya,na,da,ha,ka,va,Ra,Ka,Qa,Sa;!ja || ja instanceof Lc || (ja=fa(Z,ja));ra=Z.tokendata;la=Z.signature;if("string" !== typeof ra || "string" !== typeof la)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z)).setEntity(ea).setEntity(aa);try{qa=Gb(ra);}catch(oa){throw new cb(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Z),oa).setEntity(ea).setEntity(aa);}if(!qa || 0 == qa.length)throw new Db(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Z)).setEntity(ea).setEntity(aa);try{ya=Gb(la);}catch(oa){throw new cb(X.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(Z),oa).setEntity(ea).setEntity(aa);}na=Xb(qa,Lb);try{da=JSON.parse(na);ha=da.name;ka=da.mtserialnumber?parseInt(da.mtserialnumber):-1;va=da.uitserialnumber?parseInt(da.uitserialnumber):-1;Ra=da.encrypted;Ka=da.compressionalgo;Qa=da.servicedata;}catch(oa){if(oa instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"servicetokendata " + na,oa).setEntity(ea).setEntity(aa);throw oa;}if(!ha || "number" !== typeof ka || ka != ka || "number" !== typeof va || va != va || "boolean" !== typeof Ra || Ka && "string" !== typeof Ka || "string" !== typeof Qa)throw new Db(X.JSON_PARSE_ERROR,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(da.mtserialnumber && 0 > ka || ka > Kb)throw new cb(X.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(da.uitserialnumber && 0 > va || va > Kb)throw new cb(X.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(-1 != ka && (!ea || ka != ea.serialNumber))throw new cb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ka + "; mt " + ea).setEntity(ea).setEntity(aa);if(-1 != va && (!aa || va != aa.serialNumber))throw new cb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + va + "; uit " + aa).setEntity(ea).setEntity(aa);Ra=!0 === Ra;if(Ka){if(!Cc[Ka])throw new cb(X.UNIDENTIFIED_COMPRESSION,Ka);Sa=Ka;}else Sa=null;ja?ja.verify(qa,ya,{result:function(oa){La(ua,function(){var xa,Da;if(oa){try{xa=Gb(Qa);}catch(Ga){throw new cb(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + na,Ga).setEntity(ea).setEntity(aa);}if(!xa || 0 != Qa.length && 0 == xa.length)throw new cb(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(Ra && 0 < xa.length)ja.decrypt(xa,{result:function(Ga){La(ua,function(){var Aa,Ta;Aa=Sa?pd(Sa,Ga):Ga;Ta=new ba(qa,ya,oa);new xc(Y,ha,Aa,-1 != ka?ea:null,-1 != va?aa:null,Ra,Sa,ja,Ta,ua);});},error:function(Ga){La(ua,function(){Ga instanceof cb && (Ga.setEntity(ea),Ga.setUser(aa));throw Ga;});}});else {xa=Sa?pd(Sa,xa):xa;Da=new ba(qa,ya,oa);new xc(Y,ha,xa,-1 != ka?ea:null,-1 != va?aa:null,Ra,Sa,ja,Da,ua);}}else (xa="" == Qa?new Uint8Array(0):null,Da=new ba(qa,ya,oa),new xc(Y,ha,xa,-1 != ka?ea:null,-1 != va?aa:null,Ra,Sa,ja,Da,ua));});},error:function(oa){La(ua,function(){oa instanceof cb && (oa.setEntity(ea),oa.setUser(aa));throw oa;});}}):(ra="" == Qa?new Uint8Array(0):null,la=new ba(qa,ya,!1),new xc(Y,ha,ra,-1 != ka?ea:null,-1 != va?aa:null,Ra,Sa,ja,la,ua));});};})();yc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(yc);(function(){Rc=Ab.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(fa){return this === fa?!0:fa instanceof Rc?this.scheme == fa.scheme:!1;},toJSON:function(){var fa;fa={};fa.scheme=this.scheme;fa.authdata=this.getAuthData();return fa;}});Ie=function(fa,ba,Y,Z){La(Z,function(){var ea,aa,ja;ea=Y.scheme;aa=Y.authdata;if(!ea || !aa)throw new Db(X.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Y));if(!yc[ea])throw new uc(X.UNIDENTIFIED_USERAUTH_SCHEME,ea);ja=fa.getUserAuthenticationFactory(ea);if(!ja)throw new uc(X.USERAUTH_FACTORY_NOT_FOUND,ea);ja.createData(fa,ba,aa,Z);});};})();Ue=Ab.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},createData:function(fa,ba,Y,Z){},authenticate:function(fa,ba,Y,Z){}});(function(){Zc=Rc.extend({init:function Z(ba,Y){Z.base.call(this,yc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ba,writable:!1,configurable:!1},secureNetflixId:{value:Y,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.netflixid=this.netflixId;this.secureNetflixId && (ba.securenetflixid=this.secureNetflixId);return ba;},equals:function Z(Y){return this === Y?!0:Y instanceof Zc?Z.base.call(this,Y) && this.netflixId == Y.netflixId && this.secureNetflixId == Y.secureNetflixId:!1;}});Ve=function(Y){var Z,ea;Z=Y.netflixid;ea=Y.securenetflixid;if(!Z)throw new Db(X.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Y));return new Zc(Z,ea);};})();vf=Ue.extend({init:function ba(){ba.base.call(this,yc.NETFLIXID);},createData:function(ba,Y,Z,ea){La(ea,function(){return Ve(Z);});},authenticate:function(ba,Y,Z,ea){if(!(Z instanceof Zc))throw new vb("Incorrect authentication data type " + Z + ".");ba=Z.secureNetflixId;if(!Z.netflixId || !ba)throw new uc(X.NETFLIXID_COOKIES_BLANK).setUser(Z);throw new uc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(Z);}});(function(){$c=Rc.extend({init:function ea(Y,Z){ea.base.call(this,yc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Y,writable:!1,configurable:!1},password:{value:Z,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.email=this.email;Y.password=this.password;return Y;},equals:function ea(Z){return this === Z?!0:Z instanceof $c?ea.base.call(this,this,Z) && this.email == Z.email && this.password == Z.password:!1;}});We=function(Z){var ea,aa;ea=Z.email;aa=Z.password;if(!ea || !aa)throw new Db(X.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(Z));return new $c(ea,aa);};})();wf=Ue.extend({init:function Y(){Y.base.call(this,yc.EMAIL_PASSWORD);},createData:function(Y,Z,ea,aa){La(aa,function(){return We(ea);});},authenticate:function(Y,Z,ea,aa){if(!(ea instanceof $c))throw new vb("Incorrect authentication data type " + ea + ".");Y=ea.password;if(!ea.email || !Y)throw new uc(X.EMAILPASSWORD_BLANK).setUser(ea);throw new uc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Ea.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ea.ENTITYDATA_REAUTH});xf=Ab.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Y,Z){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Y){},getUserAuthenticationFactory:function(Y){},getTokenFactory:function(){},getKeyExchangeFactory:function(Y){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Xe=Ab.Class.create({setCryptoContext:function(Y,Z){},getMasterToken:function(){},getNonReplayableId:function(Y){},getCryptoContext:function(Y){},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,Z){},getUserIdToken:function(Y){},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,Z){},removeServiceTokens:function(Y,Z,ea){},clearServiceTokens:function(){}});(function(){var Y;Y=Cc;Od=function(Z,ea){var aa;aa={};switch(Z){case Y.LZW:return ce(ea,aa);case Y.GZIP:return gzip$compress(ea);default:throw new cb(X.UNSUPPORTED_COMPRESSION,Z);}};pd=function(Z,ea,aa){switch(Z){case Y.LZW:return de(ea);case Y.GZIP:return gzip$uncompress(ea);default:throw new cb(X.UNSUPPORTED_COMPRESSION,Z.name());}};})();Xe.extend({setCryptoContext:function(Y,Z){},getMasterToken:function(){return null;},getNonReplayableId:function(Y){return 1;},getCryptoContext:function(Y){return null;},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,Z){},getUserIdToken:function(Y){return null;},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,Z){if(Z){if(!Y)throw new cb(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!Z.isBoundTo(Y))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.mtSerialNumber + "; mt " + Y.serialNumber);}return [];},removeServiceTokens:function(Y,Z,ea){if(ea && Z && !ea.isBoundTo(Z))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + Z.serialNumber);},clearServiceTokens:function(){}});(function(){Ye=Xe.extend({init:function Z(){Z.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(Z,ea){var aa;if(ea){aa=Z.uniqueKey();this.masterTokens[aa]=Z;this.cryptoContexts[aa]=ea;}else this.removeCryptoContext(Z);},getMasterToken:function(){var Z,ea,aa;Z=null;for(ea in this.masterTokens){aa=this.masterTokens[ea];if(!Z || aa.isNewerThan(Z))Z=aa;}return Z;},getNonReplayableId:function(Z){var ea;Z=Z.serialNumber;ea=this.nonReplayableIds[Z] !== zb?this.nonReplayableIds[Z]:0;if(0 > ea || ea > Kb)throw new vb("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Kb?0:ea + 1;return this.nonReplayableIds[Z]=ea;},getCryptoContext:function(Z){return this.cryptoContexts[Z.uniqueKey()];},removeCryptoContext:function(Z){var ea,aa,ja,ua;ea=Z.uniqueKey();if(this.masterTokens[ea]){aa=Z.serialNumber;for(ja in this.masterTokens){ua=this.masterTokens[ja];if(!ua.equals(Z) && ua.serialNumber == aa){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(ra){ra=this.userIdTokens[ra];ra.isBoundTo(Z) && this.removeUserIdToken(ra);},this);try{this.removeServiceTokens(null,Z,null);}catch(ra){if(ra instanceof cb)throw new vb("Unexpected exception while removing master token bound service tokens.",ra);throw ra;}delete this.nonReplayableIds[aa];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(Z){for(var ea in Z){delete Z[ea];}},this);},addUserIdToken:function(Z,ea){var aa,ja;aa=!1;for(ja in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ja])){aa=!0;break;}}if(!aa)throw new cb(X.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[Z]=ea;},getUserIdToken:function(Z){return this.userIdTokens[Z];},removeUserIdToken:function(Z){var ea,aa,ja;ea=null;for(aa in this.masterTokens){ja=this.masterTokens[aa];if(Z.isBoundTo(ja)){ea=ja;break;}}Object.keys(this.userIdTokens).forEach(function(ua){if(this.userIdTokens[ua].equals(Z)){try{this.removeServiceTokens(null,ea,Z);}catch(ra){if(ra instanceof cb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",ra);throw ra;}delete this.userIdTokens[ua];}},this);},clearUserIdTokens:function(){for(var Z in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[Z]);}},addServiceTokens:function(Z){Z.forEach(function(ea){var aa,ja;if(ea.isMasterTokenBound()){aa=!1;for(ja in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ja])){aa=!0;break;}}if(!aa)throw new cb(X.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){aa=!1;for(var ua in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[ua])){aa=!0;break;}}if(!aa)throw new cb(X.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);Z.forEach(function(ea){var aa;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){aa=this.mtServiceTokens[ea.mtSerialNumber];aa || (aa={});aa[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=aa;}ea.isUserIdTokenBound() && ((aa=this.uitServiceTokens[ea.uitSerialNumber]) || (aa={}),aa[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=aa);}},this);},getServiceTokens:function(Z,ea){var aa,ja,ua;if(ea){if(!Z)throw new cb(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(Z))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + Z.serialNumber);}aa={};for(ja in this.unboundServiceTokens){ua=this.unboundServiceTokens[ja];aa[ua.uniqueKey()]=ua;}if(Z && (ja=this.mtServiceTokens[Z.serialNumber]))for(var ra in ja){ua=ja[ra];ua.isUserIdTokenBound() || (aa[ra]=ua);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var la in ea){ra=ea[la];ra.isBoundTo(Z) && (aa[la]=ra);}Z=[];for(var qa in aa){Z.push(aa[qa]);}return Z;},removeServiceTokens:function(Z,ea,aa){var ja,ua,ra;if(aa && ea && !aa.isBoundTo(ea))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + ea.serialNumber);!Z || ea || aa || Object.keys(this.unboundServiceTokens).forEach(function(la){this.unboundServiceTokens[la].name == Z && delete this.unboundServiceTokens[la];},this);if(ea && !aa && (ja=this.mtServiceTokens[ea.serialNumber])){ra=Object.keys(ja);ra.forEach(function(la){var qa;qa=ja[la];Z && qa.name != Z || delete ja[la];},this);this.mtServiceTokens[ea.serialNumber]=ja;}aa && (ua=this.uitServiceTokens[aa.serialNumber]) && (ea=Object.keys(ua),ea.forEach(function(la){var qa;qa=ua[la];Z && qa.name != Z || delete ua[la];},this),this.uitServiceTokens[aa.serialNumber]=ua);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(Z){for(var ea in Z){delete Z[ea];}},this);}});})();sf.extend({init:function Z(){Z.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(Z,ea){ea && Z && Z.length && (Z=Eb(Z),this._contextMap[Z]=ea);},getCryptoContext:function(Z){return Z && Z.length?(Z=Eb(Z),this._contextMap[Z] || null):null;},removeCryptoContext:function(Z){Z && Z.length && (Z=Eb(Z),delete this._contextMap[Z]);}});kf.extend({init:function ra(ea,aa,ja,ua){ra.base.call(this,ea);Object.defineProperties(this,{_kde:{value:aa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,aa){if(!(aa instanceof qc))throw new vb("Incorrect authentication data type " + JSON.stringify(aa) + ".");if(aa.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"mgk " + aa.identity);return new jd(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});lf.extend({init:function la(aa,ja,ua,ra){la.base.call(this,aa);Object.defineProperties(this,{_kpe:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ua,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(aa,ja){if(!(ja instanceof rc))throw new vb("Incorrect authentication data type " + JSON.stringify(ja) + ".");if(ja.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"psk " + ja.identity);return new jd(aa,this.localIdentity,this._kpe,this._kph,this._kpw);}});zf=Ye.extend({init:function na(ja,ua,ra,la,qa,ya){na.base.call(this);this._log=ja;this._esn=ua;this._keyRequestData=ra;this._createKeyRequestData=la;this._systemKeyName=qa;this._systemKeyWrapFormat=ya;},setCryptoContext:function qa(ua,ra,la){var ya;ya=this;ya._log.trace("Adding MasterToken",{SequenceNumber:ua.sequenceNumber,SerialNumber:ua.serialNumber,Expiration:ua.expiration.getTime()});qa.base.call(this,ua,ra);!la && (ua=ya._createKeyRequestData) && (ya._log.trace("Generating new keyx request data"),ua().then(function(na){ya._keyRequestData=na;},function(na){ya._log.error("Unable to generate new keyx request data","" + na);}));},addUserIdToken:function qa(ra,la){this._log.trace("Adding UserIdToken",{UserId:ra,SerialNumber:la.serialNumber,MTSerialNumber:la.mtSerialNumber,Expiration:la.expiration.getTime()});qa.base.call(this,ra,la);},addServiceTokens:function qa(la){qa.base.call(this,la.filter(function(ya){return !yf[ya.name];}));},getUserIdTokenKeys:function(){var la,qa;la=[];for(qa in this.userIdTokens){la.push(qa);}return la;},rekeyUserIdToken:function(la,qa){this.userIdTokens[la] && (this.userIdTokens[qa]=this.userIdTokens[la],delete this.userIdTokens[la]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(la){var qa;qa=this;La(la,function(){var ya;ya=qa.getMasterToken();ya?qa.getKeysForStore(ya,{result:function(na){La(la,function(){var da,ha,ka;da=qa.userIdTokens;ha=Object.keys(da).map(function(va){var Ra;Ra=da[va];return {userId:va,userIdTokenJSON:da[va].toJSON(),serviceTokenJSONList:qa.getServiceTokens(ya,Ra).map(df)};});na.esn=qa._esn;na.masterTokenJSON=ya.toJSON();na.userList=ha;ka=qa._keyRequestData.storeData;ka && Object.keys(ka).forEach(function(va){na[va]=ka[va];});return na;});},timeout:la.timeout,error:la.error}):la.result(null);});},getKeysForStore:function(la,qa){var ya;ya=this;La(qa,function(){var na;na=ya.getCryptoContext(la);na={encryptionKey:na.encryptionKey,hmacKey:na.hmacKey};if(na.encryptionKey && na.hmacKey){if(ya._systemKeyWrapFormat)ya.wrapKeysWithSystemKey(na,qa);else return na;}else throw new cb(X.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(la,qa){var ya;ya=this;Xd(this._systemKeyName,{result:function(na){La(qa,function(){var da,ha,ka,va;da=la.encryptionKey;ha=la.hmacKey;ka=da[Oc];va=ha[Oc];if(ka && va)return {wrappedEncryptionKey:ka,wrappedHmacKey:va};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(ya._systemKeyWrapFormat,da,na,na.algorithm),Jb.wrapKey(ya._systemKeyWrapFormat,ha,na,na.algorithm)]);}).then(function(Ra){ka=Eb(Ra[0]);da[Oc]=ka;va=Eb(Ra[1]);ha[Oc]=va;qa.result({wrappedEncryptionKey:ka,wrappedHmacKey:va});}).catch(function(Ra){qa.error(new cb(X.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(la,qa){var ya;ya=this;Xd(this._systemKeyName,{result:function(na){La(qa,function(){var da,ha;da=Gb(la.wrappedEncryptionKey);ha=Gb(la.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(ya._systemKeyWrapFormat,da,na,na.algorithm,hc,!1,vc),Jb.unwrapKey(ya._systemKeyWrapFormat,ha,na,na.algorithm,ic,!1,Ec)]);}).then(function(ka){var va;va=ka[0];ka=ka[1];va[Oc]=la.wrappedEncryptionKey;ka[Oc]=la.wrappedHmacKey;qa.result({encryptionKey:va,hmacKey:ka});}).catch(function(ka){qa.error(new cb(X.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ka));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(la,qa,ya,na){var ka,va;function da(Ra,Ka){var Qa;try{Qa=ya.userList.slice();}catch(Sa){}Qa?(function oa(){var xa;xa=Qa.shift();xa?nd(qa,xa.userIdTokenJSON,Ra,{result:function(Da){try{ka.addUserIdToken(xa.userId,Da);ha(Ra,Da,xa.serviceTokenJSONList,{result:oa,timeout:oa,error:oa});}catch(Ga){oa();}},timeout:oa,error:oa}):Ka.result();})():Ka.result();}function ha(Ra,Ka,Qa,Sa){var oa,xa;try{oa=Qa.slice();}catch(Da){}if(oa){xa=ka.getCryptoContext(Ra);(function Ga(){var Aa;Aa=oa.shift();Aa?od(qa,Aa,Ra,Ka,xa,{result:function(Ta){ka.addServiceTokens([Ta]);Ga();},timeout:function(){Ga();},error:function(){Ga();}}):Sa.result();})();}else Sa.result();}ka=this;va=ka._log;ya.esn != ka._esn?(va.error("Esn mismatch, starting fresh"),na.error()):(function(Ra){var Sa,oa,xa,Da;function Ka(){var Ga;if(!Sa && oa && xa && Da){Sa=!0;Ga=new fc(qa,oa,la.esn,{rawKey:xa},{rawKey:Da});ka.setCryptoContext(oa,Ga,!0);Ra.result(oa);}}function Qa(Ga,Aa){va.error(Ga,Aa && "" + Aa);Sa || (Sa=!0,Ra.error());}ya.masterTokenJSON?(Wc(qa,ya.masterTokenJSON,{result:function(Ga){oa=Ga;Ka();},timeout:function(){Qa("Timeout parsing MasterToken");},error:function(Ga){Qa("Error parsing MasterToken",Ga);}}),ka._systemKeyWrapFormat?ka.unwrapKeysWithSystemKey(ya,{result:function(Ga){xa=Ga.encryptionKey;Da=Ga.hmacKey;Ka();},timeout:function(){Qa("Timeout unwrapping keys");},error:function(Ga){Qa("Error unwrapping keys",Ga);}}):Promise.resolve().then(function(){return Jb.encrypt({name:hc.name,iv:new Uint8Array(16)},ya.encryptionKey,new Uint8Array(1));}).then(function(Ga){xa=ya.encryptionKey;}).catch(function(Ga){Qa("Error loading encryptionKey");}).then(function(){return Jb.sign(ic,ya.hmacKey,new Uint8Array(1));}).then(function(Ga){Da=ya.hmacKey;Ka();}).catch(function(Ga){Qa("Error loading hmacKey");})):Qa("Persisted store is corrupt");})({result:function(Ra){da(Ra,na);},timeout:na.timeout,error:na.error});}});yf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Oc="$netflix$msl$wrapsys";Af=xf.extend({init:function(la,qa,ya,na,da,ha){var ka,va;ka=new Xc([Cc.LZW]);va=new nf();va.addPublicKey(qa,ya);na[Ob.RSA]=new mf(va);qa={};qa[yc.EMAIL_PASSWORD]=new wf();qa[yc.NETFLIXID]=new vf();la={_mslCryptoContext:{value:new jf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ka,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:na,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ha,writable:!1,enumerable:!1,configurable:!1},_store:{value:la,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},getTime:function(){return Date.now();},getRandom:function(){return new he();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(la,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(la){return this._entityAuthFactories[la];},getUserAuthenticationFactory:function(la){return this._userAuthFactories[la];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(la){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == la;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Zd=Re.extend({init:function(la,qa,ya,na){this._log=la;this._mslContext=qa;this._mslRequest=ya;this._keyRequestData=na;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(la,qa,ya,na){var da;da=this._mslRequest;La(na,function(){return la || !da.shouldSendUserAuthData?null:da.email?new $c(da.email,da.password):da.useNetflixUserAuthData || ya && da.sendUserAuthIfRequired?new Zc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(la){la.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(la,qa,ya){var na,da,ha,ka,va,Ra;na=this._log;da=(this._mslRequest.serviceTokens || []).slice();ha=this._mslContext;qa=ha.getMslStore();ka=la.builder.getMasterToken();va=this.getUserId();Ra=qa.getUserIdToken(va);(function Qa(){var Sa;Sa=da.shift();if(Sa)try{Sa instanceof xc?(la.addPrimaryServiceToken(Sa),Qa()):od(ha,Sa,ka,Ra,null,{result:function(oa){try{la.addPrimaryServiceToken(oa);}catch(xa){na.warn("Exception adding service token","" + xa);}Qa();},timeout:function(){na.warn("Timeout parsing service token");Qa();},error:function(oa){na.warn("Error parsing service token","" + oa);Qa();}});}catch(oa){na.warn("Exception processing service token","" + oa);Qa();}else ya.result(!0);})();},write:function(la,qa,ya){var na;na=Yb(this._mslRequest.body);la.write(na,0,na.length,qa,{result:function(da){da != na.length?ya.error(new Rb("Not all data was written to output.")):la.flush(qa,{result:function(){ya.result(!0);},timeout:function(){ya.timeout();},error:function(ha){ya.error(ha);}});},timeout:function(){ya.timeout();},error:function(da){ya.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new Bf(this._log,this._mslRequest));return this._dc;}});Bf=uf.extend({init:function(la,qa){this._log=la;this._mslRequest=qa;},sentHeader:function(la){this._log.trace("Sent MSL header",Yd(this._mslRequest,la),la.serviceTokens && la.serviceTokens.map(ef).join("\n"));},receivedHeader:function(la){var qa,ya;qa=Yd(this._mslRequest,la);ya=la.errorCode;ya?this._log.warn("Received MSL error header",qa,{errorCode:ya,errorMessage:la.errorMessage,internalCode:la.internalCode}):this._log.trace("Received MSL header",qa);}});Cf={JWK_RSA:function(la){return gf(la,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},we.JWK_RSA);}};mb.netflix=mb.netflix || ({});mb.netflix.msl={createMslClient:function(la,qa){var ya,na,da,ha,ka;ya=la.log;ka=la.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Nb && Nb.generateKey && Nb.importKey && Nb.unwrapKey))throw new cb(X.INTERNAL_EXCEPTION,"No WebCrypto");Wb=Nb.generateKey({name:"AES-CBC",length:128},!0,vc).then?ed.V2014_02:ed.LEGACY;ka("mslisik");return Jb.importKey("spki",la.serverIdentityKeyData,ie,!1,["verify"]);}).then(function(va){return new Promise(function(Ra,Ka){Bc(va,{result:Ra,error:function(){Ka(new cb(X.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(va){na=va;if(va=Cf.JWK_RSA)return (ka("mslcc"),va(la));throw new cb(X.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(va){var Ra;da=new zf(ya,la.esn,va.keyRequestData,va.createKeyRequestData,la.authenticationKeyNames.s,la.systemKeyWrapFormat);ha=new Af(da,la.serverIdentityId,na,va.entityAuthFactories,va.entityAuthData,va.keyExchangeFactories);Ra=la.storeState;if(Ra)return (ka("mslss"),ya.info("Loading store state"),new Promise(function(Ka,Qa){da.loadStoreState(la,ha,Ra,{result:Ka,timeout:Ka,error:Ka});}));ya.info("No store state, starting fresh");}).then(function(){var va;va=new Se();ka("msldone");qa.result(new ff(ya,va,ha,da,la.ErrorSubCodes));}).catch(function(va){qa.error(va);});},IHttpLocation:qf,MslIoException:Rb};(function(){var Za,Va,hb,jb,nb,pb,qb,yb,xb;function la(t){var b;b=0;return function(){return b < t.length?{done:!1,value:t[b++]}:{done:!0};};}function qa(t,b){var a,k;if(b)a:{a=Va;t=t.split(".");for(var c=0;c < t.length - 1;c++){k=t[c];if(!((k in a)))break a;a=a[k];}t=t[t.length - 1];c=a[t];b=b(c);b != c && null != b && Za(a,t,{configurable:!0,writable:!0,value:b});}}function ya(t){t={next:t};t[Symbol.iterator]=function(){return this;};return t;}function na(t){var b;b="undefined" != typeof Symbol && Symbol.iterator && t[Symbol.iterator];return b?b.call(t):{next:la(t)};}function da(t){for(var b,a=[];!(b=t.next()).done;){a.push(b.value);}return a;}function ha(t){return t instanceof Array?t:da(na(t));}function ka(t,b){var c;t.prototype=hb(b.prototype);t.prototype.constructor=t;if(yb)yb(t,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(t,a,c);}else t[a]=b[a];}t.opc=b.prototype;}function va(){this.lY=!1;this.WF=null;this.mfa=void 0;this.eF=1;this.s2a=this.pEb=0;this.QU=null;}function Ra(t){if(t.lY)throw new TypeError("Generator is already running");t.lY=!0;}function Ka(t,b){t.eF=2;return {value:b};}function Qa(t){this.Qf=new va();this.K4b=t;}function Sa(t,b){var a;Ra(t.Qf);a=t.Qf.WF;if(a)return oa(t,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,t.Qf.return);t.Qf.return(b);return xa(t);}function oa(t,b,a,c){var k,g;try{k=b.call(t.Qf.WF,a);if(!(k instanceof Object))throw new TypeError("Iterator result " + k + " is not an object");if(!k.done)return (t.Qf.lY=!1,k);g=k.value;}catch(h){return (t.Qf.WF=null,t.Qf.A0(h),xa(t));}t.Qf.WF=null;c.call(t.Qf,g);return xa(t);}function xa(t){var b;for(;t.Qf.eF;){try{b=t.K4b(t.Qf);if(b)return (t.Qf.lY=!1,{value:b.value,done:!1});}catch(a){t.Qf.mfa=void 0;t.Qf.A0(a);}}t.Qf.lY=!1;if(t.Qf.QU){b=t.Qf.QU;t.Qf.QU=null;if(b.HVb)throw b.AO;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Da(t){this.next=function(b){return t.lZ(b);};this.throw=function(b){return t.A0(b);};this.return=function(b){return Sa(t,b);};this[Symbol.iterator]=function(){return this;};}function Ga(t,b){b=new Da(new Qa(b));yb && t.prototype && yb(b,t.prototype);return b;}function Aa(t,b){return Object.prototype.hasOwnProperty.call(t,b);}function Ta(t,b){var a,c,k;t instanceof String && (t+="");a=0;c=!1;k={next:function(){var g;if(!c && a < t.length){g=a++;return {value:b(g,t[g]),done:!1};}c=!0;return {done:!0,value:void 0};}};k[Symbol.iterator]=function(){return k;};return k;}function Fa(t,b,a){var g;t instanceof String && (t=String(t));for(var c=t.length,k=0;k < c;k++){g=t[k];if(b.call(a,g,k,t))return {Qta:k,Vy:g};}return {Qta:-1,Vy:void 0};}function Wa(t,b,a){if(null == t)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return t + "";}Za="function" == typeof Object.defineProperties?Object.defineProperty:function(t,b,a){if(t == Array.prototype || t == Object.prototype)return t;t[b]=a.value;return t;};Va=(function(t){var a;t=["object" == typeof globalThis && globalThis,t,"object" == typeof mb && mb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < t.length;++b){a=t[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);qa("Symbol",function(t){var c;function b(k){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (k || "") + "_" + c++,k);}function a(k,g){this.Flb=k;Za(this,"description",{configurable:!0,writable:!0,value:g});}if(t)return t;a.prototype.toString=function(){return this.Flb;};c=0;return b;});qa("Symbol.iterator",function(t){var c;if(t)return t;t=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Va[b[a]];"function" === typeof c && "function" != typeof c.prototype[t] && Za(c.prototype,t,{configurable:!0,writable:!0,value:function(){return ya(la(this));}});}return t;});hb="function" == typeof Object.create?Object.create:function(t){function b(){}b.prototype=t;return new b();};jb=(function(){var b;function t(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(t())return Reflect.construct;b=Reflect.construct;return function(a,c,k){a=b(a,c);k && Reflect.setPrototypeOf(a,k.prototype);return a;};}return function(a,c,k){void 0 === k && (k=a);k=hb(k.prototype || Object.prototype);return Function.prototype.apply.call(a,k,c) || k;};})();if("function" == typeof Object.setPrototypeOf)nb=Object.setPrototypeOf;else {a:{pb={a:!0};qb={};try{qb.__proto__=pb;nb=qb.a;break a;}catch(t){}nb=!1;}nb=nb?function(t,b){t.__proto__=b;if(t.__proto__ !== b)throw new TypeError(t + " is not extensible");return t;}:null;}yb=nb;va.prototype.lZ=function(t){this.mfa=t;};va.prototype.A0=function(t){this.QU={AO:t,HVb:!0};this.eF=this.pEb || this.s2a;};va.prototype.return=function(t){this.QU={return:t};this.eF=this.s2a;};Qa.prototype.lZ=function(t){Ra(this.Qf);if(this.Qf.WF)return oa(this,this.Qf.WF.next,t,this.Qf.lZ);this.Qf.lZ(t);return xa(this);};Qa.prototype.A0=function(t){Ra(this.Qf);if(this.Qf.WF)return oa(this,this.Qf.WF["throw"],t,this.Qf.lZ);this.Qf.A0(t);return xa(this);};qa("Reflect",function(t){return t?t:{};});qa("Reflect.construct",function(){return jb;});qa("Reflect.setPrototypeOf",function(t){return t?t:yb?function(b,a){try{return (yb(b,a),!0);}catch(c){return !1;}}:null;});qa("Object.setPrototypeOf",function(t){return t || yb;});xb="function" == typeof Object.assign?Object.assign:function(t,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var k in c){Aa(c,k) && (t[k]=c[k]);}}return t;};qa("Object.assign",function(t){return t || xb;});qa("Promise",function(t){var k,g;function b(h){var d;this.qR=0;this.J_=void 0;this.iQ=[];this.e8a=!1;d=this.jpa();try{h(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.JD=null;}function c(h){return h instanceof b?h:new b(function(d){d(h);});}if(t)return t;a.prototype.nXa=function(h){var d;if(null == this.JD){this.JD=[];d=this;this.oXa(function(){d.RMb();});}this.JD.push(h);};k=Va.setTimeout;a.prototype.oXa=function(h){k(h,0);};a.prototype.RMb=function(){var h,f;for(;this.JD && this.JD.length;){h=this.JD;this.JD=[];for(var d=0;d < h.length;++d){f=h[d];h[d]=null;try{f();}catch(l){this.eCb(l);}}}this.JD=null;};a.prototype.eCb=function(h){this.oXa(function(){throw h;});};b.prototype.jpa=function(){var d,f;function h(l){return function(m){f || (f=!0,l.call(d,m));};}d=this;f=!1;return {resolve:h(this.c7b),reject:h(this.sza)};};b.prototype.c7b=function(h){var d;if(h === this)this.sza(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof b)this.i9b(h);else {a:switch(typeof h){case "object":d=null != h;break a;case "function":d=!0;break a;default:d=!1;}d?this.b7b(h):this.m3a(h);}};b.prototype.b7b=function(h){var d;d=void 0;try{d=h.then;}catch(f){this.sza(f);return;}"function" == typeof d?this.j9b(d,h):this.m3a(h);};b.prototype.sza=function(h){this.Ugb(2,h);};b.prototype.m3a=function(h){this.Ugb(1,h);};b.prototype.Ugb=function(h,d){if(0 != this.qR)throw Error("Cannot settle(" + h + ", " + d + "): Promise already settled in state" + this.qR);this.qR=h;this.J_=d;2 === this.qR && this.N7b();this.SMb();};b.prototype.N7b=function(){var h;h=this;k(function(){var d;if(h.h0b()){d=Va.console;"undefined" !== typeof d && d.error(h.J_);}},1);};b.prototype.h0b=function(){var h,d,f;if(this.e8a)return !1;h=Va.CustomEvent;d=Va.Event;f=Va.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof h?h=new h("unhandledrejection",{cancelable:!0}):"function" === typeof d?h=new d("unhandledrejection",{cancelable:!0}):(h=Va.document.createEvent("CustomEvent"),h.initCustomEvent("unhandledrejection",!1,!0,h));h.promise=this;h.reason=this.J_;return f(h);};b.prototype.SMb=function(){if(null != this.iQ){for(var h=0;h < this.iQ.length;++h){g.nXa(this.iQ[h]);}this.iQ=null;}};g=new a();b.prototype.i9b=function(h){var d;d=this.jpa();h.f7(d.resolve,d.reject);};b.prototype.j9b=function(h,d){var f;f=this.jpa();try{h.call(d,f.resolve,f.reject);}catch(l){f.reject(l);}};b.prototype.then=function(h,d){var l,m,n;function f(p,q){return "function" == typeof p?function(r){try{l(p(r));}catch(u){m(u);}}:q;}n=new b(function(p,q){l=p;m=q;});this.f7(f(h,l),f(d,m));return n;};b.prototype.catch=function(h){return this.then(void 0,h);};b.prototype.f7=function(h,d){var l;function f(){switch(l.qR){case 1:h(l.J_);break;case 2:d(l.J_);break;default:throw Error("Unexpected state: " + l.qR);}}l=this;null == this.iQ?g.nXa(f):this.iQ.push(f);this.e8a=!0;};b.resolve=c;b.reject=function(h){return new b(function(d,f){f(h);});};b.race=function(h){return new b(function(d,f){for(var l=na(h),m=l.next();!m.done;m=l.next()){c(m.value).f7(d,f);}});};b.all=function(h){var d,f;d=na(h);f=d.next();return f.done?c([]):new b(function(l,m){var p,q;function n(r){return function(u){p[r]=u;q--;0 == q && l(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).f7(n(p.length - 1),m);f=d.next();}while(!f.done);});};return b;});qa("Array.prototype.keys",function(t){return t?t:function(){return Ta(this,function(b){return b;});};});qa("Array.prototype.find",function(t){return t?t:function(b,a){return Fa(this,b,a).Vy;};});qa("Object.is",function(t){return t?t:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});qa("Array.prototype.includes",function(t){return t?t:function(b,a){var c,k,g;c=this;c instanceof String && (c=String(c));k=c.length;a=a || 0;for(0 > a && (a=Math.max(a + k,0));a < k;a++){g=c[a];if(g === b || Object.is(g,b))return !0;}return !1;};});qa("String.prototype.includes",function(t){return t?t:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});qa("Math.tanh",function(t){return t?t:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});qa("Number.isNaN",function(t){return t?t:function(b){return "number" === typeof b && isNaN(b);};});qa("WeakMap",function(t){var h,d;function b(f){this.SX=(d+=Math.random() + 1).toString();if(f){f=na(f);for(var l;!(l=f.next()).done;){l=l.value;this.set(l[0],l[1]);}}}function a(){}function c(f){var l;l=typeof f;return "object" === l && null !== f || "function" === l;}function k(f){var l;if(!Aa(f,h)){l=new a();Za(f,h,{value:l});}}function g(f){var l;l=Object[f];l && (Object[f]=function(m){if(m instanceof a)return m;Object.isExtensible(m) && k(m);return l(m);});}if((function(){var f,l,m;if(!t || !Object.seal)return !1;try{f=Object.seal({});l=Object.seal({});m=new t([[f,2],[l,3]]);if(2 != m.get(f) || 3 != m.get(l))return !1;m.delete(f);m.set(l,4);return !m.has(f) && 4 == m.get(l);}catch(n){return !1;}})())return t;h="$jscomp_hidden_" + Math.random();g("freeze");g("preventExtensions");g("seal");d=0;b.prototype.set=function(f,l){if(!c(f))throw Error("Invalid WeakMap key");k(f);if(!Aa(f,h))throw Error("WeakMap key fail: " + f);f[h][this.SX]=l;return this;};b.prototype.get=function(f){return c(f) && Aa(f,h)?f[h][this.SX]:void 0;};b.prototype.has=function(f){return c(f) && Aa(f,h) && Aa(f[h],this.SX);};b.prototype.delete=function(f){return c(f) && Aa(f,h) && Aa(f[h],this.SX)?delete f[h][this.SX]:!1;};return b;});qa("Map",function(t){var g,h;function b(){var d;d={};return d.oq=d.next=d.head=d;}function a(d,f){var l;l=d.eB;return ya(function(){if(l){for(;l.head != d.eB;){l=l.oq;}for(;l.next != l.head;){return (l=l.next,{done:!1,value:f(l)});}l=null;}return {done:!0,value:void 0};});}function c(d,f){var l,m,n;l=f && typeof f;"object" == l || "function" == l?g.has(f)?l=g.get(f):(l="" + ++h,g.set(f,l)):l="p_" + f;m=d.FA[l];if(m && Aa(d.FA,l))for(d=0;d < m.length;d++){n=m[d];if(f !== f && n.key !== n.key || f === n.key)return {id:l,list:m,index:d,entry:n};}return {id:l,list:m,index:-1,entry:void 0};}function k(d){this.FA={};this.eB=b();this.size=0;if(d){d=na(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,l,m;if(!t || "function" != typeof t || !t.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new t(na([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;l=f.entries();m=l.next();if(m.done || m.value[0] != d || "s" != m.value[1])return !1;m=l.next();return m.done || 4 != m.value[0].x || "t" != m.value[1] || !l.next().done?!1:!0;}catch(n){return !1;}})())return t;g=new WeakMap();k.prototype.set=function(d,f){var l;d=0 === d?0:d;l=c(this,d);l.list || (l.list=this.FA[l.id]=[]);l.entry?l.entry.value=f:(l.entry={next:this.eB,oq:this.eB.oq,head:this.eB,key:d,value:f},l.list.push(l.entry),this.eB.oq.next=l.entry,this.eB.oq=l.entry,this.size++);return this;};k.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.FA[d.id],d.entry.oq.next=d.entry.next,d.entry.next.oq=d.entry.oq,d.entry.head=null,this.size--,!0):!1;};k.prototype.clear=function(){this.FA={};this.eB=this.eB.oq=b();this.size=0;};k.prototype.has=function(d){return ! !c(this,d).entry;};k.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};k.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};k.prototype.keys=function(){return a(this,function(d){return d.key;});};k.prototype.values=function(){return a(this,function(d){return d.value;});};k.prototype.forEach=function(d,f){for(var l=this.entries(),m;!(m=l.next()).done;){m=m.value;d.call(f,m[1],m[0],this);}};k.prototype[Symbol.iterator]=k.prototype.entries;h=0;return k;});qa("Set",function(t){function b(a){this.hy=new Map();if(a){a=na(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.hy.size;}if((function(){var a,c,k,g;if(!t || "function" != typeof t || !t.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new t(na([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;k=c.entries();g=k.next();if(g.done || g.value[0] != a || g.value[1] != a)return !1;g=k.next();return g.done || g.value[0] == a || 4 != g.value[0].x || g.value[1] != g.value[0]?!1:k.next().done;}catch(h){return !1;}})())return t;b.prototype.add=function(a){a=0 === a?0:a;this.hy.set(a,a);this.size=this.hy.size;return this;};b.prototype.delete=function(a){a=this.hy.delete(a);this.size=this.hy.size;return a;};b.prototype.clear=function(){this.hy.clear();this.size=0;};b.prototype.has=function(a){return this.hy.has(a);};b.prototype.entries=function(){return this.hy.entries();};b.prototype.values=function(){return this.hy.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var k;k=this;this.hy.forEach(function(g){return a.call(c,g,g,k);});};return b;});qa("Array.prototype.entries",function(t){return t?t:function(){return Ta(this,function(b,a){return [b,a];});};});qa("Object.entries",function(t){return t?t:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push([c,b[c]]);}return a;};});qa("Object.getOwnPropertySymbols",function(t){return t?t:function(){return [];};});qa("Reflect.apply",function(t){var b;if(t)return t;b=Function.prototype.apply;return function(a,c,k){return b.call(a,c,k);};});qa("Number.isFinite",function(t){return t?t:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});qa("String.prototype.endsWith",function(t){return t?t:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var k=b.length;0 < k && 0 < a;){if(c[--a] != b[--k])return !1;}return 0 >= k;};});qa("String.prototype.repeat",function(t){return t?t:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});qa("Array.prototype.values",function(t){return t?t:function(){return Ta(this,function(b,a){return a;});};});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.from",function(t){return t?t:function(b,a,c){var k,g;a=null != a?a:function(d){return d;};k=[];g="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof g){b=g.call(b);for(var h=0;!(g=b.next()).done;){k.push(a.call(c,g.value,h++));}}else for((g=b.length,h=0);h < g;h++){k.push(a.call(c,b[h],h));}return k;};});qa("Object.values",function(t){return t?t:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push(b[c]);}return a;};});qa("String.prototype.startsWith",function(t){return t?t:function(b,a){var c,k,g;c=Wa(this,b,"startsWith");b+="";k=c.length;g=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var h=0;h < g && a < k;){if(c[a++] != b[h++])return !1;}return h >= g;};});qa("Promise.prototype.finally",function(t){return t?t:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});qa("Array.prototype.findIndex",function(t){return t?t:function(b,a){return Fa(this,b,a).Qta;};});qa("String.fromCodePoint",function(t){return t?t:function(b){var k;for(var a="",c=0;c < arguments.length;c++){k=Number(arguments[c]);if(0 > k || 1114111 < k || k !== Math.floor(k))throw new RangeError("invalid_code_point " + k);65535 >= k?a+=String.fromCharCode(k):(k-=65536,a+=String.fromCharCode(k >>> 10 & 1023 | 55296),a+=String.fromCharCode(k & 1023 | 56320));}return a;};});qa("Number.parseInt",function(t){return t || parseInt;});(function(t){var a;function b(c){var k;if(a[c])return a[c].exports;k=a[c]={Qta:c,QWb:!1,exports:{}};t[c].call(k.exports,k,k.exports,b);k.QWb=!0;return k.exports;}a={};b.enc=t;b.c=a;b.d=function(c,k,g){b.s0b(c,k) || Object.defineProperty(c,k,{enumerable:!0,get:g});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,k){var g;k & 1 && (c=b(c));if(k & 8 || k & 4 && "object" === typeof c && c && c.__esModule)return c;g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:c});if(k & 2 && "string" != typeof c)for(var h in c){b.d(g,h,(function(d){return c[d];}).bind(null,h));}return g;};b.n=function(c){var k;k=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(k,"a",k);return k;};b.s0b=function(c,k){return Object.prototype.hasOwnProperty.call(c,k);};b.p="";return b(b.v7b=587);})([function(t,b,a){var I,L;function c(){c=Object.assign || (function(K){for(var H,R=1,O=arguments.length;R < O;R++){H=arguments[R];for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (K[J]=H[J]);}}return K;});return c.apply(this,arguments);}function k(K,H){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(R,O){R.__proto__=O;}) || (function(R,O){for(var J in O){Object.prototype.hasOwnProperty.call(O,J) && (R[J]=O[J]);}});return k(K,H);}function g(K,H){function R(){this.constructor=K;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");k(K,H);K.prototype=null === H?Object.create(H):(R.prototype=H.prototype,new R());}function h(K,H){var R,O,J;R={};for(O in K){Object.prototype.hasOwnProperty.call(K,O) && 0 > H.indexOf(O) && (R[O]=K[O]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){J=0;for(O=Object.getOwnPropertySymbols(K);J < O.length;J++){0 > H.indexOf(O[J]) && Object.prototype.propertyIsEnumerable.call(K,O[J]) && (R[O[J]]=K[O[J]]);}}return R;}function d(K,H,R,O){var J,M,P;J=arguments.length;M=3 > J?H:null === O?O=Object.getOwnPropertyDescriptor(H,R):O;if("object" === typeof Reflect && "function" === typeof Reflect.Qp)M=Reflect.Qp(K,H,R,O);else for(var S=K.length - 1;0 <= S;S--){if(P=K[S])M=(3 > J?P(M):3 < J?P(H,R,M):P(H,R)) || M;}return (3 < J && M && Object.defineProperty(H,R,M),M);}function f(K,H){return function(R,O){H(R,O,K);};}function l(K,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(K,H);}function m(K,H,R,O){function J(M){return M instanceof R?M:new R(function(P){P(M);});}return new (R || (R=Promise))(function(M,P){function S(W){try{T(O.next(W));}catch(ia){P(ia);}}function U(W){try{T(O["throw"](W));}catch(ia){P(ia);}}function T(W){W.done?M(W.value):J(W.value).then(S,U);}T((O=O.apply(K,H || [])).next());});}function n(K,H){var J,M,P,S,U;function R(T){return function(W){return O([T,W]);};}function O(T){if(M)throw new TypeError("Generator is already executing.");for(;J;){try{if((M=1,P && (S=T[0] & 2?P["return"]:T[0]?P["throw"] || ((S=P["return"]) && S.call(P),0):P.next) && !(S=S.call(P,T[1])).done))return S;if((P=0,S))T=[T[0] & 2,S.value];switch(T[0]){case 0:case 1:S=T;break;case 4:return (J.label++,{value:T[1],done:!1});case 5:J.label++;P=T[1];T=[0];continue;case 7:T=J.Nk.pop();J.Wh.pop();continue;default:if(!(S=J.Wh,S=0 < S.length && S[S.length - 1]) && (6 === T[0] || 2 === T[0])){J=0;continue;}if(3 === T[0] && (!S || T[1] > S[0] && T[1] < S[3]))J.label=T[1];else if(6 === T[0] && J.label < S[1])(J.label=S[1],S=T);else if(S && J.label < S[2])(J.label=S[2],J.Nk.push(T));else {S[2] && J.Nk.pop();J.Wh.pop();continue;}}T=H.call(K,J);}catch(W){T=[6,W];P=0;}finally{M=S=0;}}if(T[0] & 5)throw T[1];return {value:T[0]?T[1]:void 0,done:!0};}J={label:0,Eb:function(){if(S[0] & 1)throw S[1];return S[1];},Wh:[],Nk:[]};return (U={next:R(0),"throw":R(1),"return":R(2)},"function" === typeof Symbol && (U[Symbol.iterator]=function(){return this;}),U);}function p(K,H){for(var R in K){"default" === R || Object.prototype.hasOwnProperty.call(H,R) || I(H,K,R);}}function q(K){var H,R,O;H="function" === typeof Symbol && Symbol.iterator;R=H && K[H];O=0;if(R)return R.call(K);if(K && "number" === typeof K.length)return {next:function(){K && O >= K.length && (K=void 0);return {value:K && K[O++],done:!K};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function r(K,H){var R,O,J;R="function" === typeof Symbol && K[Symbol.iterator];if(!R)return K;K=R.call(K);J=[];try{for(;(void 0 === H || 0 < H--) && !(O=K.next()).done;){J.push(O.value);}}catch(P){var M;M={error:P};}finally{try{O && !O.done && (R=K["return"]) && R.call(K);}finally{if(M)throw M.error;}}return J;}function u(){for(var K=[],H=0;H < arguments.length;H++){K=K.concat(r(arguments[H]));}return K;}function v(){var O;for(var K=0,H=0,R=arguments.length;H < R;H++){K+=arguments[H].length;}K=Array(K);O=0;for(H=0;H < R;H++){for(var J=arguments[H],M=0,P=J.length;M < P;(M++,O++)){K[O]=J[M];}}return K;}function w(K,H,R){if(R || 2 === arguments.length)for(var O=0,J=H.length,M;O < J;O++){!M && (O in H) || (M || (M=Array.prototype.slice.call(H,0,O)),M[O]=H[O]);}return K.concat(M || Array.prototype.slice.call(H));}function x(K){return this instanceof x?(this.Vy=K,this):new x(K);}function y(K,H,R){var U,T,W;function O(ia){U[ia] && (T[ia]=function(pa){return new Promise(function(wa,za){1 < W.push([ia,pa,wa,za]) || J(ia,pa);});});}function J(ia,pa){var wa;try{wa=U[ia](pa);wa.value instanceof x?Promise.resolve(wa.value.Vy).then(M,P):S(W[0][2],wa);}catch(za){S(W[0][3],za);}}function M(ia){J("next",ia);}function P(ia){J("throw",ia);}function S(ia,pa){(ia(pa),W.shift(),W.length) && J(W[0][0],W[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");U=R.apply(K,H || []);W=[];return (T={},O("next"),O("throw"),O("return"),T[Symbol.asyncIterator]=function(){return this;},T);}function z(K){var R,O;function H(J,M){R[J]=K[J]?function(P){return (O=!O)?{value:x(K[J](P)),done:"return" === J}:M?M(P):P;}:M;}return (R={},H("next"),H("throw",function(J){throw J;}),H("return"),R[Symbol.iterator]=function(){return this;},R);}function A(K){var O,J;function H(M){J[M]=K[M] && (function(P){return new Promise(function(S,U){P=K[M](P);R(S,U,P.done,P.value);});});}function R(M,P,S,U){Promise.resolve(U).then(function(T){M({value:T,done:S});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=K[Symbol.asyncIterator];return O?O.call(K):(K="function" === typeof q?q(K):K[Symbol.iterator](),J={},H("next"),H("throw"),H("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(K,H){Object.defineProperty?Object.defineProperty(K,"raw",{value:H}):K.raw=H;return K;}function C(K){var H;if(K && K.__esModule)return K;H={};if(null != K)for(var R in K){"default" !== R && Object.prototype.hasOwnProperty.call(K,R) && I(H,K,R);}L(H,K);return H;}function D(K){return K && K.__esModule?K:{default:K};}function F(K,H,R,O){if("a" === R && !O)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?K !== H || !O:!H.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === R?O:"a" === R?O.call(K):O?O.value:H.get(K);}function G(K,H,R,O,J){if("m" === O)throw new TypeError("Private method is not writable");if("a" === O && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?K !== H || !J:!H.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === O?J.call(K,R):J?J.value=R:H.set(K,R),R);}function E(K,H){if(null === H || "object" !== typeof H && "function" !== typeof H)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof K?H === K:K.has(H);}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return h;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return I;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return r;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__spreadArray",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return E;});I=Object.create?function(K,H,R,O){var J;void 0 === O && (O=R);J=Object.getOwnPropertyDescriptor(H,R);if(!J || (("get" in J)?!H.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return H[R];}};Object.defineProperty(K,O,J);}:function(K,H,R,O){void 0 === O && (O=R);K[O]=H[R];};L=Object.create?function(K,H){Object.defineProperty(K,"default",{enumerable:!0,value:H});}:function(K,H){K["default"]=H;};},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(41);b.ehc=t;t=a(635);b.N1=t.N1;t=a(77);b.fu=t.fu;b.fk=t.fk;b.Dz=t.Dz;t=a(651);b.BEa=t.BEa;b.vd=t.vd;t=a(652);b.X=t.X;t=a(653);b.wib=t.wib;t=a(654);b.Cab=t.Cab;t=a(323);b.l=t.l;b.tha=t.tha;t=a(655);b.optional=t.optional;t=a(656);b.hp=t.hp;t=a(657);b.DJ=t.DJ;t=a(658);b.x0=t.x0;t=a(659);b.gdb=t.gdb;t=a(321);b.Sha=t.Sha;t=a(107);b.id=t.id;t=a(92);b.Qp=t.Qp;t=a(326);b.tjb=t.tjb;b.xib=t.xib;b.Dab=t.Dab;b.Cjb=t.Cjb;t=a(137);b.VO=t.VO;a=a(660);b.yab=a.yab;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);k=a(123);g=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);return d;})(Error);b.assert=function(h,d){if(!h)try{throw new g(d || "Assertion failed");}catch(f){throw (k.zm.G.error("Assertion failed",{value:h,message:d,stack:f.stack}),f);}};},function(t,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.mz=b.PHa=b.OHa=b.Jga=b.NHa=b.Iga=b.r3=b.f3=b.MHa=b.R=b.V=void 0;(function(k){k[k.co=7001]="UNKNOWN";k[k.TRa=7002]="UNHANDLED_EXCEPTION";k[k.eqb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";k[k.Cpb=7004]="HLS_NOT_SUPPORTED";k[k.fha=7010]="INIT_ASYNCCOMPONENT";k[k.iqb=7011]="INIT_HTTP";k[k.cqb=7014]="INIT_BADMOVIEID";k[k.FJa=7020]="INIT_PLAYBACK_LOCK";k[k.GJa=7022]="INIT_SESSION_LOCK";k[k.jqb=7029]="INIT_POSTAUTHORIZE";k[k.EJa=7031]="INIT_HEADER_MEDIA";k[k.kqb=7034]="INIT_TIMEDTEXT_TRACK";k[k.Plb=7037]="ASE_SESSION_ERROR";k[k.Olb=7038]="ASE_SEEK_THREW";k[k.Qlb=7039]="ASE_SKIPPED_THREW";k[k.fqb=7041]="INIT_CORE_OBJECTS1";k[k.gqb=7042]="INIT_CORE_OBJECTS2";k[k.hqb=7043]="INIT_CORE_OBJECTS3";k[k.yJa=7053]="INIT_COMPONENT_STORAGE";k[k.zJa=7054]="INIT_COMPONENT_STORAGELOCK";k[k.vJa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";k[k.gha=7059]="INIT_COMPONENT_DEVICE";k[k.wJa=7063]="INIT_COMPONENT_MSL";k[k.uJa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";k[k.NC=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";k[k.DJa=7083]="INIT_COMPONENT_WEBCRYPTO";k[k.tJa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";k[k.rJa=7088]="INIT_COMPONENT_BATTERY_MANAGER";k[k.qJa=7089]="INIT_COMPONENT_ASE";k[k.xL=7091]="INIT_COMPONENT_DRM_CACHE";k[k.dqb=7092]="INIT_COMPONENT_DRM";k[k.sJa=7094]="INIT_COMPONENT_FTL";k[k.xJa=7095]="INIT_COMPONENT_PREPARE_MODEL";k[k.AJa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";k[k.BJa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";k[k.CJa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";k[k.CL=7111]="MANIFEST";k[k.WKa=7117]="MANIFEST_VERIFY";k[k.ptb=7120]="START";k[k.zL=7121]="LICENSE";k[k.Yia=7122]="RELEASE";k[k.qtb=7123]="STOP";k[k.pha=7125]="KEEPALIVE";k[k.esb=7131]="PING";k[k.ipb=7134]="ENGAGE";k[k.Hqb=7137]="LOGBLOB";k[k.fic=7138]="PAUSE";k[k.wic=7139]="RESUME";k[k.gQa=7140]="SPLICE";k[k.umb=7142]="BIND";k[k.vmb=7144]="BIND_DEVICE";k[k.xpb=7145]="GENERATE_SCREENSHOTS";k[k.Hlb=7146]="AD_EVENT";k[k.isb=7202]="PLAY_INIT_EXCEPTION";k[k.jia=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";k[k.osb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";k[k.YMa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";k[k.psb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";k[k.kia=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";k[k.nsb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";k[k.bNa=7351]="PLAY_MSE_NOTSUPPORTED";k[k.XMa=7353]="PLAY_MSE_DECODER_TIMEOUT";k[k.lia=7355]="PLAY_MSE_SOURCEADD";k[k.WMa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";k[k.kT=7357]="PLAY_MSE_GENERATEKEYREQUEST";k[k.aNa=7361]="PLAY_MSE_EVENT_ERROR";k[k.LL=7362]="PLAY_MSE_SETMEDIAKEYS";k[k.rs=7363]="PLAY_MSE_EVENT_KEYERROR";k[k.rsb=7364]="PLAY_MSE_EME_SESSION_CLOSE";k[k.ssb=7365]="PLAY_MSE_GETCURRENTTIME";k[k.tsb=7367]="PLAY_MSE_SETCURRENTTIME";k[k.usb=7371]="PLAY_MSE_SOURCEAPPEND";k[k.zsb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";k[k.ysb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";k[k.xsb=7377]="PLAY_MSE_UNEXPECTED_REWIND";k[k.wsb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";k[k.cNa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";k[k.jsb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";k[k.ksb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";k[k.lsb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";k[k.ZMa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";k[k.qsb=7395]="PLAY_MSE_EME_MISSING_PSSH";k[k.$Ma=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";k[k.msb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";k[k.E3=7399]="PLAY_MSE_SET_LICENSE_ERROR";k[k.yHa=7400]="EXTERNAL";k[k.D3=7500]="PAUSE_TIMEOUT";k[k.h3=7502]="INACTIVITY_TIMEOUT";k[k.Zlb=7510]="AUTHORIZATION_EXPIRED";k[k.apb=7700]="EME_INVALID_KEYSYSTEM";k[k.kHa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";k[k.BS=7702]="EME_CREATE_MEDIAKEYS_FAILED";k[k.h2=7703]="EME_GENERATEREQUEST_FAILED";k[k.rHa=7704]="EME_UPDATE_FAILED";k[k.pHa=7705]="EME_KEYSESSION_ERROR";k[k.oHa=7706]="EME_KEYMESSAGE_EMPTY";k[k.epb=7707]="EME_REMOVE_FAILED";k[k.cpb=7708]="EME_LOAD_FAILED";k[k.Xob=7709]="EME_CREATE_SESSION_FAILED";k[k.Ega=7710]="EME_LDL_RENEWAL_ERROR";k[k.mHa=7711]="EME_INVALID_INITDATA_DATA";k[k.nHa=7712]="EME_INVALID_LICENSE_DATA";k[k.bpb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";k[k.jHa=7716]="EME_CLOSE_FAILED";k[k.Fga=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";k[k.gpb=7718]="EME_SET_SERVER_CERTIFICATE";k[k.fsb=7800]="PLAYDATA_STORE_FAILURE";k[k.gS=7900]="BRANCH_PLAY_FAILURE";k[k.hS=7901]="BRANCH_QUEUE_FAILURE";k[k.LEa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";k[k.Cmb=7903]="BRANCH_CHOICE_MAP_MISSING";k[k.Rrb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.V || (b.V={}));(function(k){k[k.co=1001]="UNKNOWN";k[k.Bm=1003]="EXCEPTION";k[k.nqb=1004]="INVALID_DI";k[k.Tlb=1011]="ASYNCLOAD_EXCEPTION";k[k.Ulb=1013]="ASYNCLOAD_TIMEOUT";k[k.Hec=1015]="ASYNCLOAD_BADCONFIG";k[k.Rlb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";k[k.Slb=1017]="ASYNCLOAD_COMPONENT_MISSING";k[k.MS=1101]="HTTP_UNKNOWN";k[k.cha=1102]="HTTP_XHR";k[k.JS=1103]="HTTP_PROTOCOL";k[k.IS=1104]="HTTP_OFFLINE";k[k.LS=1105]="HTTP_TIMEOUT";k[k.jG=1106]="HTTP_READTIMEOUT";k[k.MC=1107]="HTTP_ABORT";k[k.RIa=1108]="HTTP_PARSE";k[k.NIa=1110]="HTTP_BAD_URL";k[k.KS=1111]="HTTP_PROXY";k[k.Kha=1203]="MSE_AUDIO";k[k.Lha=1204]="MSE_VIDEO";k[k.Wqb=1250]="MSE_MEDIA_ERR_BASE";k[k.ghc=1251]="MSE_MEDIA_ERR_ABORTED";k[k.jhc=1252]="MSE_MEDIA_ERR_NETWORK";k[k.hhc=1253]="MSE_MEDIA_ERR_DECODE";k[k.khc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";k[k.ihc=1255]="MSE_MEDIA_ERR_ENCRYPTED";k[k.hu=1260]="EME_MEDIA_KEYERR_BASE";k[k.dgc=1261]="EME_MEDIA_KEYERR_UNKNOWN";k[k.Zfc=1262]="EME_MEDIA_KEYERR_CLIENT";k[k.cgc=1263]="EME_MEDIA_KEYERR_SERVICE";k[k.bgc=1264]="EME_MEDIA_KEYERR_OUTPUT";k[k.agc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";k[k.$fc=1266]="EME_MEDIA_KEYERR_DOMAIN";k[k.egc=1269]="EME_MEDIA_UNAVAILABLE_CDM";k[k.$ob=1270]="EME_INTERNAL_ERROR";k[k.Wob=1271]="EME_CLOSED_BY_APPLICATION";k[k.dpb=1272]="EME_RELEASE_ACKNOWLEDGED";k[k.Dga=1273]="EME_HARDWARE_CONTEXT_RESET";k[k.fpb=1274]="EME_RESOURCE_EVICTED";k[k.Zob=1280]="EME_ERROR_NODRMSESSSION";k[k.Yob=1281]="EME_ERROR_NODRMREQUESTS";k[k.Wfc=1282]="EME_ERROR_INDIV_FAILED";k[k.Xfc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";k[k.hpb=1284]="EME_TIMEOUT_MESSAGE";k[k.fgc=1285]="EME_TIMEOUT_KEYCHANGE";k[k.qHa=1286]="EME_UNDEFINED_DATA";k[k.sL=1287]="EME_INVALID_STATE";k[k.Yfc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";k[k.lHa=1289]="EME_EMPTY_DATA";k[k.CS=1290]="EME_TIMEOUT";k[k.yhc=1303]="NCCP_METHOD_NOT_SUPPORTED";k[k.Bhc=1305]="NCCP_PARSEXML";k[k.Csb=1309]="PROCESS_EXCEPTION";k[k.Ahc=1311]="NCCP_NETFLIXID_MISSING";k[k.Chc=1312]="NCCP_SECURENETFLIXID_MISSING";k[k.vhc=1313]="NCCP_HMAC_MISSING";k[k.uhc=1315]="NCCP_HMAC_MISMATCH";k[k.thc=1317]="NCCP_HMAC_FAILED";k[k.shc=1321]="NCCP_CLIENTTIME_MISSING";k[k.rhc=1323]="NCCP_CLIENTTIME_MISMATCH";k[k.iIa=1331]="GENERIC";k[k.nrb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";k[k.orb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";k[k.Dhc=1341]="NCCP_TRANSACTION";k[k.whc=1343]="NCCP_INVALID_DRMTYPE";k[k.xhc=1344]="NCCP_INVALID_LICENCE_RESPONSE";k[k.zhc=1345]="NCCP_MISSING_PAYLOAD";k[k.kic=1346]="PROTOCOL_NOT_INITIALIZED";k[k.jic=1347]="PROTOCOL_MISSING_FIELD";k[k.iic=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";k[k.ZC=1402]="STORAGE_NODATA";k[k.Gic=1403]="STORAGE_EXCEPTION";k[k.Oic=1405]="STORAGE_QUOTA_NOT_GRANTED";k[k.Pic=1407]="STORAGE_QUOTA_TO_SMALL";k[k.jQa=1411]="STORAGE_LOAD_ERROR";k[k.stb=1412]="STORAGE_LOAD_TIMEOUT";k[k.kQa=1414]="STORAGE_SAVE_ERROR";k[k.vtb=1415]="STORAGE_SAVE_TIMEOUT";k[k.gja=1417]="STORAGE_DELETE_ERROR";k[k.iQa=1418]="STORAGE_DELETE_TIMEOUT";k[k.Nic=1421]="STORAGE_FS_REQUESTFILESYSTEM";k[k.Kic=1423]="STORAGE_FS_GETDIRECTORY";k[k.Mic=1425]="STORAGE_FS_READENTRIES";k[k.Hic=1427]="STORAGE_FS_FILEREAD";k[k.Jic=1429]="STORAGE_FS_FILEWRITE";k[k.Iic=1431]="STORAGE_FS_FILEREMOVE";k[k.Lic=1432]="STORAGE_FS_PARSEJSON";k[k.utb=1451]="STORAGE_NO_LOCALSTORAGE";k[k.ttb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";k[k.Mhc=1501]="NTBA_UNKNOWN";k[k.Lhc=1502]="NTBA_EXCEPTION";k[k.Hhc=1504]="NTBA_CRYPTO_KEY";k[k.Jhc=1506]="NTBA_CRYPTO_OPERATION";k[k.Ihc=1508]="NTBA_CRYPTO_KEYEXCHANGE";k[k.Khc=1515]="NTBA_DECRYPT_UNSUPPORTED";k[k.kGa=1553]="DEVICE_NO_ESN";k[k.cob=1555]="DEVICE_ERROR_GETTING_ESN";k[k.Hgc=1701]="FORMAT_UNKNOWN";k[k.qpb=1713]="FORMAT_XML";k[k.Igc=1715]="FORMAT_XML_CONTENT";k[k.Fgc=1721]="FORMAT_BASE64";k[k.Ggc=1723]="FORMAT_DFXP";k[k.Ppb=1801]="INDEXDB_OPEN_EXCEPTION";k[k.oJa=1802]="INDEXDB_NOT_SUPPORTED";k[k.Opb=1803]="INDEXDB_OPEN_ERROR";k[k.pJa=1804]="INDEXDB_OPEN_NULL";k[k.Npb=1805]="INDEXDB_OPEN_BLOCKED";k[k.Qpb=1807]="INDEXDB_OPEN_TIMEOUT";k[k.Mpb=1808]="INDEXDB_INVALID_STORE_STATE";k[k.i3=1809]="INDEXDB_ACCESS_EXCEPTION";k[k.frb=1901]="MSL_UNKNOWN";k[k.Zqb=1911]="MSL_INIT_NO_MSL";k[k.eLa=1913]="MSL_INIT_ERROR";k[k.$qb=1915]="MSL_INIT_NO_WEBCRYPTO";k[k.Xqb=1931]="MSL_ERROR";k[k.erb=1933]="MSL_REQUEST_TIMEOUT";k[k.drb=1934]="MSL_READ_TIMEOUT";k[k.Yqb=1935]="MSL_ERROR_HEADER";k[k.lhc=1936]="MSL_ERROR_ENVELOPE";k[k.mhc=1937]="MSL_ERROR_MISSING_PAYLOAD";k[k.dLa=1957]="MSL_ERROR_REAUTH";k[k.Lja=2103]="WEBCRYPTO_MISSING";k[k.tjc=2105]="WEBCRYPTOKEYS_MISSING";k[k.Ytb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";k[k.pfc=2200]="CACHEDDATA_PARSEJSON";k[k.jFa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";k[k.qfc=2202]="CACHEDDATA_UPGRADE_FAILED";k[k.HC=2203]="CACHEDDATA_INVALID_FORMAT";k[k.Fec=3E3]="ACCOUNT_CHANGE_INFLIGHT";k[k.Gec=3001]="ACCOUNT_INVALID";k[k.Nfc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";k[k.Mfc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";k[k.Kfc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";k[k.Lfc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";k[k.Jfc=3202]="DOWNLOADED_LICENSE_EXCEPTION";k[k.Qic=3300]="STORAGE_VA_LOAD_ERROR";k[k.Ric=3301]="STORAGE_VA_LOAD_TIMEOUT";k[k.Uic=3302]="STORAGE_VA_SAVE_ERROR";k[k.Vic=3303]="STORAGE_VA_SAVE_TIMEOUT";k[k.Sic=3304]="STORAGE_VA_REMOVE_ERROR";k[k.Tic=3305]="STORAGE_VA_REMOVE_TIMEOUT";k[k.gia=3077]="PBO_DEVICE_EOL_WARNING";k[k.OMa=3078]="PBO_DEVICE_EOL_FINAL";k[k.RMa=3100]="PBO_DEVICE_RESET";k[k.QMa=3101]="PBO_DEVICE_RELOAD";k[k.PMa=3102]="PBO_DEVICE_EXIT";k[k.csb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.Mrb=5005]="PBO_ACCOUNT_ON_HOLD";k[k.Qrb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.SMa=5007]="PBO_INCORRECT_PIN";k[k.Zrb=5008]="PBO_MOBILE_ONLY";k[k.dsb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";k[k.Vrb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";k[k.Orb=5059]="PBO_BLACKLISTED_IP";k[k.Nrb=5070]="PBO_AGE_VERIFICATION_REQUIRED";k[k.Prb=5080]="PBO_CHOICE_MAP_ERROR";k[k.$rb=5090]="PBO_RESTRICTED_TO_TESTERS";k[k.Xrb=5091]="PBO_MALFORMED_REQUEST";k[k.Wrb=5092]="PBO_INVALID_SERVICE_VERSION";k[k.Yrb=5093]="PBO_MDX_INVALID_CTICKET";k[k.Urb=5094]="PBO_FREE_PREVIEW_ENDED";k[k.bsb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";k[k.Trb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";k[k.Srb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";k[k.Lnb=5100]="DECODER_TIMEOUT_BUFFERING";k[k.Nnb=5101]="DECODER_TIMEOUT_PRESENTING";k[k.Mnb=5102]="DECODER_TIMEOUT_PLAYING";k[k.Dob=5200]="DOWNLOADER_IO_ERROR";k[k.KEa=5300]="BRANCHING_SEGMENT_NOTFOUND";k[k.ymb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";k[k.Uec=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";k[k.Sfa=5303]="BRANCHING_ASE_UNINITIALIZED";k[k.Qec=5304]="BRANCHING_ASE_FAILURE";k[k.Rec=5305]="BRANCHING_MOMENT_FAILURE";k[k.wmb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";k[k.Tec=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";k[k.zmb=5308]="BRANCHING_SEEK_THREW";k[k.Sec=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";k[k.xmb=5310]="BRANCHING_PLAY_TIMEDOUT";k[k.Amb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";k[k.Bmb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";k[k.wtb=5500]="STUDIO_MUXED_MANIFEST";k[k.Fha=5600]="MANIFEST_HYDRATION_FAILURE";k[k.$lb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";k[k.amb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.R || (b.R={}));(function(k){k[k.efc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.Vec=5005]="BR_ACCOUNT_ON_HOLD";k[k.Zec=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.bfc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";k[k.Yec=5059]="BR_BLACKLISTED_IP";k[k.Wec=5070]="BR_AGE_VERIFICATION_REQUIRED";k[k.cfc=2204]="BR_PLAYBACK_CONTEXT_CREATION";k[k.$ec=2205]="BR_DRM_LICENSE_AQUISITION";k[k.dfc=2206]="BR_PLAYBACK_SERVICE_ERROR";k[k.afc=2207]="BR_ENDPOINT_ERROR";k[k.Xec=2208]="BR_AUTHORIZATION_ERROR";})(b.MHa || (b.MHa={}));b.f3={Jmb:"400",ojc:"401",kNa:"413"};b.r3={Dgc:1,gjc:2,igc:3,mjc:4,Ygc:5,hgc:6,Eja:7,kgc:8,uic:9,Dic:10};b.Iga=function(k,g,h,d){return k == a.D3 || k == a.h3 || k == a.jia && 432E5 <= h || k == a.Fga && g === c.Dga && 0 < Number(d);};b.NHa=function(k){return 1100 <= k && 1199 >= k;};b.Jga=function(k,g){return 1 <= k && 9 >= k?g + k:g;};b.OHa=function(k){return (0,b.Jga)(k,c.Wqb);};b.PHa=function(k){return (0,b.Jga)(k,c.hu);};b.mz=function(k){var g,h,d;g={};h=k.errorExternalCode || k.Ef;d=k.errorDetails || k.Ob;g.ErrorSubCode=k.errorSubCode || k.wa || c.co;h && (g.ErrorExternalCode=h);d && (g.ErrorDetails=d);return g;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={VX:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(t,b,a){var g;function c(){return g.AT.apply(this,arguments) || this;}function k(h){return new g.lu(h,b.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.La=b.cJa=b.Uha=b.rp=b.ma=b.uG=b.timestamp=b.bUb=b.kba=b.si=b.tc=b.ldb=b.GZb=b.Ltb=void 0;g=a(327);ka(c,g.AT);b.Ltb=c;b.GZb=function(h){return new g.lu(h,b.uG);};b.ldb=function(h){return new g.lu(h * b.rp.Ig,b.uG);};b.tc=k;b.si=function(h){return new g.lu(h,b.rp);};b.kba=function(h){return new g.lu(h,b.Uha);};b.bUb=function(h){return new g.lu(h,b.cJa);};b.timestamp=function(h){return k(h);};b.uG=new c(1,"\u03bcs");b.ma=new c(1E3,"ms",b.uG);b.rp=new c(1E3 * b.ma.Ig,"s",b.uG);b.Uha=new c(60 * b.rp.Ig,"min",b.uG);b.cJa=new c(60 * b.Uha.Ig,"hr",b.uG);b.La=k(0);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AS=b.sb=b.zha=b.gk=void 0;t=b.gk || (b.gk={});t[t.opb=0]="FATAL";t[t.Yf=1]="ERROR";t[t.Kja=2]="WARN";t[t.eha=3]="INFO";t[t.mRa=4]="TRACE";t[t.W=5]="DEBUG";b.zha="LogFieldBuilderFactorySymbol";b.sb="LoggerFactorySymbol";b.AS={};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nT=b.jIa=void 0;t=a(0);t.__exportStar(a(366),b);t.__exportStar(a(98),b);t.__exportStar(a(20),b);t.__exportStar(a(829),b);t.__exportStar(a(830),b);t.__exportStar(a(831),b);t.__exportStar(a(832),b);t.__exportStar(a(833),b);t.__exportStar(a(834),b);t.__exportStar(a(835),b);t.__exportStar(a(836),b);c=t.__importDefault(a(837));b.jIa=c.default;a=t.__importDefault(a(377));b.nT=a.default;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.ya=b.NOa=b.$W=b.Qi=b.Jj=b.log=b.pg=b.OO=b.IXa=b.Ms=b.oA=b.pc=b.QCb=b.vna=b.OCb=b.PCb=b.Fj=b.MR=b.W0=b.Xh=b.Mc=b.Aa=void 0;c=a(204);t=a(6);k=a(26);g=a(72);h=a(79);d=a(33);f=a(15);l=a(142);m=a(30);a=a(47);b.Aa=c.ic.get(m.Bh);b.Mc=c.ic.get(a.zj);b.Xh=c.ic.get(g.tu);b.W0=b.Xh.encode.bind(b.Xh);b.MR=b.Xh.decode.bind(b.Xh);b.Fj=c.ic.get(h.cz);b.PCb=b.Fj.encode.bind(b.Fj);b.OCb=b.Fj.decode.bind(b.Fj);b.vna=b.Fj.EI.bind(b.Fj);b.QCb=b.Fj.cjb.bind(b.Fj);b.pc=c.ic.get(d.zi);b.oA=function(n){n=(0,f.mg)(n)?(0,b.MR)(n):n;return b.pc.encode(n);};b.Ms=b.pc.decode.bind(b.pc);b.IXa=function(n){return (0,b.W0)((0,b.Ms)(n));};b.OO=function(){return c.ic.get(k.hz);};b.pg=c.ic.get(t.sb);b.log=b.pg.mb("General");b.Jj=function(n,p){return b.pg.mb(n,void 0,p);};b.Qi=function(n,p,q){return b.pg.mb(p,n,q);};b.$W=function(n,p,q,r){return b.pg.mb(n,void 0,r,p,q);};b.NOa=function(n,p,q){return c.ic.get(l.oT)(n,p,q).I0();};b.ya=c.ic;},function(t){var b;b={Ja:function(a){return "number" === typeof a;},Mj:function(a){return "object" === typeof a;},mg:function(a){return "string" === typeof a;},na:function(a){return "undefined" === typeof a;},Kmc:function(a){return "boolean" === typeof a;},fd:function(a){return "function" === typeof a;},qb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},j2b:function(a){var c,k;k=[];if(!b.Mj(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && k.push([c,a[c]]);}return k;}};b.Df=b.forEach=function(a,c,k){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,h=a.length;g < h;g++){c.call(k,a[g],g,a);}else for(g in a){b.has(a,g) && c.call(k,a[g],g,a);}return a;};t.exports=b;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=!1;},function(t,b,a){b=a(113);b.MJb=0;t.exports={EventEmitter:b,Zf:a(825)};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xn={Akc:"casttv",voa:"chrome",Gkc:"chromecast",mr:"edge",h1a:"edgeoss",I2a:"firefox",Cmc:"ie",opera:"opera",Dfb:"safari",Bib:"tesla"};b.pp={t6:"android",B7a:"ios",XYa:"chromeos",g9a:"linux",J9a:"mac",ifa:"windows"};b.e3={TFb:"computer",phone:"phone",wac:"tablet"};b.Ic="ConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ava=b.localStorage=b.QUb=b.indexedDB=b.kMa=b.hr=b.TC=b.SC=b.URL=b.w3=b.rrb=b.tLa=b.sLa=b.p3=b.$S=b.rz=b.ku=b.op=b.hrb=b.EL=b.fRa=b.rGa=b.Irb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.lA=b.qrb=b.Dh=b.Tw=b.lMa=b.Uw=b.v3=b.xG=void 0;t=mb;b.Me=t.navigator;b.xG=null === b.Me || void 0 === b.Me?void 0:b.Me.userAgent;b.v3=t.location;b.Uw=t.screen;b.lMa=t.devicePixelRatio;b.Tw=t.performance;b.Dh=t.document;b.qrb=b.Dh.documentElement;b.lA=Array.prototype;b.sort=b.lA.sort;b.map=b.lA.map;b.slice=b.lA.slice;b.every=b.lA.every;b.reduce=b.lA.reduce;b.filter=b.lA.filter;b.forEach=b.lA.forEach;b.pop=b.lA.pop;b.Irb=Object.create;b.rGa=Date.now;b.fRa=String.fromCharCode;b.EL=Math.floor;b.hrb=Math.ceil;b.op=Math.round;b.ku=Math.max;b.rz=Math.min;b.$S=Math.random;b.p3=Math.abs;b.sLa=Math.pow;b.tLa=Math.sqrt;b.rrb=t.escape;b.w3=t.unescape;b.URL=t.URL || t.webkitURL;b.SC=t.MediaSource || t.WebKitMediaSource;b.TC=t.webkitCrypto || t.msCrypto || t.crypto;b.hr=b.TC && (b.TC.webkitSubtle || b.TC.subtle);b.kMa=t.webkitCryptokeys || t.msCryptokeys || t.cryptokeys;try{b.indexedDB=t.indexedDB;}catch(a){b.QUb=a || "noex";}try{b.localStorage=t.localStorage;}catch(a){b.Ava=a || "noex";}},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(362),b);},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.fd=b.G7a=b.wP=b.mg=b.Vua=b.LVb=b.zVb=b.Lua=b.OE=b.T7a=b.Ja=b.Tua=b.isArray=b.p8a=b.Mj=b.pd=b.is=void 0;t=a(203);b.is=t.mG;b.pd=function(c){return b.is.Vg(c);};b.Mj=function(c){return b.is.bV(c);};b.p8a=function(c){return b.is.hma(c);};b.isArray=function(c){return b.is.ED(c);};b.Tua=function(c){return b.is.OWa(c);};b.Ja=function(c,k,g){return b.is.ko(c,k,g);};b.T7a=function(c,k,g){return b.is.Oma(c,k,g);};b.OE=function(c,k,g){return b.is.cV(c,k,g);};b.Lua=function(c){return b.is.OU(c);};b.zVb=function(c){return b.is.Uzb(c);};b.LVb=function(c){return b.is.Vzb(c);};b.Vua=function(c){return b.is.PWa(c);};b.mg=function(c){return b.is.Hu(c);};b.wP=function(c){return b.is.lo(c);};b.G7a=function(c){return b.is.e6(c);};b.fd=function(c){return b.is.g6(c);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZS=b.m3=b.Umb=b.Pmb=b.Rmb=b.Smb=b.XEa=b.Omb=b.Qmb=b.WEa=b.Tmb=b.$mb=b.Ymb=b.Zmb=b.Xmb=b.Rob=b.Qob=b.Pob=b.Oqb=b.Pqb=b.o3=b.aLa=b.bLa=b.n3=b.cHa=b.Sob=b.Cga=b.g2=b.Erb=b.ltb=b.YKa=b.Imb=b.hGa=b.C3=b.KL=b.B3=b.XKa=b.Nw=b.Hmb=b.JEa=b.Cqb=b.Ttb=b.Nqb=b.Mqb=b.etb=b.dtb=b.ju=b.Lg=b.HPa=b.Vw=void 0;b.HEa=b.Zia=void 0;b.Vw=function(){};b.HPa=function(){return !0;};b.Lg={ca:!0};b.ju=1E3;b.dtb=86400;b.etb=604800;b.Mqb=1E4;b.Nqb=1E7;b.Ttb=1.5;b.Cqb=.128;b.JEa=7.8125;b.Hmb=128;b.Nw=145152E5;b.XKa=1E5;b.B3="$netflix$player$order";b.KL=-1;b.C3=1;b.hGa=["en-US"];b.Imb=8;b.YKa=65535;b.ltb=65536;b.Erb=Number.MAX_VALUE;b.g2="playready";b.Cga="widevine";b.Sob="fps";b.cHa="clearkey";b.n3='audio/mp4; codecs="mp4a.40.5"';b.bLa='audio/mp4; codecs="mp4a.40.42"';b.aLa='audio/mp4; codecs="mp4a.a6"';b.o3='video/mp4; codecs="avc1.640028"';b.Pqb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Oqb='video/mp4; codecs="dvhe.01000000"';b.Pob="9A04F079-9840-4286-AB92-E65BE0885F95";b.Qob="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Rob="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Xmb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Zmb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Ymb="4E657466-6C69-7846-7261-6D6552617465";b.$mb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Tmb="mp4a";b.WEa="enca";b.Qmb="ec-3";b.Omb="avc1";b.XEa="encv";b.Smb="hvcC";b.Rmb="hev1";b.Pmb="dvhe";b.Umb="vp09";b.m3=0;b.ZS=1;b.Zia="position:relative;width:100%;height:100%;overflow:hidden";b.HEa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ff=b.lb=b.Mf=b.$b=b.ja=b.lha=b.EG=b.Ia=void 0;(function(c){c.o9a="loadedtracks";c.n9a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.jr="currenttimechanged";c.Mjb="unthrottledcurrenttimechanged";c.Jna="bufferedtimechanged";c.dqa="durationchanged";c.oDa="videosizechanged";c.scb="pausedchanged";c.vya="playingchanged";c.K1a="endedchanged";c.CN="busychanged";c.M6="audiotracklistchanged";c.Rm="audiotrackchanged";c.ww="timedtexttracklistchanged";c.um="timedtexttrackchanged";c.L0="trickplayframeschanged";c.Aab="mutedchanged";c.elb="volumechanged";c.jBa="showsubtitle";c.uza="removesubtitle";c.Odc="watermark";c.Pua="isReadyToTransition";c.hP="inactivated";c.y7a="internalPlaybackError";c.X7b="segmentmaploaded";c.Y7b="segmentpresenting";c.AXa="autoplaywasallowed";c.O6="autoplaywasblocked";c.mBb="adsstatechanged";})(b.Ia || (b.Ia={}));(b.EG || (b.EG={})).P_="playgraphsegmenttransition";b.lha=a;a.egb="serverTimeChanged";(function(c){c.pN="aseReport";c.mna="autoplayWasAllowed";c.Ji="autoplayWasBlocked";c.qA="bufferUnderrun";c.closed="closed";c.ph="closing";c.jr="currentTimeChanged";c.iE="downloadComplete";c.hP="inactivated";c.$8a="licenseAdded";c.DY="licensed";c.GY="locationSelected";c.Zva="manifestClosing";c.pJ="manifestPresenting";c.Qaa="mediaBufferChanged";c.xba="nextBranchingSegmentChosen";c.Yv="playbackStart";c.En="playbackReady";c.Pk="repositioned";c.fK="repositioning";c.Ffb="safePlayRequested";c.qK="segmentPresenting";c.S_="serverSwitch";c.bhb="shouldUpdateVideoDiagInfo";c.uR="subtitleError";c.lCa="throttledMediaTimeChanged";c.Njb="unthrottledMediaTimeChanged";c.zR="timedTextRebuffer";c.ww="timedTextTrackListChanged";c.L0="trickPlayFramesChanged";c.SCa="updateNextBranchingSegmentWeights";c.bdc="userInitiatedPause";c.Jkb="userInitiatedResume";c.ljb="tracksHydrated";})(b.ja || (b.ja={}));(function(c){c[c.IL=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Ce=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.$b || (b.$b={}));(function(c){c[c.Ce=1]="NORMAL";c[c.sd=2]="BUFFERING";c[c.hQa=3]="STALLED";})(b.Mf || (b.Mf={}));(function(c){c[c.ag=1]="WAITING";c[c.Jc=2]="PLAYING";c[c.Eh=3]="PAUSED";c[c.hs=4]="ENDED";})(b.lb || (b.lb={}));(function(c){c[c.oz=0]="INITIAL";c[c.HG=1]="SEEK";c[c.f4=2]="TRACK_CHANGED";c[c.SL=3]="SEGMENT_CHANGED";c[c.k2=4]="FORCE_REBUFFER";})(b.ff || (b.ff={}));},function(t,b,a){var g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C;function c(D){return (D=b.config.Pbc[k(D)])?D:{};}function k(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.WFb=b.KZa=b.JZa=b.Woa=b.LZa=b.Voa=b.config=void 0;g=a(16);h=a(43);d=a(8);f=a(40);l=a(23);m=a(26);n=a(42);p=a(25);a(6);q=a(13);r=a(15);u=a(171);v=a(50);w=a(87);x=a(108);y=a(51);z=a(5);A=a(48);B=a(19);C=a(118);b.LZa=function(D,F){var wa,za,Ca,N,Q,V,ca,sa,Ha;function G(Ja,Na){(0,p.Wg)(Ja,function(Oa,Ua){(0,r.fd)(Ua)?Na[Oa]=Ua.call(void 0,Na[Oa]):(0,r.Mj)(Ua) && (Na[Oa]=Na[Oa] || ({}),G(Ua,Na[Oa]));});}function E(Ja,Na,Oa,Ua){for(var $a=[],sb=3;sb < arguments.length;++sb){$a[sb - 3]=arguments[sb];}return function(kb){(0,r.pd)(kb) && (Oa=kb);(0,l.ib)((0,r.fd)(Ja));return Ja.apply(void 0,[Na,Oa].concat(ha($a)));};}function I(Ja){Ja=Ja.toLowerCase();N.hasOwnProperty(Ja) && (Ca[Ja]=N[Ja],Q[Ja]=N[Ja]);return Ja;}function L(Ja,Na,Oa){var Ua;Ja=Ja.toLowerCase();if(Ca.hasOwnProperty(Ja)){Ua=Ca[Ja];try{Ua=Oa?Oa(Ua):Ua;}catch($a){Ua=void 0;}if(void 0 !== Ua)return Ua;(0,l.ib)(!1);d.log.error("Invalid configuration value. Name: " + Ja);}return Na;}function K(Ja,Na,Oa,Ua){return L(Ja,Na,function($a){(0,r.mg)($a) && ($a=(0,p.Xj)($a));if((0,r.T7a)($a,Oa,Ua))return $a;});}function H(Ja,Na,Oa,Ua){return L(Ja,Na,function($a){(0,r.mg)($a) && ($a=(0,p.Xj)($a));if((0,r.OE)($a,Oa,Ua))return $a;});}function R(Ja,Na,Oa,Ua){return L(Ja,Na,function($a){(0,r.mg)($a) && ($a=parseFloat($a));if((0,r.Ja)($a,Oa,Ua))return $a;});}function O(Ja,Na,Oa){return L(Ja,Na,function(Ua){if(Oa?Oa.test(Ua):(0,r.mg)(Ua))return Ua;});}function J(Ja,Na){return L(Ja,Na,function(Oa){if("true" == Oa || !0 === Oa)return !0;if("false" == Oa || !1 === Oa)return !1;});}function M(Ja,Na){return L(Ja,Na,function(Oa){if((0,r.mg)(Oa))return JSON.parse((0,q.w3)(Oa));if((0,r.Mj)(Oa))return Oa;});}function P(Ja,Na,Oa,Ua,$a,sb){var kb;Ja=Ja.toLowerCase();Ca.hasOwnProperty(Ja) && (kb=Ca[Ja]);if(!(0,r.pd)(kb))return Na;if((0,r.mg)(kb))if(kb[0] !== Oa)kb=Ua(kb);else try{kb=JSON.parse((0,q.w3)(kb));}catch(Bb){kb=void 0;}if(void 0 === kb)return Na;for(Ja=0;Ja < $a.length;Ja++){if(!$a[Ja](kb))return Na;}return sb?sb(kb):kb;}function S(Ja,Na,Oa,Ua,$a){return P(Ja,Na,"[",function(sb){sb=sb.split("|");for(var kb=sb.length;kb--;){sb[kb]=(0,p.Xj)(sb[kb]);}return sb;},[function(sb){return (0,r.isArray)(sb) && 0 < sb.length;},function(sb){for(var kb=sb.length;kb--;){if(!(0,r.OE)(sb[kb],Oa,Ua))return !1;}return !0;},function(sb){return void 0 === $a || sb.length >= $a;}]);}function U(Ja,Na){return P(Ja,Na,"[",function(Oa){Oa=(0,r.isArray)(Oa)?Oa:Oa.split("|");for(var Ua=Oa.length;Ua--;){try{Oa[Ua]=JSON.parse((0,q.w3)(Oa[Ua]));}catch($a){Oa=void 0;break;}}return Oa;},[function(Oa){return (0,r.isArray)(Oa) && 0 < Oa.length;},function(Oa){for(var Ua=Oa.length;Ua--;){if(!(0,r.pd)(Oa[Ua]) || !(0,r.Mj)(Oa[Ua]))return !1;}return !0;}]);}function T(Ja,Na){var Oa;Oa=W(Ja,[]);return Oa && 0 < Oa.length?(0,C.Yo)(Oa):U(Ja,Na);}function W(Ja,Na,Oa,Ua){return P(Ja,Na,"[",function($a){return (0,r.isArray)($a)?$a:$a.split("|");},[function($a){return (0,r.isArray)($a) && 0 < $a.length;},function($a){for(var sb=$a.length;sb--;){if(Oa?!Oa.test($a[sb]):!(0,r.wP)($a[sb]))return !1;}return !0;},function($a){return void 0 === Ua || $a.length >= Ua;}]);}function ia(Ja,Na,Oa){return P(Ja,Na,"{",function(Ua){var $a,kb,Bb;$a={};Ua=Ua.split(";");for(var sb=Ua.length;sb--;){kb=Ua[sb];Bb=kb.indexOf(":");if(0 >= Bb)return;$a[kb.substring(0,Bb)]=kb.substring(Bb + 1);}return $a;},[function(Ua){return (0,r.Mj)(Ua) && 0 < Object.keys(Ua).length;},function(Ua){if(Oa)for(var $a in Ua){if(!Oa.test(Ua[$a]))return !1;}return !0;}],function(Ua){var $a;$a={};(0,p.ve)($a,Na);(0,p.ve)($a,Ua);return $a;});}function pa(Ja){var Na;Na=[];(0,p.Wg)(Ja,function(Oa,Ua){var $a;try{$a="videoapp" === Oa.toLowerCase()?"[object object]":JSON.stringify(Ua);}catch(sb){$a="cantparse";}Na.push(Oa + "=" + $a);});return Na.join("\n");}wa=/^[0-9]+[%]?$/;za=/^[0-9]*$/;Q={};V=d.ya.get(f.mp);ca=d.ya.get(x.BG);(function(Ja){function Na(Oa){Oa.split(",").forEach(function(Ua){var $a;$a=Ua.indexOf("=");0 < $a && (Ca[Ua.substring(0,$a).toLowerCase()]=Ua.substring($a + 1));});}Ca={};(0,p.ve)(Ca,Ja);D && D.length && q.forEach.call(D,function(Oa){(0,r.mg)(Oa)?Na(Oa):(0,r.Mj)(Oa) && (0,p.ve)(Ca,Oa,{MY:!0});});N=(0,p.ve)({},(0,h.F9)(),{MY:!0});if(Ja=(0,h.$db)().cadmiumconfig)(d.log.info("Config cookie loaded",Ja),Na(Ja));if(d.ya.get(A.Hq).q6 || Ca.istestaccount)((0,p.ve)(Ca,N),Q=N);})(F);b.config={};sa={sMb:E(J,I("enableXHEAAC"),!1),s1a:E(J,I("enableDDPlus20"),!0),r1a:E(J,I("enableDDPlus"),!0),pO:E(J,I("enableDDPlusAtmos"),!1),ZLb:E(J,I("enableLSSDH"),!0),ULb:E(J,I("enableHEVC"),!1),acb:E(J,I("overrideEnableHEVC"),!1),mqa:E(J,I("enableHDR"),!1),$bb:E(J,I("overrideEnableHDR"),!1),Zbb:E(J,I("overrideEnableDV"),!1),nO:E(J,I("enableAVCHigh"),ca.nO),Ybb:E(J,I("overrideEnableAVCHigh"),!1),oMb:E(J,I("enableVP9"),!1),bcb:E(J,I("overrideEnableVP9"),!1),MLb:E(J,I("enableAV1"),!1),Xbb:E(J,I("overrideEnableAV1"),!1),c2b:E(J,I("overrideEnableXHEAAC"),!1),a2b:E(J,"overrideEnableAllAudioProfiles",!1),b2b:E(J,"overrideEnableAllVideoProfiles",!1),eMb:E(J,I("enablePRK"),!1),RLb:E(J,I("enableDV"),!1),v1a:E(J,I("enableHWDRM"),!1),WLb:E(J,I("enableImageSubs"),!0),PH:E(T,I("audioProfiles"),ca.PH),TLb:E(J,I("enableFullHdForWidevineL1"),!1),mMb:E(J,I("enableUHD"),!0),Yea:E(H,"videoCapabilityDetectorType",m.Gm.gz),hna:E(H,"audioCapabilityDetectorType",m.Gw.gz),Wn:E(T,I("videoProfiles"),ca.Wn),CWa:E(T,I("additionalVideoProfiles"),[]),xzb:E(W,I("timedTextProfiles"),ca.vw),vw:function(){return sa.xzb().filter(function(Ja){return Ja === n.Em.lga?sa.ZLb():Ja === n.Em.HL?sa.WLb():!0;});},endpoint:E(J,I("endpoint"),!1),version:E(O,"version","unknown"),VLb:E(J,I("enableHdcp"),!1),fw:E(J,I("prepareCadmium"),!1),Zzb:E(J,I("acceptManifestOnPrepareItemParams"),!0),I3b:E(M,"ppmconfig",{maxNumberTitlesScheduled:1}),AW:E(J,I("enableLdlPrefetch"),!1),z1a:E(J,I("enableMediaPrefetch"),!1),$Lb:E(J,I("enableManifestCache"),!0),fKb:E(J,I("deleteCachedManifestOnPlayback"),!1),eKb:E(J,I("deleteCachedManifestOnCreate"),!1),iKb:E(J,I("deleteOtherManifestCacheOnCreate"),!1),hKb:E(J,I("deleteOtherLdlCacheOnCreate"),!1),foc:E(H,I("periodicPrepareLogsIntervalMilliseconds"),36E5),c4b:E(H,I("prepareManifestCacheMaxCount"),50),a4b:E(H,I("prepareLdlCacheMaxCount"),30),pdb:E(H,I("prepareManifestExpiryMilliseconds"),12E5),b4b:E(H,I("prepareLdlExpiryMilliseconds"),78E4),V3b:E(H,I("prefetcherMaxWishlistSize"),10),U3b:E(H,I("prefetcherBudgetInBytes"),Infinity),W3b:E(J,I("prefetcherOverrideItemPriority"),!0),$3b:E(O,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Wpc:E(M,"videoApp"),FF:E(M,"storageRules"),W8:E(J,"ftlEnabled",ca.W8),Sta:E(H,I("imageSubsResolution"),0),AUb:E(H,I("imageSubsMaxBuffer"),ca.VYb.da(y.Hw),0),GV:E(J,I("captureBatteryStatus"),!1),wPb:E(H,I("getBatteryApiTimeoutMilliseconds"),5E3),yn:E(O,I("keySystemId"),ca.yn),I8a:E(W,I("keySystemList"),void 0,void 0),iDa:E(J,I("validateKeySystemAccess"),!1),KZb:E(H,I("hdcpGlobalTimeout1"),1E4),LZb:E(H,I("hdcpGlobalTimeout2"),1E4),ync:E(H,I("hdcpQueryTimeout1"),1E3),znc:E(H,I("hdcpQueryTimeout2"),1E3),W$a:E(H,I("hdcpQueryTimeout2"),100),MZb:E(J,I("microsoftHwdrmRequiresHevc"),!1),V$a:E(J,I("microsoftClearLeadRequiresSwdrm"),!1),HZb:E(J,I("microsoftEnableDeviceInfo"),!1),IZb:E(J,I("microsoftEnableHardwareInfo"),!1),JZb:E(J,I("microsoftEnableHardwareReset"),!1),Qcc:E(J,I("useHevcCodecForDolbyVision"),!1),bMb:E(J,I("enableMediaCapabilities"),!1),H3b:E(J,I("powerEfficientForVideo"),!1),cMb:E(J,I("enableMediaCapabilitiesSourceBufferCheck"),!1),XXb:E(J,"logMediaPipelineStatus",!1),t_:E(J,I("renderDomDiagnostics"),!0),x9a:function(){return -1;},DP:E(K,I("logDisplayMaxEntryCount"),ca.DP,-1),cYb:E(K,I("logToConsoleLevel"),-1),pkc:E(K,I("bladerunnerCmdHistorySize"),10),PA:function(){return V.PA;},Eva:E(J,"logErrorIfEsnNotProvided",!0),sqa:E(J,"enforceSinglePlayback",ca.sqa),k8:E(J,"enforceSingleSession",ca.k8),Joa:E(J,"closeOtherPlaybacks",!0),dCb:E(H,"asyncLoadTimeout",15E3,1),lYb:E(H,"mainThreadMonitorPollRate",0),UI:function(){return V.UI;},HN:function(){return V.HN;},P0:function(){return V.P0;},Qkb:E(H,I("verbosePlaybackInfoDenominator"),0),Zca:E(J,"renderTimedText",!0),J3b:E(J,"preBufferTimedText",!0),oNb:E(J,"fatalOnTimedTextLoadError",!0),Uib:E(ia,"timedTextStyleDefaults",{}),qCa:E(ia,"timedTextStyleOverrides",{}),sea:E(ia,"timedTextFontFamilyMapping",ca.sea || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),AR:E(H,"timedTextSimpleFallbackThreshold",ca.AR.da(y.Hw)),gP:E(W,I("imscLanguageList"),ca.gP,[]),paa:E(W,I("lessBoldLanguageList"),ca.paa,[]),tpa:E(O,I("customDfxpUrl")),lMb:E(J,I("enableSubtitleTrackerLogging"),!1),k8b:E(J,I("sendSubtitleQoeLogblobOnMidplay"),!1),eoa:E(S,"cdnIdWhiteList",[]),doa:E(S,"cdnIdBlackList",[]),qra:E(O,I("forceAudioTrack")),ura:E(O,I("forceTimedTextTrack")),cZb:E(H,I("maxRetriesTimedTextDownload"),0),Uac:E(H,I("timedTextRetryInterval"),8E3),A$b:E(O,"storageType","idb",/^(none|fs|idb|ls)$/),t9a:E(H,"lockExpiration",1E4),VXb:E(H,"lockRefresh",3E3),oEb:E(J,"captureUnhandledExceptions",!0),zUb:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),Sbc:E(J,"unhandledExceptionsArePlaybackErrors",!1),Ijb:E(O,"unhandledExceptionSource",""),n4b:E(J,"preserveLastFrame",!1),TZb:E(H,"minBufferingTimeInMilliseconds",4E3),L4b:E(H,"progressBackwardsGraceTimeMilliseconds",4E3),M4b:E(H,"progressBackwardsMinPercent",10),aDb:E(O,I("bookmarkIgnoreBeginning"),"0",wa),bDb:E(O,I("bookmarkIgnoreEnd"),"5%",wa),cDb:E(O,I("bookmarkIgnoreEndForBranching"),"60000",wa),IP:E(H,"maxParallelConnections",3),Gza:E(J,"reportThroughputInLogblobs",!0),my:E(H,"minAudioMediaRequestDuration",16E3),RZb:E(H,"minAudioMediaRequestDurationBranching",0),BB:E(H,"minVideoMediaRequestDuration",4E3),a_b:E(H,"minVideoMediaRequestDurationVariableGOP",0),ZZb:E(H,"minVideoMediaRequestDurationBranching",0),aba:E(H,"minAudioMediaRequestSizeBytes",0),iba:E(H,"minVideoMediaRequestSizeBytes",0),pLb:E(J,"droppedFrameRateFilterEnabled",!1),qLb:E(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),sLb:E(function(Ja,Na,Oa,Ua,$a,sb){return P(Ja,Na,"[",function(kb){kb=kb.split(";");for(var Bb=kb.length;Bb--;){kb[Bb]=kb[Bb].split("|");for(var Pa=kb[Bb].length;Pa--;){kb[Bb][Pa]=(0,p.Xj)(kb[Bb][Pa]);}}return kb;},[function(kb){return (0,r.isArray)(kb) && 0 < kb.length;},function(kb){for(var Bb=kb.length;Bb-- && void 0 !== kb;){if(!(0,r.isArray)(kb[Bb]))return !1;for(var Pa=kb[Bb].length;Pa--;){if(!(0,r.OE)(kb[Bb][Pa],Oa,Ua))return !1;}}return !0;},function(kb){if(void 0 !== $a)for(var Bb=kb.length;Bb--;){if($a !== kb[Bb].length)return !1;}return !0;},function(kb){return void 0 === sb || kb.length >= sb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),rLb:E(H,"droppedFrameRateFilterMinHeight",384),tLb:E(S,"droppedFramesPercentilesList",[]),NZb:E(J,"microsoftScreenSizeFilterEnabled",!1),JWb:E(J,"keyStatusFilterEnabled",!1),t6a:E(H,"hdcpEngagementWaitTime",0),Obc:E(J,"uiLabelFilterEnabled",!0),Nbc:E(M,"uiLabelFilter",{}),RJb:E(H,I("defaultVolume"),100,0,100),owa:E(H,I("maxPlaybackRate"),2,0,16),j2a:E(J,"fastForwardAds",!1),F0a:E(J,"disableVideoRightClickMenu",!1),eba:E(H,"minDecoderBufferMilliseconds",1E3,0,g.Nw),hF:E(H,"optimalDecoderBufferMilliseconds",5E3,0,g.Nw),Hxa:E(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.Nw),Vba:E(H,"optimalDecoderBufferMillisecondsLive",2E3,0,g.Nw),aF:E(H,"minimumTimeBeforeBranchDecision",3E3,0,g.Nw),mab:E(H,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.Nw),vB:E(H,"maxDecoderBufferMilliseconds",ca.vB.da(z.ma),0,g.Nw),e0a:E(H,"decoderTimeoutMilliseconds",1E4,1),Sab:E(H,"noRenderTimeoutMilliseconds",0),D2b:E(H,"pauseTimeoutLimitMilliseconds",18E5),Uta:E(H,"inactivityMonitorInterval",3E4,0),Yzb:E(S,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),sO:E(J,"enableTrickPlay",!1),dBb:E(S,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),xbc:E(H,"trickPlayHighResolutionBitrateThreshold",1E3),ybc:E(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),Bbc:E(R,"trickplayBufferFactor",.5),wbc:E(H,"trickPlayDownloadRetryCount",1),cwa:E(O,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),VMb:E(W,"experimentalFilter",["throughput-wssl"]),woa:E(O,"ciPredictorSource","throughput-ci"),tBa:E(O,"simulationDurationStrategy","default"),Vwa:E(O,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),aJa:E(M,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),o$a:E(K,"maxIQRSamples",Infinity),eab:E(K,"minIQRSamples",5),Dkb:E(J,"useResourceTimingAPI",!1),wUb:E(J,"ignoreFirstByte",!0),xwa:E(J,"mediaRequestAsyncLoadStart",ca.xwa),Zcc:E(J,"useXHROnLoadStart",!1),Oqa:E(S,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),p7:E(H,"connectTimeoutMilliseconds",8E3,500),axa:E(H,"noProgressTimeoutMilliseconds",8E3,500),Tib:E(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Mnc:E(H,"netflixRequestExpiryTimeout",0),Pdc:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),R7b:E(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),kea:E(W,I("supportedAudioTrackTypes"),[],void 0,1),z$:E(H,"initialLogFlushTimeout",5E3),Qcb:E(O,"playdataPersistKey",V.PA?"unsentplaydatatest":"unsentplaydata"),Woc:E(J,"sendPersistedPlaydata",!0),k3b:E(H,"playdataPersistIntervalMilliseconds",4E3),hoc:E(H,"playdataSendDelayMilliseconds",1E4),Xoc:E(J,"sendPlaydataBackupOnInit",!0),$Xb:E(W,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),X$a:E(J,"midplayEnabled",!0),Zaa:E(H,"midplayIntervalMilliseconds",3E5),Y$a:E(S,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),c8:E(H,"downloadReportDenominator",0),eLb:E(H,"downloadReportInterval",3E5),w9a:E(H,"logConfigApplyDenominator",0),RXa:E(ia,I("bookmarkByMovieId"),{}),VW:E(J,I("forceLimitedDurationLicense"),!1),SE:E(H,I("licenseRenewalRequestDelay"),0),dya:E(H,I("persistedReleaseDelay"),1E4),Ymc:E(J,I("limitedDurationFlagOverride"),void 0),Efb:E(H,"safariPlayPauseWorkaroundDelay",100),$dc:E(H,"workaroundValueForSeekIssue",1200),aoa:E(J,I("callEndOfStream"),ca.aoa),P2b:E(J,"performRewindCheck",!0),qNb:E(J,"fatalOnUnexpectedSeeking",!0),pNb:E(J,"fatalOnUnexpectedSeeked",!0),g9b:E(J,I("setVideoElementSize")),sFb:E(J,I("clearVideoSrc"),!0),s0a:E(H,I("delayPlayPause"),0),au:E(J,I("useTypescriptEme"),!1),tkb:E(J,I("useEncryptedEvent"),!0),sW:E(O,I("drmPersistKey"),"unsentDrmData"),Gdb:E(J,I("promiseBasedEme"),!1),k0b:E(J,I("nudgeSourceBuffer"),!1),uAa:E(K,I("seekDelta"),1),VZ:E(J,I("preciseSeeking"),!1),L3b:E(J,I("preciseSeekingOnTwoCoreDevice"),!1),r0a:E(ia,I("delayErrorHandling")),ql:E(O,"esn",""),n2a:E(O,"fesn",""),gMb:E(J,I("enablePerformanceLogging"),!1),u1a:E(J,I("enableEmeVerboseLogging"),!1),appId:E(O,"appId","",za),sessionId:E(O,"sessionId","",za),foa:E(O,"cdnProxyUrl"),Wcc:E(J,"usePlayReadyHeaderObject",!1),T2a:E(H,"forceXhrErrorResponseCode",void 0),mr:{Inc:E(O,"mslApiPath","/msl/"),roc:E(O,"proxyPath",""),Ry:E(O,"uiVersion"),Iea:E(O,"uiPlatform"),Bkc:function(){return "0";},Aya:E(W,"preferredLanguages",g.hGa,/^[a-zA-Z-]{2,5}$/,1),rOb:E(O,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),hac:E(J,"supportPreviewContentPin",!0),iac:E(J,"supportWatermarking",!0),J9b:E(J,"showAllSubDubTracks",!1),Klc:E(J,I("failOnGuidMismatch"),!1)},Ica:{enabled:E(J,"qcEnabled",!1),Wo:E(O,"qcPackageId","")},$t:E(J,"useRangeHeader",!1),BW:E(J,"enableMilestoneEventList",!0),ACb:E(ia,"authenticationKeyNames",(0,p.ve)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),tac:E(O,"systemKeyWrapFormat"),D9b:E(J,"shouldSendUserAuthData",!0),HAa:E(J,"sendUserAuthIfRequired",ca.HAa),x9b:E(J,"shouldClearUserData",!1),LR:E(J,"usesMsl",!0),s_b:E(J,"mslDeleteStore",!1),u_b:E(J,"mslPersistStore",!0),rGb:E(J,"correctNetworkForShortTitles",!0),G3b:E(J,"postplayHighInitBitrate",!1),nac:E(J,"supportsUnequalizedDownloadables",!0),Z_a:E(H,I("debugAseDenominator"),100),C6:E(H,"aseAudioBufferSizeBytes",ca.C6.da(y.Hw)),F6:E(H,"aseVideoBufferSizeBytes",ca.F6.da(y.Hw)),Sv:E(H,"minInitVideoBitrate",560),Iwa:E(H,"minHCInitVideoBitrate",560),xB:E(H,"maxInitVideoBitrate",Infinity),eZ:E(H,"minInitAudioBitrate",0),cZ:E(H,"minHCInitAudioBitrate",0),PY:E(H,"maxInitAudioBitrate",65535),$aa:E(H,"minAcceptableVideoBitrate",235),$E:E(H,"minRequiredBuffer",3E4),kj:E(H,"minPrebufSize",7800),dba:E(H,"minCheckBufferingCompleteInterval",999999),iza:E(R,"rebufferingFactor",1),Fr:E(H,"maxBufferingTime",2600),dDa:E(J,"useMaxPrebufSize",!0),Nv:E(H,"maxPrebufSize",45E3),qwa:E(H,"maxRebufSize",Infinity),w$:E(U,"initialBitrateSelectionCurve",null),g7a:E(H,"initSelectionLowerBound",560),h7a:E(H,"initSelectionUpperBound",1050),z0:E(H,"throughputPercentForAudio",15),sna:E(H,"bandwidthMargin",10),tna:E(J,"bandwidthMarginContinuous",!1),una:E(U,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Yoa:E(H,"conservBandwidthMargin",20),fCa:E(J,"switchConfigBasedOnInSessionTput",!1),QV:E(H,"conservBandwidthMarginTputThreshold",0),Zoa:E(U,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),tib:E(J,"switchAlgoBasedOnHistIQR",!1),HF:E(O,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),pwa:E(K,"maxPlayerStateToSwitchConfig",-1),Pva:E(O,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),hha:E(R,"IQRThreshold",.5),Hta:E(O,"histIQRCalcToUse","simple"),Ov:E(H,"maxTotalBufferLevelPerSession",0),yW:E(J,"enableCombinedPlaygraphs",!0),sI:E(J,"enableAdPlaygraphs",!0),jda:E(J,"retainSbrOnFade",!1),Hqa:E(W,"excludedContentPlaygraphIds",[]),h8:E(J,"enableDiscontiguousBuffering",!1),sra:E(S,"forceImmediateTransitionTypeForTitles",[]),rra:E(H,"forceImmediateTransitionExitZone",0),Pea:E(J,"useBufferSizeLimiter",!1),cDa:E(J,"useLegacyFragmentRounding",!1),B6a:E(H,"highWatermarkLevel",3E4),bjb:E(H,"toStableThreshold",3E4),wea:E(H,"toUnstableThreshold",ca.wea.da(z.ma)),wBa:E(J,"skipBitrateInUpswitch",!1),vDa:E(H,"watermarkLevelForSkipStart",8E3),h$:E(H,"highStreamRetentionWindow",9E4),yaa:E(H,"lowStreamTransitionWindow",51E4),Cta:E(H,"highStreamRetentionWindowUp",3E5),Rva:E(H,"lowStreamTransitionWindowUp",3E5),Bta:E(H,"highStreamRetentionWindowDown",6E5),Qva:E(H,"lowStreamTransitionWindowDown",0),Ata:E(R,"highStreamInfeasibleBitrateFactor",.5),sB:E(H,"lowestBufForUpswitch",15E3),taa:E(H,"lockPeriodAfterDownswitch",15E3),Tva:E(H,"lowWatermarkLevel",25E3),dy:E(H,"lowestWaterMarkLevel",2E4),Uva:E(J,"lowestWaterMarkLevelBufferRelaxed",!1),Uaa:E(R,"mediaRate",1),tJ:E(H,"maxTrailingBufferLen",1E4),iV:E(H,"audioBufferTargetAvailableSize",262144),$0:E(H,"videoBufferTargetAvailableSize",1048576),E$a:E(H,"maxVideoTrailingBufferSize",8388608),g$a:E(H,"maxAudioTrailingBufferSize",393216),z8:E(R,"fastUpswitchFactor",3),Pqa:E(R,"fastDownswitchFactor",1),hq:E(H,"maxMediaBufferAllowed",24E4),rBa:E(J,"simulatePartialBlocks",!0),ehb:E(J,"simulateBufferFull",!0),$oa:E(J,"considerConnectTime",!1),Xoa:E(R,"connectTimeMultiplier",1),D9a:E(H,"lowGradeModeEnterThreshold",12E4),E9a:E(H,"lowGradeModeExitThreshold",9E4),j$a:E(H,"maxDomainFailureWaitDuration",3E4),f$a:E(H,"maxAttemptsOnFailure",18),$1a:E(J,"exhaustAllLocationsForFailure",!0),s$a:E(H,"maxNetworkErrorsDuringBuffering",20),Daa:E(H,"maxBufferingTimeAllowedWithNetworkError",12E4),i2a:E(H,"fastDomainSelectionBwThreshold",2E3),Gib:E(H,"throughputProbingEnterThreshold",4E4),Hib:E(H,"throughputProbingExitThreshold",34E3),r9a:E(H,"locationProbingTimeout",1E4),q2a:E(H,"finalLocationSelectionBwThreshold",1E4),Eib:E(R,"throughputHighConfidenceLevel",.75),Fib:E(R,"throughputLowConfidenceLevel",.4),B1a:E(J,"enablePerfBasedLocationSwitch",!1),hw:E(J,"probeServerWhenError",!0),Lya:E(H,"probeRequestTimeoutMilliseconds",8E3),jA:E(J,"allowSwitchback",!0),$J:E(H,"probeDetailDenominator",100),Eaa:E(H,"maxDelayToReportFailure",300),Bva:E(H,"locationStatisticsUpdateInterval",6E4),b_a:E(J,"countGapInBuffer",!1),IWa:E(J,"allowCallToStreamSelector",!0),aYa:E(H,"bufferThresholdForAbort",1E4),bZb:E(H,"maxResponsesInitialTput",6),w1a:E(J,"enableInitialTputLogging",!1),fya:E(H,"pipelineScheduleTimeoutMs",2),yB:E(H,"maxPartialBuffersAtBufferingStart",2),rwa:E(H,"maxStreamingSkew",4E3),nwa:E(H,"maxPendingBufferPercentage",10),f$:E(H,"headerRequestSize",4096),zqa:E(J,"estimateHeaderSize",!1),aZ:E(H,"minBufferLenForHeaderDownloading",1E4),F_:E(H,"reserveForSkipbackBufferMs",1E4),nxa:E(H,"numExtraFragmentsAllowed",2),Ir:E(J,"pipelineEnabled",!1),phb:E(H,"socketReceiveBufferSize",0),K6:E(H,"audioSocketReceiveBufferSize",32768),RR:E(H,"videoSocketReceiveBufferSize",65536),yta:E(H,"headersSocketReceiveBufferSize",32768),Nea:E(H,"updatePtsIntervalMs",1E3),Gna:E(H,"bufferTraceDenominator",100),zN:E(H,"bufferLevelNotifyIntervalMs",2E3),qN:E(H,"aseReportDenominator",0),D6:E(H,"aseReportIntervalMs",3E5),NLb:E(J,"enableAbortTesting",!1),Wzb:E(H,"abortRequestFrequency",8),VBa:E(H,"streamingStatusIntervalMs",2E3),RB:E(H,"prebufferTimeLimit",24E4),cba:E(H,"minBufferLevelForTrackSwitch",2E3),Zxa:E(H,"penaltyFactorForLongConnectTime",2),Nva:E(H,"longConnectTimeThreshold",200),Fma:E(H,"additionalBufferingLongConnectTime",2E3),Gma:E(H,"additionalBufferingPerFailure",8E3),m_:E(H,"rebufferCheckDuration",6E4),y1a:E(J,"enableLookaheadHints",!1),A9a:E(H,"lookaheadFragments",2),NA:E(J,"enableOCSideChannel",!0),z3:E(M,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Ujb:E(J,"updateDrmRequestOnNetworkFailure",!1),q0a:E(J,"deferAseScheduling",!1),i$a:E(H,"maxDiffAudioVideoEndPtsMs",16E3),L7:E(H,"defaultHeaderCacheSize",4),K7:E(H,"defaultHeaderCacheDataPrefetchMs",8E3),FJ:E(J,"neverWipeHeaderCache",!0),Uwa:E(H,"networkFailureResetWaitMs",2E3),Twa:E(H,"networkFailureAbandonMs",6E4),Kaa:E(H,"maxThrottledNetworkFailures",3),pea:E(H,"throttledNetworkFailureThresholdMs",200),Sva:E(K,"lowThroughputThreshold",400),Gqa:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),uab:E(J,"mp4ParsingInNative",!1),rhb:E(J,"sourceBufferInOrderAppend",!0),iK:E(J,"requireAudioStreamToEncompassVideo",!0),HWa:E(J,"allowAudioToStreamPastVideo",!0),Ni:E(J,"enableManagerDebugTraces",!1),Q9a:E(H,"managerDebugMessageInterval",1E3),P9a:E(H,"managerDebugMessageCount",20),gbb:E(J,"notifyManifestCacheEom",!1),Fna:E(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Ena:E(H,"bufferThresholdToSwitchToParallelConnMs",12E4),hca:E(H,"periodicHistoryPersistMs",3E5),vda:E(H,"saveVideoBitrateMs",18E4),XWa:E(J,"appendMediaRequestOnComplete",!0),dfa:E(J,"waitForDrmToAppendMedia",!1),L8:E(J,I("forceAppendHeadersAfterDrm"),!1),pOb:E(J,I("forceAppendEncryptedStreamHeaderFirst"),!0),n5b:E(J,I("reappendRequestsOnSkip"),!1),y_b:E(H,"netIntrStoreWindow",36E3),VZb:E(H,"minNetIntrDuration",8E3),lNb:E(H,"fastHistoricBandwidthExpirationTime",10368E3),JCb:E(H,"bandwidthExpirationTime",5184E3),iNb:E(H,"failureExpirationTime",86400),XTb:E(H,"historyTimeOfDayGranularity",4),UMb:E(J,"expandDownloadTime",!1),h_b:E(H,"minimumMeasurementTime",500),g_b:E(H,"minimumMeasurementBytes",131072),Jac:E(H,"throughputMeasurementTimeout",2E3),WUb:E(H,"initThroughputMeasureDataSize",262144),Kac:E(O,"throughputPredictor","ewma"),Iac:E(H,"throughputMeasureWindow",5E3),Oac:E(H,"throughputWarmupTime",5E3),Hac:E(H,"throughputIQRMeasureWindow",5E3),zqb:E(H,"IQRBucketizerWindow",15E3),YFb:E(H,"connectTimeHalflife",10),d7b:E(H,"responseTimeHalflife",10),WTb:E(H,"historicBandwidthUpdateInterval",2E3),f_b:E(H,"minimumBufferToStopProbing",1E4),tAa:E(O,"secondThroughputEstimator","none"),Ofb:E(K,"secondThroughputMeasureWindowInMs",Infinity),SLb:E(W,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),CNb:E(M,"filterDefinitionOverrides",{}),KJb:E(O,"defaultFilter","throughput-ewma"),Q7b:E(O,"secondaryFilter","none"),LJb:E(M,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),kZ:E(J,"needMinimumNetworkConfidence",!0),xna:E(J,"biasTowardHistoricalThroughput",!0),tma:E(J,"addHeaderDataToNetworkMonitor",!1),EBa:E(J,"startMonitorOnLoadStart",!1),Fza:E(J,"reportFailedRequestsToNetworkMonitor",!1),Faa:E(K,"maxFastPlayBufferInMs",Infinity),kwa:E(K,"maxFastPlayBitThreshold",Infinity),Rma:E(J,"appendFirstHeaderOnComplete",!0),RBb:E(O,"ase_stream_selector","optimized"),fua:E(O,"initBitrateSelectorAlgorithm","default"),Lna:E(O,"bufferingSelectorAlgorithm","default"),$_a:E(O,"ase_ls_failure_simulation",""),wpa:E(J,"ase_dump_fragments",!1),xpa:E(H,"ase_location_history",0),a0a:E(H,"ase_throughput",0),c0a:E(J,"ase_simulate_verbose",!1),B3b:E(H,"pollingPeriod",150),OXb:E(H,"loadTimeMs",18E4),EYb:E(H,"marginTimeMs",1E4),Xra:E(J,"getDeviceIdFromBindDevice",!1),sma:E(J,"addFailedLogBlobsToQueue",!0),Pbc:{"content-sampling":{Fr:E(H,"contentSamplingMaxBufferingTime",3E3),VQ:E(O,"contentSamplingSelectStartingVMAFMethod","fallback"),SU:E(J,"contentSamplingActivateSelectStartingVMAF",!0),Tv:E(H,"contentSamplingMinStartingVideoVMAF",80),$Y:E(H,"contentSamplingMinAcceptableVMAF",70),zJ:E(H,"contentSamplingMinAllowedVmaf",60)},billboard:{Sv:E(H,"billboardMinInitVideoBitrate",1050),xB:E(H,"billboardMaxInitVideoBitrate",null),kj:E(H,"billboardMinPrebufSize",null),Nv:E(H,"billboardMaxPrebufSize",null),Fr:E(H,"billboardMaxBufferingTime",null),yB:E(H,"billboardMaxPartialBuffersAtBufferingStart",null),dy:E(H,"billboardLowestWaterMarkLevel",6E3),sB:E(H,"billboardLowestBufForUpswitch",25E3),HF:E(O,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Sv:E(H,"preplayMinInitVideoBitrate",1050),xB:E(H,"preplayMaxInitVideoBitrate",null),kj:E(H,"preplayMinPrebufSize",null),Nv:E(H,"preplayMaxPrebufSize",null),Fr:E(H,"preplayMaxBufferingTime",null),yB:E(H,"preplayMaxPartialBuffersAtBufferingStart",null),dy:E(H,"preplayLowestWaterMarkLevel",6E3),sB:E(H,"preplayLowestBufForUpswitch",25E3)},embedded:{Sv:E(H,"embeddedMinInitVideoBitrate",1050),xB:E(H,"embeddedMaxInitVideoBitrate",null),kj:E(H,"embeddedMinPrebufSize",null),Nv:E(H,"embeddedMaxPrebufSize",null),Fr:E(H,"embeddedMaxBufferingTime",null),yB:E(H,"embeddedMaxPartialBuffersAtBufferingStart",null),dy:E(H,"embeddedLowestWaterMarkLevel",6E3),sB:E(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Sv:E(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),xB:E(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),kj:E(H,"videoMerchBobHorizontalMinPrebufSize",null),Nv:E(H,"videoMerchBobHorizontalMaxPrebufSize",null),Fr:E(H,"videoMerchBobHorizontalMaxBufferingTime",null),yB:E(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),dy:E(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),sB:E(H,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Sv:E(H,"miniModalHorizontalMinInitVideoBitrate",null),xB:E(H,"miniModalHorizontalMaxInitVideoBitrate",null),kj:E(H,"miniModalHorizontalMinPrebufSize",null),Nv:E(H,"miniModalHorizontalMaxPrebufSize",null),Fr:E(H,"miniModalHorizontalMaxBufferingTime",500),yB:E(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),dy:E(H,"miniModalHorizontalLowestWaterMarkLevel",null),sB:E(H,"miniModalHorizontalLowestBufForUpswitch",null)},live:{kj:E(H,"liveMinPrebufSize",2E3),Nv:E(H,"liveMaxPrebufSize",4E3),Fr:E(H,"liveMaxBufferingTime",500)}},pMb:E(J,"enableVerbosePlaydelayLogging",!1),jMb:E(J,"enableSeamless",!1),Gta:E(H,"hindsightDenominator",0),Fta:E(H,"hindsightDebugDenominator",0),j$:E(M,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),DW:E(J,"enableSessionHistoryReport",!1),gqa:E(H,"earlyStageEstimatePeriod",1E4),X8a:E(H,"lateStageEstimatePeriod",3E4),Iaa:E(H,"maxNumSessionHistoryStored",30),hba:E(H,"minSessionHistoryDuration",3E4),iy:E(H,"maxActiveRequestsPerSession",3),Baa:E(H,"maxActiveRequestsSABCell100",2),xva:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),ke:E(M,"browserInfo",{}),yDb:E(H,I("busyGracePeriod"),199),l8b:E(J,I("sendTransitionLogblob"),!0),DLb:E(J,I("editVideoFragments"),!0),f8:E(J,I("earlyAppendSingleChildBranch"),!0),IUb:E(J,I("includeSegmentInfoOnLogblobs"),!0),$Mb:E(J,"exposeTestData",!1),ZMb:E(J,I("exposeErrorData"),!1),ypa:E(J,"declareBufferingCompleteAtSegmentEnd",!0),OH:E(J,I("applyProfileTimestampOffset"),!1),mo:E(J,I("applyProfileStreamingOffset"),!1),XY:E(J,I("mediaSourceSupportsNegativePts"),!1),tBb:E(J,I("allowSmallSeekDelta"),!1),Z9b:E(H,I("smallSeekDeltaThresholdMilliseconds"),u.X3),QLb:E(J,"enableCDMAttestedDescriptors",!1),cda:E(J,"requireDownloadDataAtBuffering",!1),dda:E(J,"requireSetupConnectionDuringBuffering",!1),kza:E(J,"recordFirstFragmentOnSubBranchCreate",!1),iDb:E(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),xkb:E(J,"useMobileVMAF",!1),z0a:E(O,"desiredVMAFTypeMobile","phone_plus_lts"),A0a:E(O,"desiredVMAFTypeNonMobile","plus_lts"),SU:E(J,"activateSelectStartingVMAF",!1),Tv:E(H,"minStartingVideoVMAF",1),$Y:E(H,"minAcceptableVMAF",1),zJ:E(H,"minAllowedVmaf",1),wBb:E(J,"alwaysNotifyEOSForPlaygraph",!0),rO:E(J,"enableNewAse",!0),V0:E(J,"useNewApi",!0),Caa:E(H,"maxAllowedOutstandingRequests",4),mN:E(J,"alwaysRunUnderflowTimer",!0),Jwa:E(H,"minStreamableConcurrencyWindow",3E3),SBa:E(R,"streamableConcurrencyFactor",.3),BV:E(H,"bufferingConcurrencyWindow",7800),S9b:E(J,"singleStreamablePerBranch",!0),j8:E(J,"enableResolutionVMAFStreamFilter",!1),ida:E(M,"resolutionVMAFCappingRuleList",{}),bya:E(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),KKb:E(J,"disableSkipping",!1),Rea:E(J,"useHLSPlayer",ca.Rea),aDa:E(J,I("useExitZones"),!0),M6b:E(J,"requestSegmentVmaf",!1),oQ:E(M,"perFragmentVMAFConfig",{enabled:!1}),Mxa:E(H,"paddingDurationMs",1E3),Nxa:E(O,"paddingMediaType","padding")};Ha=!0;b.Voa=function(Ja){var Na,Oa,Ua;Na=d.ya.get(B.$c).id;if(0 < b.config.w9a && 0 === Na % b.config.w9a)try{Oa=d.ya.get(v.Yn);Ua=d.ya.get(w.qz).Xu("config","info",{params:Ja});Oa.Fc(Ua);}catch($a){d.log.error("Failed to log config$apply",$a);}mb._cad_global.config=b.config;(0,l.ib)(Ja);Ja && (Ca=(0,p.ve)({},Ja,{MY:!0}),(0,p.ve)(Ca,Q,{MY:!0}),G(sa,b.config),Ca.istestaccount && d.log.trace("Config applied for",pa(Ha?Ca:Ja)),Ha=!1);};(0,b.Voa)(Ca);};b.Woa=function(D){D=c(D);return (0,p.ve)({},a(187)(D),{Rba:!0});};b.JZa=function(D,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={my:D?b.config.RZb:b.config.my,BB:D?b.config.ZZb:G?b.config.a_b:b.config.BB,f8:!F};return (0,p.ve)({},a(187)(D),{Rba:!0});};b.KZa=c;b.WFb=k;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$c="ApplicationSymbol";},function(t,b,a){var k;function c(g,h){return g && h?Math.abs(g * h / k.sE(g,h)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.M=void 0;k=a(367);t=(function(){function g(h,d){"object" === typeof h?(this.vc=h.Xa,this.nb=h.U):(this.vc=h,this.nb=d);isFinite(this.vc) || (this.nb=1);}g.compare=function(h,d){return h.Wl(d);};g.abs=function(h){return new g(Math.abs(h.vc),h.nb);};g.Ha=function(h){return 0 === h?g.La:new g(h,1E3);};g.vea=function(h,d){return Math.floor(1E3 * h / d);};g.wab=function(h,d){return Math.floor(h * d / 1E3);};g.max=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(f,l){return f.greaterThan(l)?f:l;});};g.min=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}return h.reduce(function(f,l){return f.lessThan(l)?f:l;});};g.sE=function(h,d){var f;if(h.nb === d.nb)return new g(k.sE(h.vc,d.vc),h.nb);f=c(h.nb,d.nb);return new g(k.sE(h.vc * f / h.nb,d.vc * f / d.nb),f);};Object.defineProperties(g.prototype,{Xa:{get:function(){return this.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{T:{get:function(){return g.vea(this.vc,this.nb);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{UJ:{get:function(){return 1E3 * this.vc / this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nK:{get:function(){var h;h=this.UJ;return 0 > h?Math.ceil(h):Math.floor(h);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{si:{get:function(){return this.vc / this.nb;},enumerable:!1,configurable:!0}});g.prototype.Wf=function(h){h/=this.nb;return new g(Math.floor(this.vc * h),Math.floor(this.nb * h));};g.prototype.add=function(h){var d;if(this.nb === h.nb)return new g(this.vc + h.vc,this.nb);d=c(this.nb,h.nb);return new g(this.vc * d / this.nb + h.vc * d / h.nb,d);};g.prototype.Ba=function(h){var d;if(this.nb === h.nb)return new g(this.vc - h.vc,this.nb);d=c(this.nb,h.nb);return new g(this.vc * d / this.nb - h.vc * d / h.nb,d);};g.prototype.EB=function(h){return new g(this.vc * h,this.nb);};g.prototype.Dk=function(h){var d;if("number" === typeof h){if(Math.floor(h) === h){d=c(this.vc,h);if(d !== this.vc)return this.Wf(d / this.vc * this.nb).Dk(h);}return new g(Math.floor(this.vc / h),this.nb);}if(this.nb === h.nb)return this.vc / h.vc;d=c(this.nb,h.nb);return this.vc * d / this.nb / (h.vc * d / h.nb);};g.prototype.W7=function(h){var d;if(this.nb === h.nb)return new g(Math.abs(this.vc - h.vc),this.nb);d=c(this.nb,h.nb);return new g(Math.abs(this.vc * d / this.nb - h.vc * d / h.nb),d);};g.prototype.ueb=function(){return new g(this.nb,this.vc);};g.prototype.compare=function(h,d){var f;if(this.nb === d.nb)return h(this.vc,d.vc);f=c(this.nb,d.nb);return h(this.vc * f / this.nb,d.vc * f / d.nb);};g.prototype.Wl=function(h){var d;if(this.nb === h.nb)return this.Xa === h.vc?0:this.vc - h.vc;d=c(this.nb,h.nb);return this.vc * d / this.nb - h.vc * d / h.nb;};g.prototype.equal=function(h){return this.compare(function(d,f){return d === f;},h);};g.prototype.exa=function(h){return this.compare(function(d,f){return d !== f;},h);};g.prototype.lessThan=function(h){return this.compare(function(d,f){return d < f;},h);};g.prototype.greaterThan=function(h){return this.compare(function(d,f){return d > f;},h);};g.prototype.yY=function(h){return this.compare(function(d,f){return d <= f;},h);};g.prototype.sn=function(h){return this.compare(function(d,f){return d >= f;},h);};g.prototype.isFinite=function(){return ! !this.nb && isFinite(this.vc);};g.prototype.K5a=function(h){return c(this.U,h);};g.prototype.toJSON=function(){return {ticks:this.vc,timescale:this.nb};};g.prototype.toString=function(){return this.vc + "/" + this.nb;};g.prototype.jc=function(){return this.vc + "/" + this.nb + " (" + this.T + "ms)";};g.La=new g(0,1E3);g.JB=new g(1,1E3);g.Yx=new g(Infinity,1);return g;})();b.M=t;},function(t,b,a){function c(){c=Object.assign || (function(E){for(var I,L=1,K=arguments.length;L < K;L++){I=arguments[L];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,K){L.__proto__=K;}) || (function(L,K){for(var H in K){K.hasOwnProperty(H) && (L[H]=K[H]);}});return k(E,I);}function g(E,I){function L(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(L.prototype=I.prototype,new L());}function h(E,I){var L,K,H;L={};for(K in E){Object.prototype.hasOwnProperty.call(E,K) && 0 > I.indexOf(K) && (L[K]=E[K]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(K=Object.getOwnPropertySymbols(E);H < K.length;H++){0 > I.indexOf(K[H]) && Object.prototype.propertyIsEnumerable.call(E,K[H]) && (L[K[H]]=E[K[H]]);}}return L;}function d(E,I,L,K){var H,R,O;H=arguments.length;R=3 > H?I:null === K?K=Object.getOwnPropertyDescriptor(I,L):K;if("object" === typeof Reflect && "function" === typeof Reflect.Qp)R=Reflect.Qp(E,I,L,K);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])R=(3 > H?O(R):3 < H?O(I,L,R):O(I,L)) || R;}return (3 < H && R && Object.defineProperty(I,L,R),R);}function f(E,I){return function(L,K){I(L,K,E);};}function l(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(E,I);}function m(E,I,L,K){function H(R){return R instanceof L?R:new L(function(O){O(R);});}return new (L || (L=Promise))(function(R,O){function J(S){try{P(K.next(S));}catch(U){O(U);}}function M(S){try{P(K["throw"](S));}catch(U){O(U);}}function P(S){S.done?R(S.value):H(S.value).then(J,M);}P((K=K.apply(E,I || [])).next());});}function n(E,I){var H,R,O,J,M;function L(P){return function(S){return K([P,S]);};}function K(P){if(R)throw new TypeError("Generator is already executing.");for(;H;){try{if((R=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (H.label++,{value:P[1],done:!1});case 5:H.label++;O=P[1];P=[0];continue;case 7:P=H.Nk.pop();H.Wh.pop();continue;default:if(!(J=H.Wh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){H=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))H.label=P[1];else if(6 === P[0] && H.label < J[1])(H.label=J[1],J=P);else if(J && H.label < J[2])(H.label=J[2],H.Nk.push(P));else {J[2] && H.Nk.pop();H.Wh.pop();continue;}}P=I.call(E,H);}catch(S){P=[6,S];O=0;}finally{R=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}H={label:0,Eb:function(){if(J[0] & 1)throw J[1];return J[1];},Wh:[],Nk:[]};return (M={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,L,K){void 0 === K && (K=L);E[K]=I[L];}function q(E,I){for(var L in E){"default" === L || I.hasOwnProperty(L) || (I[L]=E[L]);}}function r(E){var I,L,K;I="function" === typeof Symbol && Symbol.iterator;L=I && E[I];K=0;if(L)return L.call(E);if(E && "number" === typeof E.length)return {next:function(){E && K >= E.length && (E=void 0);return {value:E && E[K++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(E,I){var L,K,H;L="function" === typeof Symbol && E[Symbol.iterator];if(!L)return E;E=L.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(K=E.next()).done;){H.push(K.value);}}catch(O){var R;R={error:O};}finally{try{K && !K.done && (L=E["return"]) && L.call(E);}finally{if(R)throw R.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(u(arguments[I]));}return E;}function w(){var K;for(var E=0,I=0,L=arguments.length;I < L;I++){E+=arguments[I].length;}E=Array(E);K=0;for(I=0;I < L;I++){for(var H=arguments[I],R=0,O=H.length;R < O;(R++,K++)){E[K]=H[R];}}return E;}function x(E){return this instanceof x?(this.Vy=E,this):new x(E);}function y(E,I,L){var M,P,S;function K(U){M[U] && (P[U]=function(T){return new Promise(function(W,ia){1 < S.push([U,T,W,ia]) || H(U,T);});});}function H(U,T){var W;try{W=M[U](T);W.value instanceof x?Promise.resolve(W.value.Vy).then(R,O):J(S[0][2],W);}catch(ia){J(S[0][3],ia);}}function R(U){H("next",U);}function O(U){H("throw",U);}function J(U,T){(U(T),S.shift(),S.length) && H(S[0][0],S[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=L.apply(E,I || []);S=[];return (P={},K("next"),K("throw"),K("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var L,K;function I(H,R){L[H]=E[H]?function(O){return (K=!K)?{value:x(E[H](O)),done:"return" === H}:R?R(O):O;}:R;}return (L={},I("next"),I("throw",function(H){throw H;}),I("return"),L[Symbol.iterator]=function(){return this;},L);}function A(E){var K,H;function I(R){H[R]=E[R] && (function(O){return new Promise(function(J,M){O=E[R](O);L(J,M,O.done,O.value);});});}function L(R,O,J,M){Promise.resolve(M).then(function(P){R({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=E[Symbol.asyncIterator];return K?K.call(E):(E="function" === typeof r?r(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function C(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var L in E){Object.hasOwnProperty.call(E,L) && (I[L]=E[L]);}I.default=E;return I;}function D(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,L){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,L);return L;}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return h;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return r;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b,a){var k;function c(g){return g.filter(function(h,d){return g.indexOf(h) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Bba=b.YSb=b.sGb=b.flatten=b.bab=b.JFb=b.B6=b.Ku=b.gXa=b.fV=b.A6=b.oo=b.Yma=b.Xc=void 0;k=a(0);b.Xc=function(g,h){for(var d=0;d < g.length;d++){if(h(g[d],d,g))return g[d];}};b.Yma=function(g,h){for(var d=g.length - 1;0 <= d;--d){if(h(g[d],d,g))return g[d];}};b.oo=function(g,h){var d;d=-1;return g.some(function(f,l,m){d=l;return h(f,l,m);})?d:-1;};b.A6=function(g,h){for(var d=g.length - 1;0 <= d;d--){if(h(g[d],d,g))return d;}return -1;};b.fV=c;b.gXa=function(g,h){h=g.indexOf(h);if(-1 === h)return !1;g.splice(h,1);return !0;};b.Ku=function(g,h,d){return d?g.filter(function(f){return !h.some(function(l){return d(f,l);});}):g.filter(function(f){return -1 === h.indexOf(f);});};b.B6=function(g,h){return c(g.concat(h));};b.JFb=function(g){return function(h,d){return g(h) - g(d);};};b.bab=function(g){return function(h,d){return g(h) < g(d)?h:d;};};b.flatten=function(g){var h;return (h=[]).concat.apply(h,k.__spread(g));};b.sGb=function(g,h){void 0 === h && (h=function(d){return d;});return g.reduce(function(d,f){f=h(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.YSb=function(g,h){return g.reduce(function(d,f){var l;l=h(f);return (void 0 === d[l]?d[l]=[f]:d[l].push(f),d);},{});};b.Bba=function(g){return null !== g && void 0 !== g;};},function(t,b,a){var g,h,d;function c(){d || (d=g.ya.get(h.fz));return d;}function k(f,l){return c().assert(f,l);}Object.defineProperty(b,"__esModule",{value:!0});b.uJb=b.vpa=b.nJb=b.rJb=b.$N=b.bW=b.qJb=b.sJb=b.cW=b.Y_a=b.pJb=b.oJb=b.ib=b.tJb=b.smb=void 0;g=a(8);h=a(109);b.smb=function(){k(!1);};b.tJb=!0;d=void 0;b.ib=k;b.oJb=function(f,l){return c().VBb(f,l);};b.pJb=function(f,l){return c().WBb(f,l);};b.Y_a=function(f,l){return c().G6(f,l);};b.cW=function(f,l){return c().bCb(f,l);};b.sJb=function(f,l){return c().$Bb(f,l);};b.qJb=function(f,l){return c().bna(f,l);};b.bW=function(f,l){return c().YBb(f,l);};b.$N=function(f,l){return c().aCb(f,l);};b.rJb=function(f,l){return c().ZBb(f,l);};b.nJb=function(f,l){return c().UBb(f,l);};b.vpa=function(f,l){return c().XBb(f,l);};b.uJb=function(){return c().pVb();};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(99);b.W=!1;t=(function(){function k(g,h,d,f,l){this.Qb=g;this.type=h;this.byteOffset=d;this.byteLength=f;this.parent=l;this.je={};this.NJ=f;}k.RA=function(g,h){var f,m;function d(n){n && n.RA && (n=n.RA(h),n.length && (f=f.concat(n)));}f=[];g.type === h && f.push(g);if(g.je)for(var l in g.je){m=g.je[l];Array.isArray(m) && m.forEach(d);}return f;};k.YU=function(g,h){void 0 === g.je[h.type] && (g.je[h.type]=[]);g.je[h.type].push(h);};k.Mx=function(g,h){return k.RA(g,h)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{L:{get:function(){return this.Qb;},enumerable:!0,configurable:!0}});k.prototype.zh=function(){var g;g=this.Qb.ac();this.version=g >> 24;this.flags=g & 16777215;};k.prototype.YU=function(g){k.YU(this,g);};k.prototype.RA=function(g){return k.RA(this,g);};k.prototype.Mx=function(g){return k.Mx(this,g);};k.prototype.parse=function(){return !0;};k.prototype.zI=function(){return !0;};k.prototype.yq=function(g){if((g=this.je[g]) && Array.isArray(g) && 1 === g.length)return g[0];};k.prototype.Jn=function(g,h){h=void 0 === h?this.Qb.offset:h;c.assert(h >= this.startOffset + 8 && h + g <= this.startOffset + this.NJ,"Removal range [0x" + h.toString(16) + "-0x" + (h + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.NJ).toString(16) + ")");this.Qb.Jn(g,h,this);};k.prototype.$ca=function(g,h,d){d=void 0 === d?this.Qb.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.NJ,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.NJ).toString(16) + ")");this.Qb.$ca(g,h,d,this);};k.prototype.heb=function(g,h,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.dVa(g,h));}return f;}return this.dVa(g,h);};k.prototype.Dy=function(g){var h,d;d=this;void 0 === h && (h={});g.forEach(function(f){var l,m;if("offset" === f.type){l=f.offset;if(0 < l % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Qb.offset+=l / 8;}else for(l in f){m=f[l];h[l]="string" === typeof m?d.heb(m):d.heb(m.type,m.length,m.MBb);}});return h;};k.prototype.dVa=function(g,h){var d;d=this.byteLength - this.Qb.offset + this.startOffset;"undefined" === typeof h && (h=d);switch(g){case "int8":g=this.Qb.Bd();break;case "int64":g=this.Qb.Dl();break;case "int32":g=this.Qb.ac();break;case "int16":g=this.Qb.$g();break;case "string":g=this.Qb.e5b(Math.min(h,d));break;default:throw Error("Invalid type: " + g);}return g;};k.od=!1;return k;})();b.Xf=t;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.nGb=b.U2a=b.ln=b.hg=b.CFb=b.We=b.ey=b.trim=b.Jta=b.aib=b.Tdb=b.o2b=b.Xj=b.hXa=b.zYa=b.ve=b.Wg=void 0;c=a(23);k=a(13);g=a(15);b.Wg=function(h,d){for(var f in h){h.hasOwnProperty(f) && d(f,h[f]);}};b.ve=b.ve || (function(h,d,f){var l,m,n;if(d)if(f){l=f.MY;m=f.prefix;n=f.Rba;(0,b.Wg)(d,function(p,q){if(!n || (0,g.pd)(q))h[(m || "") + (l?p.toLowerCase():p)]=q;});}else (0,b.Wg)(d,function(p,q){h[p]=q;});return h;});b.zYa=function(h,d,f,l){var m;if(h){m=h[d];(0,g.fd)(m) && (f=m.apply(h,k.slice.call(arguments,3)));}return f;};b.hXa=function(h){for(var d={},f=h.length;f--;){d[h[f]]=!0;}return d;};b.Xj=b.Xj || (function(h){return parseInt(h,10);});b.o2b=function(h){return (/^true$/i).test(h);};b.Tdb=function(h,d){return (0,k.op)(h + (0,k.$S)() * (d - h));};b.aib=function(h){return JSON.stringify(h,null,"  ");};b.Jta=(function(){var d,f;function h(l){(0,c.ib)(void 0 !== d[l]);return d[l];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(l){return l.replace(f,h);};})();b.trim=(function(){var h;h=/^\s+|\s+$/gm;return function(d){return d.replace(h,"");};})();b.ey=function(h){return Array.isArray(h)?h:[h];};b.We=b.We || (function(h){var d,f,l;if(h){d=h.stack;f=h.number;l=h.message;l || (l="" + h);d?(h="" + d,0 != h.indexOf(l) && (h=l + "\n" + h)):h=l;f && (h+="\nnumber:" + f);return h;}});b.CFb=function(h){var l;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){l=arguments[d++];if((0,g.pd)(l))return l;}};b.hg=function(h){return (0,g.Ja)(h)?h.toFixed(0):"";};b.ln=function(h){return (0,g.Ja)(h)?(h / 1E3).toFixed(0):"";};b.U2a=function(h){return (0,g.Ja)(h)?h.toFixed():"";};b.nGb=function(h){for(var d=[],f=0;f < h.length;f++){d[f]=h[f];}return d;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hz=b.lSa=b.Utb=b.Fq=b.qf=b.Gm=b.Gw=b.$n=void 0;(function(a){a[a.Audio=0]="Audio";a[a.eSa=1]="Video";})(b.$n || (b.$n={}));(function(a){a[a.gz=0]="Default";a[a.vz=1]="Microsoft";})(b.Gw || (b.Gw={}));(function(a){a[a.gz=0]="Default";a[a.mL=1]="Chrome";a[a.vz=2]="Microsoft";})(b.Gm || (b.Gm={}));(function(a){a[a.tT=0]="SD";a[a.s2=1]="HD";a[a.YL=2]="UHD";a[a.Kw=3]="DV";a[a.wL=4]="HDR10";a[a.CC=5]="AVCHigh";a[a.aD=6]="VP9";a[a.Ml=7]="AV1";})(b.qf || (b.qf={}));(function(a){a[a.l3=0]="Level_1_4";a[a.pG=1]="Level_2_2";})(b.Fq || (b.Fq={}));b.Utb=function(){};(function(a){a[a.qic=0]="Platform";a[a.Ffc=1]="CurrentTitle";})(b.lSa || (b.lSa={}));b.hz="DeviceCapabilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kg="IsTypeSymbol";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={ffc:{Zw:0,Fic:1,name:["STARTUP","STEADY"]},L2:{dh:0,Eic:1,Qtb:2,name:["STARTING","STABLE","UNSTABLE"]},$a:{cc:0,Jb:1,name:["AUDIO","VIDEO"]},al:{cc:0,Jb:1,name:["AUDIO","VIDEO"]},Yh:{URL:0,IG:1,LOCATION:2,wz:3,name:["URL","SERVER","LOCATION","NETWORK"]},vj:{HAVE_NOTHING:0,LC:1,KC:2,ES:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Bz:{Mec:0,Egc:1,hic:2,Ehc:3,bic:4,ejc:5,Jgc:6,dhc:7,Zw:8,Yf:9,mia:10,Bsb:11,Rfa:12,Gqb:13,Fqb:14,itb:15,htb:16,Kqb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},ggc:{wz:0,Gfc:1,name:["NETWORK","DECODE"]},Cic:{Hfc:"delayedSeamless",Rgc:"hideLongTransition"}};},function(t,b,a){var h,d;function c(f,l){return f && f.Kv && (l || !1 !== f.ov);}function k(f,l,m){return !h.Ja(f) || f < l?l:f > m?m:f;}function g(f){if(!(this instanceof g))return new g(f);this.bf=h.Ja(f)?f:void 0;this.r0b=0;}h=a(9);d=new (a(4).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");t.exports={console:d,debug:!1,assert:function(f,l){if(!f)throw (f=l?" : " + l:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},hJ:c,fra:function(f,l,m){var p,q,r,u;function n(v){var w;w=f[v];if(!w.Kv || m && !m(w,v))return !1;u=v;return !0;}p=f.length;q=0;r=p;h.isArray(l) && (q=k(l[0],0,p),r=k(l[1],0,p),l=l[2]);l=k(l,q - 1,r);for(p=l - 1;p >= q;--p){if(n(p))return u;}for(p=l + 1;p < r;++p){if(n(p))return u;}return -1;},q_b:function(f,l){return Math.floor(f / (125 * l) * 1E3);},BDb:function(f,l){return Math.ceil(f / 1E3 * l * 125);},Lmc:function(f,l){return !f.slice(l + 1).some(c);},up:g,Xc:function(f,l){var m;return f.some(function(n,p,q){m=n;return l(n,p,q);})?m:void 0;},oo:function(f,l){var m;return f.some(function(n,p,q){m=p;return l(n,p,q);})?m:-1;},h7:k};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bh="ClockSymbol";},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.p_b=b.platform=b.sh=b.Nb=b.UQb=b.wX=b.NI=b.mYb=b.LG=b.ie=b.kp=b.ek=b.FL=b.qu=b.NG=void 0;c=a(0);c.__exportStar(a(172),b);c.__exportStar(a(362),b);c.__exportStar(a(792),b);c.__exportStar(a(793),b);c.__exportStar(a(794),b);k=a(97);Object.defineProperties(b,{NG:{enumerable:!0,get:function(){return k.NG;}}});Object.defineProperties(b,{qu:{enumerable:!0,get:function(){return k.qu;}}});Object.defineProperties(b,{FL:{enumerable:!0,get:function(){return k.FL;}}});c.__exportStar(a(805),b);c.__exportStar(a(366),b);c.__exportStar(a(224),b);c.__exportStar(a(20),b);c.__exportStar(a(368),b);g=a(369);Object.defineProperties(b,{ek:{enumerable:!0,get:function(){return g.ek;}}});Object.defineProperties(b,{kp:{enumerable:!0,get:function(){return g.kp;}}});h=a(52);Object.defineProperties(b,{ie:{enumerable:!0,get:function(){return h.ie;}}});d=a(226);Object.defineProperties(b,{LG:{enumerable:!0,get:function(){return d.LG;}}});c.__exportStar(a(227),b);c.__exportStar(a(820),b);b.mYb=function(l){b.platform.VX(l);return a(824).gLa;};b.NI=function(l){b.platform.VX(l);return Promise.resolve().then(function(){return c.__importStar(a(263));}).then(function(m){return m.NI();});};b.wX=function(l,m){b.platform.VX(l);return Promise.resolve().then(function(){return c.__importStar(a(433));}).then(function(n){return n.wX(m);});};b.UQb=function(){return a(231);};t=c.__importDefault(a(28));b.Nb=t.default;t=a(1116);b.sh=t.sh;t=c.__importDefault(a(4));b.platform=t.default;f=a(1117);b.p_b=function(){return {Rw:f.Rw};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$h="UtilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zi="Base64EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jga="ConfigurableInputsSymbol";b.Fm="ValidatingConfigurableInputsSymbol";b.M1="ConfigNameSymbol";b.OS="InitParamsSymbol";},function(t,b,a){var h,d,f;function c(l){var m,n,p,u;p=Object.getOwnPropertyNames(l);for(l=Object.getPrototypeOf(l);l !== Object.prototype;){try{for(var q=(m=void 0,h.__values(Object.getOwnPropertyNames(l))),r=q.next();!r.done;r=q.next()){u=r.value;-1 === p.indexOf(u) && p.push(u);}}catch(v){m={error:v};}finally{try{r && !r.done && (n=q.return) && n.call(q);}finally{if(m)throw m.error;}}l=Object.getPrototypeOf(l);}return p;}function k(l,m,n,p,q){var r;Object.getOwnPropertyNames(l).filter(function(u){return q(u) && (n || !Object.prototype.hasOwnProperty.call(m,u)) && (p || !((u in m)));}).forEach(function(u){r=Object.getOwnPropertyDescriptor(l,u);void 0 !== r && Object.defineProperty(m,u,r);});}function g(l,m,n,p){var q,r;q=[];n || (q=Object.getOwnPropertyNames(m));p || (q=c(m));r=Object.getPrototypeOf(l);null !== r && r !== Object.prototype && g(r,m,n,p);k(l,m,!0,!0,function(u){return "constructor" !== u && -1 === q.indexOf(u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Je=b.pGb=void 0;h=a(0);d=a(2);b.pGb=g;f=Object.getOwnPropertyNames(Function);b.Je=function(l,m,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);l.prototype?(g(l.prototype,m.prototype,n,p),k(l,m,n,p,function(q){return -1 === f.indexOf(q);})):k(l,m.prototype,n,p,function(q){return -1 === f.indexOf(q);});return m;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$i="AsyncComponentLoaderSymbol";},function(t,b,a){var k;function c(g,h,d,f,l,m,n,p,q,r,u,v){this.code=void 0 === g?k.V.co:g;this.Cc=h;this.Td=d;this.Co=f;this.DB=l;this.message=m;this.details=n;this.data=p;this.Gk=q;this.i3b=r;this.alert=u;this.Jma=v;this.ca=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.jd=void 0;k=a(3);c.We=function(g){var h,d,f;if(g){h=g.stack;d=g.number;f=g.message;f || (f="" + g);h?(g="" + h,0 !== g.indexOf(f) && (g=f + "\n" + g)):g=f;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.iW=function(g){this.details=c.We(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Cc,extCode:this.Td,edgeCode:this.Co,mslCode:this.DB,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Gk,playbackServiceError:this.i3b};};c.yra=function(g,h){return new c(g,k.R.Bm,void 0,void 0,void 0,void 0,h.message,h.stack);};c.olb=function(g,h){return new c(g,h,void 0,void 0,void 0,void 0,void 0,void 0);};c.Xdc=function(g,h,d){return new c(g,h,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.jd=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uSa="WindowTimersSymbol";b.nG="JSONSymbol";b.YRa="UserAgentSymbol";b.JL="NavigatorSymbol";b.jrb="MediaSourceSymbol";b.AKa="LocationSymbol";b.sGa="DateSymbol";b.xia="PerformanceSymbol";b.H3="PlatformExtraInfoSymbol";},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(0);t.__exportStar(a(813),b);t.__exportStar(a(143),b);t.__exportStar(a(814),b);t.__exportStar(a(815),b);t.__exportStar(a(816),b);t.__exportStar(a(817),b);t.__exportStar(a(373),b);t.__exportStar(a(818),b);t.__exportStar(a(819),b);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mp=b.Sw=b.lz=void 0;(function(a){a[a.pRa=0]="Test";a[a.YJa=1]="Int";a[a.ztb=2]="Staging";a[a.Qsb=3]="Prod";})(b.lz || (b.lz={}));(function(a){a[a.pT=0]="PreferMsl";a[a.pPa=1]="PreferNoMsl";a[a.Drb=2]="NoMsl";})(b.Sw || (b.Sw={}));b.mp="GeneralConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RC="named";b.s3="name";b.zT="unmanaged";b.FMa="optional";b.NS="inject";b.sG="multi_inject";b.jRa="inversify:tagged";b.kRa="inversify:tagged_props";b.fia="inversify:paramtypes";b.bob="design:paramtypes";b.lT="post_construct";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={fG:"playready-h264mpl30-dash",gG:"playready-h264mpl31-dash",Tga:"playready-h264mpl40-dash",qIa:"h264mpl30-dash-playready-prk-qc",rIa:"h264mpl31-dash-playready-prk-qc",sIa:"h264mpl40-dash-playready-prk-qc",oIa:"playready-h264hpl22-dash",o2:"playready-h264hpl30-dash",q2:"playready-h264hpl31-dash",Rga:"playready-h264hpl40-dash",pIa:"h264hpl22-dash-playready-live",p2:"h264hpl30-dash-playready-live",r2:"h264hpl31-dash-playready-live",Sga:"h264hpl40-dash-playready-live",Gja:"vp9-profile0-L21-dash-cenc",l4:"vp9-profile0-L30-dash-cenc",m4:"vp9-profile0-L31-dash-cenc",n4:"vp9-profile0-L40-dash-cenc",Vga:"hevc-main10-L30-dash-cenc",Wga:"hevc-main10-L31-dash-cenc",Xga:"hevc-main10-L40-dash-cenc",Yga:"hevc-main10-L41-dash-cenc",GS:"hevc-main10-L50-dash-cenc",HS:"hevc-main10-L51-dash-cenc",N2:"hevc-main10-L30-dash-cenc-prk",Q2:"hevc-main10-L31-dash-cenc-prk",T2:"hevc-main10-L40-dash-cenc-prk",W2:"hevc-main10-L41-dash-cenc-prk",O2:"hevc-main10-L30-dash-cenc-prk-do",R2:"hevc-main10-L31-dash-cenc-prk-do",U2:"hevc-main10-L40-dash-cenc-prk-do",X2:"hevc-main10-L41-dash-cenc-prk-do",Z2:"hevc-main10-L50-dash-cenc-prk-do",b3:"hevc-main10-L51-dash-cenc-prk-do",M2:"hevc-main10-L30-dash-cenc-live",P2:"hevc-main10-L31-dash-cenc-live",S2:"hevc-main10-L40-dash-cenc-live",V2:"hevc-main10-L41-dash-cenc-live",Y2:"hevc-main10-L50-dash-cenc-live",a3:"hevc-main10-L51-dash-cenc-live",Q1:"hevc-dv5-main10-L30-dash-cenc-prk",S1:"hevc-dv5-main10-L31-dash-cenc-prk",yS:"hevc-dv5-main10-L40-dash-cenc-prk",V1:"hevc-dv5-main10-L41-dash-cenc-prk",X1:"hevc-dv5-main10-L50-dash-cenc-prk",Z1:"hevc-dv5-main10-L51-dash-cenc-prk",sga:"hevc-dv5-main10-L40-dash-cenc-prk-qc",tga:"hevc-dv5-main10-L41-dash-cenc-prk-qc",uga:"hevc-dv5-main10-L50-dash-cenc-prk-qc",vga:"hevc-dv5-main10-L51-dash-cenc-prk-qc",R1:"hevc-dv5-main10-L30-dash-cenc-prk-do",T1:"hevc-dv5-main10-L31-dash-cenc-prk-do",U1:"hevc-dv5-main10-L40-dash-cenc-prk-do",W1:"hevc-dv5-main10-L41-dash-cenc-prk-do",Y1:"hevc-dv5-main10-L50-dash-cenc-prk-do",a2:"hevc-dv5-main10-L51-dash-cenc-prk-do",u2:"hevc-hdr-main10-L30-dash-cenc-prk",x2:"hevc-hdr-main10-L31-dash-cenc-prk",FS:"hevc-hdr-main10-L40-dash-cenc-prk",C2:"hevc-hdr-main10-L41-dash-cenc-prk",F2:"hevc-hdr-main10-L50-dash-cenc-prk",I2:"hevc-hdr-main10-L51-dash-cenc-prk",v2:"hevc-hdr-main10-L30-dash-cenc-prk-do",y2:"hevc-hdr-main10-L31-dash-cenc-prk-do",A2:"hevc-hdr-main10-L40-dash-cenc-prk-do",D2:"hevc-hdr-main10-L41-dash-cenc-prk-do",G2:"hevc-hdr-main10-L50-dash-cenc-prk-do",J2:"hevc-hdr-main10-L51-dash-cenc-prk-do",t2:"hevc-hdr-main10-L30-dash-cenc-live",w2:"hevc-hdr-main10-L31-dash-cenc-live",z2:"hevc-hdr-main10-L40-dash-cenc-live",B2:"hevc-hdr-main10-L41-dash-cenc-live",E2:"hevc-hdr-main10-L50-dash-cenc-live",H2:"hevc-hdr-main10-L51-dash-cenc-live",EDa:"av1-main-L20-dash-cbcs-prk",FDa:"av1-main-L21-dash-cbcs-prk",AC:"av1-main-L30-dash-cbcs-prk",BC:"av1-main-L31-dash-cbcs-prk",u1:"av1-main-L40-dash-cbcs-prk",v1:"av1-main-L41-dash-cbcs-prk",w1:"av1-main-L50-dash-cbcs-prk",x1:"av1-main-L51-dash-cbcs-prk"};b.Pd={J1:[b.H.fG,b.H.gG,b.H.Tga],q1:[b.H.o2,b.H.q2,b.H.Rga],p1:[b.H.p2,b.H.r2,b.H.Sga],rfa:[b.H.l4,b.H.m4,b.H.n4],sfc:[b.H.Vga,b.H.Wga,b.H.Xga,b.H.Yga,b.H.GS,b.H.HS],ega:[b.H.N2,b.H.Q2,b.H.T2,b.H.W2,b.H.GS,b.H.HS],fga:[b.H.O2,b.H.R2,b.H.U2,b.H.X2,b.H.Z2,b.H.b3],dga:[b.H.M2,b.H.P2,b.H.S2,b.H.V2,b.H.Y2,b.H.a3],bga:[b.H.u2,b.H.x2,b.H.FS,b.H.C2,b.H.F2,b.H.I2],cga:[b.H.v2,b.H.y2,b.H.A2,b.H.D2,b.H.G2,b.H.J2],aga:[b.H.t2,b.H.w2,b.H.z2,b.H.B2,b.H.E2,b.H.H2],oFa:[b.H.Q1,b.H.yS,b.H.X1,b.H.S1,b.H.V1,b.H.Z1],pFa:[b.H.R1,b.H.U1,b.H.Y1,b.H.T1,b.H.W1,b.H.a2],hnb:[b.H.AC,b.H.BC,b.H.u1,b.H.v1,b.H.w1,b.H.x1]};b.Xd={hG:"heaac-2-dash",K2:"heaac-5.1-dash",iG:"heaac-2hq-dash",Fz:"xheaac-dash",wS:"ddplus-2.0-dash",O1:"ddplus-5.1-dash",xS:"ddplus-atmos-dash"};b.Em={ktb:"simplesdh",lga:"dfxp-ls-sdh",nJa:"imsc1.1",p4:"webvtt-lssdh-ios8",HL:"nflx-cmisc"};},function(t,b,a){var l,m,n,p,q,r;function c(){var u,v;if(u=b.F9.aVa)return u;u=p.v3.search.substr(1);v=u.indexOf("#");0 <= v && (u=u.substr(0,v));u=k(u);return b.F9.aVa=u;}function k(u){for(var v=/[+]/g,w=(u || "").split("&"),x={},y,z=0;z < w.length;z++){u=(0,n.trim)(w[z]);y=u.indexOf("=");0 <= y?x[decodeURIComponent(u.substr(0,y).replace(v,"%20")).toLowerCase()]=decodeURIComponent(u.substr(y + 1).replace(v,"%20")):x[u.toLowerCase()]=null;}return x;}function g(u){return (u=(/function (.{1,})\(/).exec(u.toString())) && 1 < u.length?u[1]:"";}function h(u){return g(u.constructor);}function d(u){return p.sort.call(u,function(v,w){return v - w;});}function f(u){for(var v=0,w=u.length;w--;){v+=u[w];}return v;}Object.defineProperty(b,"__esModule",{value:!0});b.E3b=b.RI=b.e4a=b.Y$=b.z3b=b.c8a=b.Vmb=b.Wmb=b.kOb=b.Su=b.SFb=b.I8=b.zNb=b.LJ=b.mmb=b.cS=b.nmb=b.z1=b.lmb=b.mVb=b.createElement=b.VV=b.g4b=b.pxa=b.Sra=b.getFunctionName=b.KZ=b.F9=b.PRb=b.$db=b.wWa=b.SZa=b.c5b=b.UD=b.wZa=void 0;l=a(16);m=a(8);n=a(25);p=a(13);q=a(15);r=a(49);b.wZa=function(u,v){if(u === v)return !0;if(!u || !v)return !1;for(var w in u){if(u.hasOwnProperty(w) && (!v.hasOwnProperty(w) || u[w] !== v[w]))return !1;}return !0;};b.UD=b.UD || (function(u,v){if(u.length == v.length){for(var w=u.length;w--;){if(u[w] != v[w])return !1;}return !0;}return !1;});b.c5b=function(u){var v;if(u){v=u.length;if(v)return (v=(0,n.Tdb)(0,v - 1),u[v]);}};b.SZa=function(u,v){if(u.length != v.length)return !1;u.sort();v.sort();for(var w=u.length;w--;){if(u[w] !== v[w])return !1;}return !0;};b.wWa=function(u,v,w){function x(){u.removeEventListener(v,x);w.apply(this,arguments);}u.addEventListener(v,x);};b.$db=function(){var u,v,w,x,y,z;u=p.Dh.cookie.split("; ");v=u.length;y={};for(w=0;w < v;w++){if(x=(0,n.trim)(u[w])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.PRb=c;b.F9=Object.assign(c,{aVa:void 0});b.KZ=k;b.getFunctionName=g;b.Sra=h;b.pxa=function(u){var v;v="";(0,q.isArray)(u) || (0,q.Tua)(u)?v=p.reduce.call(u,function(w,x){return w + (32 <= x && 128 > x?(0,p.fRa)(x):".");},""):(0,q.mg)(u)?v=u:(0,n.Wg)(u,function(w,x){v+=(v?", ":"") + "{" + w + ": " + ((0,q.fd)(x)?g(x) || "function":x) + "}";});return "[" + h(u) + " " + v + "]";};b.g4b=function(u,v){u.firstChild?u.insertBefore(v,u.firstChild):u.appendChild(v);};b.VV=b.VV || (function(u){var v;v="";(0,n.Wg)(u,function(w,x){v+=(v?";":"") + w + ":" + x;});return v;});b.createElement=b.createElement || (function(u,v,w,x){var y;y=p.Dh.createElement(u);v && (y.style.cssText=v);w && (y.innerHTML=w);x && (0,n.Wg)(x,function(z,A){y.setAttribute(z,A);});return y;});b.mVb=function(u,v){var w;w=u[0];if(v <= w[0])return w.slice(1);for(var x=1,y;y=u[x++];){if(v <= y[0]){u=(v - w[0]) / (y[0] - w[0]);v=[];for(x=1;x < w.length;x++){v.push((w[x] || 0) + u * ((y[x] || 0) - (w[x] || 0)));}return v;}w=y;}return w.slice(1);};b.lmb=function(u,v){var y;for(var w={},x=0;x < v.length;x++){y=v[x];if("string" != typeof y && "number" != typeof y)return !1;w[v[x]]=1;}for(x=0;x < u.length;x++){if((y=u[x],!w[y]))return !1;}return !0;};b.z1=d;b.nmb=f;b.cS=function(u,v){var w,x,y,z;w=-1;x=u.length;if(1 === arguments.length){for(;++w < x && !(null != (y=u[w]) && y <= y);){y=void 0;}for(;++w < x;){null != (z=u[w]) && z > y && (y=z);}}else {for(;++w < x && !(null != (y=v.call(u,u[w],w)) && y <= y);){y=void 0;}for(;++w < x;){null != (z=v.call(u,u[w],w)) && z > y && (y=z);}}return y;};b.mmb=function(u,v){var w,x,y,z;w=-1;x=u.length;if(1 === arguments.length){for(;++w < x && !(null != (y=u[w]) && y <= y);){y=void 0;}for(;++w < x;){null != (z=u[w]) && y > z && (y=z);}}else {for(;++w < x && !(null != (y=v.call(u,u[w],w)) && y <= y);){y=void 0;}for(;++w < x;){null != (z=v.call(u,u[w],w)) && y > z && (y=z);}}return y;};b.LJ=function(u){return (0,q.fd)(u.then)?u:new Promise(function(v,w){u.oncomplete=function(){v(u.result);};u.onerror=function(){w(u.error);};});};b.zNb=function(u,v){var x,y,z,A,B,C;function w(D){0 > x.indexOf(D) && (0,q.Ja)(D) && x.push(D);}u=u.slice();d(u);x=[];if(!v || !v.length)return u;if(!u.length)return [];y=v.length;try{for(;y--;){A="" + v[y];B=(0,n.Xj)(A);switch(A[A.length - 1]){case "-":for(z=u.length;z--;){C=u[z];if(C < B){w(C);break;}}break;case "+":for(z=0;z < u.length;z++){if((C=u[z],C > B)){w(C);break;}}break;default:0 <= u.indexOf(B) && w(B);}}}catch(D){}x.length || x.push(u[0]);d(x);return x;};b.I8=b.I8 || (function(u,v,w){var x;if(u / v > w){x=(0,p.op)(v * w);u=v;}else (x=u,u=(0,p.op)(u / w));return {width:x,height:u};});b.SFb=function(u,v,w){for(var x=[],y=0;y < v;y++){x.push((0,p.sLa)(u[y] - w,2));}return (0,p.tLa)(f(x) / x.length);};b.Su=function(u,v){var w;w=u.length;v=(w - 1) * v + 1;if(1 === v)return u[0];if(v == w)return u[w - 1];w=(0,p.EL)(v);return u[w - 1] + (v - w) * (u[w] - u[w - 1]);};b.kOb=function(u,v){if(!(0,q.isArray)(u))throw Error("boxes is not an array");if(0 >= u.length)throw Error("There are no boxes in boxes");v=(0,q.isArray)(v)?v:[v];for(var w=u.length,x=0;x < w;x++){for(var y=0;y < v.length;y++){if(u[x].type == v[y])return u[x];}}throw Error("Box not found " + v);};b.Wmb=function(u){return u.YPb("trak/mdia/minf/stbl/stsd/" + l.WEa + "|" + l.XEa).children.filter(function(v){return "sinf" == v.type && v.Llc.schm.Moc == r.Iw;})[0].YPb("schi/tenc").cq;};b.Vmb=function(u){var w;function v(x,y){var z;z=w[x];w[x]=w[y];w[y]=z;}w=new Uint8Array(u);v(0,3);v(1,2);v(4,5);v(6,7);return w;};b.c8a=function(){return (0,q.fd)(p.Me.requestMediaKeySystemAccess);};b.z3b=function(u){return function(v){return v && v[u];};};(0,q.fd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(u,v){var w,x;void 0 === u && (u=0);void 0 === v && (v=this.byteLength);u=Math.floor(u);v=Math.floor(v);0 > u && (u+=this.byteLength);0 > v && (v+=this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - u)return new ArrayBuffer(0);w=new ArrayBuffer(v - u);x=new Uint8Array(w);u=new Uint8Array(this,u,v - u);x.set(u);return w;});b.Y$=function(u){return u && 0 == u.toLowerCase().indexOf("https");};b.e4a=function(){var u,v;u=new ArrayBuffer(4);v=new Uint8Array(u);u=new Uint32Array(u);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == u[0]?"LE":2712847316 == u[0]?"BE":"undefined";};b.RI=function(){var u,v,w;try{u=/playercore.*js/;v=p.Tw.getEntries("resource").filter(function(x){return null !== u.exec(x.name);});if(v && 0 < v.length){w=(0,p.op)(v[0].duration);return JSON.stringify(w);}}catch(x){}};b.E3b=function(u,v,w){if(u && u.length){if(w && w.$Eb)try{u.forEach(function(x,y){var z;z=(y=w.$Eb[y]) && y.media;z && (0,q.mg)(z)?(!1,z=(0,m.Ms)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:v,wc:y.cdn}):m.log.warn("chunk not in cache",x.xh);});}catch(x){m.log.error("error reading cached chunks",x);}else m.log.warn("chunks not available in cached stream",w.type);}else m.log.warn("chunks not available in mediabuffer",w.type);};},function(t,b,a){var h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C;function c(D){var F,G,E;F=A(D,0,1);G=A(D,-1);if("%" === F && "%" !== G)throw new h("invalid intrinsic syntax, expected closing `%`");if("%" === G && "%" !== F)throw new h("invalid intrinsic syntax, expected opening `%`");E=[];z(D,B,function(I,L,K,H){E[E.length]=K?z(H,C,"$1"):L || I;});return E;}function k(){throw new f();}function g(D){try{return d('"use strict"; return (' + D + ").constructor;")();}catch(F){}}h=SyntaxError;d=Function;f=TypeError;l=Object.getOwnPropertyDescriptor;if(l)try{l({},"");}catch(D){l=null;}b=l?(function(){try{return (arguments.callee,k);}catch(D){try{return l(arguments,"callee").get;}catch(F){return k;}}})():k;m=a(314)();n=Object.getPrototypeOf || (function(D){return D.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);r={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":m?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && m?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && m?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m?n(("")[Symbol.iterator]()):void 0,"%Symbol%":m?Symbol:void 0,"%SyntaxError%":h,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};u=function G(F){var E,I;if("%AsyncFunction%" === F)E=g("async function () {}");else if("%GeneratorFunction%" === F)E=g("function* () {}");else if("%AsyncGeneratorFunction%" === F)E=g("async function* () {}");else if("%AsyncGenerator%" === F){I=G("%AsyncGeneratorFunction%");I && (E=I.prototype);}else "%AsyncIteratorPrototype%" === F && (I=G("%AsyncGenerator%")) && (E=n(I.prototype));return r[F]=E;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(200);w=a(105);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;t.exports=function(F,G){var E,I,L,K,H,R,O,J,M;if("string" !== typeof F || 0 === F.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof G)throw new f('"allowMissing" argument must be a boolean');E=c(F);I=0 < E.length?E[0]:"";L="%" + I + "%";K=L;if(w(v,K)){H=v[K];K="%" + H[0] + "%";}if(w(r,K)){R=r[K];R === p && (R=u(K));if("undefined" === typeof R && !G)throw new f("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new h("intrinsic " + L + " does not exist!");L=R;K=!1;H && (I=H[0],y(E,x([0,1],H)));H=1;for(R=!0;H < E.length;H+=1){O=E[H];J=A(O,0,1);M=A(O,-1);if(('"' === J || "'" === J || "`" === J || '"' === M || "'" === M || "`" === M) && J !== M)throw new h("property names with quotes must have matching quotes");"constructor" !== O && R || (K=!0);I+="." + O;J="%" + I + "%";if(w(r,J))L=r[J];else if(null != L){if(!((O in L))){if(!G)throw new f("base intrinsic for " + F + " exists, but the property is not available.");return;}l && H + 1 >= E.length?(M=l(L,O),L=(R=! !M) && ("get" in M) && !(("originalValue" in M.get))?M.get:L[O]):(R=w(L,O),L=L[O]);R && !K && (r[J]=L);}}return L;};},function(t,b,a){var h,d,f;function c(l){return function(m,n){return m.fza(n,l);};}function k(l,m){return l.Jca.X4b[m] || g(l,m);}function g(l,m){l=l.hB.data[m];switch(typeof l){case "undefined":break;case "string":case "number":case "boolean":return l.toString();default:return JSON.stringify(l);}}Object.defineProperty(b,"__esModule",{value:!0});b.kA=b.oza=b.object=b.JMb=b.url=b.aa=b.Lk=b.GCa=b.oVb=b.KK=b.string=b.sC=b.xd=b.JE=b.config=void 0;h=a(51);d=a(5);f=a(140);b.config=function(l,m,n){n=void 0 === n?!1:n;return function(p,q,r){var u,v;u=void 0 !== m?m:q;v=r.get;void 0 !== v && (r.get=function(){var w;if(!this.eWb(q))return this.YRb(q);a:{w=(this.rBb || n?k:g)(this,u.toString());if(void 0 !== w)if((w=l(this.qZ,w),w instanceof f.Gq))this.$2a(u,w);else break a;w=v.bind(this)();}this.Sza(q,w);return w;});return r;};};b.JE=function(l,m){return l.deb(m);};b.xd=function(l,m){return l.cza(m);};b.sC=function(l,m){return l.Or(m);};b.string=function(l,m){return l.fza(m);};b.KK=function(l,m){return l.Ok(m,b.string);};b.oVb=function(l,m){return l.Ok(m,b.JE);};b.GCa=function(l,m){return l.Ok(m,b.sC);};b.Lk=function(l,m){l=l.Or(m);return l instanceof f.Gq?l:(0,d.tc)(l);};b.aa=function(l,m){l=l.Or(m);return l instanceof f.Gq?l:(0,h.aa)(l);};b.url=c(/^\S+$/);b.JMb=function(l){return function(m,n){return m.ceb(n,l);};};b.object=function(){return function(l,m){return l.eeb(m);};};b.oza=c;b.kA=function(l,m){return function(n,p){return n.Ok(p,l,m);};};},function(t,b,a){var g,h,d,f;function c(l,m){var n;n=f.call(this,l,m) || this;n.MZa=m;n.debug=l.debug;n.Da=l.pg.mb(n.MZa);return n;}function k(l,m){this.MZa=m;this.Sya={};this.hB=l.hB;this.qZ=l.qZ;this.Jca=l.Jca;}Object.defineProperty(b,"__esModule",{value:!0});b.pf=b.iS=b.lRa=void 0;t=a(0);g=a(691);h=a(1);d=a(140);b.lRa="isTestAccount";k.prototype.$2a=function(){};k.prototype.Sza=function(l,m){this.Sya[l]=[m,this.hB.lda];};k.prototype.eWb=function(l){return g.eia.of(this.Sya[l]).map(function(m){return m[1];}).or(-1) < this.hB.lda;};k.prototype.YRb=function(l){return g.eia.of(this.Sya[l]).map(function(m){return m[0];}).or(function(){throw Error("Invalid State Error");});};Va.Object.defineProperties(k.prototype,{rBb:{configurable:!0,enumerable:!0,get:function(){var l,m;if(this && this.hB && this.hB.data){l=this.hB.data[b.lRa];"undefined" !== typeof l && (m=l.toString());l=this.qZ.cza(m);l=l instanceof d.Gq?!1:l;}else l=!1;return l;}}});f=k;f=t.__decorate([(0,h.X)(),t.__param(0,(0,h.hp)()),t.__param(1,(0,h.hp)())],f);b.iS=f;ka(c,f);c.prototype.$2a=function(l,m){this.Da.error("Invalid configuration value.",{name:l},m);this.debug.assert(!1);};a=c;a=t.__decorate([t.__param(0,(0,h.hp)()),t.__param(1,(0,h.hp)())],a);b.pf=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zj="SchedulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hq="PlatformSymbol";b.I3="PlatformMutableSymbol";},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.psa=b.Csa=b.w9=b.jJa=b.kG=b.Jpb=b.ija=b.hja=b.pSa=b.qSa=b.VMa=b.j2=b.TEMPORARY=b.Iw=void 0;c=a(15);k=a(8);b.Iw="cenc";b.TEMPORARY="temporary";b.j2="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.VMa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.qSa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.pSa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.hja="SW_SECURE_CRYPTO";b.ija="SW_SECURE_DECODE";b.Jpb="HW_SECURE_DECODE";b.kG="HW_SECURE_ALL";b.jJa=[b.kG];b.w9=function(g){var h;h=g.getConfiguration();return [b.kG,b.ija,b.hja].find(function(d){var f;return null === (f=h.videoCapabilities) || void 0 === f?void 0:f.some(function(l){return l.robustness === d;});});};b.Csa=function(g){var h,l;try{for(var d=/\((\d[^)]+)\)/g,f;f=d.exec(g);){l=Number(f[1]);(0,c.Ja)(l) && (h=l);}}catch(m){}return h;};b.psa=function(g){var h;h={};try{g.forEach(function(d){var f,l;if(d.pI){for(var m=(0,k.oA),n=d.pI,p=0,q=new Uint8Array(16),r=0;r < n.length;r+=2){q[p++]=parseInt(n.slice(r,r + 2),16);}m=m(q);d=null !== (f=d.height) && void 0 !== f?f:d.Nza;h[m]=Math.max(d,null !== (l=h[m]) && void 0 !== l?l:0);}});}catch(d){}return h;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xha="LogBatcherConfigSymbol";b.Yn="LogBatcherSymbol";b.DKa="LogBatcherProviderSymbol";},function(t,b,a){var g;function c(){return g.AT.apply(this,arguments) || this;}function k(h){return new g.lu(h,b.$F);}Object.defineProperty(b,"__esModule",{value:!0});b.La=b.ULa=b.rha=b.Hw=b.$F=b.xZb=b.PWb=b.aa=b.Os=b.fnb=void 0;g=a(327);ka(c,g.AT);b.fnb=c;b.Os=k;b.aa=function(h){return new g.lu(h,b.Hw);};b.PWb=function(h){return new g.lu(h,b.rha);};b.xZb=function(h){return new g.lu(h,b.ULa);};b.$F=new c(1,"b");b.Hw=new c(8 * b.$F.Ig,"B",b.$F);b.rha=new c(1024 * b.Hw.Ig,"KB",b.$F);b.ULa=new c(1024 * b.rha.Ig,"MB",b.$F);b.La=k(0);},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aja=b.ie=void 0;c=a(0);k=a(812);g=a(22);(function(h){h[h.tq=0]="startPlayback";h[h.Sp=1]="endPlayback";h[h.gp=2]="underflow";})(b.ie || (b.ie={}));t=(function(){function h(d){this.config=d;this.dK=[];}h.prototype.wg=function(d){var f,l;l=c.__read(this.config.T7.filter(function(m){return m.Se === d.Se;}),1)[0];(null !== (f=null === l || void 0 === l?void 0:l.enabled) && void 0 !== f?f:d.enabled)?this.dK.push(d):d.xb && d.xb();};h.prototype.WRb=function(d){return g.Xc(this.dK,function(f){return f.Se === d.Se;});};h.prototype.rl=function(d){var f,l,m,q,r;l={};m=[];try{for(var n=c.__values(this.dK),p=n.next();!p.done;p=n.next()){q=p.value;try{r=q.rl({Ti:d});r && (q.FB?l[q.FB]=r:l=c.__assign(c.__assign({},l),r));}catch(v){m.push(Error(q.Se + "::" + v));}}}catch(v){var u;u={error:v};}finally{try{p && !p.done && (f=n.return) && f.call(n);}finally{if(u)throw u.error;}}m.length && (l["rpt-error"]=k.Bfa.stringify(new k.Bfa("Reporting error",m)));return l;};return h;})();b.aja=t;},function(t,b,a){var c,k;c=a(130);k=a(188);t.exports=function(g){return function l(d,f){switch(arguments.length){case 0:return l;case 1:return k(d)?l:c(function(m){return g(d,m);});default:return k(d) && k(f)?l:k(d)?c(function(m){return g(m,f);}):k(f)?c(function(m){return g(d,m);}):g(d,f);}};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ao="PboCommandContextSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.fq=b.M$b=b.sbb=void 0;b.sbb=function(a,c){return a - c;};b.M$b=function(a,c){return a.localeCompare(c);};b.fq=function(a,c){var k;k=Object.getOwnPropertyDescriptor(a,c);k && Object.defineProperty(a,c,{configurable:k.configurable,enumerable:!1,value:k.value,writable:k.writable});};b.flatten=function(a){return [].concat.apply([],ha(a));};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eob="Cannot apply @injectable decorator multiple times.";b.Fob="Metadata key was used more than once in a parameter:";b.hT="NULL argument";b.eKa="Key Not Found";b.Jlb="Ambiguous match found for serviceIdentifier:";b.gnb="Could not unbind serviceIdentifier:";b.urb="No matching bindings found for serviceIdentifier:";b.Tqb="Missing required @injectable annotation in:";b.Uqb="Missing required @inject or @multiInject annotation in:";b.Ptb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.jnb="Circular dependency found:";b.Fhc="Sorry, this feature is not fully implemented yet.";b.lqb="Invalid binding type:";b.wrb="No snapshot available to restore.";b.pqb="Invalid return type in middleware. Middleware must return!";b.oqb="Value provided to function binding must be a function!";b.rqb="The toSelf function can only be applied when a constructor is used as service identifier";b.mqb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Llb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.ynb="Invalid Container constructor argument. Container options must be an object.";b.wnb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.vnb="Invalid Container option. Auto bind injectable must be a boolean";b.xnb="Invalid Container option. Skip base check must be a boolean";b.grb="Cannot apply @postConstruct decorator multiple times in the same class";b.Asb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.knb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.otb="Maximum call stack size exceeded";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wva=b.Bi=void 0;(function(a){a[a.Iq=0]="STANDARD";a[a.np=1]="LIMITED";})(b.Bi || (b.Bi={}));b.wva=function(a){return ["STANDARD","LIMITED"][a];};},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(153),b);t.__exportStar(a(939),b);t.__exportStar(a(178),b);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fg=void 0;b.fg=function(a){return setTimeout(a,0);};},function(t,b,a){var k,g,h,d,f;function c(){return k.ic.get(h.$c).pB.da(f.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.xFb=b.k7=b.iZa=b.vFb=b.wFb=b.Hoa=b.uo=void 0;k=a(204);g=a(30);h=a(19);d=a(82);f=a(5);b.uo=function(){return k.ic.get(h.$c).Tb().da(f.ma);};b.Hoa=function(){return k.ic.get(g.Bh).xf.da(f.rp);};b.wFb=function(){return k.ic.get(h.$c).pB.da(f.rp);};b.vFb=function(){return k.ic.get(d.pz).DA();};b.iZa=c;b.k7=function(){return k.ic.get(g.Bh).xf.da(f.ma);};b.xFb=function(){return c();};},function(t,b){var c,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.lp=b.Oa=b.ik=void 0;(function(g){g[g.Iq=0]="STANDARD";g[g.np=1]="LIMITED";g[g.gic=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(k || (k={}));(function(g){g.Xlb="asl_start";g.Vlb="asl_comp";g.Iec="asl_exc";g.Wlb="asl_fail";g.rtb="stf_creat";g.Upb="idb_open";g.Rpb="idb_block";g.aqb="idb_upgr";g.$pb="idb_succ";g.Spb="idb_error";g.Tpb="idb_invalid_state";g.Wpb="idb_open_timeout";g.Ypb="idb_open_wrkarnd";g.Zpb="idb_storelen_exc";g.Vpb="idb_open_exc";g.Xpb="idb_timeout_invalid_storelen";g.arb="msl_load_data";g.crb="msl_load_no_data";g.brb="msl_load_failed";})(t=b.ik || (b.ik={}));(function(g){g.iia="PlaybackRequestStart";g.hia="PlaybackRequestEnd";g.R3="RequestPrefetchManifestStart";g.Q3="RequestPrefetchManifestEnd";g.P3="RequestManifestStart";g.O3="RequestManifestEnd";g.N3="RequestLicenseStart";g.M3="RequestLicenseEnd";g.oS="RequestTimedTextUrlStart";g.nS="RequestTimedTextUrlEnd";g.mS="RequestAudioUrlStart";g.lS="RequestAudioUrlEnd";g.qS="RequestVideoUrlStart";g.pS="RequestVideoUrlEnd";g.tfa="AppendBufferStart";g.sfa="AppendBufferEnd";g.dja="SetMediaKeysStart";g.cja="SetMediaKeysEnd";g.m2="GenerateChallengeStart";g.l2="GenerateChallengeEnd";g.s1="ApplyLicenseStart";g.r1="ApplyLicenseEnd";})(b.Oa || (b.Oa={}));b.lp=a;a.sha=c;a.$Za=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.ik=t;a.c3=k;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(236);c=a(147);b.Pfc=c;c=a(386);b.yT=c;c=a(391);b.mV=c;b.mja=t.XP.je.sidx;t=a(890);b.Rw=t.Rw;t=a(245);b.vG=t.vG;t=a(895);b.Qw=t.Qw;b.FP=t.FP;t=a(896);b.qha=t.qha;t=a(83);b.VG=t.VG;a=a(897);b.$n=a.$n;},function(t,b,a){var k,g,h,d;function c(f,l,m){var n,p,u;l=k.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{ubb:l,no:m}));if((null === f || void 0 === f?0:f.no) && m)if(!0 === f.no)l.args=m;else {p={};l.args=p;try{for(var q=k.__values(f.no),r=q.next();!r.done;r=q.next()){u=r.value;p[u]=m[u];}}catch(w){var v;v={error:w};}finally{try{r && !r.done && (n=q.return) && n.call(q);}finally{if(v)throw v.error;}}}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.ru=b.gta=b.jb=void 0;k=a(0);g=a(10);h=k.__importDefault(a(4));d=a(7);b.jb=function(f){return function(l,m,n){var p;p=n.value;n.value=function(){var q,r,u,v,w,x;r=b.gta(this);if(r)(u=c(f,this,arguments),v=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(m),w=r.$U(v,u,null === f || void 0 === f?void 0:f.ol,null === f || void 0 === f?void 0:f.wmc));q=null === r || void 0 === r?void 0:r.rpa;r && (r.rpa=w);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);d.Oua(x) && (x=x.then(function(z){w && (null === f || void 0 === f?0:f.return) && (w.data.resolve=z);return z;},function(z){w && (w.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{r && (r.rpa=q);w && (w.data || (w.data={}),y?(w.data.error="" + y,null === r || void 0 === r?void 0:r.ZFb(w)):(null === f || void 0 === f?0:f.return) && !d.Oua(x) && (w.data.lRet=x));}};};};b.gta=function(f){if(null === f || void 0 === f?0:f.Qja)return f.Qja;};t=(function(){function f(l){this.Dr=[];this.j5=!1;this.Qka={};this.J=k.__assign({Gr:10},l);Object.defineProperties(l.kq,{Qja:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.J.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.j5;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{EWb:{get:function(){return k.__spread(this.Dr);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{YTb:{get:function(){return this.Qka;},enumerable:!1,configurable:!0}});f.prototype.Iu=function(l){var m,n;if(!this.j5){n=null === (m=b.gta(this.J.kq)) || void 0 === m?void 0:m.rpa;n && (n.data=k.__assign(k.__assign({},n.data),l));}};f.prototype.$U=function(l,m,n,p){var q,r,u,v;if(!this.j5){u=!1;v=null === (r=(q=this.J).Hma) || void 0 === r?void 0:r.call(q,this.J.kq);q=c({},this.J.kq);m=k.__assign(k.__assign(k.__assign({},v),q),m);v=0 < Object.keys(m).length;m={methodName:l,data:v?m:void 0,time:h.default.time.ia()};p && this.Qka[l]++;n && this.Dr.length && (n=this.Dr[this.Dr.length - 1],n.methodName === l && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=m,u=!0));this.$Fb(m);u || this.Dr.push(m);this.Dr.length > this.J.Gr && this.Dr.shift();return m;}};f.prototype.$Fb=function(l){var m;g.W && (null === (m=this.J.console) || void 0 === m?void 0:m.trace(this.J.source + "::" + l.methodName,l.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.J,l);};f.prototype.ZFb=function(l){var m;g.W && (null === (m=this.J.console) || void 0 === m?void 0:m.error(this.J.source + "::" + l.methodName,l.data));};f.prototype.xb=function(){Object.defineProperties(this.J.kq,{Qja:{enumerable:!1,value:null,configurable:!0}});this.j5=!0;this.clear();};f.prototype.clear=function(){this.Dr=[];this.Qka={};};return f;})();b.ru=t;},function(t,b,a){var k,g;function c(h,d){var f;f=b.qp[0];f == d && (f=b.qp[1]);f?f.close(function(){c(h,d);}):h && h(k.Lg);}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=b.rOa=b.Dia=b.Eia=b.WC=b.Fia=b.sOa=b.Iia=b.Hia=b.qp=b.vOa=b.Gia=void 0;k=a(16);g=a(23);b.Gia=c;b.vOa=function(h,d){switch(h){case b.sOa:b.Hia.push(d);return;case b.Fia:b.Iia.push(d);return;}(0,g.ib)(!1);};b.qp=[];b.Hia=[];b.Iia=[];b.sOa=1;b.Fia=3;b.WC={index:0,tab:void 0,lra:void 0};b.Eia="network";b.Dia="media";b.rOa="timedtext";b.tOa="playback";},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Q9=b.$s=b.R9=b.BE=b.Ko=b.kf=void 0;t=a(75);c=a(59);k=a(13);b.kf=new t.$k();b.Ko=1;b.BE=2;b.R9=3;b.$s=4;b.Q9=5;(0,c.fg)(function(){var h,d,f;function g(l,m){if(d)d.on(l,m);else mb.addEventListener(l,m);}h=mb.jQuery;d=h && h(mb);h=(h=mb.netflix) && h.cadmium && h.cadmium.addBeforeUnloadHandler;f=k.Dh.hidden;h?h(function(l){b.kf.Wc(b.Ko,l);}):g("beforeunload",function(l){b.kf.Wc(b.Ko,l);});g("keydown",function(l){b.kf.Wc(b.BE,l);});g("resize",function(){b.kf.Wc(b.R9);});k.Dh.addEventListener("visibilitychange",function(){f !== k.Dh.hidden && (f=k.Dh.hidden,b.kf.Wc(b.$s));});});(function(){mb.addEventListener("error",function(g){b.kf.Wc(b.Q9,g);return !0;});})();},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);t=(function(){function k(g,h){this.key=g;this.value=h;}k.prototype.toString=function(){return this.key === c.RC?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return k;})();b.Metadata=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iu="EmeConfigSymbol";},function(t,b){function a(c){var k;k=Error.call(this,"TimeoutError");this.message=k.message;("stack" in k) && (this.stack=k.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.GG=b.us=void 0;ka(a,Error);b.us=a;b.GG="PromiseTimerSymbol";},function(t,b,a){var k,g,h;function c(d,f){this.jx=f?[f]:[];this.Rka="$op$" + h++;this.Pa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Xb=void 0;k=a(16);g=a(23);h=0;c.prototype.addListener=function(d,f){var l;l=this;(0,g.vpa)(d);(0,g.ib)(0 > this.jx.indexOf(d));d[k.B3 + this.Rka]=f;this.jx=this.jx.slice();this.jx.push(d);this.jx.sort(function(m,n){return l.a$b(m,n);});};c.prototype.removeListener=function(d){var f;(0,g.vpa)(d);this.jx=this.jx.slice();0 <= (f=this.jx.indexOf(d)) && this.jx.splice(f,1);};c.prototype.set=function(d,f){if(this.Pa !== d){f={oldValue:this.Pa,newValue:d,bn:f};this.Pa=d;d=this.jx;for(var l=d.length,m=0;m < l;m++){d[m](f);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(l){function m(n){if(d(n.newValue))return (f.removeListener(m),l(n.newValue));}if(d(f.Pa))return l(f.Pa);f.addListener(m);});};c.prototype.a$b=function(d,f){return (d[k.B3 + this.Rka] || 0) - (f[k.B3 + this.Rka] || 0);};Va.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Pa;}}});b.Xb=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mw=b.bia=b.ResponseType=void 0;b.ResponseType={Text:1,vjc:2,Kmb:3};b.bia="OPEN_CONNECT_APPLIANCE";b.Mw="LegacyHttpSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eh={Kva:"logblob",ea:"manifest",mXb:"licensedmanifest",vh:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Ysb={WPa:"X-Netflix.Request.Attempt",bja:"X-Netflix.Client.Request.Name",dFa:"x-netflix.browsername",eFa:"x-netflix.browserversion",GMa:"x-netflix.osname",HMa:"x-xetflix.osversion",NFa:"x-netflix.clienttype",SRa:"x-netflix.uiversion"};b.XC={WPa:"reqAttempt",bja:"reqName",dFa:"browsername",eFa:"browserversion",GMa:"osname",HMa:"osversion",NFa:"clienttype",SRa:"uiversion"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tu="Utf8EncoderSymbol";},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zk=void 0;c=a(0);k=a(2);g=c.__importDefault(a(28));h=c.__importDefault(a(151));d=a(400);f=a(20);t=a(35);l=a(176);m=a(247);a=a(74);n=(function(p){function q(r,u,v){var w;w=p.call(this,r,u) || this;q.za(w,r,u,v);return w;}c.__extends(q,p);q.za=function(r,u,v,w){var x;l.Fw.za(r,u,v);r.pe=v.index;r.sM=v.Ua;r.dx=v.fb;r.Qzb=v.cb?v.cb:u.cb;r.sK=v.sK;r.Bsa=w;r.ATa=! !v.nv;r.eUa=! !v.Oo;r.hVa=null !== (x=v.region) && void 0 !== x?x:0;r.zTa=! !v.mra;r.dUa=! !v.cy;r.ta=void 0 === v.Q8 || void 0 === v.wra || v.Q8 === v.Ua && v.wra === v.fb?r:new m.EC(r,{Ua:v.Q8,fb:v.wra});r.axb=v.Qwa;r.mub=v.wk;r.hwb=u.DTb;r.lk=v.Ca?r.Xab(v.Ca):void 0;r.IVa=v.nC;r.Pe=!1;};q.A_a=function(r){for(var u=new Uint32Array(r.length),v=new Uint32Array(r.length),w=new Uint8Array(r.length),x=new Uint8Array(r.length),y=0,z,A,B=0;B < r.length;++B){z=r[B];A=z.cd;u[B]=z.dx - z.sM;v[B]=A;w[B]=z.stream.Lf;void 0 !== z.cb && null !== z.cb && (x[B]=z.cb);y+=A;}return new d.nja(u,v,w,x,r.length?r[0].U:1E3,y);};Object.defineProperties(q.prototype,{LE:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cb:{get:function(){return this.Qzb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yna:{get:function(){return 8 * this.aa / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ua:{get:function(){return this.sM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fb:{get:function(){return this.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qj:{get:function(){var r,u;return null !== (u=null === (r=this.Bsa) || void 0 === r?void 0:r.call(this)) && void 0 !== u?u:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nv:{get:function(){return this.ATa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Oo:{get:function(){return this.eUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.hVa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mra:{get:function(){return this.zTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cy:{get:function(){return this.dUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qwa:{get:function(){return this.axb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wk:{get:function(){return this.mub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ca:{get:function(){return this.lk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nC:{get:function(){return this.IVa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Q8:{get:function(){return this.ta.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wra:{get:function(){return this.ta.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{BOb:{get:function(){return this.ta.dv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T8:{get:function(){return this.ta.Ad;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{d3a:{get:function(){return this.ta.$e;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{c3a:{get:function(){return this.ta.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xra:{get:function(){return this.ta.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{AOb:{get:function(){return this.ta.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Px:{get:function(){var r;r=this.BOb;k.assert(r);return r / this.stream.ka.Xa;},enumerable:!1,configurable:!0}});q.prototype.dwa=function(r){this.ATa=! !r;};q.prototype.b$a=function(){this.eUa=!0;};q.prototype.X8b=function(r){this.sK={oe:r.T3a(),get W$() {return r.tw;}};};q.prototype.eR=function(r){this.IVa=r;};q.prototype.U8b=function(r,u,v){this.hVa=r;this.zTa=u;this.dUa=v;};q.prototype.ti=function(r){var u,v;void 0 === r && (r={});u=this.stream.ka.Xa;v=this.lk || ({start:0,end:this.Px});r=this.Xab(r);this.ta && this.ta !== this || (this.ta=new m.EC(this,this));r.start > v.start && (this.sM=this.ta.Ua + r.start * u);r.end < v.end && (this.dx=this.ta.Ua + r.end * u);this.lk=c.__assign(c.__assign({},v),r);};q.prototype.aqa=function(r){void 0 === r && (r=1);this.lk?this.ti({start:this.lk.start + r,end:this.lk.end}):this.ti({start:r});};q.prototype.bqa=function(r){this.lk?this.ti({start:this.lk.start,end:(this.lk.end || 0) - r}):this.ti({start:0,end:-r});};q.prototype.Ij=function(){this.Ca?this.ti({start:this.Ca.start,end:this.Ca.start}):this.ti({start:0,end:0});};q.prototype.Y8b=function(r){this.lk || this.ti();this.lk.Tda=r;};q.prototype.ugb=function(r){this.lk || this.ti();this.lk.hv=!0;r && (this.lk.e2a=r);};q.prototype.vgb=function(r){this.lk || this.ti();this.lk.jv=!0;r && (this.lk.f2a=r);};q.prototype.D2a=function(r){var v;if(!(r < this.ba || r >= this.Ma) && this.wk && this.wk.length){r=new f.M(r + 1 - this.ba,1E3).Dk(this.stream.ka);for(var u=this.wk.length - 1;0 <= u;--u){v=this.wk[u];if(v.Wi <= r)return v;}return {Wi:0,Nd:this.xra};}};q.prototype.XNb=function(r){var v;if(!(r < this.ba || r >= this.Ma) && this.wk && this.wk.length){r=new f.M(r + 1 - this.ba,1E3).Dk(this.stream.ka);for(var u=this.wk.length - 1;0 <= u;--u){v=this.wk[u];if(v.Wi <= r)return v;}return {Wi:0,Nd:this.xra};}};q.prototype.u2a=function(r,u){var v,w,x;if(!(r < this.ba || r >= this.Ma)){if(!u && this.hwb)return {Wi:0,Nd:this.ba};v=this.ka.Xa;w=this.ka.U;x=Math.floor(this.dv / v);r=Math.min((u?Math.ceil:Math.floor)((f.M.wab(r,w) - this.Ua + (u?-1:1) * (w / 1E3 - 1)) / v),x);v=f.M.vea(this.Ua + r * v,w);return r === x?void 0:{Wi:r,Nd:v};}};q.prototype.ara=function(r){return this.mediaType === g.default.$a.Jb?this.D2a(r):this.u2a(r,!1);};q.prototype.$qa=function(r){return this.mediaType === g.default.$a.Jb?this.XNb(r):this.u2a(r,!0);};q.prototype.p6=function(r){this.cd+=r.aa;this.dx=r.fb;this.lk && (this.ta=new m.EC(this,{Ua:this.Q8,fb:this.dx}),this.lk.end=this.Px);};q.prototype.Eza=function(r){var u,v,w;u={type:"logdata",target:"endplay",fields:{}};v=this.mediaType === g.default.$a.cc?"audioedit":"videoedit";w=[this.T8 === this.ba?this.Ec:this.Zc,this.T8 === this.ba?-this.duration:this.duration];r && w.push(r);u.fields[v]={type:"array",value:w};return u;};q.prototype.toString=function(){return "[" + this.Qa + ", " + this.bitrate + "kbit/s, c:" + (this.Zc + "-" + this.Ec + ",p:") + (this.Ad + "-" + this.$e + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var r;r=l.Fw.prototype.toJSON.call(this);h.default({index:this.index,startPts:this.ba,endPts:this.Ma,"contentStartTicks:":this.Ua,contentEndTicks:this.fb,contentStartPts:this.Zc,contentEndPts:this.Ec,fragmentStartPts:this.T8 !== this.ba?this.T8:void 0,fragmentEndPts:this.d3a !== this.Ma?this.d3a:void 0,edit:this.Ca},r);return r;};q.prototype.C2a=function(r){var v;if(this.wk)for(var u=0;u < this.wk.length;++u){if(this.wk[u].Wi === r)v=this.wk[u].offset;}return v;};q.prototype.Xab=function(r){var u,v;u=r.start || 0;v=void 0 === r.end?this.Px:Math.min(this.Px,Math.max(u,0 > r.end?this.Px + r.end:r.end));return c.__assign(c.__assign({},r),{start:u,end:v});};return q;})(l.Fw);b.Zk=n;t.Je(a.eu,n);t.Je(a.bz,n);},function(t,b,a){var d;function c(f,l){return void 0 === f?void 0:0 === f?d.M.La:new d.M(f,l);}function k(f,l){return f && Math.floor(d.M.vea(f,l));}function g(f,l){return void 0 === f || void 0 === l?void 0:f + l;}function h(f,l){return void 0 === f || void 0 === l?void 0:f - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.bz=b.eu=void 0;d=a(20);t=(function(){function f(){}Object.defineProperties(f.prototype,{dv:{get:function(){return h(this.fb,this.Ua) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{r3b:{get:function(){return g(this.Ua,this.qj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{o3b:{get:function(){return g(this.fb,this.qj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ev:{get:function(){return c(this.dv,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dc:{get:function(){return c(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hd:{get:function(){return c(this.fb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rd:{get:function(){return c(this.r3b,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qc:{get:function(){return c(this.o3b,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wya:{get:function(){return c(this.qj,this.U);},enumerable:!1,configurable:!0}});return f;})();b.eu=t;t=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return h(this.Ma,this.ba) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return k(g(this.Ua,this.qj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return k(g(this.fb,this.qj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jw:{get:function(){return k(this.qj,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bk:{get:function(){return k(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zc:{get:function(){return k(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ec:{get:function(){return k(this.fb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ad:{get:function(){return k(g(this.Ua,this.qj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$e:{get:function(){return k(g(this.fb,this.qj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{en:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{UB:{get:function(){return this.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ay:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});return f;})();b.bz=t;},function(t,b,a){var k,g;function c(){var h,d;h=this;this.wu={};this.on=function(f,l,m){h.addListener(f,l,m);};this.addListener=function(f,l,m){h.wu && (h.wu[f]=h.wu[f] || new g.Tia(!0)).add(l,m);};this.removeListener=function(f,l){h.wu && h.wu[f] && h.wu[f].removeAll(l);};this.csa=function(f){return h.wu && h.wu[f]?h.wu[f].flatten():[];};d=this;this.Wc=function(f,l,m){var n;if(d.wu){n=d.csa(f);for(f={gL:0};f.gL < n.length;(f={gL:f.gL},f.gL++)){m?(function(p){return function(){var q;q=n[p.gL];(0,k.fg)(function(){q(l);});};})(f)():n[f.gL].call(this,l);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.$k=void 0;k=a(59);g=a(350);c.prototype.di=function(){this.wu=void 0;};b.$k=c;},function(t,b,a){var k,g,h,d,f;function c(l,m,n){this.context=l;this.errorCode=m;this.k7b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bj=void 0;t=a(0);k=a(1);g=a(542);h=a(5);d=a(37);f=a(40);c.prototype.send=function(l,m,n,p,q,r){var u;u=this;r=void 0 === r?f.Sw.pT:r;return this.dQb(l,m,n,r,p,q).then(function(v){return u.context.QKb.send(v.context,v.request);});};c.prototype.dQb=function(l,m,n,p,q,r){var u,v;try{u=this.context.H6b.create(this.context.fB.DA(),m.url,n,q,p);v=this.uDb(m,l,p,r);return Promise.resolve({context:v,request:u});}catch(w){return Promise.reject(w);}};c.prototype.uDb=function(l,m,n,p){return {lf:this.context.lf,log:m,vo:l.name,url:this.context.Mcc((0,g.mYa)(this.context.ci,this.context.ki,l.name,n)),Xza:this.k7b,timeout:(0,h.si)(59),headers:(0,g.lYa)(this.context.ki,this.context.mI),Kn:l.Kn,WCb:p};};c.prototype.Fo=function(l){return l instanceof d.jd?l:(0,g.Fo)(this.errorCode,l);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.hp)()),t.__param(1,(0,k.hp)()),t.__param(2,(0,k.hp)())],a);b.bj=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fu={Request:"Request",oja:"Singleton",j4:"Transient"};b.fk={WFa:"ConstantValue",XFa:"Constructor",iHa:"DynamicValue",Nga:"Factory",Function:"Function",Instance:"Instance",Bqb:"Invalid",DPa:"Provider"};b.Dz={MFa:"ClassProperty",YFa:"ConstructorArgument",Hja:"Variable"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJa="Injector";b.Nw=145152E5;b.PL="ProfileSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cz="Base16EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yz="PboConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XL="TimingApiSymbol";b.eT="MilestoneTimingApiSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pz="IdProviderSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(99);b.VG=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.XSa=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.Djc=function(k,g){return Math.floor(1E3 * k / g);};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){k.prototype.parse.call(this,h);this.Vc=this.Dy([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{xmc:"int32"},{Vpc:"int32"},{offset:32,type:"offset"},{Slc:"int16"},{Pkc:{type:"int8",MBb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.od=!0;return g;})(a(237).default);b.default=t;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="avc1";return g;})(t);b.cmb=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="avc2";return g;})(t);b.dmb=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="avc3";return g;})(t);b.emb=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="avc4";return g;})(t);b.fmb=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="hvc1";return g;})(t);b.Ipb=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="hev1";return g;})(t);b.Bpb=a;t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="av01";return g;})(t);b.bmb=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ew=void 0;t=(function(){function a(c){this.Yd=c;}a.prototype.XAa=function(c){this.Yd=c;};a.prototype.bZa=function(){this.Yd=void 0;};a.prototype.WW=function(c){return this.Yd && this.Yd.Tba && this.Yd.Tba(c);};a.prototype.IO=function(c){this.Yd && this.Yd.KB && this.Yd.KB(c);};a.prototype.rE=function(c){this.Yd && this.Yd.JJ && this.Yd.JJ(c);};a.prototype.CI=function(c){this.Yd && this.Yd.KJ && this.Yd.KJ(c);};a.prototype.V2a=function(c){this.Yd && this.Yd.Gxa && this.Yd.Gxa(c);};a.prototype.qv=function(c){this.Yd && this.Yd.hm && this.Yd.hm(c);};a.prototype.P8=function(c){this.Yd && this.Yd.EZ && this.Yd.EZ(c);};a.prototype.HO=function(c,k,g){this.Yd && this.Yd.DZ && this.Yd.DZ(c,k,g);};a.prototype.vra=function(c,k){this.Yd && this.Yd.Uba && this.Yd.Uba(c,k);};a.prototype.W2a=function(c){this.Yd && this.Yd.Sba && this.Yd.Sba(c);};return a;})();b.Ew=t;t.prototype.Tba=t.prototype.WW;t.prototype.KB=t.prototype.IO;t.prototype.JJ=t.prototype.rE;t.prototype.KJ=t.prototype.CI;t.prototype.hm=t.prototype.qv;t.prototype.EZ=t.prototype.P8;t.prototype.DZ=t.prototype.HO;t.prototype.Gxa=t.prototype.V2a;t.prototype.Uba=t.prototype.vra;t.prototype.Sba=t.prototype.W2a;},function(t){t.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qz="LogMessageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eq={start:"start",stop:"stop",pY:"keepAlive",tO:"engage",splice:"splice"};b.Kga="EventPboCommandFactorySymbol";b.TQa="StartEventPboCommandSymbol";b.ZQa="StopEventPboCommandSymbol";b.gKa="KeepAliveEventPboCommandSymbol";b.OQa="SpliceEventPboCommandSymbol";b.HHa="EngageEventPboCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cj={audio:"audio",video:"video",tea:"timedtext",BCa:"trickplay"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iz="DeviceFactorySymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wj=b.Frb=b.VC=void 0;c=a(15);b.VC=b.VC || (function(k,g,h){return k >= g?k <= h?k:h:g;});b.Frb=function(k,g,h,d,f){return (k - g) * (f - d) / (h - g) + d;};b.wj=function(k){if((0,c.Ja)(k))return (k / 1E3).toFixed(3);};},function(t,b,a){var g,h;function c(d,f,l,m,n){var p,q,u;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():l;if(q && void 0 !== l)throw Error(g.mqb);Reflect.tta(d,f) && (p=Reflect.getMetadata(d,f));l=p[n];if(Array.isArray(l)){q=0;for(var r=l;q < r.length;q++){u=r[q];if(u.key === m.key)throw Error(g.Fob + " " + u.key.toString());}}else l=[];l.push(m);p[n]=l;Reflect.P7(d,p,f);}function k(d,f){return function(l,m){f(l,m,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(56);h=a(41);b.OK=function(d,f,l,m){c(h.jRa,d,f,m,l);};b.w0=function(d,f,l){c(h.kRa,d.constructor,f,l);};b.Qp=function(d,f,l){"number" === typeof l?(d=[k(l,d)],Reflect.Qp(d,f)):"string" === typeof l?Reflect.Qp([d],f,l):Reflect.Qp([d],f);};},function(t,b,a){var k,g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qL=b.zb=void 0;k=a(119);g=a(37);h=a(3);c.jX=function(d){if(d){if(d.includes(b.qL.PB))return k.Am.PB;if(d.includes("fps"))return k.Am.pE;if(d.includes(b.qL.gfa))return k.Am.gfa;}throw new g.jd(h.V.apb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.$ra=function(d){switch(d){case k.Am.PB:return b.qL.PB;case k.Am.pE:return b.qL.pE;default:return b.qL.gfa;}};b.zb=c;c.zz="com.microsoft.playready";c.he="com.microsoft.playready.hardware";c.CG="com.microsoft.playready.software";c.tpb="com.apple.fps.2_0";c.sSa="com.widevine.alpha";c.nOa="com.microsoft.playready.recommendation.3000";c.oOa="com.microsoft.playready.recommendation.2000";c.Lpb=[c.nOa];b.qL={pE:"fairplay",gfa:"widevine",PB:"playready"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Atb="StorageValidatorSymbol";b.DC="AppStorageFactorySymbol";},function(t,b,a){var k,g;function c(h,d,f,l,m){h=void 0 === h?k.V.co:h;return g.jd.call(this,h,d,f,void 0,void 0,l,g.jd.We(m),m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ch=void 0;k=a(3);g=a(37);ka(c,g.jd);b.Ch=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uz="MediaKeySystemAccessServicesSymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(795),b);t.__exportStar(a(796),b);t.__exportStar(a(797),b);t.__exportStar(a(798),b);t.__exportStar(a(799),b);t.__exportStar(a(800),b);t.__exportStar(a(801),b);t.__exportStar(a(802),b);t.__exportStar(a(364),b);t.__exportStar(a(365),b);t.__exportStar(a(803),b);t.__exportStar(a(804),b);t.__exportStar(a(223),b);},function(t,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var r=p.length,u=0,v=d(p),w=d(q),x=0;x < r;x++){u+=p[x] * q[x];}return (u - v * w / r) / r;}return !1;}function k(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=g(p);return Math.sqrt(p);}function g(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=h(p);return d(p.map(function(r){return (r - q) * (r - q);})) / (p.length - 1);}function h(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,r){return q + r;},0):!1;}function f(p,q,r){return Math.max(Math.min(p,r),q);}function l(p,q){return "number" === typeof p?p:q;}function m(p){return 1 / (1 + Math.exp(-p));}n=a(9);t.exports={bb:function(p,q,r){try{p.emit(q,r);}catch(u){p.fl("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",u,"Event:",r);}},Tu:function(){var p,q,r;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(u,v){return u + v.byteLength;},0);r=new Uint8Array(q);p.reduce(function(u,v){r.set(new Uint8Array(v),u);return u + v.byteLength;},0);return r.buffer;},h7:f,fFb:function(p,q,r,u){return {min:f(l(p.min,q),r,u),max:f(l(p.max,q),r,u),uA:f(p.uA || 6E4,0,6E5),HYa:f(p.HYa || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),Jfb:f(p.Jfb || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},Wg:function(p,q){void 0 !== p && n.j2b(p).forEach(function(r){q(r[0],r[1]);});},Bqa:function(p,q,r){return p.min + (p.max - p.min) * (1 - Math.pow(m(6 * (q - (p.uA + (p.HYa || 0) * (1 - r))) / (p.scale + (p.Jfb || 0) * (1 - r))),p.gamma));},NMb:function(p,q){return p.min + (p.max - p.min) * Math.pow(m(6 * (q - p.uA) / p.scale),p.gamma);},imc:d,sPb:h,MSb:g,gmc:k,Zlc:c,Ylc:function(p,q){var r;if(p.length == q.length){r=c(p,q);p=k(p);q=k(q);if(0 < p && 0 < q)return r / (p * q);}return !1;},ii:function(p,q,r){return q.C_a?q.C_a(r):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + r:r);},V7b:function(p){return p.length?"{" + p + "} ":"";},I7b:function(p,q,r){return {min:p.min * r + (1 - r) * q.min,max:p.max * r + (1 - r) * q.max,uA:p.uA * r + (1 - r) * q.uA,scale:p.scale * r + (1 - r) * q.scale,gamma:p.gamma * r + (1 - r) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),mBa:m,fy:function(p){var q;q=p.Sa.Wa.u.id;return {ba:p.ba,duration:p.duration,offset:p.offset,aa:p.aa,bitrate:p.bitrate,profile:p.profile,Bc:p.Bc,Y:q,Qa:p.Qa,ye:p.ye,location:p.location,Ri:p.Ri,Bk:p.Bk,zt:{Wa:{u:{id:q}}}};}};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){if(!g)throw new k(h || "Assertion failed");};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yha="6674654e-696c-5078-6966-665374726d21";b.Zha="6674654e-696c-4878-6165-6465722e7632";b.jMa="6674654e-696c-5078-6966-66496e646578";b.u3="6674654e-696c-4d78-6f6f-6653697a6573";b.t3="6674654e-696c-5378-6565-6b506f696e74";b.UMa="cedb7489-e77b-514c-84f9-7148f9882554";b.TMa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Xha="6674654e-696c-4678-7261-6d6552617465";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dS=b.pmb=b.Efa=b.Ffa=void 0;(function(a){a[a.a1a=0]="downloading";a[a.jLb=1]="downloaded";a[a.Pe=2]="appended";a[a.buffered=3]="buffered";a[a.GQ=4]="removed";a[a.Kpc=5]="unused";})(b.Ffa || (b.Ffa={}));(function(a){a[a.waiting=1]="waiting";a[a.Unc=2]="ondeck";a[a.a1a=4]="downloading";a[a.jLb=8]="downloaded";a[a.aY=6]="inprogress";})(b.Efa || (b.Efa={}));b.pmb="AseBufferViewSymbol";b.dS="AseBufferAccountingSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tia=b.Zn=void 0;t=b.Zn || (b.Zn={});t.AG="PRE_FETCH";t.Rsb="QC";t.Iq="STANDARD";t.Z3="SUPPLEMENTAL";t.Ifc="DOWNLOAD";b.tia="PboManifestCommandSymbol";},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.V5a=b.Kjb=b.Wv=b.Yaa=b.R$a=void 0;t=a(1124);c=a(1127);k=a(1148);a=a(1152);b.R$a=t;b.Yaa=function(g,h){return (0,b.R$a)(function(d,f){return void 0 !== f?f:d;},g,h);};b.Wv=c;b.Kjb=k;b.V5a=a;},function(t,b,a){var l,m,n,p,q,r,u,v,w,x,y,z,A;function c(){this.bg=(0,r.Jj)("Http");this.gl=new l.$k();this.WG=0;this.Wb={ssl:0,"non-ssl":0,invalid:0};this.S3={Dm:1,$tb:2,IEa:3};this.addEventListener=this.gl.addListener;this.removeEventListener=this.gl.removeListener;}function k(B){var C,D,F,G;C=B.url.split("?");D="sc=" + B.O7b;F=B.nYa?"random=" + (1E17 * (0,w.$S)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.wc && !(0,n.Y$)(G) && (B=m.config && m.config.foa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(B,C){var D,F,G;D=B.url.split("?");F=h(B);G=D[0];F && (C.Ht=F,(void 0 === B.$t?m.config.$t:B.$t) || B.Rt !== z.bia?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(C.Ht=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.nYa?"random=" + (1E17 * (0,w.$S)()).toFixed(0):"";m.config.NA && B.Qda && (F="sc=" + B.Qda + (F?"&" + F:""));G=D[1]?G + ("?" + D[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.wc && !(0,n.Y$)(G) && (B=m.config && m.config.foa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function h(B){var C;C=B.offset;if(void 0 !== C)return ((0,u.bW)(C),void 0 !== B.length?(B=C + B.length - 1,(0,u.bW)(B),C + "-" + B):C + "-");}function d(B,C,D,F){var G,E;G=F.fdb;E=F.headers;B.open(G?"POST":"GET",C,!D);switch(F.responseType){case b.RX:B.responseType="arraybuffer";break;case b.Lta:(0,v.zYa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.mg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,v.ve)(C,E):C);E && (0,v.Wg)(E,function(I,L){B.setRequestHeader(I,L);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}function f(B,C){switch(C.type){case b.RX:return B.response || new ArrayBuffer(0);case b.Lta:return B.responseXML;default:return B.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.RX=b.Lta=b.Kta=b.iUb=b.Nta=b.hUb=b.H6a=b.k$=b.lf=b.aub=b.bub=b.gUb=b.Mta=b.dUb=b.eUb=b.cUb=b.fUb=void 0;l=a(75);m=a(18);t=a(16);n=a(43);p=a(60);q=a(3);r=a(8);u=a(23);v=a(25);w=a(13);x=a(59);y=a(15);z=a(70);A=a(1209);c.prototype.L9b=function(B){var C;C=new XMLHttpRequest();B=k(B);C.open("HEAD",B);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};c.prototype.download=function(B,C){var R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca;function D(){var N;if(!U){U=!0;Ca && (mb.clearTimeout(Ca),Ca=null);R.gl.removeListener(b.Nta,I);R.Ela(pa,wa);wa && (wa.onloadstart=null,wa.onreadystatechange=null,wa.onprogress=null,wa.onerror=null,wa.onload=null,wa=wa.onabort=null);pa.ca || (pa.wa != q.R.MC?J.warn("Download failed",S,(0,q.mz)(pa)):J.trace("Download aborted",S));N=T;T=null;null === N || void 0 === N?void 0:N.reduceRight(function(Q,V){(0,x.fg)(function(){return V(pa);});},null);R.gl.Wc(b.H6a,pa,!0);}}function F(){Ca && (mb.clearTimeout(Ca),Ca=null);Ca=mb.setTimeout(L,za?P:M);}function G(N,Q,V,ca){var sa,Ha;pa.ca=!1;pa.wa=N;sa=(0,p.uo)();Ha=pa.dm;Ha.Vi=Ha.Vi || sa;Ha.pq=Ha.pq || sa;Q && 0 < Q && (pa.pl=Q,pa.Ef=Q.toString());V && (pa.Ob=V);ca && (pa.wF=ca);N !== q.R.IS && N !== q.R.jG && N !== q.R.LS || !wa || (wa.onabort=null,K());D();}function E(N){var Q,V;try{V=N.getResponseHeader("X-Netflix.Retry.Server.Policy");V && (Q=JSON.parse(V));}catch(ca){!1;}return Q;}function I(){(0,b.Mta)() || G(q.R.IS);}function L(){G(za?q.R.jG:q.R.LS);}function K(){try{null === wa || void 0 === wa?void 0:wa.abort();}catch(N){}}function H(){G(q.R.MC);}R=this;(0,u.ib)(C);J=(null === (O=null === B || void 0 === B?void 0:B.j) || void 0 === O?0:O.log)?(0,r.Qi)(B.j,"Http"):this.bg;M=B.p7 || m.config.p7;P=B.axa || m.config.axa;S={Num:this.WG++};U=!1;T=[C];W={};this.Izb(B);pa=new A.iJa(B,K,L,W,function(N){U || ((0,u.ib)(T,"Callback should be added before download starts."),T && T.unshift(N));});za=!1;(0,x.fg)(function(){var N,Q;if((0,y.Vua)(B.url))try{if((g(B,pa),ia=pa.url,(0,u.cW)(ia),S.Url=ia,(0,b.Mta)())){!1;wa=new XMLHttpRequest();N=m.config.Zcc && "undefined" != typeof wa.onloadstart;N && (wa.onloadstart=function(){var V;V=(0,p.uo)();W.Qr=V;pa.xZ({mediaRequest:B,timestamp:V});});wa.onreadystatechange=function(){2 === (null === wa || void 0 === wa?void 0:wa.readyState) && (za=!0,W.Vi=(0,p.uo)(),wa.onreadystatechange=null,F(),!1,R.Ela(pa,wa),pa.yZ({timestamp:W.Vi,connect:!0,mediaRequest:B,start:W.Qr,rt:[W.Vi - W.Qr],responseHeaders:pa.headers}));};wa.onprogress=function(V){za=!0;W.SV=V.loaded;F();R.Ela(pa,wa);V={mediaRequest:B,bytes:V.loaded,timestamp:(0,p.uo)(),bytesLoaded:V.loaded,responseHeaders:pa.headers};pa.yZ(V);};wa.onload=function(V){!U && wa && ((0,u.ib)(void 0 === W.pq),W.pq=(0,p.uo)(),W.Vi=W.Vi || W.pq,W.SV=V.loaded,200 <= wa.status && 299 >= wa.status?(V=f(wa,pa),pa.parsed=!1,pa.content=V,pa.ca=!0):420 === wa.status?G(q.R.KS,wa.status):G(q.R.JS,wa.status,wa.response,E(wa)),D());};wa.onabort=H;wa.onerror=function(){var V,ca;if(wa){V=wa.status;"undefined" !== typeof m.config.T2a && (V=m.config.T2a);if(0 < V){if(420 === V)G(q.R.KS,V);else {try{ca=wa.responseText;}catch(sa){}G(q.R.JS,V,ca,E(wa));}}else G(q.R.MS);}};Q=(0,p.uo)();d(wa,ia,!1,B);R.gl.Wc(b.k$,pa,!0);N || (W.Qr=Q,pa.xZ({mediaRequest:B,timestamp:Q}));F();R.gl.addListener(b.Nta,I);}else (0,x.fg)(G.bind(void 0,q.R.IS));}catch(V){J.error("Exception starting download",V,S);G(q.R.cha,void 0,(0,v.We)(V));}else G(q.R.NIa);});return pa;};c.prototype.w4b=function(B){var C,D,F;C=new XMLHttpRequest();D=B.url;F=B.t4b;C.open("HEAD",D);C.timeout=Math.max(2 * F.SXb,m.config.Lya);C.onreadystatechange=function(){2 === C.readyState && (!1,F && F.eQ({url:D}));};C.ontimeout=C.onerror=function(){!1;F && F.ixa({url:D});};C.send();};c.prototype.Izb=function(B){var C;try{C=B.url;(0,y.Vua)(C)?0 === C.indexOf("https")?this.Wb.ssl++:0 === C.indexOf("http")?this.Wb["non-ssl"]++:this.Wb.invalid++:this.Wb.invalid++;}catch(D){}};c.prototype.Ela=function(B,C){var D;if(!B.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=na(F.split(": "));F=G.next().value;G=da(G).join(": ");F && (D[F]=G);});B.headers=D;}};b.fUb=k;b.cUb=function(B){var C,D,F,G;C=B.url.split("?");D="bb_reason=" + B.reason;F=B.nYa?"random=" + (1E17 * (0,w.$S)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.wc && !(0,n.Y$)(G) && (B=m.config && m.config.foa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.eUb=g;b.dUb=h;b.Mta=t.HPa;b.gUb=function(){return !1 !== w.Me.onLine;};b.bub=d;b.aub=f;b.lf=new c();b.k$=1;b.H6a=2;b.hUb=3;b.Nta=4;b.iUb=5;b.Kta=b.lf.S3.Dm;b.Lta=b.lf.S3.$tb;b.RX=b.lf.S3.IEa;mb._cad_global.http=b.lf;},function(t,b,a){b=a(200);t.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(t,b,a){var c;c=a(628);t.exports=function(k){return "symbol" === typeof k?"Symbol":"bigint" === typeof k?"BigInt":c(k);};},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.BG="PlatformConfigDefaultsSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="DebugConfigSymbol";b.fz="DebugSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lga="EventSourceSymbol";b.Oga="GlobalEventSourceSymbol";b.b2="DebugEventSourceSymbol";b.LGa="DiagnosticsEventSourceSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VL="ThrottleFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.BL="LoggerSinksSymbol";},function(t){var l,m,n,p;function b(){b.za.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,r,u,v){var w,x;a(u);w=q.ih;if(void 0 === w)(w=q.ih=Object.create(null),q.aH=0);else {void 0 !== w.Qnc && (q.emit("newListener",r,u.listener?u.listener:u),w=q.ih);x=w[r];}void 0 === x?(w[r]=u,++q.aH):("function" === typeof x?x=w[r]=v?[u,x]:[x,u]:v?x.unshift(u):x.push(u),u=void 0 === q.lU?b.MJb:q.lU,0 < u && x.length > u && !x.Ldc && (x.Ldc=!0,u=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(r) + " listeners added. Use emitter.setMaxListeners() to increase limit"),u.name="MaxListenersExceededWarning",u.Vs=q,u.type=r,u.count=x.length,console && console.warn && console.warn(u)));return q;}function k(){if(!this.G2a)return (this.target.removeListener(this.type,this.plb),this.G2a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(q,r,u){q={G2a:!1,plb:void 0,target:q,type:r,listener:u};r=k.bind(q);r.listener=u;return q.plb=r;}function h(q){var r;r=this.ih;if(void 0 !== r){q=r[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,r,u){"function" === typeof q.on && f(q,"error",r,u);}function f(q,r,u,v){if("function" === typeof q.on){if(v.once)q.once(r,u);else q.on(r,u);}else if("function" === typeof q.addEventListener)q.addEventListener(r,function y(x){v.once && q.removeEventListener(r,y);u(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}l="object" === typeof Reflect?Reflect:null;m=l && "function" === typeof l.apply?l.apply:function(q,r,u){return Function.prototype.apply.call(q,r,u);};n=Number.isNaN || (function(q){return q !== q;});t.exports=b;t.exports.once=function(q,r){return new Promise(function(u,v){function w(y){q.removeListener(r,x);v(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",w);u([].slice.call(arguments));}f(q,r,x,{once:!0});"error" !== r && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.ih=void 0;b.prototype.aH=0;b.prototype.lU=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.za=function(){if(void 0 === this.ih || this.ih === Object.getPrototypeOf(this).ih)(this.ih=Object.create(null),this.aH=0);this.lU=this.lU || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.lU=q;return this;};b.prototype.emit=function(q){var v,w;for(var r=[],u=1;u < arguments.length;u++){r.push(arguments[u]);}v="error" === q;u=this.ih;if(void 0 !== u)v=v && void 0 === u.error;else if(!v)return !1;if(v){0 < r.length && (w=r[0]);if(w instanceof Error)throw w;r=Error("Unhandled error." + (w?" (" + w.message + ")":""));r.context=w;throw r;}u=u[q];if(void 0 === u)return !1;if("function" === typeof u)m(u,this,r);else {w=u.length;v=Array(w);for(var x=0;x < w;++x){v[x]=u[x];}for(u=0;u < w;++u){m(v[u],this,r);}}return !0;};b.prototype.addListener=function(q,r){return c(this,q,r,!1);};b.prototype.on=b.prototype.addListener;b.prototype.YZ=function(q,r){return c(this,q,r,!0);};b.prototype.once=function(q,r){a(r);this.on(q,g(this,q,r));return this;};b.prototype.Bya=function(q,r){a(r);this.YZ(q,g(this,q,r));return this;};b.prototype.removeListener=function(q,r){var u,v,w,x,y;a(r);v=this.ih;if(void 0 === v)return this;w=v[q];if(void 0 === w)return this;if(w === r || w.listener === r)0 === --this.aH?this.ih=Object.create(null):(delete v[q],v.removeListener && this.emit("removeListener",q,w.listener || r));else if("function" !== typeof w){x=-1;for(u=w.length - 1;0 <= u;u--){if(w[u] === r || w[u].listener === r){y=w[u].listener;x=u;break;}}if(0 > x)return this;if(0 === x)w.shift();else {for(;x + 1 < w.length;x++){w[x]=w[x + 1];}w.pop();}1 === w.length && (v[q]=w[0]);void 0 !== v.removeListener && this.emit("removeListener",q,y || r);}return this;};b.prototype.IB=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var r,u,v;r=this.ih;if(void 0 === r)return this;if(void 0 === r.removeListener)return (0 === arguments.length?(this.ih=Object.create(null),this.aH=0):void 0 !== r[q] && (0 === --this.aH?this.ih=Object.create(null):delete r[q]),this);if(0 === arguments.length){u=Object.keys(r);for(r=0;r < u.length;++r){v=u[r];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.ih=Object.create(null);this.aH=0;return this;}u=r[q];if("function" === typeof u)this.removeListener(q,u);else if(void 0 !== u)for(r=u.length - 1;0 <= r;r--){this.removeListener(q,u[r]);}return this;};b.prototype.listeners=function(q){var r;r=this.ih;if(void 0 === r)q=[];else if((q=r[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {r=Array(q.length);for(var u=0;u < r.length;++u){r[u]=q[u].listener || q[u];}q=r;}return q;};b.listenerCount=function(q,r){return "function" === typeof q.listenerCount?q.listenerCount(r):h.call(q,r);};b.prototype.listenerCount=h;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.D1=b.uj=void 0;c=a(0);t=c.__importDefault(a(11));k=c.__importStar(a(9));g=t.default.Zf;h=c.__importDefault(a(4));d=h.default.ns;f=a(173);l=c.__importDefault(a(145));m=a(7);t=a(35);a(2);a(925);n=a(177);p=a(176);(function(r){r[r.srb=0]="NOTHING_APPENDED";r[r.Lrb=1]="PARTIAL";r[r.Jw=2]="COMPLETE";r[r.Yf=3]="ERROR";})(q=b.uj || (b.uj={}));a=(function(r){function u(v,w,x,y,z,A,B){w=r.call(this,w,x) || this;w.uwb=! !y.Bc;n.XF.za(w,v,y,z,A,B);p.Fw.za(w,v,y);w.s4=v.r5a(w.Bc,w.TE);v.Oc && (w.s4+=(-1 === w.s4.indexOf("?")?"?":"&") + "p=LIVE");w.Pja=y.responseType;w.eub=y.Qda;void 0 === w.Pja && (w.Pja=d.Kc && !d.Kc.H_.uT?0:1);w.Fi=new g();w.Fi.on(w,d.Ke.CMa,w.sla);w.Fi.on(w,d.Ke.BMa,w.Sxb);w.Fi.on(w,d.Ke.DMa,w.Vxb);w.Fi.on(w,d.Ke.iT,w.rla);w.Fi.on(w,d.Ke.aic,w.Rxb);w.Fi.on(w,d.Ke.zG,w.mU);w.aM=!1;w.Ne=!1;w.Mm=!1;w.Cp=!1;w.XT=!1;w.Ryb=y.E_;w.czb=y.eC;w.Dt=0;return w;}c.__extends(u,r);Object.defineProperties(u.prototype,{Bc:{get:function(){return this.uwb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{active:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jza:{get:function(){return this.Mm;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return !this.aM && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aborted:{get:function(){return this.aM;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Hua:{get:function(){return this.Cp && !this.XT;},enumerable:!1,configurable:!0}});u.prototype.za=function(v){var w;n.XF.prototype.za.call(this,v);if(!this.Ap && (this.Qe.tma || !this.Bc) && (v=this.Ap=l.default.instance(),this.active)){w=h.default.time.ia();v.LQ(w,this.vF);this.Mm && (v.cfb(),w=this.lK,this.connect && 0 < w.length && v.iA(w[0]));}};u.prototype.kt=function(){return this.Pe || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};u.prototype.NH=function(v,w,x,y){var z;this.Pe=v.appendBuffer(y || this.response,x || m.fy(this));null === (z=this.o5) || void 0 === z?void 0:z.L0b();return {status:this.Pe?q.Jw:q.Yf};};u.prototype.MJ=function(){var v;null === (v=this.o5) || void 0 === v?void 0:v.g1b();(this.Cp=d.prototype.open.call(this,this.s4,{start:this.offset,end:this.offset + this.aa - 1},this.Pja,{},void 0,void 0,this.eub,this.stream.Rt)) && this.WW(this);return this.Cp;};u.prototype.abort=function(){var v,w;if(this.aborted)return !0;v=this.Ne;w=this.Ap;w && v && w.z_(h.default.time.ia(),this.Mm,this.vF);this.aM=!0;this.Mm=this.Ne=!1;d.prototype.abort.call(this);this.HO(this,v,this.Hua);return !0;};u.prototype.Yc=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Fi && this.Fi.clear();r.prototype.Yc.call(this);};u.prototype.sla=function(){var v,w;w=this.Gf || this.loadTime;null === (v=this.o5) || void 0 === v?void 0:v.$0b();f.dz.instance().push(h.default.time.ia() - w);this.Ne || (this.Ne=!0,this.Jv=this.track.Jv(),this.stream.J.d$a || (v=this.Ap) && v.LQ(w,this.vF),this.IO(this),this.gw=this.Gf);};u.prototype.Sxb=function(){var v,w,x,y;null === (v=this.o5) || void 0 === v?void 0:v.W0b();v=this.Gf || this.gra;w=this.connect;x=this.lK;f.dz.instance().push(h.default.time.ia() - v);this.Ne || (this.Ne=!0);if(!this.Mm){this.Mm=!0;y=this.Ap;this.stream.J.d$a && y && y.LQ(v,this.vF);y && y.cfb();w && 0 < x.length && y && y.iA(x[0]);this.rE(this);this.gw=v;0 >= this.aa && (v=this.aa,this.x8b(this.Ae),this.vra(this,v));this.stream.Oc && (v=this.fyb()) && (h.default.time.now(),this.stream.O.fgb=h.default.time.ia() - v);}};u.prototype.Vxb=function(){var v,w,x;v=this.Gf;w=this.bytesReceived - this.Dt;f.dz.instance().push(h.default.time.ia() - v);this.Mm || (this.Mm=!0);x=this.Ap;x && (void 0 === this.gw || x.DD(w,this.gw,v,this.vF),(w=this.lK) && w.length && w.forEach(function(y){x.hA(y);}));this.CI(this);this.gw=v;this.Dt=this.bytesReceived;};u.prototype.rla=function(){var v,w,x;null === (v=this.o5) || void 0 === v?void 0:v.uZ();v=this.Gf;w=this.bytesReceived - this.Dt;f.dz.instance().push(h.default.time.ia() - v);x=this.Ap;x && (0 < w && x.DD(w,this.gw,v,this.vF),(w=this.lK) && w.length && w.forEach(function(y){x.hA(y);}),x.z_(v,this.Mm,this.vF));this.Mm=this.Ne=!1;this.XT=!0;this.qv(this);this.gw=v;this.Dt=this.bytesReceived;this.Yc();};u.prototype.Rxb=function(){this.W2a(this);};u.prototype.Rvb=function(){var v,w;v=(v=this.stream)?v.toString():this.url;w=this.EN;w && (v+=",range " + w.start + "-" + w.end);return v;};Object.defineProperties(u.prototype,{vF:{get:function(){return {requestId:this.Rvb(),Fk:this.ye,type:this.mediaType,E_:this.Ryb,aa:this.aa,bytesReceived:this.bytesReceived,eC:this.czb};},enumerable:!1,configurable:!0}});u.prototype.mU=function(){var v,w,x,y;this.G.warn("AseMediaRequest._onError:",this.toString());v=this.Gf;w=this.status;x=this.Xg;y=this.lj;f.dz.instance().push(h.default.time.ia() - v);this.complete?this.G.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.G.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):k.Ja(x)?((x=this.Ap) && this.Qe && this.Qe.Fza && this.loadTime && void 0 === w && x.DD(this.Dt?this.bytesReceived - this.Dt:this.bytesReceived,this.gw?this.gw:this.loadTime,v,this.vF),this.P8(this)):this.G.warn("ignoring undefined request error (nativecode: " + y + ")");};u.prototype.fyb=function(){var v,w;v=this.getResponseHeader("X-TCP-Info");if(v){v.split(";").some(function(x){if(0 === x.indexOf("sc="))return (w=x.slice(3),!0);});if(w)return (v=new m.Oja("LIVE").decrypt(w,!0),v=v.slice(2,v.length - 2),v=v.slice(v.indexOf("=") + 1),1E3 * parseFloat(v));}};return u;})(d);b.D1=a;t.Je(n.XF,a,!1);t.Je(p.Fw,a,!1);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tG="ManifestFetcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OG="VideoPreparerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NL=b.FG=void 0;t=b.FG || (b.FG={});t.Ugc="ident";t.Eha="main";t.yFa="credits";b.NL="PlaygraphHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yo=void 0;b.Yo=function(a,c){return [].concat.apply([],ha(a)).map(function(k){return Object.assign({name:k},null !== c && void 0 !== c?c:{});});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tob=b.Am=void 0;t=b.Am || (b.Am={});t[t.PB=0]="playready";t[t.gfa=1]="widevine";t[t.pE=2]="fairplay";t[t.Kkc=3]="clearkey";b.Tob="DrmTypeSymbol";},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Od=void 0;k=a(26);c.H_a=function(g){var h;h={};h[k.qf.tT]=c.n2;h[k.qf.s2]=c.n2;h[k.qf.YL]=c.Uga;h[k.qf.wL]=c.wL;h[k.qf.Kw]=g || c.Kw;h[k.qf.CC]=c.n2;h[k.qf.aD]=c.BT;h[k.qf.Ml]=c.Ml;return h;};b.Od=c;c.Gwa='video/mp4; codecs="avc1.4d0028"';c.n2="avc1.4d0028";c.Uga="hev1.1.6.L93.B0";c.nga="dvhe.05.01";c.qGa="dvhe.05.04";c.oga="dvhe.05.05";c.pga="dvhe.05.06";c.qga="dvhe.05.07";c.rga="dvhe.05.09";c.Kw=c.nga;c.wL=c.Uga;c.qfa="mp4a.40.2";c.Fz="mp4a.40.42";c.Hnb="ec-3";c.BT="vp09.00.11.08.02";c.Ml="av01.0.04M.08";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aHa="DrmServicesSymbol";b.f2="DrmServicesProviderSymbol";},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JG=void 0;t=a(0);a=a(1);c.prototype.format=function(g,h){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(l,m){return "undefined" != typeof f[m]?f[m]:l;});};c.prototype.Yhb=function(g){for(var h=g.length,d=new Uint16Array(h),f=0;f < h;f++){d[f]=g.charCodeAt(f);}return d.buffer;};c.prototype.aib=function(g){return JSON.stringify(g,null,"  ");};k=c;k=t.__decorate([(0,a.X)()],k);b.JG=k;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zm=void 0;c=a(0).__importDefault(a(4));k=a(98);t=(function(){function g(h){this.G=new c.default.Console("ASEJS","media|asejs","(" + h + ")");this.kla=[];}g.prototype.Wp=function(h){this.kla[h] || (this.kla[h]=k.ii(c.default,this.G,"[" + h + "]"));return this.kla[h];};return g;})();b.zm=new t(0);},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Dq=void 0;c=a(0);k=c.__importDefault(a(28));g=c.__importDefault(a(4));h=a(926);t=(function(){function d(f){this.$L=f;this.Ie=[];this.console=new g.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var f;if(void 0 === d.EM){f=a(4).default;d.EM=new d(f.pL);}return d.EM;},enumerable:!1,configurable:!0}});d.reset=function(){d.EM=void 0;};d.prototype.Yu=function(f,l,m,n,p,q){var r,u,v,w;r=!1;u=q.p9b?this.RNb(m,l,f,q.q9b):-1;if(-1 === u){v={track:this.lIb(m,n,f,p,q),Zj:m,I:l,Sdb:f,tF:[],Zm:!1,fO:!1};this.Ie.push(v);w=function(){v.Zm=!0;v.track.removeListener("created",w);};v.track.on("created",w);r=!1;}else (r=!0,v=this.Ie[u]);f=new h.$Pa(this.console,v.track,v.Zm,r);v.tF.push(f);return f;};d.prototype.eO=function(f){var l,m;f.kr();l=this.RW(function(n){return n.track === f.track;});if(-1 !== l){if((l=this.Ie[l],1 === l.tF.length))(l.track.kr(),l.fO=!0);else {m=l.tF.indexOf(f);0 <= m && l.tF.splice(m,1);}}else f.track.kr();};d.prototype.gg=function(){this.$L.gg();};d.prototype.lIb=function(f,l,m,n,p){var q,r,u,v;q=this;r=!1;u=!1;f?1 === m?(f=!1,l=1,p.Ir?(f=!0,l=p.IP):p.iy && 2 < p.iy && (f=!0,l=p.iy),u=p.Akb || !f,u={type:this.$L.Jb,openRange:u,pipeline:f,connections:l,socketBufferSize:p.RR,minRequestSize:p.TP}):0 === m?(r=p.Ir && (p.Ucc || l && p.Vcc),u=p.Akb || !r,u={type:this.$L.cc,openRange:u,pipeline:r,connections:1,socketBufferSize:p.K6,minRequestSize:p.TP}):u={type:p.IKb?this.$L.Jb:this.$L.zpb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.yta,minRequestSize:p.TP}:u={type:0 === m?k.default.$a.cc:k.default.$a.Jb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === m?p.K6:p.RR,minRequestSize:p.TP};v=new this.$L(u,n);v.on("transportreport",function(w){var x;x=q.RW(function(y){return y.track === v;});-1 !== x && (x=q.Ie[x],x.tF.length && x.tF[0].emit("transportreport",w));});v.on("mediaRequestComplete",function(w){var x;x=q.RW(function(y){return y.track === v;});-1 !== x && (x=q.Ie[x],x.tF.length && x.tF[0].emit("mediaRequestComplete",w));});v.on("destroyed",function(){var w;w=q.RW(function(x){return x.track === v;});-1 !== w && q.Ie.splice(w,1);v.removeAllListeners();});if(r && p.Tcc || p.Ckb)v.on("pipelinedisabled",function(){p.Ckb && 1 === v.config.type?v.Tca(c.__assign(c.__assign({},v.config),{socketBufferSize:p.b_b,pipeline:!1,openRange:!0,connections:1})):v.Tca(c.__assign(c.__assign({},v.config),{pipeline:!1,openRange:!0}));});return v;};d.prototype.RNb=function(f,l,m,n){return this.RW(function(p){return !p.fO && (!n && p.track.config.Xnc || !f?!p.Zj && p.Sdb === m:p.Zj && p.I === l && p.Sdb === m);});};d.prototype.RW=function(f){for(var l=0;l < this.Ie.length;++l){if(f(this.Ie[l]))return l;}return -1;};return d;})();b.Dq=t;},function(t,b,a){var g,h,d,f,l,m,n;function c(p){return p && "function" === typeof p.di?!0:!1;}function k(p){return c(p) && (p=typeof p.GVb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Enb=b.aNb=b.FVb=b.omb=b.AsyncIterator=void 0;g=a(0);h=a(10);f=(function(){function p(q){var r;r=this;this.gwb=q;this.dU=!1;this.wyb=function(u){return r.B4b(u);};this.h_a();}p.AWb=function(q,r){function u(){var v;v=q.next();v.then(function(w){k(q) && q.GVb || r(w);});v.then(function(w){return !w.done && u();});}u();};Object.defineProperties(p.prototype,{mt:{get:function(){return this.dU;},enumerable:!1,configurable:!0}});p.d4a=function(){return new l([]);};p.Zsa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{oP:{get:function(){return this.Hm || !1;},enumerable:!1,configurable:!0}});p.prototype.di=function(){this.cancel();};p.prototype.cancel=function(){this.NUa();this.Hm=!0;return this.cka;};p.prototype.next=function(){return this.Hm?this.cka:Promise.race([this.cka,this.gwb()]).then(this.wyb);};p.prototype.B4b=function(q){q.done && (this.dU=!0,this.di());this.oP || (this.NUa(),this.h_a());return q;};p.prototype.h_a=function(){var q;q=this;this.cka=new Promise(function(r){q.NUa=function(){r({done:!0});};});};return p;})();b.AsyncIterator=f;l=(function(p){function q(r){var u;u=p.call(this,function(){return u.mRb();}) || this;u.kA=r;u.index=0;return u;}g.__extends(q,p);q.prototype.di=function(){c(this.kA) && this.kA.di();p.prototype.di.call(this);};q.prototype.mRb=function(){return this.kA.length > this.index?Promise.resolve({value:this.kA[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.omb=l;b.FVb=c;b.aNb=k;m=(function(p){function q(r,u,v){var w;w=p.call(this,function(){return w.Xwa();}) || this;w.console=u;w.Ol=v;w.Rya=!1;Array.isArray(r)?w.nU=new l(r):w.nU=r;return w;}g.__extends(q,p);q.prototype.D4b=function(r){var u;this.Rya=!1;u=this.console;h.W && u && u.trace("CompoundIterator: processNextOuterIterator");if(r.done)return r;r=r.value;if(this.GM)return (c(r) && r.di(),f.Zsa());Array.isArray(r)?this.Ol=new l(r):this.Ol=r;return this.Xwa();};q.prototype.C4b=function(r){var u;u=this.console;h.W && u && u.trace("CompoundIterator: processNextInnerResult",this.GM,r.done);if(!r.done || this.GM)return r;this.Ol=void 0;return this.Xwa();};q.prototype.di=function(){var r;r=this.console;h.W && r && r.trace("CompoundIterator: dispose");this.GM=!0;p.prototype.di.call(this);c(this.nU) && this.nU.di();c(this.Ol) && this.Ol.di();};q.prototype.toString=function(){return "CompoundIterator " + this.GM + " " + this.nU + " " + this.Ol;};q.prototype.Xwa=function(){var r,u;r=this;u=this.console;h.W && u && u.trace("CompoundIterator: nextImpl");if(this.Ol)return (h.W && u && u.trace("CompoundIterator: getNextInner"),this.Ol.next().then(function(v){return r.C4b(v);}));this.Rya=!0;h.W && u && u.trace("CompoundIterator: getNextOuter");return this.nU.next().then(function(v){return r.D4b(v);});};return q;})(f);b.Enb=m;b.map=function(p,q,r){return new n(p,q,r);};n=(function(p){function q(r,u,v){var w;w=p.call(this,function(){return w.Svb();}) || this;w.source=r;w.bwa=u;w.UFb=v;return w;}g.__extends(q,p);q.prototype.di=function(){c(this.source) && this.source.di();p.prototype.di.call(this);};q.prototype.Svb=function(){var r,u,v;r=this.UFb;u=this.bwa;v=this.source;h.W && r && r.trace("MappedIterator: Requesting next");return v.next().then(function(w){return w.done?w:u(w.value);});};return q;})(f);b.flatten=function(p,q,r){return new m(p,q,r);};},function(t,b,a){(function(c,k){function g(h,d,f,l){this.console=new h("ASEJS_PROGRESS","media|asejs");this.now=d;this.lgb=this.k$b=h=this.now();this.n8=h + f;this.Q2b=f;this.X_a=h + l;this.debug=!1;this.counter=this.wB=0;this.Fx=1E4;this.Oib=f / 100;this.Qib=h;this.Pib=1 * this.Oib / 4;this.qea=0;this.dW="";this.bg(h,"progress tracking start");}g.prototype.constructor=g;g.prototype.bg=function(h,d){var f,l;f=((h - this.lgb) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;l=c.CZb();this.console.info(f + (" " + ((this.X_a - h) / 1E3).toFixed(3)) + (" " + Math.round(this.Fx)) + (" M:(" + Math.floor(l.tmc / 1024 / 1024) + " MB/" + Math.floor(l.y6a / 1024 / 1024) + " MB) ") + this.dW + d);};g.prototype.gzb=function(h){var d;d=this.now();this.dW=h?h + ": ":h;this.wB=0;this.lgb=d;this.bg(d,"starting");};g.prototype.Fzb=function(h){var d,f;this.counter++;if(!(this.counter < this.Fx)){this.counter=0;d=this.now();f=d - (this.Qib + this.Oib);this.Qib=d;this.qea=.9 * this.qea + .1 * f;this.qea > this.Pib?(this.Fx*=.875,this.Fx=Math.max(1,this.Fx)):this.qea < -this.Pib && (this.Fx*=1.5,this.Fx=Math.min(this.Fx,1E5));if(d >= this.X_a)throw (this.bg("Execution deadline exceeded after " + (d - this.k$b) + " ms" + this.dW),Error("Execution deadline exceeded" + this.dW));f=c.CZb();this.wB=Math.max(this.wB,f.y6a);if(7516192768 < f.y6a)throw Error("Heap total limit exceeded" + this.dW);if(!(d <= this.n8)){for(;d > this.n8;){this.n8+=this.Q2b;}this.bg(d,h);}}};g.za=function(h,d,f,l){k.rF=new g(h,d,f || 5E3,l || 33E5);};g.PAa=function(h){k.rF && k.rF.gzb(h);};g.update=function(h){k.rF && k.rF.Fzb(h);};g.L4a=function(){if(k.rF)return k.rF.wB;};g.now=function(){return k.rF?k.rF.now():Date.now();};t.exports=g;}).call(this,a(260),a(199));},function(t){var b;b={VX:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};t.exports=b;},function(t,b,a){var d,f;function c(l){return l instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(l);}function k(l){return d.mg(l);}function g(l){return d.Ja(l);}function h(l){return !c(l) && !k(l) && !g(l) && !Array.isArray(l) && d.Mj(l);}d=a(9);f={dG:0,Y3:1,xrb:2,y3:3,co:4};t.exports={hta:function(l){return c(l)?f.dG:k(l)?f.Y3:g(l)?f.xrb:h(l)?f.y3:f.co;},H$:c,mg:k,Ja:g,Mj:h,ls:f};},function(t,b,a){var g,h,d,f,l,m,n,p;function c(q,r,u,v){var w;return r === l.Pw.oW?(r=h.M.La,(null === v || void 0 === v?void 0:v.Soc) === p.end && (r=h.M.Ha(null !== (w=u.Qh.fa.N[q].sa) && void 0 !== w?w:0),d.assert(0 < r.T,"EndTime must be non null")),u.Kj.hE({offset:r,Y:q}).Y):u.Kj.Ty({offset:h.M.La,Y:q}).Y;}function k(q,r,u){return r === l.Pw.MCa?u.Kj.Ty(q):u.Kj.hE(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.vy=void 0;g=a(0);h=a(20);d=a(2);t=a(1061);f=a(265);l=a(186);m=a(31);n=a(1065);a=f.Afb();a=t.kYa()({a$a:"combinedPlaygraph",QQ:{hj:a()({map:k,RD:n.b8a}),Ze:a()({map:function(q,r,u,v){var w;w=(null === v || void 0 === v?0:v.Tr)?n.r9(q,v.Tr):q.position;r=k(w,r,u);q=n.Ioa(q,null === v || void 0 === v?void 0:v.Tr);(null === v || void 0 === v?0:v.Tr)?n.wgb(q,v.Tr,r):q.position=r;return q;},RD:function(q,r,u){return (null === u || void 0 === u?0:u.Tr)?n.r9(q,u.Tr):n.Ze(q);}}),xDa:a()({map:function(q,r,u,v){if(r === l.Pw.oW)return q.inner;r=n.Ioa(q,null === v || void 0 === v?void 0:v.Tr);r.inner || (r.inner=q);return r;},RD:function(q,r,u){return (null === u || void 0 === u?0:u.Tr)?"object" === typeof n.r9(q,u.Tr):"object" === typeof q;}}),Y:a()({map:c,RD:n.g8a}),O_:a()({map:function(q,r,u,v){var w,x;x=null !== (w=q.Y) && void 0 !== w?w:q.segmentId;r=c(x,r,u,v);return q.Y?g.__assign(g.__assign({},q),{Y:r}):g.__assign(g.__assign({},q),{segmentId:r});},RD:n.n6a}),UZa:a()({map:function(q,r,u){r === l.Pw.oW?(q=m.QN(u.Qh.fa,q.K,q.Ym,{Nfb:!0}),d.assert(void 0 !== q,"Graph position must exist in ux playgraph"),q=u.Kj.hE(q),r=q.Y,q=q.offset,r=u.Lc.fa.N[r],u=r.K,r=r.qa,q=h.M.Ha(r).add(q)):(q=m.QN(u.Lc.fa,q.K,q.Ym,{Nfb:!0}),d.assert(void 0 !== q,"Graph position must exist in combined playgraph"),q=u.Kj.Ty(q),r=q.Y,q=q.offset,r=u.Qh.fa.N[r],u=r.K,r=r.qa,q=h.M.Ha(r).add(q));return {Ym:q,K:u};},RD:n.L7a}),Cna:a()({RD:n.I7a,map:function(q,r,u){var v,w,x,y,z;if(r === l.Pw.oW){r={Y:q.u.id,offset:h.M.La};x=u.Kj.hE(r);r=u.Lc.fa.N[x.Y];u=u.Qh.fa.N[q.u.id];y=r.sa;z=r.qa;y=null !== (v=y && y - z) && void 0 !== v?v:0;u=q.md.add(h.M.Ha(r.qa - u.qa));return {md:u,OB:q.mq.add(h.M.Ha(y)),mq:q.mq,u:{id:x.Y,df:h.M.Ha(r.qa),Cg:h.M.Ha(null !== (w=r.sa) && void 0 !== w?w:0)}};}r={Y:q.u.id,offset:h.M.La};w=u.Kj.Ty(r);z=u.pua.nZ;r=z.N[q.u.id];x=u.Qh.fa.N[w.Y];v=h.M.Ha(null !== (y=x.sa && x.sa - x.qa) && void 0 !== y?y:0);x.sa && Infinity !== x.sa || (y=u.Kj.PQb(w),z=z.N[y],z.sa && (v=u.Kj.Ty({Y:y,offset:h.M.Ha(z.sa - z.qa)}).offset));y=q.mq.Ba(w.offset);z=y.add(v);u=q.md.add(h.M.Ha(x.qa - r.qa));q=h.M.Ha(x.qa);r=v.add(q);return {md:u,OB:z,mq:y,u:{id:w.Y,df:q,Cg:r}};}})}});(function(q){q[q.mkc=0]="beginning";q[q.end=1]="end";})(p || (p={}));b.vy=a;},function(t,b,a){var c;c=a(188);t.exports=function(k){return function d(h){return 0 === arguments.length || c(h)?d:k.apply(this,arguments);};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.i4=void 0;b.Jq={ML:"PRIMARY",ufa:"ASSISTIVE",rFa:"COMMENTARY",NONE:"NONE"};b.i4={assistive:b.Jq.ufa,closedcaptions:b.Jq.ufa,directorscommentary:b.Jq.rFa,commentary:b.Jq.rFa,subtitles:b.Jq.ML,primary:b.Jq.ML,none:b.Jq.NONE};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DL="ManifestFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cl=void 0;t=b.cl || (b.cl={});t.Zm="created";t.Oy="started";t.vR="succeeded";t.kv="failed";t.zg="cancelled";t.nEb="cancelled_on_start";t.coa="cancelled_not_encrypted";},function(t,b){var c;function a(k,g){var h;h=this;this.Gka=[];c.forEach(function(d){(d=d(k,g)) && h.Gka.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.bT=b.TLa=void 0;c=[];a.prototype.gC=function(k){var d;for(var g=[],h=this.Gka.length;h--;){d=this.Gka[h];d.gC(k) && g.push(d.B8);}if(g.length)return g;};b.TLa=a;b.bT=function(k){c.push(k);};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y;function c(z){var A,B;A=this;this.mca=new y.Kia();this.createPlaygraphPlayer=function(C,D,F){var G;C=u.YOa.encode(C);G=d.ya.get(v.DL);F=F?G.create(F):void 0;G=d.ya.get(p.Pia).create(C);return G.KIb(C.Vd,A.mca.awa(A.xXa(D,G.Vra())),F);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,h.Gia)(C);};this.init=function(C){A.FD.EY(function(D){D.ca?A.h8b().then(function(){(0,k.jOa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.sN);C(Object.assign({success:!0},c.sN));}):C({success:!1,error:(0,d.NOa)(D.errorCode || l.V.fha,D)});});};this.applyConfig=function(C){A.Yjb(C);(0,g.Voa)(C);};this.prepare=function(C,D){var F;C=A.ndb.rKb(C) || [];F=new Set();C=C.filter(function(G){var E;E=F.has(G.I);F.add(G.I);return !E;});if(g.config.fw && A.Fd)try{A.Fd.WJ(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){mb._cad_global.playerPredictionModel?(C=A.ndb.tKb(C)) && mb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.OO)().q0().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.OO)().r0().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.OO)().o0().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.OO)().lea().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.jMb;};this.Yjb(z);d.ya.get(x.$Da);this.ndb=d.ya.get(f.lOa);this.FD=d.ya.get(r.$i);B=d.ya.get(w.gOa).apply();(0,g.LZa)([z],B);this.Fd=d.ya.get(q.OG);(0,d.OO)().r0();}Object.defineProperty(b,"__esModule",{value:!0});b.PG=void 0;k=a(300);g=a(18);h=a(64);d=a(8);f=a(533);l=a(3);m=a(34);n=a(156);p=a(306);q=a(116);r=a(36);u=a(39);v=a(132);w=a(328);x=a(508);y=a(581);c.prototype.xXa=function(z,A){var B,C,D,F;z=void 0 === z?{}:z;F=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.qa;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.sa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.Yjb=function(z){d.ya.get(m.OS).DZb(z);};c.prototype.h8b=function(){return d.ya.get(n.mT)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.PG=c;c.sN={};},function(t,b,a){var c,k,g;c=a(44);k=a(599);g=k(c("String.prototype.indexOf"));t.exports=function(h,d){d=c(h,! !d);return "function" === typeof d && -1 < g(h,".prototype.")?k(d):d;};},function(t,b,a){var f;function c(l){return "function" === typeof l?l.name:"symbol" === typeof l?l.toString():l;}function k(l,m){return null === l.LB?!1:l.LB.ah === m?!0:k(l.LB,m);}function g(l){function m(n,p){var q;void 0 === p && (p=[]);q=c(n.ah);p.push(q);return null !== n.LB?m(n.LB,p):p;}return m(l).reverse().join(" --\x3e ");}function h(l){l.soa.forEach(function(m){if(k(m,m.ah))throw (m=g(m),Error(f.jnb + " " + m));h(m);});}function d(l){var m;if(l.name)return l.name;l=l.toString();m=l.match(/^function\s*([^\s(]+)/);return m?m[1]:"Anonymous function: " + l;}Object.defineProperty(b,"__esModule",{value:!0});f=a(56);b.VO=c;b.h9a=function(l,m,n){var p;p="";l=n(l,m);0 !== l.length && (p="\nRegistered bindings:",l.forEach(function(q){var r;r="Object";null !== q.tn && (r=d(q.tn));p=p + "\n " + r;q.fI.T$a && (p=p + " - " + q.fI.T$a);}));return p;};b.bFb=h;b.oXb=function(l,m){var n,p;if(m.Rua() || m.Fua()){n="";p=m.kRb();m=m.UPb();null !== p && (n+=p.toString() + "\n");null !== m && m.forEach(function(q){n+=q.toString() + "\n";});return " " + l + "\n " + l + " - " + n;}return " " + l;};b.getFunctionName=d;},function(t,b,a){var k,g,h,d;function c(f,l){var m,n,p,q,r,u;m=f.uB;n=f.UP;f=f.lQ;p=l.uB;q=l.UP;l=l.lQ;r=void 0 === m || void 0 === p;u=r || void 0 === n || void 0 === q;return r || m > p || m === p && (u || n > q) || m === p && n === q && (u || void 0 === f || void 0 === l || f >= l);}Object.defineProperty(b,"__esModule",{value:!0});b.LO=b.MO=b.uWb=b.J$=b.iY=void 0;k=a(5);g=a(93);h=a(42);d=a(118);b.iY=function(f,l,m,n){return c({uB:f.U1b,UP:f.V1b,lQ:f.W1b},{uB:l,UP:m,lQ:n});};b.J$=function(f,l){return c({uB:f.dr},{uB:l});};b.uWb=c;b.MO=function(){return {version:"6.0037.192.911",oba:!0,JO:!0,Npa:"browser",l0a:["en-US"],Jva:"",jW:"cadmium",Kkb:!0,q6:!0};};b.LO=function(){return {PH:(0,d.Yo)([h.Xd.hG,h.Xd.iG]),Wn:(0,d.Yo)([].concat(ha(h.Pd.J1),ha(h.Pd.q1),ha(h.Pd.p1),ha(h.Pd.rfa))),yn:g.zb.sSa,vB:(0,k.tc)(31E3)};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aT="MediaKeysStorageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e4=b.Gq=void 0;b.Gq=function(){};b.e4="StringObjectReaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iRa="SystemRandomSymbol";b.T3="RandomGeneratorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oT="PlayerErrorFactorySymbol";},function(t,b){function a(k){return k && "object" === typeof k?Array.isArray(k)?k.map(a):Object.keys(k).reduce(function(g,h){g[h]=a(k[h]);return g;},{}):k;}function c(k,g){return Object.keys(k).reduce(function(h,d){return (h[g[d] || d]=k[d],h);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Ww=void 0;t=(function(){function k(g){g && (this.xK(g.Vd),this.eBa(g.oe),this.ZAa(g.N));}k.prototype.xK=function(g){this.Vd=g;return this;};k.prototype.eBa=function(g){this.oe=g;return this;};k.prototype.Cgb=function(g){this.zd=g;return this;};k.prototype.dg=function(g,h,d){this.N || (this.N={});this.N[g]=a(h);if(d){g=this.N[g];if(h=g.next)g.next=c(h,d);g.Rb && d[g.Rb] && (g.Rb=d[g.Rb]);}return this;};k.prototype.ZAa=function(g,h,d){void 0 === h && (h=function(){return !0;});this.N={};return this.vWa(g,h,d);};k.prototype.vWa=function(g,h,d,f){var l;l=this;void 0 === h && (h=function(){return !0;});Object.keys(g).filter(function(m){return h(g[m],m);}).forEach(function(m){var n;n=g[m];f && (n=f(n,m));l.dg(m,n,d);});return this;};k.prototype.m6a=function(g){var h;return !(null === (h=this.N) || void 0 === h || !h[g]);};k.prototype.Li=function(){var g;if(!this.N)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Vd)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.N[this.Vd])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={Vd:this.Vd,N:this.N};this.oe && (g.oe=this.oe);this.zd && (g.zd=this.zd);return g;};return k;})();b.Ww=t;},function(t,b,a){function c(k,g){this.eN=k;this.vk=Math.floor((k + g - 1) / g);this.Qd=g;this.reset();}a(2);c.prototype.shift=function(){this.$d.shift();this.sx.shift();};c.prototype.sy=function(k){return this.rYa(this.$d[k],k);};c.prototype.update=function(k,g){this.$d[k]=(this.$d[k] || 0) + g;};c.prototype.push=function(){this.$d.push(0);this.sx.push(0);this.tb+=this.Qd;};c.prototype.add=function(k,g,h){var d,f,l;if(null === this.tb){d=Math.max(Math.floor((h - g + this.Qd - 1) / this.Qd),1);for(this.tb=g;this.$d.length < d;){this.push();}}for(;this.tb <= h;){this.push();this.$d.length > this.vk && this.shift();}if(null === this.vp || g < this.vp)this.vp=g;if(g > this.tb - this.Qd)this.update(this.$d.length - 1,k);else if(g == h)(d=this.$d.length - Math.max(Math.ceil((this.tb - h) / this.Qd),1),0 <= d && this.update(d,k));else for(d=1;d <= this.$d.length;++d){f=this.tb - d * this.Qd;l=f + this.Qd;if(!(f > h)){if(l < g)break;this.update(this.$d.length - d,Math.round(k * (Math.min(l,h) - Math.max(f,g)) / (h - g)));}}for(;this.$d.length > this.vk;){this.shift();}};c.prototype.start=function(k){null === this.vp && (this.vp=k);null === this.tb && (this.tb=k);};c.prototype.stop=function(k){var g,h;if(null !== this.tb)if(k - this.tb > 10 * this.eN)this.reset();else {for(;this.tb <= k;){this.push();this.$d.length > this.vk && this.shift();}g=this.$d.length - Math.ceil((this.tb - this.vp) / this.Qd);h=this.$d.length - Math.ceil((this.tb - k) / this.Qd);if(0 <= h)if((0 > g && (this.vp=this.tb - this.Qd * this.$d.length,g=0),g === h))this.sx[g]+=k - this.vp;else if(h > g)for((this.sx[g]+=(this.tb - this.vp) % this.Qd,this.sx[h]+=this.Qd - (this.tb - k) % this.Qd,k=g + 1);k < h;++k){this.sx[k]=this.Qd;}this.vp=null;}};c.prototype.rYa=function(k,g){g=this.Dra(g);return 0 === g?null:8 * k / g;};c.prototype.Dra=function(k){var g;g=this.sx[k];null !== this.vp && (k=this.tb - (this.$d.length - k - 1) * this.Qd,k > this.vp && (g=k - this.vp <= this.Qd?g + (k - this.vp):this.Qd));return g;};c.prototype.get=function(k,g){var h,d;h=this.$d.map(this.rYa,this);if("last" === k)for(k=0;k < h.length;++k){null === h[k] && (h[k]=0 < k?h[k - 1]:0);}else if("average" === k){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.Qd));for(k=0;k < h.length;++k){null === h[k]?h[k]=Math.floor(d || 0):d=void 0 !== d?g * h[k] + (1 - g) * d:h[k];}}return h;};c.prototype.reset=function(){this.Ska || (this.$d=[],this.sx=[],this.vp=this.tb=null);};c.prototype.setInterval=function(k){this.vk=Math.floor((k + this.Qd - 1) / this.Qd);};t.exports=c;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);k=c.__importStar(a(9));t=a(11);g=c.__importDefault(a(144));h=c.__importDefault(a(382));d=a(849);f=a(383);l=a(850);m=a(852);n=a(4).default;p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(r){function u(v,w,x){var y;y=r.call(this) || this;y.Hp={};y.xU=0;y.lD=0;y.DT=[];y.TG=0;y.Ljc=!1;y.J=x;y.tTa=new h.default(x);y.VT=new l.Hga(!0);y.CT=new l.Hga(!1);x.A1a && (y.PM=new m.fNa(y.J));y.reset();y.zUa=v;y.Pl=w;y.ZTa=n.jq.name();y.Pl.Jda(y.ZTa);n.events.on("networkchange",y.d1b.bind(y));return q=y;}c.__extends(u,r);u.instance=function(){return q;};u.reset=function(){q && q.reset();};u.prototype.d1b=function(v){this.ZTa=v;this.Pl.Jda(v);};u.prototype.Xjb=function(){var v;if(!this.bma){v=this.J5a();this.Pl.JH(v.default.oa,this.confidence);v["initial-throughput-ewma"] && this.Pl.GH(v["initial-throughput-ewma"].oa);v["throughput-ci"] && this.Pl.KH(v["throughput-ci"]);v.deliverytime && this.Pl.kN(v.deliverytime);this.Pl.cL(v.Hv?v.Hv.gca:void 0,v.Hv?v.Hv.x7b:void 0);k.qb(this.Sc) || (this.bma=!0);}};Object.defineProperties(u.prototype,{startTime:{get:function(){return this.Qg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{confidence:{get:function(){return this.Hp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wq:{get:function(){return this.cM;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bWa:{get:function(){return this.DT;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WWb:{get:function(){return this.bUa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{location:{get:function(){return this.hH;},enumerable:!1,configurable:!0}});u.prototype.fvb=function(){var v,w,x,y;v=this.J;w=v.uvb.concat(v.Evb);x=v.Fka;y=this.tTa;w=w.reduce(function(z,A){z[A]=y.create(A,x);return z;},{});w.confidence=new f.qia(v,new d.oMa(v,this.Jba.bind(this)));return w;};u.prototype.reset=function(){var v,w,x,y;v=this.J.Fka;w=this.tTa;x=this.J;this.hH=null;this.Hp=this.fvb();if(this.J.E1a){y=this.J.Iib;this.Hp.Mac=new g.default(y.numB * y.bSizeMs,y.bSizeMs);}this.VT.reset();this.CT.reset();this.$z=w.create("respconn-ewma",v);this.Qz=w.create("respconn-ewma",v);this.PM && this.PM.reset();this.Hzb=this.Xjb.bind(this);this.d6=void 0;this.Rz=this.Sc=this.Qg=null;this.Z5=0;x.ifb && (this.lD=this.xU=this.cM=0,this.DT=[]);};u.prototype.dR=function(v){var w;w=this.Hp;if(v !== this.hH){k.na(this.d6) || (clearInterval(this.d6),this.d6=void 0);k.qb(this.hH) && (this.Z5=0,this.Qg=null);if(!k.qb(v)){for(var x in w){w[x] && w[x].reset && w[x].reset();}this.$z.reset();this.Qz.reset();}k.qb(this.Qg) || (this.Z5+=(k.qb(this.Sc)?n.time.ia():this.Sc) - this.Qg);this.Sc=this.Qg=null;this.hH=v;this.Pl.dR(v);}};u.prototype.Jda=function(v){this.Pl.Jda(v);};u.prototype.yAb=function(v){this.Hp.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.Hp.QoEEvaluator=v;};u.prototype.g6b=function(){delete this.Hp.QoEEvaluator;};u.prototype.DD=function(v,w,x,y){var z,A;this.bUa=Math.max(this.bUa || 0,x);this.lD-=v;z=this.J;A=this.Hp;if(!0 === y.XR)(y=A["throughput-wssl"]) && y.add(v,w,x,!0);else if(k.na(w))p.warn("addDataReceived called with undefined start time");else {this.PM && this.PM.DD(v,w,x,y);z.Dvb && 10 > x - w?w=x - 10:0 === x - w && (w=x - 1);this.VT.DD(v,w,x,y);this.CT.DD(v,w,x,y);for(var B in A){A[B] && A[B].add && A[B].add(v,w,x,y);}k.qb(this.Qg) && (this.Qg=w,this.Sc=null,this.bma=!1);k.qb(this.Sc) || (w > this.Sc && (this.Qg+=w - this.Sc),this.Sc=null,this.bma=!1);k.qb(this.Rz) || (w - this.Rz > z.AUa?this.zUa.z7a(this.Rz,w):x - w > z.AUa && this.zUa.z7a(w,x));this.Rz=this.Rz?Math.max(x,this.Rz):x;}};u.prototype.iA=function(v){this.$z.add(v);this.Pl.iA(v);};u.prototype.hA=function(v){this.Qz.add(v);this.Pl.hA(v);};u.prototype.start=function(v,w){var x;k.qb(this.Rz) && !k.qb(this.Sc) && (this.Rz=v);x=this.Hp;if(this.J.EBa)for(var y in x){x[y] && x[y].start && x[y].start(v,w);}};u.prototype.stop=function(v,w){var x,y;x=this.Hp;for(y in x){x[y] && x[y].stop && x[y].stop(v,w);}this.Sc=k.qb(this.Sc)?v:Math.min(this.Sc,v);this.Rz=null;};u.prototype.flush=function(){var v,w;v=this.Hp;for(w in v){v[w] && v[w].flush && v[w].flush();}};u.prototype.f4a=function(){var v,w;v=this.Hp.Clc;if(v){w=v.JDb();v.reset();}return w;};u.prototype.J5a=function(){var v,w,x,y,z,A,B;v=n.time.ia();w=this.Hp;x=this.J;y=x.kvb;z=x.azb;A={};for(B in w){w[B] && w[B].get && (A[B]=w[B].get(v,this.lD),"iqr" === w[B].type && (A.Hv=A[B]),"tdigest" === w[B].type && (A.Hg=A[B]),"wssl" === w[B].type && (A.XR=A[B]));}A.cdnavtp=this.VT.Io();A.activecdnavtp=this.CT.Io();A.default=y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.tAa && "none" !== z && (A.Pfb=z && A[z]?A[z]:A["throughput-sw"]);return A;};u.prototype.A9=function(){return this.PM?this.PM.A9():void 0;};u.prototype.get=function(){var v,w,x,y,z,A;v=this.J5a();w=v.default;x=this.$z.get();y=this.Qz.get();z=this.J;if(v.Pfb){A=v.Pfb;w=k.Ja(w.oa) && k.Ja(A.oa) && w.oa > A.oa && 0 < A.oa?A:w;}v.Na=w;v.k7a=v["initial-throughput-ewma"];!z.rMb || !w || k.qb(w.oa) || isNaN(w.oa) || !v.XR || k.qb(v.XR.oa) || isNaN(v.XR.oa) || ("max" === z.tlb?v.Na.oa=Math.max(v.XR.oa,w.oa):"sum" === z.tlb && (v.Na.oa+=v.XR.oa));v.Qk=x;v.Xx=y;this.J.E1a && (w=this.J.Iib,v.Bpc=this.Hp.Mac.get(w.fillS,w.fillHl));w=this.Z5 + (k.qb(this.Qg)?0:(k.qb(this.Sc)?n.time.ia():this.Sc) - this.Qg);v.time=w;return v;};u.prototype.BSb=function(){var v,w,x;v={};w=this.get();if(w.confidence && w.Na){v.aseavtp=Number(w.Na.oa).toFixed(2);v.asevartp=Number(w.Na.ee).toFixed(2);if(w.Hv){x=w.Hv.gca;!x || void 0 === x.zl || void 0 === x.yl || void 0 === x.Vj || isNaN(x.zl || 0) || isNaN(x.yl) || isNaN(x.Vj) || (v.aseniqr=0 < x.Vj?Number((x.zl - x.yl) / x.Vj).toFixed(2):-1,v.aseiqr=Number(x.zl - x.yl).toFixed(2),v.asemedtp=Number(x.Vj).toFixed(2));v.iqrsamples=w.Hv.x7b;}w.Hg && w.Hg.YA && (v.tdigest=w.Hg.YA());}return v;};u.prototype.LQ=function(v,w){var x;x=w.requestId;1 === ++this.cM && this.emit("active",v);this.J.cea && this.start(v,w);x && (this.J.cea || this.start(v,w),this.DT.push(x));this.lD+=w.aa || 0;this.VT.LQ(v,w);this.CT.LQ(v,w);};u.prototype.cfb=function(){++this.xU;};u.prototype.z_=function(v,w,x){var y;y=x.requestId;w && --this.xU;--this.cM;this.lD=Math.max((this.lD || 0) - ((x.aa || 0) - (x.bytesReceived || 0)),0);this.J.ifb && (this.cM=Math.max(this.cM,0),this.xU=Math.max(this.xU,0));this.J.cea && this.stop(v,x);0 === this.cM && (this.J.cea || this.stop(v,x),this.emit("inactive",v));y && (w=this.DT.indexOf(y),0 <= w && this.DT.splice(w,1));this.VT.z_(v,x);this.CT.z_(v,x);};u.prototype.Jba=function(){this.Xjb();this.d6=setInterval(this.Hzb,this.J.Gwb);};return u;})(t.EventEmitter);b.default=a;},function(t,b){function a(k,g){return "number" !== typeof k || "number" !== typeof g?!1:k && g?Math.abs(k * g / c(k,g)):0;}function c(k,g){var h;k=Math.abs(k);for(g=Math.abs(g);g;){h=g;g=k % g;k=h;}return k;}Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function k(g,h){"object" === typeof g?(this.vc=g.Xa,this.nb=g.U):(this.vc=g,this.nb=h);}k.Ha=function(g){return new k(g,1E3);};k.vea=function(g,h){return Math.floor(1E3 * g / h);};k.wab=function(g,h){return Math.floor(g * h / 1E3);};k.max=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}return g.reduce(function(d,f){return d.greaterThan(f)?d:f;});};k.min=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}return g.reduce(function(d,f){return d.lessThan(f)?d:f;});};k.sE=function(g,h){var d;if(g.U === h.U)return new k(c(g.Xa,h.Xa),g.U);d=a(g.U,h.U);return k.sE(g.Wf(d),h.Wf(d));};Object.defineProperties(k.prototype,{Xa:{get:function(){return this.vc;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{T:{get:function(){return 1E3 * this.vc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{si:{get:function(){return this.vc / this.nb;},enumerable:!0,configurable:!0}});k.prototype.Wf=function(g){g/=this.U;return new k(Math.floor(this.Xa * g),Math.floor(this.U * g));};k.prototype.add=function(g){var h;if(this.U === g.U)return new k(this.Xa + g.Xa,this.U);h=a(this.U,g.U);return this.Wf(h).add(g.Wf(h));};k.prototype.Ba=function(g){return this.add(new k(-g.Xa,g.U));};k.prototype.EB=function(g){return new k(this.Xa * g,this.U);};k.prototype.Dk=function(g){var h;if(this.U === g.U)return this.Xa / g.Xa;h=a(this.U,g.U);return this.Wf(h).Dk(g.Wf(h));};k.prototype.K5a=function(g){return a(this.U,g);};k.prototype.ueb=function(){return new k(this.U,this.Xa);};k.prototype.compare=function(g,h){var d;if(this.U === h.U)return g(this.Xa,h.Xa);d=a(this.U,h.U);return g(this.Wf(d).Xa,h.Wf(d).Xa);};k.prototype.equal=function(g){return this.compare(function(h,d){return h === d;},g);};k.prototype.exa=function(g){return this.compare(function(h,d){return h !== d;},g);};k.prototype.lessThan=function(g){return this.compare(function(h,d){return h < d;},g);};k.prototype.greaterThan=function(g){return this.compare(function(h,d){return h > d;},g);};k.prototype.yY=function(g){return this.compare(function(h,d){return h <= d;},g);};k.prototype.sn=function(g){return this.compare(function(h,d){return h >= d;},g);};k.prototype.toJSON=function(){return {ticks:this.Xa,timescale:this.U};};k.prototype.toString=function(){return this.Xa + "/" + this.U;};k.La=new k(0,1);k.JB=new k(1,1E3);return k;})();b.M=t;},function(t){var c,k;function b(){var g,h;if(DataView.prototype && DataView.prototype.GX && !k){try{g=new ArrayBuffer(4);h=new DataView(g);h.aP(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);h=new DataView(g);h.aP(1,2,2);}catch(d){DataView.prototype.aP=a(DataView.prototype.aP,DataView.prototype.getUint8,Uint8Array);DataView.prototype.L9=a(DataView.prototype.L9,DataView.prototype.getUint16,Uint16Array);DataView.prototype.GX=a(DataView.prototype.GX,DataView.prototype.getUint32,Uint32Array);DataView.prototype.msa=a(DataView.prototype.msa,DataView.prototype.getInt8,Int8Array);DataView.prototype.ksa=a(DataView.prototype.ksa,DataView.prototype.getInt16,Int16Array);DataView.prototype.lsa=a(DataView.prototype.lsa,DataView.prototype.getInt32,Int32Array);}c.ISb=function(d,f,l,m,n){return l?d.aP(f,l,m || 1,n):new Uint8Array(0);};c.GSb=function(d,f,l,m,n){return l?d.L9(f,l,m || 2,n):new Uint16Array(0);};c.HSb=function(d,f,l,m,n){return l?d.GX(f,l,m || 4,n):new Uint32Array(0);};c.cmc=function(d,f,l,m,n){return l?d.msa(f,l,m || 1,n):new Int8Array(0);};c.amc=function(d,f,l,m,n){return l?d.ksa(f,l,m || 2,n):new Int16Array(0);};c.bmc=function(d,f,l,m,n){return l?d.lsa(f,l,m || 4,n):new Int32Array(0);};k=!0;}}function a(g,h,d){return function(f,l,m,n){var p;m=m || d.BYTES_PER_ELEMENT;if(f + l * m > this.byteLength){p=new d(l);p.set(g.call(this,f,l - 1,m,n));p[l - 1]=h.call(this,f + (l - 1 * m),n);return p;}return g.call(this,f,l,m,n);};}c={aP:function(g,h,d,f,l){var m;m=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,h+=f)){m[n]=g.getUint8(h,l);}return m;},L9:function(g,h,d,f,l){var m;m=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,h+=f)){m[n]=g.getUint16(h,l);}return m;},GX:function(g,h,d,f,l){var m;m=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,h+=f)){m[n]=g.getUint32(h,l);}return m;},msa:function(g,h,d,f,l){var m;m=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,h+=f)){m[n]=g.getInt8(h,l);}return m;},ksa:function(g,h,d,f,l){var m;m=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,h+=f)){m[n]=g.getInt16(h,l);}return m;},lsa:function(g,h,d,f,l){var m;m=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,h+=f)){m[n]=g.getInt32(h,l);}return m;},Jlc:b};k=!1;c.aQb=function(){return k;};b();t.exports=c;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(238);t=(function(){function g(h,d,f){this.tag=h;this.view=d;this.L=f;this.startOffset=f.offset;}g.aeb=function(h,d,f){var l,m;l=h.Bd();m=h.g5b();h=new (k.dO[l] || g)(l,h.S3a(m),h);h.parse(d,f);return h;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.L.offset=this.startOffset + this.length;this.L.Ld=0;return !0;};g.prototype.v2a=function(h){var d;d=[];this.tag === h && d.push(this);if(this.dO)for(var f=0;f < this.dO.length;f++){d=c.__spreadArrays(d,this.dO[f].v2a(h));}return d;};g.prototype.Mx=function(h){for(h=this.v2a(h);0 < h.length;){return h[0];}};g.prototype.cVa=function(h){for(this.dO=[];this.L.offset < this.startOffset + this.length;){this.dO.push(g.aeb(this.L,h,this));}};return g;})();b.zga=t;t.prototype.skip=t.prototype.parse;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=void 0;b.za="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDeBtFvB2gDYBdsbXZoBkgA4BcA30AoDsgAYCgBIABdDAgB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcydHJhBrgBYBBcB0BrgOYDABgOYIgLoPgO4rABCAgAgBDYgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBqm1kBpBhgkYCgA4AgfYUBVDEgGADA3gDoABsBygM4Gd2aWRlgO4Kc/QEdQBBBDAxAuAwAuAxAtByBlB2gAQABsBlgrIAgEICcBS21pBuBmgBABAUB2BtgcwEgGoJAkgPIAgDYDAcBkgGAAgA4CgTwGcMdXJsAggugFALgXAABiBsgBYBC/gA4ABzgTwDgEYFevYXZjAxgigVggQCggAABIgBABgAYCgEITgAAPAYH/gAoBA1gKoBBDABgM4AAND/DhgCIABngA4Bes2UGBDfCXABAQgDQAc+kAALC4AADxBCCZBggJgAcGaOvjDLAiDAD9H4gHQCAQBwgdYABwgMgFgAYCAUBig7QAgtoBACDzgAYAAjBYgAYEgEYAgXwAgxIDgAAGgB4BBzBjgB4JAUgB4BB6gSQNgEYBBjBvgB4JA4hToABlB4gC4CBtBlg1IEg0IFAggNwAgC4DgdAGgAYBADDpgBoG";b.kg=!0;b.ta="EAABCgBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBeIdHJhgC4CAYB0gC4CACAAAKgC4EgAYCADDpgF4CgC4ABkB0gF4FgCwCA0gF4AB1BugA4AAOgEYCAYgB4BCogAYAcC8wJggDYCAHDSgAgBARABBhgBYCATCNgAgBgEgAgBYDgC4DgBYAChgIgHgBYFgL4DAXgF4JAQgF6BAWgF40APCkgF4IgC4DgEYKAkBzgoQABwgBoCAmEWEagAYRgDIAcEdW1kBhgs4BcCrgYFH/eq3EXpC9DmDZBIC3CWAsDYAgDZAjDuDvB4AyA2A0AgAtAgBjBvByBlAgAxA2AzAgByAzAwA2AwAgA1BkBiA2FhA2gDABBIAugEABcvTVBFBHAtgE4ABBBWBDgFIBBkBlBjgDABdDb3B5BsBlBmB0AgAyEwAzAtgAgAAyAxgCgBBoF0BwA6EvJ3AuB2BpgE4AdvbGFuAugLIABnAvgMoCAugDgABtBsgEYBgG4Ad0aW9uBzA6gJIAdhYmFjA9gGwAgPIABmA9gPAAgFoAdibG9jBrgB4AA6AwgAIAAggG4AdhbHlzBlA9AwB4AzgBoAB4ExgD4ABtgBgAdoZXggBzB1BigBIBc3IHBzB5gHQBgAoBBfByBkgBAAAugQYAgEwAgAgBgEoAdpeGVkgCQAgKIBgDgAgE4AgBAAgI4ABngFoAga4AgNYAdocm9tBhBfgHQBgC4AhM4ABlFsBpBzgBIBc4eDhkBjB0gBABBjBxBtgNQAgQQBBhBkB6gTQAgEYAgZYAAsgOQAcgZmFzB0BfgMIABrBpBwgEICgIAEBxBwBfhdgABmgTAAgGgAgeQAgJAAgCYAgGIBgJAAgRoAgXIABvBrBhgTwAgBgABfgCYGgGIABzgMYABjgRYBgCAGgLwABuBygMYDBjBpgI4AB0gQ4CBpBugAwABygkIAgEgBgC4BgfgAB1gVgAgZgAgroABtBwgDoAgB4BgBAAgkQAhoABgEYAgIQBgFABgBIAgEYCBmgAwAgYIAgJQAghgABigS4AB5gBYBgsQAgVQAgBYBgLwABhgqYAgKABgBIABiBpgWYAgMgCBpgOYAga4Dd3ZWlnguwABigBIBguoAdlbl9ngAoAgDoBgCgEgBIAgHQABrBlB5gLYBgBAAA1gCgAgBQEgkAAgAgAgBwAgL4ABzgSgAgPAABjB1gDQAA0gDIAgPoDgqQCgAQABzBogHwBByBjBfgdwHgD4CgB4Ac9Y3JmgtoABigq4BgawCgBgBgIQBgxgAAgBxgZgCgGAAAuhJ4BgmwAgLACgA4DdheD02A5gBABgboABlgDgAhKQAgrgAg0gBhCABg4YBgJYBBhBxg/4Bg5oCAACAhagBc9ZYiEAAA7D/D+D3BOC/ACCbBUDCAqADCSBXAKD2DKCkAmBZC5BSBrABDyCmhgYBcADFpgCECNCKBtAtABAEhpgAeYAAXYCIA4AkB5DXC6CjBTDGABCfgIABcNQZokBsBDC/D+CpCWgBYAAsDggCABcKQZ5CB4CFD/gBAAA1AhgBoCABCegPQABCC/gBAABHDAgBoEBjBqgBoDDBh0wCgHQAdoSahBBoCZBMAIB3gQIAgIADDhgCwBAMgIAAeGRREsAvgIQJClgIQEgGgCgBoBCngIQEgKACgIQBCsgIQBBsgIQJgQYCgIQBDKBFAVgIQLDpgQoLDrgIQLDwgIQFBvgIQACnghoAAABZBBgIQDCfAOgIQMCfAtgQoKCfAvgIQIcSQZs0gIQFBngIQACeAQirAABbgIIEBSgIINBxgQgKCfBzgIILB3gIIFBXgIIAA4BAgswABNgIIECVgIIBArgIIBgGYGC2gnwF";b.ig=!0;b.ka={Xa:1001,U:24E3};b.duration={Xa:24024,U:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Nh=[176,746];b.Jh=[44];},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=void 0;b.za="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDeBtFvB2gDYBdsbXZoBkgA4BcA30AoDsgAYCgBIABdDAgB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcydHJhBrgBYBBcB0BrgOYDABgOYIgLoPgO4rABAggAgBDYgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBqm1kBpBhgkYCgA4AgfYUBVDEgGADA3gDoABsBygM4Gd2aWRlgO4Kc/QEdQBBBDAxAuAwAuAxAtByBlB2gAQABsBlgrIAgEICcBS21pBuBmgBABAUB2BtgcwEgGoJAkgPIAgDYDAcBkgGAAgA4CgTwGcMdXJsgYgCgugCALgXAABiBsgBYBC/gA4ABzgTwDgEYFevYXZjAxgigVggQCggAABIgBABgAYCgEITgAAPAYH/gAoBA1gKoBBDABgM4AAND/DhgCIABngA4Bes2UEhDfCXABAQgDQAc+kAALC4AADxBCCZBggJgAcGaOvjDLAiDAD9H4gHQCAQBwgdYABwgMgFgAYCAUBig7QAgtoBACDugAYAAiCIgAYEgEYAgXwAgxIDgAAGgB4BBzBjgB4JAUgB4BB6gSQNgEYBBjBvgB4JA4hToABlB4gC4CBtBlg1IEg0IFAggNwAgC4DgdAGgAYBADDpgBoG";b.kg=!0;b.ta="EAABCgBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBeIdHJhgC4CAYB0gC4CACAAAKgC4EgAYCADDpgF4CgC4ABkB0gF4FgCwCA0gF4AB1BugA4AAOgEYCAYgB4BCogAYAcC7gJggDYCAHDSgF4CABBhgBYCATCNgAgBANgBYEgC4DgBYAChgIgHgBYFgL4DAWgF4JAPgF64APCkgF4IgC4DgEYKAkBzgoQABwgBoCAmEWEagAYRgDIAcEW21kBhgs4BcCrgYFH/eq3EXpC9DmDZBIC3CWAsDYAgDZAjDuDvB4AyA2A0AgAtAgBjBvByBlAgAxA2AzAgByAzAwA2AwAgA1BkBiA2FhA2gDABBIAugEABcvTVBFBHAtgE4ABBBWBDgFIBBkBlBjgDABdDb3B5BsBlBmB0AgAyEwAzAtgAgAAyAxgCgBBoF0BwA6EvJ3AuB2BpgE4AdvbGFuAugLIABnAvgMoCAugDgABtBsgEYBgG4Ad0aW9uBzA6gJIAdhYmFjA9gGwAgPIABmA9gPAAgFoAdibG9jBrgB4AA6AwgAIAAggG4AdhbHlzBlA9AwB4AzgBoAB4ExgD4ABtgBgAdoZXggBzB1BigBIBc3IHBzB5gHQBgAoBBfByBkgBAAAugQYAgEwAgAgBgEoAdpeGVkgCQAgKIBgDgAgE4AgBAAgI4ABngFoAga4AgNYAdocm9tBhBfgHQBgC4AhM4ABlFsBpBzgBIBc4eDhkBjB0gBABBjBxBtgNQAgQQBBhBkB6gTQAgEYAgZYAAsgOQAcgZmFzB0BfgMIABrBpBwgEICgIAEBxBwBfhdgABmgTAAgGgAgeQAgJAAgCYAgGIBgJAAgRoAgXIABvBrBhgTwAgBgABfgCYGgGIABzgMYABjgRYBgCAGgLwABuBygMYDBjBpgI4AB0gQ4CBpBugAwABygkIAgEgBgC4BgfgAB1gVgAgZgAgroABtBwgDoAgB4BgBAAgkQAhoABgEYAgIQBgFABgBIAgEYCBmgAwAgYIAgJQAghgABigS4AB5gBYBgsQAgVQAgBYBgLwABhgqYAgKABgBIABiBpgWYAgMgCBpgOYAga4Dd3ZWlnguwABigBIBguoAdlbl9ngAoAgDoBgCgEgBIAgHQABrBlB5gLYBgBAAA1gCgAgBQEgkAAgAgAgBwAgL4ABzgSgAgPAABjB1gDQAA0gDIAgPoDgqQCgAQABzBogHwBByBjBfgdwHgD4CgB4Ac9Y3JmgtoABigq4BgawCgBgBgIQBgxgAAgBxgZgCgGAAAuhJ4BgmwAgLACgA4DdheD02A5gBABgboABlgDgAhKQAgrgAg0gBhCABg4YBgJYBBhBxg/4Bg5oCAACAhagBc4ZYiEAAA7D/D+D3BOC/ACCbBUDCAqADCSBXAKD2DKCkAmBZC5BSBrABDyCmAACqCnCHB0DYDxBmBnC8CIFAiF4AeuCL4FDdAeAPD7Anhc4AgHYBcMQZokBsBDC/D+CpCWgDIACDgB4BcJQZ5CB4CFD/gBgADHgBgCABCegOYABCC/hiYAiN4BgBgCBjBqgBgCBvgBgBASgGwAdoSahBBoCZBMAIB3gPAAgHgGALgHgAeGRREsAvgHwIClgHwDgGICgBgBCngHwDgJYCgHwBCsgHwBBsgHwPDKBFAVgHwKDpgPoKDrgHwKDwgHwFBvgHwACngfgAEDgHwDCfAOgHwLCfAtgPoJCfAvgHwJCbA0gHwFBngHwACeAQgHIAC4gHwEBSgHwMBxgPoJCfBzgHwKB3gHwFBXgHwAA4gqQAAtiNACgHwBCVgHwBArgHwAgGIGC2gloE";b.ig=!0;b.ka={Xa:1001,U:24E3};b.duration={Xa:24024,U:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Nh=[176,746];b.Jh=[44];},function(t,b){function a(c,k){var g;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,k);Object.getOwnPropertyNames(c).forEach(function(h){g=Object.getOwnPropertyDescriptor(c,h);void 0 !== g && Object.defineProperty(k,h,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(t,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.uha=b.U3=void 0;a=(function(){function k(){var g;g=this;this.zU=[];this.l6b=function(h){h=g.zU.indexOf(h);0 <= h && g.zU.splice(h,1);};}Object.defineProperties(k.prototype,{wx:{get:function(){return 0 !== this.zU.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tbb:{get:function(){return this.zU.length;},enumerable:!1,configurable:!0}});k.prototype.add=function(){var g;g=new c(this.l6b);this.zU.push(g);return g;};k.prototype.jfa=function(g){var h;h=this.add();try{return Promise.resolve(g()).then(function(d){h.release();return d;},function(d){h.release();return Promise.reject(d);});}catch(d){return (h.release(),Promise.reject(d));}};return k;})();b.U3=a;c=(function(){function k(g){this.Fyb=g;}k.prototype.release=function(){this.Fyb(this);};return k;})();t=(function(){function k(g,h){this.t1b=g;this.console=h;this.counter=new a();}k.prototype.ux=function(){var g,h;g=this;this.console.trace("Acquiring lease, total count",this.counter.tbb + 1);h=this.counter.add();return {release:function(){h.release();g.console.trace("Releasing lease, total count",g.counter.tbb);g.t1b(function(){return !g.counter.wx;});}};};return k;})();b.uha=t;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Zh=b.jja=void 0;c=a(20);(function(d){d[d.absolute=0]="absolute";d[d.Aeb=1]="relative";})(k=b.jja || (b.jja={}));h=(function(){function d(f,l){this.type=f;this.timestamp=l;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + k[this.type];};Object.defineProperties(d,{La:{get:function(){g || (g=new d(k.Aeb,c.M.La));return g;},enumerable:!1,configurable:!0}});return d;})();t=(function(){function d(){}d.Yy=function(f){return new h(k.absolute,f);};Object.defineProperties(d,{Jdc:{get:function(){return h.La;},enumerable:!1,configurable:!0}});d.VF=function(f){return new h(k.Aeb,f);};d.sDa=new h(k.absolute,c.M.Yx);return d;})();b.Zh=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FC=void 0;c=a(98);k=a(420);g=a(31);t=(function(){var R8;function h(d,f){var a00,l;a00=2;for(;a00 !== 8;){switch(a00){case 2:l=this;this.config=d;a00=5;break;case 5:var v9X="1SIYb";v9X+="ZrNJ";v9X+="Cp9";this.HP=f;this.Wkb=this.J6=null;this.WZ=function(m,n,p){var b00;b00=2;for(;b00 !== 5;){switch(b00){case 2:m=l.Io(m,p);return l.config.HXa?(n=c.Bqa(l.config.GXa,n.Ak - n.mc,1),{lower:m * (1 - n),upper:void 0}):{lower:m * l.config.z0 / 100,upper:void 0};break;}}};v9X;a00=8;break;}}}R8=2;for(;R8 !== 14;){switch(R8){case 2:h.prototype.G0a=function(d,f){var c00,l;c00=2;for(;c00 !== 3;){switch(c00){case 2:l=null === this.J6?d * (100 - this.config.z0) / 100:k.Uma(d,this.J6);f=null !== f && void 0 !== f?f:this.HP;c00=5;break;case 5:this.config.xva && f?(d=k.Uma(d,f),d=Math.max(d,l)):d=l;return d;break;}}};h.prototype.iBa=function(d){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:return this.config.XLb && (d === g.va.dh || d === g.va.sd);break;}}};h.prototype.Io=function(d,f){var e00,l,m,n;e00=2;for(;e00 !== 5;){switch(e00){case 2:return this.iBa(f)?(null === (l=d.k7a) || void 0 === l?void 0:l.oa) || (null === (m=d.Na) || void 0 === m?void 0:m.oa) || 0:(null === (n=d.Na) || void 0 === n?void 0:n.oa) || 0;break;}}};h.prototype.Iy=function(d){var f00;f00=2;for(;f00 !== 1;){switch(f00){case 4:this.J6=d;f00=0;break;f00=1;break;case 2:this.J6=d;f00=1;break;}}};R8=3;break;case 3:h.prototype.aX=function(){var g00;g00=2;for(;g00 !== 1;){switch(g00){case 4:return this.J6;break;g00=1;break;case 2:return this.J6;break;}}};h.prototype.AK=function(d){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:this.Wkb=d;h00=1;break;}}};h.prototype.HX=function(){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 4:return this.Wkb;break;i00=1;break;case 2:return this.Wkb;break;}}};h.prototype.PCa=function(d){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=d;j00=1;break;case 4:this.config=d;j00=0;break;j00=1;break;}}};return h;break;}}})();b.FC=t;},function(t,b,a){var c,k,g;c=a(130);k=a(53);g=a(188);t.exports=function(h){return function n(f,l,m){switch(arguments.length){case 0:return n;case 1:return g(f)?n:k(function(p,q){return h(f,p,q);});case 2:return g(f) && g(l)?n:g(f)?k(function(p,q){return h(p,l,q);}):g(l)?k(function(p,q){return h(f,p,q);}):c(function(p){return h(f,l,p);});default:return g(f) && g(l) && g(m)?n:g(f) && g(l)?k(function(p,q){return h(p,q,m);}):g(f) && g(m)?k(function(p,q){return h(p,l,q);}):g(l) && g(m)?k(function(p,q){return h(f,p,q);}):g(f)?c(function(p){return h(p,l,m);}):g(l)?c(function(p){return h(f,p,m);}):g(m)?c(function(p){return h(f,l,p);}):h(f,l,m);}};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VNa="PboPlaydataServicesSymbol";b.mT="PboPlaydataServicesProviderSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oL=b.Kob=void 0;c=a(26);b.Kob=function(){this.PH=[];this.Wn=[];this.CWa=[];this.hna=c.Gw.gz;this.Yea=c.Gm.gz;};b.oL="DeviceCapabilitiesConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wT="SourceBufferTypeProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fT="MslProviderSymbol";},function(t){function b(h,d){return h.some(function(f){return f.id === d;});}function a(h,d){return h.filter(c.bind(null,d)).map(k).reduce(g,0);}function c(h,d){return h.id === d.id && h.displayTime + h.duration === d.displayTime;}function k(h){return h.duration;}function g(h,d){return h + d;}t.exports={KFb:function(h,d,f){for(var l=0;l < h.length;l++){if(h[l] !== d[l])return (f.error("indexId mismatch in sidx",{sIndexId:h,mIndexId:d}),!1);}return !0;},kpa:function(h,d,f){var l;l={};l.displayTime=h.displayTime;l.duration=h.duration;l.originX=h.K1b;l.originY=h.L1b;l.sizeX=h.T9b;l.sizeY=h.U9b;l.imageData=d;l.id=h.ZI;l.rootContainerExtentX=f.m7b;l.rootContainerExtentY=f.n7b;return l;},Zra:function(h,d){return "o_" + h + "s_" + d;},idc:function(h,d){d("P" === String.fromCharCode(h[1]));d("N" === String.fromCharCode(h[2]));d("G" === String.fromCharCode(h[3]));},pd:function(h){return "undefined" !== typeof h;},Qoc:b,wlc:a,lX:function(h,d){var f,l;f=Object.create({});for(l in h){f[l]=h[l];}h instanceof Error && (f.message=h.message,f.stack=h.stack);f.errorString=d;return f;},assert:function(h,d){if(!h)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},P6a:function(h){return h && 0 < h.entries.length && 0 === h.images.length;},Y$b:function(h,d){for(var f=d.entries.length,l,m=0;m < f;m++){if((l=d.entries[m],l.displayTime <= h && l.displayTime + l.duration >= h))return !0;}return !1;},Z$b:function(h,d,f){for(var l=f.entries.length,m,n,p=0;p < l;p++){m=f.entries[p];n=m.displayTime;m=n + m.duration;if(d < n)break;if(n <= h && m >= h || n > h && n <= d)return !0;}return !1;},OZa:function(h){return h.map(function(d,f){d.duration+=a(h.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},Tsa:function(h){return h.reduce(function(d,f){return d + f.entries.reduce(function(l,m){return m.Rta + l;},0);},0);},YKb:function(h,d){return h && h.By <= d && h.Mr >= d;},sQb:function(h){if(h)return h.endTime;},OQb:function(h){try{return String.fromCharCode.apply(String,h);}catch(d){}return "";}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jsb=b.Gob=b.xGa=void 0;t=b.xGa || (b.xGa={});t.oic="PboDebugEvent";t.ric="PlaygraphEvent";b.Gob={nhc:"Manifest",Event:"Event",ahc:"Logblob"};b.Jsb={njc:"UX",zfc:"Combined_1",Afc:"Combined_2"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DG="PlaygraphConfigSymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zq=b.qmb=void 0;b.qmb=a;b.Zq=new a();},function(t,b,a){var k,g,h;function c(d,f,l,m){f=h.bj.call(this,d,f,m) || this;f.context=d;f.Eqa=l;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.gs=void 0;t=a(0);k=a(1);g=a(71);h=a(76);a(161);ka(c,h.bj);c.prototype.gg=function(d,f){var l,m;l=this;m=this.BN(f);!1;!1;return this.send(d,{url:f.href,name:g.eh.events,Kn:g.eh.events + "/" + this.Eqa},m).then(function(){return f;}).catch(function(n){throw l.Fo(n);});};c.prototype.sr=function(d,f,l){var m,n,p;m=this;n=this.BN(l);!1;!1;p={url:f.qX("events").href,name:g.eh.events,Kn:g.eh.events + "/" + this.Eqa};return this.send(d,p,n).then(function(q){f.uma(q.result.links);return l;}).catch(function(q){throw m.Fo(q);});};c.prototype.BN=function(d){return {event:this.Eqa,xid:d.ga,position:d.position || 0,clientTime:d.aI,sessionStartTime:d.rq,videoTrackId:d.SR,audioTrackId:d.po,timedTextTrackId:d.BR,mediaId:d.LP,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Pna(d.Xv),sessionParams:d.Nn};};c.prototype.Ona=function(d){return {downloadableId:d.Yb,duration:d.duration};};c.prototype.Pna=function(d){var f;f={total:d.total,audio:d.audio.map(this.Ona),video:d.video.map(this.Ona),text:d.text.map(this.Ona)};d.total !== d.WK && (f.totalContentTime=d.WK);0 !== d.MF && (f.totalAdDuration=d.MF);0 !== d.NF && (f.totalOtherDuration=d.NF);if(0 !== d.NF || 0 !== d.MF)f.totalCombinedDuration=d.DR;return f;};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.hp)()),t.__param(1,(0,k.hp)()),t.__param(2,(0,k.hp)()),t.__param(3,(0,k.hp)())],a);b.gs=a;},function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aG="BrowserInfoSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Jsa=function(){return this.buffer.length - this.position;};a.prototype.WB=function(){return this.buffer[this.position++];};a.prototype.Ok=function(c){var k;k=this.position;this.position+=c;return this.qWb(this.buffer)?this.buffer.subarray(k,this.position):this.buffer.slice(k,this.position);};a.prototype.qWb=function(c){return void 0 !== c.subarray;};a.prototype.Nr=function(c){for(var k=0;c--;){k=256 * k + this.buffer[this.position++];}return k;};a.prototype.dza=function(c){for(var k="";c--;){k+=String.fromCharCode(this.buffer[this.position++]);}return k;};a.prototype.Sh=function(){return this.Nr(2);};a.prototype.Or=function(){return this.Nr(4);};a.prototype.DQ=function(){return this.Nr(8);};a.prototype.Cy=function(c){for(var k,g="";c--;){k=this.WB();g+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return g;};a.prototype.eza=function(c){for(var k=0,g=0;g < c;g++){k+=this.WB() << (g << 3);}return k;};a.prototype.CQ=function(){return this.eza(4);};a.prototype.k1=function(c){this.WR(c,2);};a.prototype.zC=function(c){this.WR(c,4);};a.prototype.lfa=function(c){this.buffer[this.position++]=c;};a.prototype.WR=function(c,k){this.position+=k;for(var g=1;g <= k;g++){this.buffer[this.position - g]=c & 255;c=Math.floor(c / 256);}};a.prototype.yC=function(c){for(var k=0;k < c.length;k++){this.buffer[this.position++]=c.charCodeAt(k);}};a.prototype.j1=function(c){for(var k=c.length,g=0;g < k;g++){this.buffer[this.position++]=c[g];}};a.prototype.VR=function(c,k){this.j1(c.Ok(k));};a.prototype.slb=function(c){c=new a(c);for(var k,g;;){if((k=c.Jsa(),g=k >>> 14))(g=Math.min(4,g),this.lfa(192 | g),this.VR(c,16384 * g));else {128 > k?this.lfa(k):this.WR(k | 32768,2);this.VR(c,k);break;}}};a.prototype.Ydb=function(){var g;for(var c=[],k=new a(c);;){g=this.WB();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.WB(),k.VR(this,g));else if((g&=63,0 < g && 4 >= g)){k.VR(this,16384 * g);continue;}else throw Error("bad asn1");}else k.VR(this,g);break;}return new Uint8Array(c);};return a;})();b.zS=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L1="CannedChallengeProvider";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RPa="ReportSyncSymbol";b.PPa="ReportApiErrorSyncSymbol";b.eIa="FtlProbeConfigSymbol";b.gIa="FtlProbeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.y1="ApiInfoSymbol";},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.IPa=b.X3=b.p9=void 0;c=a(31);k=a(3);b.p9=function(g){return g === c.Nb.al.cc?k.R.Kha:k.R.Lha;};b.X3=50;b.IPa=1E3;},function(t,b){function a(c){var k;k={profile:c.spoofedProfile || c.profile,V8:c.max_framerate_value,U8:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,gya:c.pixelAspectX,hya:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (k.Ync=c.profile);return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.N4a=b.tsa=void 0;b.tsa=function(c,k,g){var h;h=[{},{}];(0 === g?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,f){c[d].some(function(l,m){return m === k[f]?(h[f]=a(l),!0):!1;});});return h;};b.N4a=a;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dz=void 0;c=a(174);k=a(2);t=(function(){function g(h){this.config=h;this.reset();}g.instance=function(){k.assert(void 0 !== g.EM);return g.EM;};g.XFb=function(h){g.EM=new g(h);};g.prototype.push=function(h){this.Hg && this.Hg.push(h);};g.prototype.yb=function(){if(this.Hg)return (this.Hg.AA(),this.Hg.nj([.25,.5,.75,.9,.95,.99]).map(function(h){return h?parseFloat(h.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.D1a && this.config.nha && (this.Hg=new c.xja(this.config.nha.c,this.config.nha.maxc));};return g;})();b.dz=t;},function(t,b,a){var d;function c(f,l,m){this.gO=!1 === f;this.Rp=f || .01;this.oha=void 0 === l?25:l;this.zFa=void 0 === m?1.1:m;this.gj=new d(k);this.reset();}function k(f,l){return f.Tf > l.Tf?1:f.Tf < l.Tf?-1:0;}function g(f,l){return f.ky - l.ky;}function h(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.Rp:!1);this.CKb=this.config.ratio || .9;this.DKb=this.config.tpc || 1E3;this.pba=0;}d=a(826).Usb;c.prototype.reset=function(){this.gj.clear();this.tva=this.n=0;};c.prototype.size=function(){return this.gj.size;};c.prototype.Tn=function(f){var l;l=[];f?(this.L4(!0),this.gj.Df(function(m){l.push(m);})):this.gj.Df(function(m){l.push({Tf:m.Tf,n:m.n});});return l;};c.prototype.summary=function(){return [(this.gO?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.nj(0),"Q1  = " + this.nj(.25),"Q2  = " + this.nj(.5),"Q3  = " + this.nj(.75),"max = " + this.nj(1)].join("\n");};c.prototype.push=function(f,l){l=l || 1;f=Array.isArray(f)?f:[f];for(var m=0;m < f.length;m++){this.hTa(f[m],l);}};c.prototype.Zya=function(f){f=Array.isArray(f)?f:[f];for(var l=0;l < f.length;l++){this.hTa(f[l].Tf,f[l].n);}};c.prototype.L4=function(f){var l;if(!(this.n === this.tva || !f && this.zFa && this.zFa > this.n / this.tva)){l=0;this.gj.Df(function(m){m.ky=l + m.n / 2;l=m.VN=l + m.n;});this.n=this.tva=l;}};c.prototype.YNb=function(f){var l,m;if(0 === this.size())return null;l=this.gj.lowerBound({Tf:f});m=null === l.data()?l.ZJ():l.data();return m.Tf === f || this.gO?m:(l=l.ZJ()) && Math.abs(l.Tf - f) < Math.abs(m.Tf - f)?l:m;};c.prototype.NM=function(f,l,m){this.gj.Ar({Tf:f,n:l,VN:m});this.n+=l;};c.prototype.u4=function(f,l,m){l !== f.Tf && (f.Tf+=m * (l - f.Tf) / (f.n + m));f.VN+=m;f.ky+=m / 2;f.n+=m;this.n+=m;};c.prototype.hTa=function(f,l){var m,n,p;m=this.gj.min();n=this.gj.max();p=this.YNb(f);p && p.Tf === f?this.u4(p,f,l):p === m?this.NM(f,l,0):p === n?this.NM(f,l,this.n):this.gO?this.NM(f,l,p.VN):(m=p.ky / this.n,Math.floor(4 * this.n * this.Rp * m * (1 - m)) - p.n >= l?this.u4(p,f,l):this.NM(f,l,p.VN));this.L4(!1);!this.gO && this.oha && this.size() > this.oha / this.Rp && this.AA();};c.prototype.dDb=function(f){var l,m;this.gj.fo=g;l=this.gj.upperBound({ky:f});this.gj.fo=k;m=l.ZJ();f=m && m.ky === f?m:l.next();return [m,f];};c.prototype.nj=function(f){var l;l=(Array.isArray(f)?f:[f]).map(this.jyb,this);return Array.isArray(f)?l:l[0];};c.prototype.jyb=function(f){var l,m;if(0 !== this.size()){this.L4(!0);this.gj.min();this.gj.max();f*=this.n;l=this.dDb(f);m=l[0];l=l[1];return l === m || null === m || null === l?(m || l).Tf:this.gO?f <= m.VN?m.Tf:l.Tf:m.Tf + (f - m.ky) * (l.Tf - m.Tf) / (l.ky - m.ky);}};c.prototype.AA=function(){var f;if(!this.FZa){f=this.Tn();this.reset();for(this.FZa=!0;0 < f.length;){this.Zya(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.L4(!0);this.FZa=!1;}};h.prototype=Object.create(c.prototype);h.prototype.constructor=h;h.prototype.push=function(f){c.prototype.push.call(this,f);this.WEb();};h.prototype.NM=function(f,l,m){this.pba+=1;c.prototype.NM.call(this,f,l,m);};h.prototype.u4=function(f,l,m){1 === f.n && --this.pba;c.prototype.u4.call(this,f,l,m);};h.prototype.WEb=function(){!("auto" !== this.mode || this.size() < this.DKb) && this.pba / this.size() > this.CKb && (this.mode="cont",this.gO=!1,this.Rp=this.config.Rp || .01,this.AA());};t.exports={TDigest:c,Digest:h};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(24);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f;f=g.prototype.parse.call(this,d);this.L.offset+=8;this.ioa=this.L.$g();this.gAa=this.L.$g();this.L.offset+=4;this.samplerate=this.L.$g();this.L.offset+=2;k.W && this.L.console.trace("MP4AudioSampleEntry: channelcount: " + this.ioa + ", samplesize: " + this.gAa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.mf)(d.mf.ioa=this.ioa,d.mf.gAa=this.gAa,d.mf.samplerate=this.samplerate);return f;};h.od=!1;return h;})(a(237).default);b.default=t;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Fw=void 0;a(2);t=(function(){function c(k,g){c.za(this,k,g);}c.za=function(k,g,h){k.kd=g;k.cd=h.aa;k.Lb=h.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{aa:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.kd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{I:{get:function(){return this.kd.I;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.kd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Qa:{get:function(){return this.kd.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.kd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.kd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.kd.U;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{CJ:{get:function(){return this.kd.CJ;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ka:{get:function(){return this.kd.ka;},enumerable:!1,configurable:!0}});c.prototype.x8b=function(k){this.cd=k;};c.prototype.toJSON=function(){return {movieId:this.I,streamId:this.Qa,offset:this.offset,bytes:this.aa};};return c;})();b.Fw=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.XF=void 0;c=a(0);k=c.__importDefault(a(4));t=(function(g){function h(d,f,l,m,n){var p;p=g.call(this,l) || this;p.o6=!1;h.za(p,d,f,l,m,n);return p;}c.__extends(h,g);h.za=function(d,f,l,m,n,p){d.Yd=m;d.A_=f;d.Qe=n;d.hH=f.location || l.location;d.DU=f.Gc || l.ye;d.KAa=f.KAa || l.KAa;d.TE=l.TE;d.rea=k.default.time.ia();d.G=p;};Object.defineProperties(h.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{location:{get:function(){return this.hH;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ye:{get:function(){return this.DU;},enumerable:!1,configurable:!0}});h.prototype.za=function(d){this.Sa=d;};h.prototype.YAa=function(d,f){this.hH=d;this.DU=f;};h.prototype.WCa=function(){var d,f,l;if(this.complete)return 0;d=this.A_;f=d.O;if(!d.url)return (this.G.warn("updateurl, missing url for streamId:",d.Qa,"mediaRequest:",this,"stream:",d),1);l=d.r5a(this.Bc,this.TE);return this.url === l || (f.YAa(this,d.location,d.Gc),this.mea(l))?0:(this.G.warn("swapUrl failed: ",this.DO),2);};return h;})(a(85).Ew);b.XF=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Aja=b.bo=void 0;c=a(153);(function(g){g[g.pending=0]="pending";g[g.oda=1]="running";g[g.complete=2]="complete";g[g.fO=3]="destroyed";})(k=b.bo || (b.bo={}));t=(function(){function g(h,d){void 0 === d && (d=0);this.name=h;this.priority=d;this.Nc=k.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{tVb:{get:function(){return this.Nc === k.pending || this.Nc === k.oda;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{de:{get:function(){return this.rx;},enumerable:!1,configurable:!0}});g.prototype.cCb=function(h){var d;null === (d=this.rx) || void 0 === d?void 0:d.vza(this);this.rx=h;};g.prototype.Gy=function(){this.Nc=k.oda;this.gg();this.yba() === c.Zh.sDa && (this.Nc=k.complete);};g.prototype.xb=function(){var h;this.Nc=k.fO;null === (h=this.rx) || void 0 === h?void 0:h.vza(this);};return g;})();b.Aja=t;},function(t,b,a){var g,h,d,f,l,m,n,p;function c(q,r){return q.done?q:{value:{value:q.value,aWa:r}};}function k(q){q.aWa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.BCb=b.Tsb=b.kL=void 0;g=a(0);t=a(11);h=a(125);d=a(10);f=g.__importDefault(a(4));l=a(7);m=a(2);a=a(35);n=(function(){function q(r,u){this.console=r;this.rg=u;this.hxb=this.QT=0;this.Mg=[];this.console=l.ii(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{lKb:{get:function(){return this.QT;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{BZa:{get:function(){var r,u,v;for(u=0;u < this.Mg.length;u++){v=this.Mg[u];if(!v.hY || (null === (r=v.item) || void 0 === r?0:r.done))break;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mt:{get:function(){return 0 === this.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lza:{get:function(){var r;for(r=0;r < this.Mg.length && this.Mg[r].Qua;r++){;}return r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var r;r=g.__read(this.Mg,1)[0];return (r=r && r.item) && !r.done && r.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ywa:{get:function(){var r;for(r=0;r < this.Mg.length && this.Mg[r].hY;r++){;}return r;},enumerable:!1,configurable:!0}});q.prototype.m8=function(){var r;if(void 0 === this.rg){r=this.console;d.W && r && r.trace("QueueIterator: enqueueEnd");this.QCa(this.Ywa - (this.rg || 0));}};q.prototype.Tn=function(){return this.Mg.map(function(r){return r.item;});};q.prototype.xea=function(){this.Pf || (this.Pf=this.Mg.filter(function(r){return (null === r || void 0 === r?void 0:r.item) && !r.item.done;}).map(function(r){return r.item.value;}));return this.Pf;};q.prototype.QCa=function(r){var u;d.W && this.console.trace("updateCount",{Tnc:this.rg,Rp:r});if(void 0 !== this.rg){u=this.Mg[this.rg];u && this.nua(u);}this.rg=void 0 === this.rg?r:void 0 === r?r:this.rg + r;void 0 !== this.rg && (this.rg=Math.max(0,this.rg),(u=this.Mg[this.rg]) && u.jJ.resolve({done:!0}));};q.prototype.enqueue=function(r){var u;d.W && this.console.trace("Enqueue called");u=this.Ywa;this.j7();return this.O4b(u,{value:r,done:!1}).w0a.promise;};q.prototype.lfb=function(){d.W && this.console.trace("resetEnd");this.QCa(void 0);};q.prototype.clear=function(r){var u,v,w;d.W && this.console.trace("clear");this.Ldb();u=this.Lza;v=this.Mg.length - u;if(0 < v){w={index:u,oxa:v};d.W && this.console.trace("Removing items",w);this.Mg.splice(u,v);this.j7();this.emit("onRemoved",w);}for(v=1;v < u;v++){this.nua(this.Mg[v]);}this.rg=void 0;this.QCa(r?r + u:r);this.QT && (this.QT=0);};q.prototype.getIterator=function(){var r,u;r=this;u=l.ii(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return r.T4a(v);},u);};q.prototype.cO=function(){var r;if(0 < this.Lza){r=g.__read(this.Mg,1)[0];if(r.hY)return (d.W && this.console.trace("dequeue",r.id),this.Ldb(1),this.emit("onDequeue",r.jJ.promise));}};q.prototype.remove=function(r){var u,v,w;for(u=0;u < this.Mg.length;u++){v=this.Mg[u];w=v.item;if(w && !w.done && w.value === r){this.Mg.splice(u,1);this.rg && this.rg > u && this.rg--;this.j7();d.W && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:u,oxa:1});break;}}};q.prototype.Ldb=function(r){var u;r=r || Math.min(this.Lza,this.Ywa);if(0 < r){u=this.Mg.splice(0,r);this.j7();this.rg && (this.rg-=r);d.W && this.console.trace("pruned",r);Promise.resolve().then(function(){u.forEach(function(v){v.w0a.resolve();});});this.emit("onRemoved",{index:0,oxa:r});this.QT+=r;}};q.prototype.T4a=function(r){var u;d.W && this.console.trace("getNextItemCalled",{offset:r});if(void 0 === this.count || 0 < this.count){this.f7a(r);u=this.Mg[r];u.O6b.resolve();r=u.jJ.promise;d.W && this.console.trace("getNextItem:return",{id:u.id});}else (d.W && this.console.trace("getNextItem:returnDone"),r=Promise.resolve({done:!0}));return r;};q.prototype.O4b=function(r,u){var v;v=!u.done && u.value;v=v && v.toJSON?v.toJSON():v;d.W && this.console.trace("Providing result",{LBb:r,item:v});this.f7a(r);r=this.Mg[r];v=r.jJ.resolve;v(u);return r;};q.prototype.f7a=function(r){var u;if(void 0 === this.Mg[r]){u={};this.nua(u);this.Mg[r]=u;r === this.rg && u.jJ.resolve({done:!0});d.W && this.console.trace("Item initialized",{LBb:r});}};q.prototype.ipa=function(r){var u;u={};u.promise=new Promise(function(v,w){u.resolve=function(x){v(x);r && r(x);};u.reject=w;});return u;};q.prototype.nua=function(r){var u;u=this;r.jJ=this.ipa(function(v){r.item=v;r.hY=!0;d.W && u.console.trace("Item resolved",{id:r.id});});r.id && r.Qua && !r.hY && (r.jJ.resolve({done:!0}),d.W && this.console.warn("Overwriting requested queue item",r.id));r.w0a=this.ipa();r.O6b=this.ipa(function(){r.Qua=!0;d.W && u.console.trace("Item requested",{id:r.id});});r.id=this.hxb++;r.Qua=!1;r.hY=!1;r.item=void 0;};q.prototype.j7=function(){this.Pf=void 0;};q.prototype.Jra=function(){var r,u,v;r=this;u=l.ii(f.default,this.console,"QueueIteratorInstance::");v=new p(this,function(w){var x,y;if(0 === r.count)return h.AsyncIterator.Zsa();x=r.T4a(w);y=r.Mg[0];return x.then(function(z){return c(z,function(){v.oP || (y === r.Mg[0]?r.cO():m.assert(!r.Mg.filter(function(A){return A.jJ.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},u);return v;};return q;})();b.kL=n;a.Je(t.EventEmitter,n);p=(function(q){function r(u,v,w){var x;x=q.call(this,function(){d.W && x.console.trace("Next item requested",{index:x.index});return x.o7b(x.index++);}) || this;x.parent=u;x.o7b=v;x.console=w;x.GM=!1;x.index=0;x.Tka=!1;x.Gbb=function(y){var z;z=y.index;y=y.oxa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.W && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}g.__extends(r,q);r.prototype.di=function(){this.console.trace("disposed");this.GM=!0;this.Yc();q.prototype.di.call(this);};r.prototype.next=function(){this.oP || this.mP();return q.prototype.next.call(this);};r.prototype.cancel=function(){this.Yc();return q.prototype.cancel.call(this);};r.prototype.Yc=function(){this.parent.IB("onRemoved",this.Gbb);this.Tka=!1;};r.prototype.mP=function(){this.Tka || (this.Tka=!0,this.parent.on("onRemoved",this.Gbb));};return r;})(h.AsyncIterator);b.Tsb=p;b.BCb=function(q){return h.map(q,k);};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.d4=void 0;c=a(7);t=(function(){function k(g){this.Es=g;this.L2a=new c.JC();}Object.defineProperties(k.prototype,{N8a:{get:function(){var g,h;return null !== (g=this.QTb) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.N8a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sY:{get:function(){var g,h;return null !== (g=this.S_b) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.sY;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Po:{get:function(){var g,h;return null !== (g=this.Kf) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S8a:{get:function(){var g,h,d,f;return null !== (g=this.bf) && void 0 !== g?g:(null === (h=this.track) || void 0 === h?0:h.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (f=this.parent) || void 0 === f?void 0:f.bf:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{V8a:{get:function(){var g,h;return null !== (g=this.B$b) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.V8a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mva:{get:function(){var g,h;return null !== (g=this.C$b) && void 0 !== g?g:null === (h=this.parent) || void 0 === h?void 0:h.mva;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{track:{get:function(){return this.c8b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jlb:{get:function(){return this.L2a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{parent:{get:function(){var g;return null === (g=this.Es) || void 0 === g?void 0:g.call(this);},enumerable:!1,configurable:!0}});k.prototype.xb=function(){this.Es=void 0;};k.prototype.xgb=function(g){this.QTb=g;};k.prototype.P8b=function(g){this.S_b=g;};k.prototype.Kgb=function(g){this.Kf=g;this.L2a.resolve();};k.prototype.W_=function(g){this.bf=g;};k.prototype.$8b=function(g){this.B$b=g;};k.prototype.Mgb=function(g){this.C$b=g;};k.prototype.Y_=function(g){this.c8b=g;};return k;})();b.d4=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});t=a(413);c=a(415);a=a(416);b.default={STARTING:a.AAa,BUFFERING:t.UQ,REBUFFERING:t.UQ,PLAYING:c.ap,PAUSED:c.ap};},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.TO=b.FC=void 0;c=a(419);k=a(984);g=a(985);h=a(986);d=a(154);Object.defineProperties(b,{FC:{enumerable:!0,get:function(){return d.FC;}}});b.TO=function(f,l){switch(f.cwa){case "manifold":return new c.Oha(f,l);case "stddev":return new g.XQa(f,l);case "ci":return new h.UFa(f,l);default:return new k.JQa(f,l);}};},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$w=void 0;c=a(0);k=a(10);g=a(7);h=a(52);t=(function(){function d(f,l){this.Vh=f;this.options=c.__assign({pFb:!0},l);}Object.defineProperties(d.prototype,{FB:{get:function(){return "trace-" + this.Vh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Se:{get:function(){return this.FB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.W;},enumerable:!1,configurable:!0}});d.prototype.rl=function(f){var l,m;if(f.Ti === h.ie.Sp || f.Ti === h.ie.gp){l=g.h0a(this.Vh.EWb);m=this.Vh.YTb;f.Ti === h.ie.Sp && this.options.pFb && this.Vh.clear();f=l;Object.keys(m).length && (f=c.__spread(l,[m]));return f;}};d.prototype.xb=function(){this.Vh.xb();};return d;})();b.$w=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uS=void 0;b.uS=(function(){function a(){}a.F$=function(c,k){var d;function g(f){return h(d++)(f,g);}function h(f){return f >= k.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + f);}:k[f];}d=0;return g(c);};return a;})();},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Msa=b.Jo=b.isEqual=b.nY=void 0;c=a(7);k=a(227);b.nY=function(g){return ! !g.K;};b.isEqual=function(g,h){var d,f;d=b.nY(g);f=b.nY(h);return d === f?d?g.K === h.K:g.fa === h.fa:!1;};b.Jo=function(g){if(b.nY(g))return g.K;g=g.fa;return g.N[g.Vd].K;};b.Msa=function(g,h){var d;return g.S6?g.S6 instanceof c.M?(g=k.QN(h,b.Jo(g.key),g.S6),(null === g || void 0 === g?0:g.offset.greaterThan(c.M.La))?g:{offset:c.M.La,Y:null !== (d=null === g || void 0 === g?void 0:g.Y) && void 0 !== d?d:h.Vd}):g.S6:{offset:c.M.La,Y:h.Vd};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pw=void 0;t=b.Pw || (b.Pw={});t[t.MCa=0]="up";t[t.oW=1]="down";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t.exports=function(a){return {minInitVideoBitrate:a.Sv,minHCInitVideoBitrate:a.Iwa,maxInitVideoBitrate:a.xB,minInitAudioBitrate:a.eZ,maxInitAudioBitrate:a.PY,minHCInitAudioBitrate:a.cZ,minAcceptableVideoBitrate:a.$aa,minRequiredBuffer:a.$E,minPrebufSize:a.kj,minCheckBufferingCompleteInterval:a.dba,rebufferingFactor:a.iza,useMaxPrebufSize:a.dDa,maxPrebufSize:a.Nv,maxRebufSize:a.qwa,maxBufferingTime:a.Fr,minAudioMediaRequestSizeBytes:a.aba,minVideoMediaRequestSizeBytes:a.iba,initialBitrateSelectionCurve:a.w$,initSelectionLowerBound:a.g7a,initSelectionUpperBound:a.h7a,throughputPercentForAudio:a.z0,bandwidthMargin:a.sna,bandwidthMarginContinuous:a.tna,bandwidthMarginCurve:a.una,conservBandwidthMargin:a.Yoa,switchConfigBasedOnInSessionTput:a.fCa,conservBandwidthMarginTputThreshold:a.QV,conservBandwidthMarginCurve:a.Zoa,switchAlgoBasedOnHistIQR:a.tib,switchConfigBasedOnThroughputHistory:a.HF,maxPlayerStateToSwitchConfig:a.pwa,lowEndMarkingCriteria:a.Pva,IQRThreshold:a.hha,histIQRCalcToUse:a.Hta,maxTotalBufferLevelPerSession:a.Ov,highWatermarkLevel:a.B6a,toStableThreshold:a.bjb,toUnstableThreshold:a.wea,skipBitrateInUpswitch:a.wBa,watermarkLevelForSkipStart:a.vDa,highStreamRetentionWindow:a.h$,lowStreamTransitionWindow:a.yaa,highStreamRetentionWindowUp:a.Cta,lowStreamTransitionWindowUp:a.Rva,highStreamRetentionWindowDown:a.Bta,lowStreamTransitionWindowDown:a.Qva,highStreamInfeasibleBitrateFactor:a.Ata,lowestBufForUpswitch:a.sB,lockPeriodAfterDownswitch:a.taa,lowWatermarkLevel:a.Tva,lowestWaterMarkLevel:a.dy,lowestWaterMarkLevelBufferRelaxed:a.Uva,mediaRate:a.Uaa,maxTrailingBufferLen:a.tJ,audioBufferTargetAvailableSize:a.iV,videoBufferTargetAvailableSize:a.$0,maxVideoTrailingBufferSize:a.E$a,maxAudioTrailingBufferSize:a.g$a,fastUpswitchFactor:a.z8,fastDownswitchFactor:a.Pqa,maxMediaBufferAllowed:a.hq,simulatePartialBlocks:a.rBa,simulateBufferFull:a.ehb,considerConnectTime:a.$oa,connectTimeMultiplier:a.Xoa,lowGradeModeEnterThreshold:a.D9a,lowGradeModeExitThreshold:a.E9a,maxDomainFailureWaitDuration:a.j$a,maxAttemptsOnFailure:a.f$a,exhaustAllLocationsForFailure:a.$1a,maxNetworkErrorsDuringBuffering:a.s$a,maxBufferingTimeAllowedWithNetworkError:a.Daa,fastDomainSelectionBwThreshold:a.i2a,throughputProbingEnterThreshold:a.Gib,throughputProbingExitThreshold:a.Hib,locationProbingTimeout:a.r9a,finalLocationSelectionBwThreshold:a.q2a,throughputHighConfidenceLevel:a.Eib,throughputLowConfidenceLevel:a.Fib,locationStatisticsUpdateInterval:a.Bva,enablePerfBasedLocationSwitch:a.B1a,probeServerWhenError:a.hw,probeRequestTimeoutMilliseconds:a.Lya,allowSwitchback:a.jA,probeDetailDenominator:a.$J,maxDelayToReportFailure:a.Eaa,countGapInBuffer:a.b_a,bufferThresholdForAbort:a.aYa,allowCallToStreamSelector:a.IWa,pipelineScheduleTimeoutMs:a.fya,maxPartialBuffersAtBufferingStart:a.yB,maxActiveRequestsSABCell100:a.Baa,maxStreamingSkew:a.rwa,maxPendingBufferPercentage:a.nwa,headerRequestSize:a.f$,estimateHeaderSize:a.zqa,minBufferLenForHeaderDownloading:a.aZ,reserveForSkipbackBufferMs:a.F_,numExtraFragmentsAllowed:a.nxa,pipelineEnabled:a.Ir,maxParallelConnections:a.IP,socketReceiveBufferSize:a.phb,audioSocketReceiveBufferSize:a.K6,videoSocketReceiveBufferSize:a.RR,headersSocketReceiveBufferSize:a.yta,updatePtsIntervalMs:a.Nea,bufferTraceDenominator:a.Gna,bufferLevelNotifyIntervalMs:a.zN,aseReportDenominator:a.qN,aseReportIntervalMs:a.D6,enableAbortTesting:a.NLb,abortRequestFrequency:a.Wzb,streamingStatusIntervalMs:a.VBa,prebufferTimeLimit:a.RB,minBufferLevelForTrackSwitch:a.cba,penaltyFactorForLongConnectTime:a.Zxa,longConnectTimeThreshold:a.Nva,additionalBufferingLongConnectTime:a.Fma,additionalBufferingPerFailure:a.Gma,rebufferCheckDuration:a.m_,enableLookaheadHints:a.y1a,lookaheadFragments:a.A9a,enableOCSideChannel:a.NA,OCSCBufferQuantizationConfig:a.z3,updateDrmRequestOnNetworkFailure:a.Ujb,deferAseScheduling:a.q0a,maxDiffAudioVideoEndPtsMs:a.i$a,defaultHeaderCacheSize:a.L7,defaultHeaderCacheDataPrefetchMs:a.K7,neverWipeHeaderCache:a.FJ,networkFailureResetWaitMs:a.Uwa,networkFailureAbandonMs:a.Twa,maxThrottledNetworkFailures:a.Kaa,throttledNetworkFailureThresholdMs:a.pea,lowThroughputThreshold:a.Sva,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Gqa,mp4ParsingInNative:a.uab,sourceBufferInOrderAppend:a.rhb,requireAudioStreamToEncompassVideo:a.iK,allowAudioToStreamPastVideo:a.HWa,enableManagerDebugTraces:a.Ni,managerDebugMessageInterval:a.Q9a,managerDebugMessageCount:a.P9a,bufferThresholdToSwitchToSingleConnMs:a.Fna,bufferThresholdToSwitchToParallelConnMs:a.Ena,netIntrStoreWindow:a.y_b,minNetIntrDuration:a.VZb,fastHistoricBandwidthExpirationTime:a.lNb,bandwidthExpirationTime:a.JCb,failureExpirationTime:a.iNb,historyTimeOfDayGranularity:a.XTb,expandDownloadTime:a.UMb,minimumMeasurementTime:a.h_b,minimumMeasurementBytes:a.g_b,throughputMeasurementTimeout:a.Jac,initThroughputMeasureDataSize:a.WUb,throughputMeasureWindow:a.Iac,throughputIQRMeasureWindow:a.Hac,IQRBucketizerWindow:a.zqb,connectTimeHalflife:a.YFb,responseTimeHalflife:a.d7b,historicBandwidthUpdateInterval:a.WTb,throughputWarmupTime:a.Oac,minimumBufferToStopProbing:a.f_b,throughputPredictor:a.Kac,ase_stream_selector:a.RBb,enableFilters:a.SLb,filterDefinitionOverrides:a.CNb,defaultFilter:a.KJb,secondaryFilter:a.Q7b,defaultFilterDefinitions:a.LJb,initBitrateSelectorAlgorithm:a.fua,bufferingSelectorAlgorithm:a.Lna,ase_ls_failure_simulation:a.$_a,ase_dump_fragments:a.wpa,ase_location_history:a.xpa,ase_throughput:a.a0a,ase_simulate_verbose:a.c0a,secondThroughputEstimator:a.tAa,secondThroughputMeasureWindowInMs:a.Ofb,marginPredictor:a.cwa,networkMeasurementGranularity:a.Vwa,HistoricalTDigestConfig:a.aJa,maxIQRSamples:a.o$a,minIQRSamples:a.eab,periodicHistoryPersistMs:a.hca,saveVideoBitrateMs:a.vda,needMinimumNetworkConfidence:a.kZ,biasTowardHistoricalThroughput:a.xna,maxFastPlayBufferInMs:a.Faa,maxFastPlayBitThreshold:a.kwa,minAudioMediaRequestDuration:a.my,minVideoMediaRequestDuration:a.BB,minAudioMediaRequestDurationCache:a.my,minVideoMediaRequestDurationCache:a.BB,addHeaderDataToNetworkMonitor:a.tma,hindsightDenominator:a.Gta,hindsightDebugDenominator:a.Fta,hindsightParam:a.j$,minimumTimeBeforeBranchDecision:a.aF,minimumTimeBeforeDelayedSeekToQueuedSegment:a.mab,enableSessionHistoryReport:a.DW,earlyStageEstimatePeriod:a.gqa,lateStageEstimatePeriod:a.X8a,maxNumSessionHistoryStored:a.Iaa,minSessionHistoryDuration:a.hba,appendMediaRequestOnComplete:a.XWa,waitForDrmToAppendMedia:a.dfa,forceAppendHeadersAfterDrm:a.L8,startMonitorOnLoadStart:a.EBa,reportFailedRequestsToNetworkMonitor:a.Fza,reappendRequestsOnSkip:a.n5b,maxActiveRequestsPerSession:a.iy,limitAudioDiscountByMaxAudioBitrate:a.xva,appendFirstHeaderOnComplete:a.Rma,maxAudioFragmentOverlapMs:0,editVideoFragments:a.DLb,declareBufferingCompleteAtSegmentEnd:a.ypa,applyProfileTimestampOffset:a.OH,applyProfileStreamingOffset:a.mo,mediaSourceSupportsNegativePts:a.XY,requireDownloadDataAtBuffering:a.cda,requireSetupConnectionDuringBuffering:a.dda,recordFirstFragmentOnSubBranchCreate:a.kza,earlyAppendSingleChildBranch:a.f8,selectStartingVMAFMethod:a.VQ,activateSelectStartingVMAF:a.SU,minStartingVideoVMAF:a.Tv,minAcceptableVMAF:a.$Y,minAllowedVmaf:a.zJ,alwaysNotifyEOSForPlaygraph:a.wBb,enableNewAse:a.rO,useNewApi:a.V0,enableCombinedPlaygraphs:a.yW,enableAdPlaygraphs:a.sI,retainSbrOnFade:a.jda,excludedContentPlaygraphIds:a.Hqa,enableDiscontiguousBuffering:a.h8,forceImmediateTransitionTypeForTitles:a.sra,forceImmediateTransitionExitZone:a.rra,useBufferSizeLimiter:a.Pea,useLegacyFragmentRounding:a.cDa,maxAllowedOutstandingRequests:a.Caa,alwaysRunUnderflowTimer:a.mN,minStreamableConcurrencyWindow:a.Jwa,streamableConcurrencyFactor:a.SBa,bufferingConcurrencyWindow:a.BV,singleStreamablePerBranch:a.S9b,enableResolutionVMAFStreamFilter:a.j8,resolutionVMAFCappingRuleList:a.ida,percentCapTitlesForResolutionVMAFStreamFilter:a.bya,useExitZones:a.aDa,perFragmentVMAFConfig:a.oQ,enableInitialTputLogging:a.w1a,maxResponsesInitialTput:a.bZb,paddingDurationMs:a.Mxa,paddingMediaType:a.Nxa,ciPredictorSource:a.woa,experimentalFilter:a.VMb,simulationDurationStrategy:a.tBa};};},function(t){t.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.US="LogblobBuilderFactorySymbol";b.Aha="LogblobBuilderCommonSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yrb="NativeLocalStorageSymbol";b.mMa="NativeLocalStorageFactorySymbol";b.mJa="IDBFactorySymbol";},function(t,b,a){var k,g;function c(h){switch(h){case k.R.JS:return "http";case k.R.LS:return "connectiontimeout";case k.R.jG:return "readtimeout";case k.R.RIa:return "corruptcontent";case k.R.MC:return "abort";case k.R.MS:case k.R.cha:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Lsa=b.g5a=b.Asa=void 0;k=a(3);g=a(13);b.Asa=c;b.g5a=function(h,d){h={errorcode:h + (d.errorCode || k.V.co)};d.wa && (h.errorsubcode=d.wa);d.Ef && (h.errorextcode=d.Ef);d.vqa && (h.erroredgecode=d.vqa);d.Ob && (h.errordetails=d.Ob);d.pl && (h.httperr=d.pl);d.rba && (h.aseneterr=d.rba);d.vI && (h.errordata=d.vI);d.WY && (h.mediaerrormessage=d.WY);(d=c(Number(d.wa))) && (h.nwerr=d);return h;};b.Lsa=function(){return {screensize:g.Uw.width + "x" + g.Uw.height,screenavailsize:g.Uw.availWidth + "x" + g.Uw.availHeight,clientsize:mb.innerWidth + "x" + mb.innerHeight,devicePixelRatio:g.lMa};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SS="LicenseProviderSymbol";},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.tYb=b.ncb=b.s2b=b.U3a=b.A2b=b.wlb=b.vlb=b.$y=b.ADa=b.ulb=b.m1=void 0;c=a(25);k=a(23);b.m1="$attributes";b.ulb="$children";b.ADa="$name";b.$y="$text";b.vlb="$parent";b.wlb="$sibling";b.A2b=/^\s*<\?xml.*\?>/i;b.U3a=function(g,h,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(h=arguments[f++]) && (g=g[h]);){;}return g;};b.s2b=function(g,h){var d;g?d=(0,c.Xj)(g[b.$y]):void 0 !== h && (d=h);(0,k.bW)(d);return d;};b.ncb=function(g,h){var d;g?d=g[b.$y]:void 0 !== h && (d=h);(0,k.Y_a)(d);return d;};b.tYb=function(g,h){var d;d={};d[b.m1]=g;d[b.$y]=h;return d;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PC=void 0;t=b.PC || (b.PC={});t[t.hfc=8]="Backspace";t[t.hjc=9]="Tab";t[t.ngc=13]="Enter";t[t.ajc=16]="Shift";t[t.Efc=17]="Ctrl";t[t.Kec=18]="Alt";t[t.nic=19]="PauseBreak";t[t.wfc=20]="CapsLock";t[t.pgc=27]="Escape";t[t.cjc=32]="Space";t[t.mic=33]="PageUp";t[t.lic=34]="PageDown";t[t.mgc=35]="End";t[t.Sgc=36]="Home";t[t.Zgc=37]="LeftArrow";t[t.pjc=38]="UpArrow";t[t.xic=39]="RightArrow";t[t.Ufc=40]="DownArrow";t[t.Wgc=45]="Insert";t[t.Rfc=46]="Delete";t[t.yjc=48]="Zero";t[t.cic=49]="One";t[t.kjc=50]="Two";t[t.ijc=51]="Three";t[t.Mgc=52]="Four";t[t.Kgc=53]="Five";t[t.bjc=54]="Six";t[t.$ic=55]="Seven";t[t.lgc=56]="Eight";t[t.Nhc=57]="Nine";t[t.Dec=65]="A";t[t.Lec=66]="B";t[t.ofc=67]="C";t[t.Gnb=68]="D";t[t.E=69]="E";t[t.qgc=70]="F";t[t.Ngc=71]="G";t[t.Qgc=72]="H";t[t.Tgc=73]="I";t[t.Xgc=74]="J";t[t.oha=75]="K";t[t.Dqb=76]="L";t[t.chc=77]="M";t[t.qhc=78]="N";t[t.$hc=79]="O";t[t.eic=80]="P";t[t.Q=81]="Q";t[t.tic=82]="R";t[t.$sb=83]="S";t[t.Jtb=84]="T";t[t.ljc=85]="U";t[t.qjc=86]="V";t[t.sjc=87]="W";t[t.Nja=88]="X";t[t.wjc=89]="Y";t[t.xjc=90]="Z";t[t.$gc=91]="LeftWindowKey";t[t.yic=92]="RightWindowKey";t[t.Yic=93]="SelectKey";t[t.Qhc=96]="Numpad0";t[t.Rhc=97]="Numpad1";t[t.Shc=98]="Numpad2";t[t.Thc=99]="Numpad3";t[t.Uhc=100]="Numpad4";t[t.Vhc=101]="Numpad5";t[t.Whc=102]="Numpad6";t[t.Xhc=103]="Numpad7";t[t.Yhc=104]="Numpad8";t[t.Zhc=105]="Numpad9";t[t.phc=106]="Multiply";t[t.Jec=107]="Add";t[t.djc=109]="Subtract";t[t.Qfc=110]="DecimalPoint";t[t.Tfc=111]="Divide";t[t.rgc=112]="F1";t[t.vgc=113]="F2";t[t.wgc=114]="F3";t[t.xgc=115]="F4";t[t.ygc=116]="F5";t[t.zgc=117]="F6";t[t.Agc=118]="F7";t[t.Bgc=119]="F8";t[t.Cgc=120]="F9";t[t.sgc=121]="F10";t[t.tgc=122]="F11";t[t.ugc=123]="F12";t[t.Phc=144]="NumLock";t[t.Wic=145]="ScrollLock";t[t.Zic=186]="SemiColon";t[t.ogc=187]="Equals";t[t.Bfc=188]="Comma";t[t.Ofc=189]="Dash";t[t.pic=190]="Period";t[t.Lgc=191]="ForwardSlash";t[t.jjc=192]="Tilde";t[t.dic=219]="OpenBracket";t[t.gfc=220]="BackSlash";t[t.yfc=221]="CloseBracket";t[t.sic=222]="Quote";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vL=void 0;b.vL=function(){return "";};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aga=b.TGa=void 0;b.TGa=function(){this.cc=0;this.Jb=1;this.zpb=2;this.gg=function(){};};b.Aga="DownloadTrackConstructorFactorySymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xc=void 0;b.xc=a;a.Ke={CMa:"mr1",BMa:"mr2",DMa:"mr3",iT:"mr4",Hrb:"mr5",zG:"mr6"};a.Rc={UNSENT:0,OPENED:1,Cz:2,Az:3,DONE:5,uL:6,bS:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.i2={NO_ERROR:-1,nob:0,mGa:1,zob:2,rob:3,qnb:4,wFa:5,uFa:6,rnb:7,snb:8,tnb:9,nnb:10,pnb:11,vFa:12,onb:13,mnb:14,Fpb:15,PIa:16,OIa:17,$ga:18,bha:19,aha:20,SIa:21,Hpb:22,d3:23,QIa:24,Gpb:25,uob:26,oob:27,ntb:28,eob:29,fob:30,gob:31,hob:32,iob:33,job:34,kob:35,lob:36,mob:37,pob:38,qob:39,sob:40,tob:41,vob:42,wob:43,xob:44,yob:45,Aob:46,Bob:47,mtb:48,TIMEOUT:49,LIa:50,MIa:51,Epb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Kc={H_:{Mlb:!0,uT:!1,trb:!0}};},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ck=void 0;c=a(16);k=a(18);t=a(3);g=a(23);h=a(8);d=a(502);f=a(13);l=a(36);m=a(48);n=h.ya.get(l.$i);n.register(t.V.gha,function(p){var q,r,u;q=h.ya.get(m.Hq);(0,g.ib)(k.config);(0,g.ib)(f.TC && f.TC.getDeviceId || f.kMa || q.JO);r=h.ya.get(d.KGa);u=(0,h.Jj)("Device");n.He("devs");r.create({deviceId:k.config.deviceId,JO:q.JO,B0a:"deviceid",ql:k.config.ql,Tp:q.Tp,jW:q.jW,userAgent:f.xG,Eva:k.config.Eva,Xra:k.config.Xra,Knc:k.config.PA?"mslstoretest":"mslstore",LR:k.config.LR}).then(function(v){b.Ck=v;mb._cad_global.device=b.Ck;u.info("Esn source: " + b.Ck.p8);n.He("devdone");p(c.Lg);}).catch(function(v){v.ca=void 0;p(v);});});},function(t){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof mb && (b=mb);}t.exports=b;},function(t,b,a){b=a(593);t.exports=Function.prototype.bind || b;},function(t){t.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(t,b,a){var c,k,g,h;b=a(44);c=b("%TypeError%");k=b("%SyntaxError%");g=a(105);h={"Property Descriptor":function(d){var f,l;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(l in d){if(g(d,l) && !f[l])return !1;}f=g(d,"[[Value]]");d=g(d,"[[Get]]") || g(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(626)};t.exports=function(d,f,l,m){var n;n=h[f];if("function" !== typeof n)throw new k("unknown record type: " + f);if("Object" !== d(m) || !n(m))throw new c(l + " must be a " + f);};},function(t,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mG=void 0;c=/^\S+$/;a.prototype.lI=function(k){return void 0 !== k;};a.prototype.Vg=function(k){return null !== k && void 0 !== k;};a.prototype.bV=function(k){return a.NWa(k);};a.prototype.hma=function(k){return !(!k || !a.NWa(k));};a.prototype.ED=function(k){return Array.isArray(k);};a.prototype.OWa=function(k){return !(!k || k.constructor != Uint8Array);};a.prototype.ko=function(k,g,h){return a.YVa(k,g,h);};a.prototype.gma=function(k){return a.gma(k);};a.prototype.Oma=function(k,g,h){return a.s6(k,g,h) && 0 === k % 1;};a.prototype.cV=function(k,g,h){return a.s6(k,g || 0,h);};a.prototype.OU=function(k){return a.s6(k,1);};a.prototype.Uzb=function(k){return a.s6(k,0,255);};a.prototype.Vzb=function(k){return k === +k && (0 === k || k !== (k | 0)) && !0;};a.prototype.PWa=function(k){return !(!k || !c.test(k));};a.prototype.Hu=function(k){return a.ZVa(k);};a.prototype.lo=function(k){return !(!a.ZVa(k) || !k);};a.prototype.e6=function(k){return !0 === k || !1 === k;};a.prototype.g6=function(k){return "function" == typeof k;};a.ZVa=function(k){return "string" == typeof k;};a.YVa=function(k,g,h){return "number" == typeof k && !isNaN(k) && isFinite(k) && (void 0 === g || k >= g) && (void 0 === h || k <= h);};a.gma=function(k){return "number" == typeof k && isNaN(k);};a.s6=function(k,g,h){return a.YVa(k,g,h) && 0 === k % 1;};a.NWa=function(k){return "object" == typeof k;};b.mG=new a();},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;t=a(1);c=a(78);k=a(661);g=a(209);h=a(688);d=a(695);f=a(699);a=a(1394);b.ic=new t.N1({CK:!0});(0,f.j9a)(b.ic);b.ic.load(k.platform);b.ic.load(h.config);g.lO.load(d.m1a);b.ic.load(a.TWa);b.ic.load(a.profile);b.ic.bind(c.WJa).vm(b.ic);},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(206);t=(function(){function k(g){this.Dc=g;}k.prototype.oy=function(g){this.Dc.oy=g;return new c.Wfa(this.Dc);};return k;})();b.F1=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(205);a(326);t=(function(){function k(g){this.Dc=g;}k.prototype.when=function(g){this.Dc.fI=g;return new c.F1(this.Dc);};k.prototype.h1=function(){this.Dc.fI=function(g){return null !== g.target && !g.target.Fua() && !g.target.Rua();};return new c.F1(this.Dc);};return k;})();b.Wfa=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cia="PlatformEmeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vja="StringUtilsSymbol";},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.lO=b.l1a=void 0;t=a(1);c=a(121);k=a(329);g=a(210);h=a(211);d=a(672);f=a(674);l=a(96);m=a(139);n=a(675);p=a(168);q=a(676);r=a(212);u=a(677);v=a(214);w=a(681);x=a(337);y=a(686);b.l1a=new t.vd(function(z){z(k.XGa).to(g.WGa).ha();z(h.iga).to(d.BFa).ha();z(c.f2).H0(f.Jdb);z(l.uz).LF(function(A){b.lO.parent=A.ub;return b.lO.get(l.uz);});z(m.aT).ef(function(){return function(){return new n.LLa();};});z(p.L1).to(q.CFa).ha();z(r.Gga).to(u.AHa).ha();z(v.Bga).to(w.bHa).ha();z(x.ILa).to(y.HLa).ha();});b.lO=new t.N1({CK:!0});},function(t,b,a){var g;function c(){}function k(h){h?(this.active=!1,this.Ara(h)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=b.e2=void 0;t=a(0);a=a(1);k.prototype.Ara=function(h){this.Ge=h.keySessionData?h.keySessionData.map(function(d){return {id:d.id,oJ:d.licenseContextId,CY:d.licenseId};}):[];this.ga=h.xid;this.I=h.movieId;};k.prototype.xw=function(){return JSON.parse(JSON.stringify({keySessionData:this.Ge?this.Ge.map(function(h){return {id:h.id,licenseContextId:h.oJ,licenseId:h.CY};}):[],xid:this.ga,movieId:this.I}));};b.e2=k;c.prototype.create=function(){return new k();};c.prototype.load=function(h){return new k(h);};g=c;g=t.__decorate([(0,a.X)()],g);b.WGa=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iga="CachedDrmDataSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gga="EmeApiFactorySymbol";},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){this.jZ=u;this.is=v;this.pc=w;this.yi=x;this.Ek=y;this.Xh=z;(0,h.fq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Yw=void 0;t=a(0);g=a(1);h=a(55);d=a(3);f=a(38);l=a(27);m=a(95);n=a(32);p=a(33);q=a(67);a=a(72);c.prototype.XA=function(){if(this.wb)return this.wb.sessionId;};c.prototype.F6b=function(u,v){return this.jZ.requestMediaKeySystemAccess(u,v);};c.prototype.createMediaKeys=function(u){return u.createMediaKeys();};c.prototype.createSession=function(u,v){this.wb=u.createSession(v);};c.prototype.z7=function(){return Promise.reject(new m.Ch(d.V.h2));};c.prototype.iWb=function(){return ! !this.wb;};c.prototype.setServerCertificate=function(u,v){return this.is.g6(u.setServerCertificate) && v?u.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(u,v){return this.wb?this.wb.generateRequest(u,v[0]):Promise.reject(new m.Ch(d.V.h2,d.R.sL,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(u){return this.wb?this.wb.update(u[0]):Promise.reject(new m.Ch(d.V.rHa,d.R.sL,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(u){return this.wb?this.wb.load(u):Promise.reject(new m.Ch(d.V.cpb,d.R.sL,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var u;this.Koa=void 0;if(!this.wb)return Promise.reject(new m.Ch(d.V.jHa,d.R.sL,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.XA() && (u=this.wb.close());this.wb=void 0;return u;};c.prototype.remove=function(){return this.wb?this.wb.remove():Promise.reject(new m.Ch(d.V.epb,d.R.sL,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.bK=function(){return Promise.reject(new m.Ch(d.V.Ega,void 0,"Unable to renew a key session, not supported"));};c.prototype.pWa=function(u){if(!this.wb)throw ReferenceError("Unable to add message handler, key session is not valid");this.wb.addEventListener(k.wHa,u);};c.prototype.lWa=function(u){if(!this.wb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.wb.addEventListener(k.vHa,u);};c.prototype.iWa=function(u){if(!this.wb)throw ReferenceError("Unable to add error handler, key session is not valid");this.wb.addEventListener(k.uHa,u);};c.prototype.tAb=function(u){var v;v=this;if(!this.wb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Koa=u;this.wb.closed.then(function(w){var x;return null === (x=v.Koa) || void 0 === x?void 0:x.call(v,w);});};c.prototype.Jeb=function(u){if(!this.wb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.wb.removeEventListener(k.wHa,u);};c.prototype.Geb=function(u){if(!this.wb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.wb.removeEventListener(k.vHa,u);};c.prototype.Eeb=function(u){if(!this.wb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.wb.removeEventListener(k.uHa,u);};r=k=c;r.wHa="message";r.vHa="keystatuseschange";r.uHa="error";r=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(f.JL)),t.__param(1,(0,g.l)(l.Kg)),t.__param(2,(0,g.l)(p.zi)),t.__param(3,(0,g.l)(n.$h)),t.__param(4,(0,g.l)(q.iu)),t.__param(5,(0,g.l)(a.tu))],r);b.Yw=r;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bga="DrmTraitsFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uua=b.Lw=void 0;(function(a){a.pkb="usable";a.ur="expired";a.released="released";a.Tbb="output-restricted";a.Y1b="output-downscaled";a.u$b="status-pending";a.lVb="internal-error";})(b.Lw || (b.Lw={}));b.uua=function(a){return ! !a && ! !a.keyStatuses;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fja="UserAgentDataPlatformVersionProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.h4="TimeoutMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jk="_ANY_";b.KHa="EnricherSymbol";},function(t,b,a){var k,g,h;function c(d,f,l,m){this.Ea=d;this.Z6=f;this.ep=l;this.Op=void 0 === m?"General":m;this.Moa={};}Object.defineProperty(b,"__esModule",{value:!0});b.AL=void 0;k=a(6);g=a(357);h=a(728);c.prototype.fWa=function(d,f){this.Moa[d]=f;};c.prototype.fatal=function(d,f){for(var l=[],m=1;m < arguments.length;++m){l[m - 1]=arguments[m];}this.yD(k.gk.opb,d,this.NR(d,l));};c.prototype.error=function(d,f){for(var l=[],m=1;m < arguments.length;++m){l[m - 1]=arguments[m];}this.yD(k.gk.Yf,d,this.NR(d,l));};c.prototype.warn=function(d,f){for(var l=[],m=1;m < arguments.length;++m){l[m - 1]=arguments[m];}this.yD(k.gk.Kja,d,this.NR(d,l));};c.prototype.info=function(d,f){for(var l=[],m=1;m < arguments.length;++m){l[m - 1]=arguments[m];}this.yD(k.gk.eha,d,this.NR(d,l));};c.prototype.trace=function(d,f){for(var l=[],m=1;m < arguments.length;++m){l[m - 1]=arguments[m];}this.yD(k.gk.mRa,d,this.NR(d,l));};c.prototype.debug=function(d,f){for(var l=1;l < arguments.length;++l){;}!1;};c.prototype.log=function(d,f){for(var l=[],m=1;m < arguments.length;++m){l[m - 1]=arguments[m];}this.debug.apply(this,[d].concat(ha(l)));};c.prototype.write=function(d,f,l){for(var m=[],n=2;n < arguments.length;++n){m[n - 2]=arguments[n];}this.yD(d,f,this.NR(f,m));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Op};};c.prototype.x7=function(d){return new c(this.Ea,this.Z6,this.ep,d);};c.prototype.yD=function(d,f,l){d=new g.yha(d,this.Op,this.Ea.Tb(),f,l);f=na(this.ep.ep);for(l=f.next();!l.done;l=f.next()){l=l.value;l(d);}};c.prototype.OPb=function(d){return 0 < Object.keys(this.Moa).length?[this.Moa].concat(ha(d)):d;};c.prototype.NR=function(d,f){var l;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (l=Error("Empty message").stack) && void 0 !== l?l:"nostack"});return (0,h.jYa)(this.Z6,this.OPb(f));};b.AL=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lja="SegmentManagerFactorySymbol";},function(t,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.J$b=b.ieb=b.gza=void 0;b.gza=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.ieb=a;b.J$b=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.Rh) + " sp:" + c.dC + " pssp:") + (c.b_ + " state:") + (c.wf + " path-complete:" + c.MB + " streaming:") + (c.Vt + " current:" + c.Us);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Q$a=b.Waa=b.Of=void 0;b.Of=[0,1];b.Waa=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.Q$a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FL=void 0;c=a(10);k=a(31);t=(function(){function g(h,d){this.console=h;this.config=d;this.Qea=!1;}g.prototype.hn=function(h,d,f,l){void 0 === f && (f=k.M.La);void 0 === l && (l=!1);c.W && this.console.trace("Filtering streams for fastplay",{Qea:this.Qea,Ym:f.T,Qmc:l});if(this.Qea || f.T >= this.config.TYb || !1 === l){d=h.filter(this.nLb);if(d.length)return d;c.W && this.console.trace("No drm streams to return");}d=h.filter(this.qFb);if(d.length)return d;c.W && this.console.trace("No clear streams to return");return h;};g.prototype.uib=function(){this.Qea=!0;};g.prototype.nLb=function(h){return h.Lj;};g.prototype.qFb=function(h){return !h.Lj;};return g;})();b.FL=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dia=void 0;t=(function(){function a(c,k,g,h){var d;d=this;this.properties=c;this.transform=k;this.EV=g;this.state=h;this.yxa=function(){var f,l;f=d.state;l=d.properties.map(function(m){return m.value;});d.state=d.transform(l);(d.N7a(d.state) && d.N7a(f)?d.state.equal(f):f === d.state) || d.EV(d.state);};c.forEach(function(f){return f.addListener(d.yxa);});this.yxa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(k){return k.removeListener(c.yxa);});};a.prototype.N7a=function(c){return void 0 !== c.equal;};return a;})();b.dia=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ek=void 0;t=b.ek || (b.ek={});t[t.CLOSED=0]="CLOSED";t[t.OPEN=1]="OPEN";t[t.yj=2]="STREAMING";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LG=void 0;t=(function(){function a(c){this.qVa=c;}Object.defineProperties(a.prototype,{oP:{get:function(){return this.rwb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.qVa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wza:{get:function(){var c;c=this;return this.qVa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.rwb=!0;};a.prototype.uZ=function(c,k){var g;g=this;this.result.then(function(h){g.oP?k && k(h):c(h);});return this;};return a;})();b.LG=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QN=b.jNb=b.wA=b.AF=void 0;c=a(0);k=a(20);g=a(39);Object.defineProperties(b,{AF:{enumerable:!0,get:function(){return g.AF;}}});Object.defineProperties(b,{wA:{enumerable:!0,get:function(){return g.wA;}}});b.jNb=function(h,d){var f,q,r;h=Math.max(h.duration - 3E4,3E4);for(var l={},m,n=0,p=0;p < h;p+=3E4){q="s" + n++;r={K:d,qa:p,sa:p + 3E4 < h?p + 3E4:null};void 0 !== m && (m.next=(f={},f[q]={weight:1},f),m.Rb=q);m=l[q]=r;}return {Vd:"s0",N:l,oe:"lazy"};};b.QN=function(h,d,f,l){var m,n,p,u,v,w;void 0 === l && (l={});p=k.M.max(f,k.M.La);try{for(var q=c.__values(Object.keys(h.N)),r=q.next();!r.done;r=q.next()){u=r.value;v=h.N[u];if(v.K === d){w=k.M.Ha(v.qa);if(p.sn(w) && (!isFinite(null !== (n=v.sa) && void 0 !== n?n:NaN) || p.lessThan(k.M.Ha(v.sa))))return {Y:u,offset:f.Ba(w)};}}}catch(y){var x;x={error:y};}finally{try{r && !r.done && (m=q.return) && m.call(q);}finally{if(x)throw x.error;}}if(l.Nfb && (v=Object.keys(h.N).map(function(y){return {key:y,u:h.N[y]};}).filter(function(y){return y.u.K === d;}).map(function(y){var z,A;z=k.M.abs(f.Ba(k.M.Ha(y.u.qa)));if(y.u.sa && isFinite(y.u.sa)){A=k.M.abs(f.Ba(k.M.Ha(y.u.sa)));z=k.M.min(z,A);}return c.__assign(c.__assign({},y),{Rp:z});}),v.sort(function(y,z){return y.Rp.T - z.Rp.T;}),w=c.__read(v,1)[0]))return (v=w.u,l=w.key,w=k.M.Ha(v.qa),{Y:l,offset:f.Ba(w)});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fXa=b.fV=b.Xc=void 0;b.Xc=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};b.fV=function(a){return a.filter(function(c,k){return a.indexOf(c) === k;});};b.fXa=function(a,c){return a.filter(function(k,g){return a.indexOf(k) === g && -1 !== c.indexOf(k);});};},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(374),b);t.__exportStar(a(821),b);t.__exportStar(a(822),b);t.__exportStar(a(823),b);},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.nL=void 0;t=a(0);c=a(173);k=t.__importDefault(a(231));g=t.__importDefault(a(848));h=t.__importDefault(a(145));d=a(2);f=a(385);l=t.__importDefault(a(4));b.nL=(function(){function n(p,q,r){var u;u=this;this.hi=new k.default(p,r);this.Qo=new g.default(p);this.Vb=new h.default(this.Qo,this.hi,p);new f.c4(l.default.E7,q,p);c.dz.XFb(p);p.hca && setInterval(function(){u.hi.save();u.Qo.save();},p.hca);}n.$4a=function(p,q,r){void 0 === m?(n.config=p,n.KF=r,m=new n(p,q,r)):(d.assert(n.config === p),d.assert(n.KF === r));return m;};n.reset=function(){n.config=void 0;m=n.KF=void 0;};return n;})();},function(t,b,a){var d,f,l,m,n,p;function c(q){var r;r=q.Fka;this.J=q;this.cD=f.vj.HAVE_NOTHING;this.qka=q.qka;q=new n(q);this.IU=q.create("throughput-location-history",r);this.g5=q.create("throughput-location-history",r);this.W5=q.create("throughput-location-history",r);this.X5=q.create("throughput-location-history",r);this.V5=q.create("throughput-location-history",r);this.$z=q.create("respconn-location-history",r);this.Qz=q.create("respconn-location-history",r);this.T5=q.create("throughput-tdigest-history",r);this.h5=q.create("throughput-iqr-history",r);this.Q4=q.create("throughput-location-history",r);this.S4=q.create("throughput-location-history",r);this.R4=q.create("throughput-location-history",r);this.T4=q.create("throughput-location-history",r);this.tb=null;}function k(q,r,u,v,w){this.yu=new c(w);this.Ip=[];this.Wwb=l.time.ia() - Date.now() % 864E5;this.xu=null;this.J=w;for(q=0;q < v;++q){this.Ip.push(new c(w));}}function g(q,r,u){return d.has(q,r)?q[r]:q[r]=u;}function h(q,r){var u;this.J=q;this.JVa=r;this.KMb();this.cH=new c(this.J);this.hU();u=q.xpa;u && (u={confidence:f.vj.ES,Na:{oa:parseInt(u,10),ee:0},Qk:{oa:0,ee:0},Xx:{oa:0,ee:0}},this.get=function(){return u;});}d=a(9);f=a(28).default;b=a(7);l=a(4).default;m=b.jIa;n=a(838).upb;new l.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.vj.HAVE_NOTHING};c.prototype.JH=function(q,r){this.cD=r;this.IU.add(q);this.T5.add(q);this.tb=l.time.ia();};c.prototype.GH=function(q){this.g5.add(q);};c.prototype.KH=function(q){this.W5.add(q.initial);this.X5.add(q.low);this.V5.add(q.high);};c.prototype.cL=function(q,r){this.h5.set(q,r);};c.prototype.iA=function(q){this.$z.add(q);};c.prototype.hA=function(q){this.Qz.add(q);};c.prototype.kN=function(q){this.Q4.add(q.oa);this.S4.add(q.ee);this.R4.add(q.SH);this.T4.add(q.OR);};c.prototype.getState=function(){var q,r,u,v,w,x,y,z,A,B,C,D,F,G;q=this.IU.getState();r=this.g5.getState();u=this.W5.getState();v=this.X5.getState();w=this.V5.getState();x=this.$z.getState();y=this.Qz.getState();z=this.h5.getState();A=this.T5.getState();B=this.Q4.getState();C=this.S4.getState();D=this.R4.getState();F=this.T4.getState();if(d.qb(q) && d.qb(x) && d.qb(y))return null;G={c:this.cD,t:l.time.Pwa(this.tb)};d.qb(q) || (G.tp=q);d.qb(r) || (G.itp=r);d.qb(u) || (G.tcii=u);d.qb(v) || (G.tcil=v);d.qb(w) || (G.tcih=w);d.qb(x) || (G.rt=x);d.qb(y) || (G.hrt=y);d.qb(z) || (G.iqr=z);d.qb(A) || (G.td=A);d.qb(B) || (G.dta=B);d.qb(C) || (G.dtv=C);d.qb(D) || (G.dtta=D);d.qb(F) || (G.dttv=F);return G;};c.prototype.Dd=function(q){var r;r=l.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.vj.ES || q.t > r || !this.IU.Dd(q.tp))return (this.cD=f.vj.HAVE_NOTHING,this.xu=this.tb=null,this.IU.Dd(null),this.$z.Dd(null),this.Qz.Dd(null),!1);this.cD=q.c;this.tb=l.time.kxa(q.t);this.$z.Dd(d.has(q,"rt")?q.rt:null);this.Qz.Dd(d.has(q,"hrt")?q.hrt:null);this.g5.Dd(d.has(q,"itp")?q.itp:null);this.W5.Dd(d.has(q,"tcii")?q.tcii:null);this.X5.Dd(d.has(q,"tcil")?q.tcil:null);this.V5.Dd(d.has(q,"tcih")?q.tcih:null);this.Q4.Dd(d.has(q,"dta")?q.dta:null);this.S4.Dd(d.has(q,"dtv")?q.dtv:null);this.R4.Dd(d.has(q,"dtta")?q.dtta:null);this.T4.Dd(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.h5.Dd(q.iqr);d.has(q,"td") && this.T5.Dd(q.td);return !0;};c.prototype.get=function(){var q,r,u,v,w,x,y,z,A,B,C;q=this.J;if(d.qb(this.tb))return p;r=(l.time.ia() - this.tb) / 1E3;r > q.jwb?this.cD=f.vj.HAVE_NOTHING:r > q.Hvb && (this.cD=Math.min(this.cD,f.vj.LC));q=this.IU.get();u=this.g5.get();v=this.W5.get().oa;w=this.X5.get().oa;x=this.V5.get().oa;y=this.$z.get();z=this.Qz.get();A=this.h5.get();B=this.T5.get();C={oa:this.Q4.Isa().oa,ee:this.S4.Isa().oa,SH:this.R4.get().oa,OR:this.T4.get().oa};result={Qm:r,confidence:this.cD,Na:q,k7a:u,"throughput-ci":{initial:v,low:w,high:x},Qk:y,Xx:z,Hv:A,Hg:B,cn:C};q && (result.vpc=m.prototype.wy.bind(q));y && (result.Doc=m.prototype.wy.bind(y));z && (result.zmc=m.prototype.wy.bind(z));return result;};c.prototype.time=function(){return this.tb;};k.prototype.pe=function(){return ((l.time.ia() - this.Wwb) / 1E3 / 3600 / (24 / this.Ip.length) | 0) % this.Ip.length;};k.prototype.getState=function(){var q;q={g:this.yu.getState(),h:this.Ip.map(function(r){return r.getState();})};d.qb(this.xu) || (q.f=l.time.Pwa(this.xu));return q;};k.prototype.Dd=function(q){var r,u;if(!this.yu.Dd(q.g))return !1;r=this.Ip.length;u=!1;this.Ip.forEach(function(v,w){u=!v.Dd(q.h[w * q.h.length / r | 0]) || u;});this.xu=d.has(q,"f")?l.time.kxa(q.f):null;return u;};k.prototype.JH=function(q,r){this.yu.JH(q,r);this.Ip[this.pe()].JH(q,r);this.xu=null;};k.prototype.GH=function(q){this.yu.GH(q);this.Ip[this.pe()].GH(q);this.xu=null;};k.prototype.KH=function(q){this.yu.KH(q);this.Ip[this.pe()].KH(q);this.xu=null;};k.prototype.cL=function(q,r){this.yu.cL(q,r);this.Ip[this.pe()].cL(q,r);};k.prototype.iA=function(q){this.yu.iA(q);this.Ip[this.pe()].iA(q);};k.prototype.hA=function(q){this.yu.hA(q);this.Ip[this.pe()].hA(q);};k.prototype.kN=function(q){this.yu.kN(q);this.Ip[this.pe()].kN(q);};k.prototype.fail=function(q){this.xu=q;};k.prototype.get=function(){var q,r;if(!d.qb(this.xu)){if((l.time.ia() - this.xu) / 1E3 < this.J.Gvb)return {confidence:f.vj.HAVE_NOTHING,kv:!0};this.xu=null;}q=this.Ip[this.pe()].get();r=this.yu.get();q=q.confidence >= r.confidence?q:r;q.kv=!1;return q;};k.prototype.time=function(){return this.yu.time();};h.prototype.GTa=function(q,r){var u;u=this.J;q=g(this.bU,q,{});return g(q,r,new k(u.UTa || 14400,u.TTa || 100,u.STa || 100,u.OUa || 4,u));};h.prototype.hU=function(){var q,r;q=l.storage.get("lh");r=l.storage.get("gh");q && this.Rla(q);r && this.hzb(r);};h.prototype.Nka=function(){var q;q={};d.Df(this.bU,function(r,u){d.Df(r,function(v,w){g(q,u,{})[w]=v.getState();},this);},this);return q;};h.prototype.hzb=function(q){this.cH.Dd(q);};h.prototype.Rla=function(q){var r,u;r=null;u=this.J;d.Df(q,function(v,w){d.Df(v,function(x,y){var z;z=new k(u.UTa || 14400,u.TTa || 100,u.STa || 100,u.OUa || 4,u);z.Dd(x)?(g(this.bU,w,{})[y]=z,r=!0):d.qb(r) && (r=!1);},this);},this);return d.qb(r)?!0:r;};h.prototype.save=function(){var q;q=this.Nka();l.storage.set("lh",q);l.storage.set("gh",this.cH.getState());this.JVa && this.JVa.RAa(this.cH.getState());};h.prototype.KMb=function(){this.bU={};this.uM=this.bTa="";this.Pl=null;};h.prototype.dR=function(q){this.bTa=q;this.Pl=null;};h.prototype.Jda=function(q){this.uM=q;this.Pl=null;};h.prototype.bH=function(){d.qb(this.Pl) && (this.Pl=this.GTa(this.bTa,this.uM));return this.Pl;};h.prototype.JH=function(q,r){this.bH().JH(q,r);this.cH.JH(q,r);};h.prototype.GH=function(q){this.bH().GH(q);this.cH.GH(q);};h.prototype.KH=function(q){this.bH().KH(q);this.cH.KH(q);};h.prototype.cL=function(q,r){q && q.yl && q.Vj && q.zl && (this.bH().cL(q,r),this.cH.cL(q,r));};h.prototype.iA=function(q){this.bH().iA(q);};h.prototype.hA=function(q){this.bH().hA(q);};h.prototype.kN=function(q){this.bH().kN(q);};h.prototype.fail=function(q,r){this.GTa(q,this.uM).fail(r);};h.prototype.get=function(q,r){var u,v,w,x;q=(q=this.bU[q])?q[this.uM]:null;u=null;if(q && (u=q.get(),u.confidence > f.vj.HAVE_NOTHING))return u;if(!1 === r)return p;v=u=null;w=!1;x=null;d.Df(this.bU,function(y){d.Df(y,function(z,A){var B;if(!w || A == this.uM){B=z.get();B && (!v || v <= B.confidence) && (!x || v < B.confidence || x < z.time()) && (v=B.confidence,w=A == this.uM,x=z.time(),u=B);}},this);},this);return u?u:p;};t.exports=h;},function(t,b,a){var h;function c(d){this.dN=d;this.reset();}function k(d){this.vk=new c(d);this.Lb=0;this.Sc=null;}function g(d,f){this.dN=d;this.sUa=f;this.reset();}h=a(9);c.prototype.ZUa=function(d,f){this.tb+=d;this.kk+=d;this.cd+=f;this.Ep.push({d:d,b:f});};c.prototype.vU=function(){var d;for(;this.kk > this.dN;){d=this.Ep.shift();this.cd-=d.b;this.kk-=d.d;}};c.prototype.reset=function(){this.Ep=[];this.tb=null;this.kk=this.cd=0;};c.prototype.setInterval=function(d){this.dN=d;this.vU();};c.prototype.start=function(d){h.qb(this.tb) && (this.tb=d);};c.prototype.add=function(d,f,l){h.qb(this.tb) && (this.tb=f);f > this.tb && this.ZUa(f - this.tb,0);this.ZUa(l > this.tb?l - this.tb:0,d);this.vU();};c.prototype.get=function(){return {oa:Math.floor(8 * this.cd / this.kk),ee:0};};k.prototype.reset=function(){this.vk.reset();this.Lb=0;this.Sc=null;};k.prototype.add=function(d,f,l){!h.qb(this.Sc) && l > this.Sc && (f > this.Sc && (this.Lb+=f - this.Sc),this.Sc=null);this.vk.add(d,f - this.Lb,l - this.Lb);};k.prototype.start=function(d){!h.qb(this.Sc) && d > this.Sc && (this.Lb+=d - this.Sc,this.Sc=null);this.vk.start(d - this.Lb);};k.prototype.stop=function(d){this.Sc=h.qb(this.Sc)?d:Math.min(d,this.Sc);};k.prototype.get=function(){return this.vk.get();};k.prototype.setInterval=function(d){this.vk.setInterval(d);};g.prototype.reset=function(){this.Ep=[];this.cd=this.kk=0;};g.prototype.add=function(d,f,l,m){void 0 !== m && !0 === m && (f=l - f,this.kk+=f,this.cd+=d,this.Ep.push({d:f,b:d}),this.vU());};g.prototype.vU=function(){var d;for(;this.kk > this.dN || this.Ep.length > this.sUa;){d=this.Ep.shift();this.cd-=d.b;this.kk-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {oa:Math.floor(8 * this.cd / this.kk),ee:0};};g.prototype.setInterval=function(d,f){this.dN=d;this.sUa=f;this.vU();};t.exports={Cfc:c,Mob:k,Ztb:g};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.EGa=b.Iob=b.yga=b.npb=b.Job=void 0;c=a(0);k=a(379);a=(function(){return function(){};})();b.Job=a;g=(function(){function h(d,f,l,m,n){this.alpha=d;this.oa=f;this.weight=m;this.pja=l * this.weight;this.G0=n;}h.prototype.qh=function(){return new h(this.alpha,this.oa,this.ee,this.weight,this.G0);};Object.defineProperties(h.prototype,{ee:{get:function(){return this.weight?this.pja / this.weight:0;},enumerable:!1,configurable:!0}});h.prototype.update=function(d,f,l){var m,n,p,q;m=this.alpha;n=this.weight;p=this.G0;q=m * (d - p);5 < q && (this.weight/=Math.exp(q),this.G0=p=d);d=Math.exp(m * (f - p)) - Math.exp(m * (d - p));f=this.weight+=d;m=this.oa;this.oa=p=m + d * (l - m) / f;this.pja=n?this.pja * (f - d) / n + d * (l - p) * (l - m):0;};return h;})();b.npb=g;t=(function(){function h(d){var l00,f,l;l00=2;for(;l00 !== 7;){switch(l00){case 4:this.VI=d.hl;this.cab=f;this.UZb=l;this.reset();l00=7;break;case 2:var J9X="1S";J9X+="IYbZrNJC";J9X+="p9";this.Al=d;J9X;(f=d.min_b,l=d.min_iv);l00=4;break;}}}var k00;k00=2;for(;k00 !== 14;){switch(k00){case 3:h.prototype.get=function(d,f){var c94=a000;var q00,l,m,n,p,q,r,u,v,w;q00=2;for(;q00 !== 16;){switch(q00){case 20:d=q.weight;f=r.weight;return {oa:d?q.oa:null,ee:d?q.ee:null,SH:f?r.oa:null,OR:f?r.ee:null};break;case 2:(l=this.Yt || 0,m=this.IF || 0,n=d - m,p=this.UZb,q=this.FK,r=this.GK);q00=1;break;case 4:void 0 === f && (f=this.cab);n >= p && (f=Math.min(f,this.cab));p=f * q.oa;u=Math.pow(f,2) * q.ee;q00=7;break;case 5:q00=(q=new g(q.alpha,q.oa,q.ee,q.weight,q.G0),r=new g(r.alpha,r.oa,r.ee,r.weight,r.G0),0 < q.weight && 0 !== f)?4:20;break;case 10:n=1E-11 < v?Math.max(w / v,n):n + 2 * u / p;q00=14;break;case 12:(v=new k.PS(p,u).EYa(n),w=p - v[1]);c94.h9X(0);var R31=c94.Q9X(17,18);v=R31 - v[0];q00=10;break;case 17:(q=this.FK,r=this.GK);q00=20;break;case 1:q00=0 < n?5:17;break;case 13:c94.h9X(0);r.update(c94.X9X(l,m),c94.X9X(l,d),0);q00=20;break;case 6:n=Math.max(n,p);q00=14;break;case 14:c94.j9X(0);q.update(c94.X9X(l,m),c94.X9X(l,d,c94.h9X(0)),c94.Q9X(n,f,c94.h9X(1)));q00=13;break;case 7:q00=0 === u?6:12;break;}}};h.prototype.toString=function(){var r00;r00=2;for(;r00 !== 1;){switch(r00){case 4:return ")" / this.VI * ")";break;r00=1;break;case 2:var i9X="D";i9X+="eliv";i9X+="eryDis";i9X+="t(";return i9X + this.VI + ")";break;}}};h.prototype.stop=function(){};k00=7;break;case 2:h.prototype.qh=function(d){var m00;m00=2;for(;m00 !== 8;){switch(m00){case 2:d || (d=new h(this.Al));d.Yt=this.Yt;d.IF=this.IF;d.FK=this.FK.qh();m00=3;break;case 3:d.GK=this.GK.qh();return d;break;}}};h.prototype.reset=function(){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 4:this.Yt=this.IF=null;n00=3;break;case 2:d=-Math.log(.5) / this.VI;this.FK=new g(d,0,0,0,0);this.GK=new g(d,0,0,0,0);n00=4;break;}}};h.prototype.start=function(d){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:null === this.Yt && (this.Yt=d);o00=1;break;}}};h.prototype.add=function(d,f,l){var G94=a000;var p00,m;p00=2;for(;p00 !== 7;){switch(p00){case 9:G94.j9X(1);this.FK.update(f,l,G94.Q9X(m,d));G94.h9X(2);this.GK.update(f,l,G94.Q9X(m,d,8));p00=7;break;case 2:m=this.Yt;this.Yt=null === m?f:Math.min(m,f);p00=5;break;case 5:m=this.IF;this.IF=null === m?l:Math.max(m,l);G94.h9X(0);m=Math.max(G94.X9X(f,l),1);p00=9;break;}}};k00=3;break;case 7:h.prototype.flush=function(){};return h;break;}}})();b.yga=t;a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);return d;})(a);b.Iob=a;t=(function(h){function d(f){var l;l=h.call(this,f) || this;l.Al=f;return l;}c.__extends(d,h);d.prototype.get=function(){var f,l,m;if(0 === this.FK.weight || 0 === this.GK.weight)return {low:null,high:null,initial:null};switch(this.Al.RP){case "deliverytime":f=this.FK;f=new k.PS(f.oa,f.ee);(l=this.Al.accuracy,m=this.Al.WYb);return {low:8 / f.wy(this.Al.PX,l,m),high:8 / f.wy(this.Al.JY,l,m),initial:8 / f.wy(this.Al.A$,l,m)};default:return (f=this.GK,f=new k.PS(f.oa,f.ee),l=this.Al.accuracy,m=this.Al.WYb,{low:f.wy(this.Al.JY,l,m),high:f.wy(this.Al.PX,l,m),initial:f.wy(this.Al.A$,l,m)});}};d.prototype.qh=function(){var f;f=new d(this.Al);h.prototype.qh.call(this,f);return f;};d.prototype.toString=function(){return "DeliveryDistCI([" + (this.Al.JY,this.Al.PX) + "])";};return d;})(t);b.EGa=t;},function(t){(function(){function b(){var t00;t00=2;for(;t00 !== 5;){switch(t00){case 2:this.pD=this.cd=0;this.tb=this.Qg=void 0;t00=5;break;}}}var s00;s00=2;for(;s00 !== 8;){switch(s00){case 2:var H9X="1";H9X+="S";H9X+="IYbZrN";H9X+="J";H9X+="Cp9";b.prototype.start=function(a){var u00;u00=2;for(;u00 !== 1;){switch(u00){case 2:this.Qg?a < this.Qg?(this.pD+=this.Qg - a,this.Qg=a):a > this.tb && (this.tb=this.Qg=a):this.tb=this.Qg=a;u00=1;break;}}};b.prototype.stop=function(a){var v00;v00=2;for(;v00 !== 1;){switch(v00){case 2:this.tb && a > this.tb && (this.pD+=a - this.tb,this.tb=a);v00=1;break;}}};b.prototype.add=function(a,c,k){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:this.start(c);this.stop(k);this.cd+=a;w00=4;break;}}};b.prototype.get=function(){var x00;x00=2;for(;x00 !== 1;){switch(x00){case 2:return {oa:this.pD?Math.floor(8 * this.cd / this.pD):null,a8:this.pD?this.pD:0};break;}}};t.exports=b;H9X;s00=8;break;}}})();},function(t,b,a){function c(){c=Object.assign || (function(E){for(var I,L=1,K=arguments.length;L < K;L++){I=arguments[L];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,K){L.__proto__=K;}) || (function(L,K){for(var H in K){K.hasOwnProperty(H) && (L[H]=K[H]);}});return k(E,I);}function g(E,I){function L(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(L.prototype=I.prototype,new L());}function h(E,I){var L,K,H;L={};for(K in E){Object.prototype.hasOwnProperty.call(E,K) && 0 > I.indexOf(K) && (L[K]=E[K]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(K=Object.getOwnPropertySymbols(E);H < K.length;H++){0 > I.indexOf(K[H]) && Object.prototype.propertyIsEnumerable.call(E,K[H]) && (L[K[H]]=E[K[H]]);}}return L;}function d(E,I,L,K){var H,R,O;H=arguments.length;R=3 > H?I:null === K?K=Object.getOwnPropertyDescriptor(I,L):K;if("object" === typeof Reflect && "function" === typeof Reflect.Qp)R=Reflect.Qp(E,I,L,K);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])R=(3 > H?O(R):3 < H?O(I,L,R):O(I,L)) || R;}return (3 < H && R && Object.defineProperty(I,L,R),R);}function f(E,I){return function(L,K){I(L,K,E);};}function l(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(E,I);}function m(E,I,L,K){function H(R){return R instanceof L?R:new L(function(O){O(R);});}return new (L || (L=Promise))(function(R,O){function J(S){try{P(K.next(S));}catch(U){O(U);}}function M(S){try{P(K["throw"](S));}catch(U){O(U);}}function P(S){S.done?R(S.value):H(S.value).then(J,M);}P((K=K.apply(E,I || [])).next());});}function n(E,I){var H,R,O,J,M;function L(P){return function(S){return K([P,S]);};}function K(P){if(R)throw new TypeError("Generator is already executing.");for(;H;){try{if((R=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (H.label++,{value:P[1],done:!1});case 5:H.label++;O=P[1];P=[0];continue;case 7:P=H.Nk.pop();H.Wh.pop();continue;default:if(!(J=H.Wh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){H=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))H.label=P[1];else if(6 === P[0] && H.label < J[1])(H.label=J[1],J=P);else if(J && H.label < J[2])(H.label=J[2],H.Nk.push(P));else {J[2] && H.Nk.pop();H.Wh.pop();continue;}}P=I.call(E,H);}catch(S){P=[6,S];O=0;}finally{R=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}H={label:0,Eb:function(){if(J[0] & 1)throw J[1];return J[1];},Wh:[],Nk:[]};return (M={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,L,K){void 0 === K && (K=L);E[K]=I[L];}function q(E,I){for(var L in E){"default" === L || I.hasOwnProperty(L) || (I[L]=E[L]);}}function r(E){var I,L,K;I="function" === typeof Symbol && Symbol.iterator;L=I && E[I];K=0;if(L)return L.call(E);if(E && "number" === typeof E.length)return {next:function(){E && K >= E.length && (E=void 0);return {value:E && E[K++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(E,I){var L,K,H;L="function" === typeof Symbol && E[Symbol.iterator];if(!L)return E;E=L.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(K=E.next()).done;){H.push(K.value);}}catch(O){var R;R={error:O};}finally{try{K && !K.done && (L=E["return"]) && L.call(E);}finally{if(R)throw R.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(u(arguments[I]));}return E;}function w(){var K;for(var E=0,I=0,L=arguments.length;I < L;I++){E+=arguments[I].length;}E=Array(E);K=0;for(I=0;I < L;I++){for(var H=arguments[I],R=0,O=H.length;R < O;(R++,K++)){E[K]=H[R];}}return E;}function x(E){return this instanceof x?(this.Vy=E,this):new x(E);}function y(E,I,L){var M,P,S;function K(U){M[U] && (P[U]=function(T){return new Promise(function(W,ia){1 < S.push([U,T,W,ia]) || H(U,T);});});}function H(U,T){var W;try{W=M[U](T);W.value instanceof x?Promise.resolve(W.value.Vy).then(R,O):J(S[0][2],W);}catch(ia){J(S[0][3],ia);}}function R(U){H("next",U);}function O(U){H("throw",U);}function J(U,T){(U(T),S.shift(),S.length) && H(S[0][0],S[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=L.apply(E,I || []);S=[];return (P={},K("next"),K("throw"),K("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var L,K;function I(H,R){L[H]=E[H]?function(O){return (K=!K)?{value:x(E[H](O)),done:"return" === H}:R?R(O):O;}:R;}return (L={},I("next"),I("throw",function(H){throw H;}),I("return"),L[Symbol.iterator]=function(){return this;},L);}function A(E){var K,H;function I(R){H[R]=E[R] && (function(O){return new Promise(function(J,M){O=E[R](O);L(J,M,O.done,O.value);});});}function L(R,O,J,M){Promise.resolve(M).then(function(P){R({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=E[Symbol.asyncIterator];return K?K.call(E):(E="function" === typeof r?r(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function C(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var L in E){Object.hasOwnProperty.call(E,L) && (I[L]=E[L]);}I.default=E;return I;}function D(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,L){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,L);return L;}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return h;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return r;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b,a){var F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,N,Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a,sb,kb,Bb;function c(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function k(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function g(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function h(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);this.lBa=Pa.config.lBa;this.ae=this.sizes=void 0;}function d(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function f(){for(var Pa=new DataView(this),Xa="",eb,lb=0;lb < this.byteLength;lb++){eb=Pa.getUint8(lb);Xa+=("00" + eb.toString(16)).slice(-2);}return Xa;}function l(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function m(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function n(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function p(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function q(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function r(Pa){function Xa(eb,lb,ub,Cb,Ib){I.call(this,eb,lb,ub,Cb,Ib);this.Jab=Pa;}Xa.od=!1;Xa.prototype=new I();Xa.prototype.constructor=Xa;Object.defineProperties(Xa.prototype,{pGa:{get:function(){return this.Jab;}}});Xa.prototype.parse=function(){this.L.console.trace("renaming '" + this.type + "' to draft type '" + this.Jab + "'");this.L.offset=this.startOffset + 4;this.Qb.rlb(this.pGa);this.type=this.pGa;return !0;};return Xa;}function u(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function v(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function w(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function x(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function y(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function z(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function A(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function B(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function C(Pa,Xa,eb,lb,ub){I.call(this,Pa,Xa,eb,lb,ub);}function D(Pa,Xa){Pa.forEach(function(eb){Xa[eb.gf]=eb;});}F=a(99).assert;b=a(100);G=a(146).M;E=a(386);a(147);a(83);a(83);a(83);I=a(24).Xf;L=a(855).default;K=a(856).default;H=a(857).default;R=a(858).default;O=a(859).default;J=a(860).default;M=a(861).default;P=a(862).default;S=a(863).default;a(237);a(175);U=a(387).Glb;T=a(387).Vob;W=a(864).default;ia=a(865).default;pa=a(84).default;wa=a(84).cmb;za=a(84).dmb;Ca=a(84).emb;N=a(84).fmb;Q=a(866).default;V=a(867).default;ca=a(868).default;sa=a(84).Ipb;Ha=a(84).Bpb;Ja=a(84).bmb;Na=a(869).default;Oa=a(870).default;Ua=a(871).default;$a=a(388).default;sb=a(389).default;a(148);a(240);a(241);a(239);kb=a(872).default;Bb=a(873).Otb;a=a(889).default;c.od=!0;c.prototype=new I();c.prototype.constructor=c;k.od=!0;k.prototype=new I();k.prototype.constructor=k;g.od=!1;g.prototype=new I();g.prototype.constructor=g;g.prototype.parse=function(Pa){var Xa;this.zh();1 === this.version?(this.L.Dl(),this.L.Dl(),this.U=this.L.ac(),this.duration=this.L.Dl()):(this.L.ac(),this.L.ac(),this.U=this.L.ac(),this.duration=this.L.ac());Xa=this.L.$g() & 32767;this.language=String.fromCharCode(96 + (Xa >>> 10),96 + (Xa >>> 5 & 31),96 + (Xa & 31));Pa && Pa.mf && (Pa.mf.U=this.U,Pa.mf.duration=this.duration);return !0;};h.od=!1;h.prototype=new I();h.prototype.constructor=h;h.prototype.eyb=function(){this.zh();this.L.ac();this.U=this.L.ac();0 === this.version?(this.g1a=this.L.ac(),this.K2a=this.L.ac()):(this.g1a=this.L.Dl(),this.K2a=this.L.Dl());this.V6b=this.L.$g();this.zeb=this.L.$g();};h.prototype.$ub=function(Pa,Xa){var eb,lb,ub;eb=this.U;Pa=Pa && Pa.U || eb;lb=Pa / eb;eb=this.L.Lca(Xa,12,!1);ub=1 === lb?this.L.Lca(Xa,12,!1):E.from(Uint32Array,{length:Xa},function(){var Cb;Cb=Math.round(this.L.ac() * lb);this.L.offset+=8;return Cb;},this);this.Gzb(Xa,ub,eb,Pa);};h.prototype.Gzb=function(Pa,Xa,eb,lb){if(this.lBa){lb=this.lBa * lb / 1E3;for(var ub=0,Cb=1;Cb < Pa;Cb++){Math.abs(Xa[ub] - lb) > Math.abs(Xa[ub] + Xa[Cb] - lb)?(Xa[ub]+=Xa[Cb],eb[ub]+=eb[Cb]):(++ub,ub !== Cb && (Xa[ub]=Xa[Cb],eb[ub]=eb[Cb]));}++ub;Xa=new Uint32Array(Xa.buffer.slice(0,4 * ub));eb=new Uint32Array(eb.buffer.slice(0,4 * ub));}this.sizes=eb;this.ae=Xa;};h.prototype.parse=function(Pa){var Xa,eb,lb,ub;this.eyb();this.ka=Pa.ka;Xa=this.U;eb=this.ka && this.ka.U || Xa;lb=this.zeb;ub=this.startOffset + this.length + this.K2a;Xa=new G(this.g1a,Xa).Wf(eb).Xa;this.Z={U:eb,On:Xa,offset:ub};this.$ub(this.ka,lb);this.Z.ae=this.ae;this.Z.sizes=this.sizes;Pa.Ky=this;return !0;};d.od=!1;d.prototype=new I();d.prototype.constructor=d;d.prototype.parse=function(){var Pa;this.Ll=[];this.U2b=[];Pa=(this.length - 11) / 2;this.L.Bd();this.L.Bd();this.L.Bd();for(var Xa=0;Xa < Pa;Xa++){this.Ll.push(this.L.Bd());this.U2b.push(this.L.Bd());}return !0;};l.od=!1;l.prototype=new I();l.prototype.constructor=l;l.prototype.parse=function(Pa){var Xa;this.zh();this.L.offset+=1;if(0 == this.version)this.L.offset+=1;else {Xa=this.L.Bd();this.UJb=Xa >> 4;this.$Jb=Xa & 15;Pa && Pa.mf && (Pa.mf.dlc=this.UJb,Pa.mf.glc=this.$Jb);}this.o0a=this.L.Bd();this.n0a=this.L.Bd();this.ava=this.L.offset;this.cq=this.L.Nca(16);this.cq.toString=f;Pa && Pa.mf && (Pa.mf.elc=this.o0a,Pa.mf.WJb=this.n0a,Pa.mf.flc=this.cq);1 == this.o0a && 0 == this.n0a && (this.TJb=this.L.Bd(),this.SJb=this.L.Nca(this.TJb),Pa && Pa.mf && (Pa.mf.VJb=this.SJb));return !0;};m.od=!1;m.prototype=new I();m.prototype.constructor=m;m.prototype.parse=function(){this.zh();this.nr=this.L.$g();this.oZb=this.L.Lca(this.nr,void 0,!0);return !0;};n.od=!1;n.prototype=new I();n.prototype.constructor=n;n.prototype.parse=function(Pa){var Xa,eb,lb,ub,Cb,Ib;Xa=Pa.Ky;F(Xa);Pa=Pa.ka;eb=Xa.U;Xa=Xa.zeb;F(Pa);F(eb);F(Xa);this.zh();F(2 > this.version);this.nr=this.L.$g();this.uQ=new Uint16Array(Xa + 1);lb=Pa.K5a(eb);ub=lb / eb;Cb=Pa.Wf(lb).Xa;if(0 === this.version)for((this.RQ=new Uint16Array(),this.ji=new Uint32Array(),Pa=eb=0);Pa <= Xa;++Pa){if((this.uQ[Pa]=eb,Pa < this.nr)){Ib=this.L.Bd();if(0 !== Ib)for(lb=0;lb < Ib;(++lb,++eb)){this.RQ[eb]=Math.floor((this.L.ac() + 1) * ub) / Cb;this.ji[eb]=this.L.ac();}}}else if(1 === this.version)for((lb=this.L.d5b(this.nr),this.L.offset+=4,this.ji=this.L.Lca(this.nr,10,!1),this.L.offset-=8,this.RQ=E.from(Uint16Array,{length:this.nr},function(){var Pb;Pb=Math.floor((this.L.ac() + 1) * ub) / Cb;this.L.offset+=6;return Pb;},this),eb=Pa=0);Pa <= Xa;++Pa){for(;eb < lb.length && lb[eb] < Pa;){++eb;}this.uQ[Pa]=eb;}this.wk={uQ:this.uQ,RQ:this.RQ,ji:this.ji};return !0;};p.od=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.od=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.zI=function(){var Pa;Pa=this.yq("tfhd");Pa && (this.Ns=Pa.JXa?Pa.Ns:this.parent.startOffset);return !0;};u.od=!1;u.prototype=new I();u.prototype.constructor=u;u.prototype.parse=function(){var Pa,Fb;Pa=this.L.offset;this.zh();if(1 === this.version){this.L.console.trace("translating vpcC box to draft equivalent");this.L.offset+=2;for(var Xa=this.L.offset,eb=this.L.Bd(),lb=this.L.Bd(),ub=this.L.Bd(),Cb=this.L.Bd(),Ib=this.L.$g(),Pb=[],ec=0;ec < Ib;++ec){Pb=this.L.Bd();}ec=(eb & 240) >>> 4;Fb=(eb & 14) >>> 1;eb&=1;ub=16 === ub?1:0;lb != Cb && this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + lb + " and matrixCoefficients " + Cb + " should be the same value!");Cb=2;switch(lb){case 1:Cb=2;break;case 6:Cb=1;break;case 9:Cb=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries " + lb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Qb.kfa(this.version,Pa);this.Qb.kfa(ec << 4 | Cb,Xa++);this.Qb.kfa(Fb << 4 | ub << 1 | eb,Xa++);Ib+=2;Pb.push(0,0);this.Qb.aec(Ib);Xa+=2;Pb.forEach(function(Qb){this.Qb.kfa(Qb,Xa++);});}return !0;};v.od=!1;v.prototype=new I();v.prototype.constructor=v;v.gf="tfhd";Object.defineProperties(v.prototype,{JXa:{get:function(){return this.flags & 1;}},z7b:{get:function(){return this.flags & 2;}},XJb:{get:function(){return this.flags & 8;}},ZJb:{get:function(){return this.flags & 16;}},p0a:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(Pa){this.zh();this.FR=this.L.ac();this.Ns=this.JXa?this.L.Dl():void 0;this.Gfb=this.z7b?this.L.ac():void 0;this.Jx=this.XJb?this.L.ac():void 0;this.HA=this.ZJb?this.L.ac():void 0;this.GA=this.p0a?this.L.ac():void 0;Pa && Pa.ta && (Pa.ta.FR=this.FR,Pa.ta.Ns=this.Ns,Pa.ta.Gfb=this.Gfb,Pa.ta.Jx=this.Jx,Pa.ta.HA=this.HA,Pa.ta.GA=this.p0a?this.GA:void 0);return !0;};w.od=!1;w.prototype=new I();w.prototype.constructor=w;w.prototype.parse=function(Pa){this.zh();this.wN=1 === this.version?this.L.Dl():this.L.ac();Pa && Pa.ta && (Pa.ta.wN=this.wN);return !0;};w.prototype.Ca=function(Pa){var Xa;Xa=this.startOffset + 12;this.wN+=Pa;1 === this.version?this.Qb.bec(this.wN,Xa):this.Qb.Cw(this.wN,Xa);};x.od=!1;x.prototype=Object.create(I.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{QH:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Pa){this.zh();this.QH && this.L.VB();this.QH && this.L.ac();this.YJb=this.L.Bd();this.Wd=this.L.ac();this.RUb=this.L.Mca(this.Wd);Pa && Pa.ta && (Pa.ta.A7b=this.RUb);return !0;};x.prototype.Ca=function(Pa,Xa){if(Pa && 0 === this.YJb){Pa=Xa?this.Wd - Pa:Pa;this.Qb.offset=this.startOffset + 13 + (this.QH?8:0);this.Wd-=Pa;this.Qb.Cw(this.Wd);this.bAa=0;if(Xa)this.Qb.offset+=this.Wd;else {for(Xa=0;Xa < Pa;++Xa){this.bAa+=this.Qb.Bd();}this.Qb.offset-=Pa;}this.Jn(Pa,this.L.offset);}return !0;};y.od=!1;y.prototype=Object.create(I.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{QH:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Pa){var Xa,eb,ec,Fb;this.zh();this.QH && this.L.VB();this.QH && this.L.ac();this.nr=this.L.ac();F(1 === this.nr,"Expected a single entry in Sample Auxiliary Information Offsets box");this.yo=0 === this.version?this.L.Pca():this.L.k5b();this.L.offset=this.yo;if(Pa && Pa.ta && Pa.mf){Xa=Pa.mf.WJb;eb=Pa.ta.A7b;F(0 < Xa || void 0 !== Pa.mf.VJb,"Expected per sample or constant IV");F(0 < (eb || []).length,"Expected saix box parsing to find sample info sizes");Pa.ta.oK=[];for(var lb=0;lb < eb.length;lb++){for(var ub=Xa?this.L.Nca(Xa):void 0,Cb=[],Ib=this.L.$g(),Pb=0;Pb < Ib;Pb++){ec=this.L.$g();Fb=this.L.ac();Cb.push({DDb:ec,EDb:Fb});}Pa.ta.oK.push({XBa:Cb,iha:ub});}}return !0;};y.prototype.Ca=function(Pa,Xa){this.yo+=Pa;this.Qb.offset=this.startOffset + 16 + (this.QH?8:0) + (0 === this.version?0:4);this.Qb.yDa(Xa,this.yo);return !0;};z.od=!1;z.prototype=Object.create(I.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{ccb:{get:function(){return this.flags & 1;}},Hkb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Pa){var Xa,Ib,Pb;this.zh();Xa=0;this.ccb && (Xa=this.DWb=this.L.ac() & 255,this.L.Mca(16));if(Pa && Pa.ta){if(Pa.ta.oK)return;Pa.ta.Tk || (Pa.ta.Tk=[]);}if(0 !== Xa && 8 !== Xa && 16 !== Xa)return !0;this.Wd=this.L.ac();if(Pa && Pa.ta)for(var eb=0;eb < this.Wd;eb++){if((Pa.ta.Tk[eb].iha=0 < Xa?this.L.Nca(Xa):void 0,this.Hkb)){for(var lb=[],ub=this.L.$g(),Cb=0;Cb < ub;Cb++){Ib=this.L.$g();Pb=this.L.ac();lb.push({DDb:Ib,EDb:Pb});}Pa.ta.Tk[eb].XBa=lb;}}return !0;};z.prototype.Ca=function(Pa,Xa){var eb,lb;eb=Xa?this.Wd - Pa:Pa;this.Qb.offset=this.startOffset + 28 + (this.ccb?20:0);this.Wd-=eb;this.Qb.Cw(this.Wd);Pa=this.Qb.offset;if(this.Hkb)for(eb=Xa?this.Wd:eb;0 < eb;--eb){this.Qb.offset+=8;lb=this.Qb.$g();this.Qb.offset+=6 * lb;}else this.Qb.offset+=8 * (Xa?this.Wd:eb);Xa?this.Jn(this.length - (this.L.offset - this.startOffset),this.L.offset):this.Jn(this.L.offset - Pa,Pa);};A.od=!1;A.prototype=Object.create(I.prototype);A.prototype.constructor=A;A.prototype.parse=function(Pa){this.zh();if(Pa && Pa.ta){void 0 === Pa.ta.Tk && (Pa.ta.Tk=[]);for(var Xa=0;Xa < this.length - 12;Xa++){Pa.ta.Tk[Xa].Joc=this.L.Bd();}}return !0;};A.prototype.Ca=function(Pa,Xa,eb){eb?this.Jn(Xa - Pa,this.startOffset + 12 + Pa):this.Jn(Pa,this.startOffset + 12);return !0;};B.od=!1;B.prototype=Object.create(I.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.zh();this.L.VB();1 === this.version && this.L.ac();this.nr=this.L.ac();this.K_=[];for(var Pa=0;Pa < this.nr;++Pa){for(var Xa=this.L.ac(),eb=this.L.ac(),lb=0;lb < Xa;++lb){this.K_.push(eb);}}return !0;};B.prototype.Ca=function(Pa,Xa){this.K_=Xa?this.K_.slice(0,Pa):this.K_.slice(Pa);Pa=this.K_.reduce(function(eb,lb){0 !== eb.length && eb[eb.length - 1].group === lb || eb.push({group:lb,count:0});++eb[eb.length - 1].count;return eb;},[]);this.Qb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Qb.Cw(Pa.length);Pa.forEach((function(eb){this.Qb.Cw(eb.count);this.Qb.Cw(eb.group);}).bind(this));this.nr > Pa.length && this.Jn(8 * (this.nr - Pa.length));this.nr=Pa.length;return !0;};C.od=!1;C.prototype=Object.create(I.prototype);C.prototype.constructor=C;pa={je:{moov:k,trak:c,mdia:c,mdhd:g,minf:c,encv:pa,schi:c,sidx:h,sinf:c,stbl:c,tenc:l,mvex:c,moof:p,traf:q,tfhd:v,trun:Bb,sbgp:B,sdtp:A,saiz:x,saio:y,tfdt:w,mdat:C,vmaf:d},ubc:{vpcC:u,SmDm:r("smdm"),CoLL:r("coll")},rjb:{schm:Q},cAa:{}};D([V,ca,J,M,a,P,sa,Ha,Ja,L,R,$a,sb,O,S,K,H,kb,Bb],pa.je);D([U,W,wa,za,Ca,N,T,ia,Oa,Na],pa.cAa);D([V,Q],pa.rjb);pa.je[b.UMa]=l;pa.je[b.u3]=m;pa.je[b.t3]=n;pa.je[b.TMa]=z;pa.cAa[b.Xha]=Ua;pa.Xf=I;t.exports={XP:pa};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=a(24);k=a(24);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){this.L.offset+=6;this.L.$g();k.W && this.L.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.mf)d.mf.w7b=this.type;return !0;};return h;})(t.Xf);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(21);t.__exportStar(a(148),b);t.__exportStar(a(239),b);t.__exportStar(a(240),b);t.__exportStar(a(241),b);t=a(240);c=a(241);a=a(239);b.dO={3:a.sHa,4:t.zGa,5:c.Hob};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(24);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f;this.kpb=this.L.$g();f=this.L.Bd();this.Rhb=! !(f & 128);this.URa=! !(f & 64);this.AMa=! !(f & 32);this.F$b=f & 31;this.kKb=this.Rhb?this.L.$g():void 0;this.URa && this.L.Mca(this.L.Bd());this.Grb=this.AMa?this.L.$g():void 0;k.W && this.L.console.trace("ESDescriptor: ES_ID=" + this.kpb + ", streamDependenceFlag=" + this.Rhb + ", URL_Flag=" + this.URa + ", OCRstreamFlag=" + this.AMa + ", streamPriority=" + this.F$b + ", dependsOn_ES_ID=" + this.kKb + ", OCR_ES_Id=" + this.Grb);this.cVa(d);return !0;};h.tag=3;return h;})(a(148).zga);b.sHa=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(24);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f;this.Fba=this.L.Bd();f=this.L.Bd();this.RBa=f >>> 2;this.NCa=f >>> 1 & 1;this.Dna=256 * this.L.$g() + this.L.Bd();this.maxBitrate=this.L.ac();this.Q6=this.L.ac();k.W && this.L.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Fba.toString(16) + ", streamType=" + this.RBa + ", upStream=" + this.NCa + ", bufferSizeDB=" + this.Dna + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.Q6);if(null === d || void 0 === d?0:d.Hj)(d.Hj.Fba=this.Fba,d.Hj.RBa=this.RBa,d.Hj.NCa=this.NCa,d.Hj.Dna=this.Dna,d.Hj.maxBitrate=this.maxBitrate,d.Hj.Q6=this.Q6);this.cVa(d);return !0;};h.tag=4;return h;})(a(148).zga);b.zGa=t;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(24);t=a(148);g=a(238);a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.geb=function(){var f;f=this.L.Cd(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.L.Cd(24);};d.prototype.parse=function(f,l){if(this.EVb(l) && 64 === l.Fba){if(null === f || void 0 === f?0:f.Hj){l=this.L.S3a(this.length);for(var m=new ArrayBuffer(this.length),n=new Uint8Array(m),p=0;p < this.length;p++){n[p]=l.getUint8(p);}f.Hj.$kc=m;}this.$q=this.Zdb();this.tda=this.geb();this.hoa=this.L.Cd(4);this.jAa=this.JW=5 === this.$q || 29 === this.$q?5:-1;this.Uya=29 === this.$q?1:-1;0 < this.JW && (this.Kqa=this.geb(),this.$q=this.Zdb(),22 === this.$q && (this.Jqa=this.L.Cd(4)));switch(this.$q){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.XW=this.L.Cd(1),this.epa=(this.jKb=this.L.Cd(1))?this.L.Cd(14):void 0,this.L.Cd(1),this.DI=3 === this.$q?256:23 === this.$q?this.XW?480:512:this.XW?960:1024);}k.W && this.L.console.trace("AudioSpecificConfig: audioObjectType=" + this.$q + ", samplingFrequency=" + this.tda + ", channelConfiguration=" + this.hoa + ", extensionAudioObjectType=" + this.JW + ", sbrPresentFlag=" + this.jAa + ", psPresentFlag=" + this.Uya + ", extensionSamplingFrequency=" + this.Kqa + ", extensionChannelConfiguration=" + this.Jqa + ", frameLengthFlag=" + this.XW + ", coreCoderDelay=" + this.epa + ", frameLength=" + this.DI);if(null === f || void 0 === f?0:f.Hj)(f.Hj.$q=this.$q,f.Hj.tda=this.tda,f.Hj.hoa=this.hoa,f.Hj.JW=this.JW,f.Hj.jAa=this.jAa,f.Hj.Uya=this.Uya,f.Hj.Kqa=this.Kqa,f.Hj.Jqa=this.Jqa,f.Hj.XW=this.XW,f.Hj.epa=this.epa,f.Hj.DI=this.DI);}this.skip();return !0;};d.prototype.Zdb=function(){var f;f=this.L.Cd(5);31 === f && (f=32 + this.L.Cd(6));return f;};d.prototype.EVb=function(f){return f.tag === g.zGa.tag;};d.tag=5;return d;})(t.zga);b.Hob=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.G1=void 0;t=(function(){function a(c){this.data=c;this.Os=this.Lb=this.Ld=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Lb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.Ld){if(8 === c)return this.data[this.Lb++];if(16 === c)return (c=this.view.getUint16(this.Lb),this.Lb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Lb),this.Lb+=4,c);}for(;this.Ld < c;){this.Os=(this.Os << 8) + this.data[this.Lb++];this.Ld+=8;}this.Ld-=c;return this.Os >>> this.Ld & (1 << c) - 1;};a.prototype.advance=function(c){var k;if(c <= this.Ld)this.Ld-=c;else {c-=this.Ld;k=Math.floor(c / 8);this.Lb+=k;this.Os=this.data[this.Lb++];this.Ld=8 - (c - 8 * k);}};a.prototype.write=function(c,k){var g,h;k&=(1 << c) - 1;if(0 === this.Ld){if(8 === c){this.data[this.Lb++]=k;return;}if(16 === c){this.view.setUint16(this.Lb,k);this.Lb+=2;return;}if(32 === c){this.view.setUint32(this.Lb,k);this.Lb+=4;return;}}if(0 < this.Ld){g=Math.min(c,this.Ld);h=this.data[this.Lb - 1] & (~((1 << this.Ld) - 1) ^ (1 << this.Ld - g) - 1);this.data[this.Lb - 1]=h ^ (c >= g?k >>> c - g:k << this.Ld - g);this.Ld-=g;c-=g;}for(;8 <= c;){c-=8;this.data[this.Lb++]=k >>> c & 255;}0 < c && (this.Ld=8 - c,h=this.data[this.Lb] & (1 << this.Ld) - 1,this.Os=this.data[this.Lb++]=h ^ (k & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.Ld && c <= 8 - this.Ld?this.Ld+=c:(0 !== this.Ld && (c-=8 - this.Ld,--this.Lb),this.Lb-=Math.floor(c / 8),this.Os=this.data[this.Lb - 1],this.Ld=c % 8);};a.prototype.zDb=function(){0 !== this.Ld && (this.Ld=0);};return a;})();b.G1=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(390);k=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){if(!g)throw new k(h || "Assertion failed");};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,h){return g + h.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,h){k.set(new Uint8Array(h),g);return g + h.byteLength;},0);return k.buffer;};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(392);k=a(236);g=a(393);t=(function(){function h(d,f,l){this.console=d;this.stream=f;this.view=l instanceof ArrayBuffer?new DataView(l):new DataView(l.data,l.offset,l.length);}h.prototype.parse=function(d){var f;f=new g.DGa(this.view.byteLength);this.qg=new c.Xfa(k.XP.je,f,this.view,this.console,{Rxa:!0});d=this.qg.parse(d);this.je=this.qg.je;return d;};return h;})();b.vG=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Nfa=void 0;c=a(0);k=a(11);g=a(919);t=a(85);h=a(397);d=a(921);f=a(924);l=a(250);m=a(14);n=c.__importDefault(a(4));p=a(2);a(7);q=a(22);r=a(928);u=a(248);v=a(172);w=(function(){return function(x){var y;y=x.f8a;x=x.xua;this.UY=this.replace=y;this.Xe=x;};})();a=(function(x){function y(z,A){var B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za;B=A.Pb;C=A.ea;D=A.nq;F=A.zd;G=A.H$a;E=A.Mi;I=A.config;L=A.w6a;K=A.NQ;H=A.Z8;R=A.Vb;O=A.hi;J=A.pZ;M=A.T1a;A=A.CF;S=x.call(this) || this;S.K=z;S.OX=!1;S.XTa=[];S.qUa=[];S.Ci=[];S.cE=[];S.ho=!1;S.abb=!1;S.Pb=B;S.kU=C;S.nq=D;S.qc=function(Ca){return 0 <= F.indexOf(Ca);};S.config=I;S.console=new n.default.Console("ASEJS","media|asejs","<" + String(S.K) + ">");L && (z=L.uE,S.jg=new f.WIa(S,S.console,S.config,L.So,L.CX,z,L.K$,L.Sf,L.pm,L.Lh,L.EE),S.uE=z);S.Ev=new k.EventEmitter();S.Z8=H;S.Vb=R;S.pZ=J;S.zn=new l.wha(S.ea,R,O,S.config,null === M || void 0 === M?void 0:M.So);M && (L=M.et,H=M.No,S.Sq=M.If,S.No=H,S.et=L,S.zka=new d.LHa(S.zn,S.config,S.cTb.bind(S),S.bTb.bind(S)));S.NQ=K;S.CF=A;S.zf=new w(G);S.Mi=E;U=[[],[]];T=[{},{}];W=[0,0];ia=!1;wa=S.qc(0);za=S.qc(1);["audio_tracks","video_tracks"].forEach(function(Ca,N){var Q;Q=0 === N;Q && !wa || 1 === N && !za || S.ea[Ca].forEach(function(V,ca){if(0 !== V.type || !1 !== V.Si)(ca=new h.YF({O:S,Er:V,mediaType:N,Xe:G.xua,OF:ca,zD:ca + (Q?S.ea.video_tracks.length:0)},S.config,S.console),1 === N && I.qMb && new r.zEa(I).G4b(ca.gd),1 === N && (pa=u.ZL.from({Vv:V.twa,bv:V.swa})),U[N].push(ca),T[N]=c.__assign(c.__assign({},T[N]),ca.wE()),ca.maxBitrate > W[ca.mediaType] && (W[ca.mediaType]=ca.maxBitrate),ia=ia || ca.Lo);});});S.LH=S.ea.LH;if(null === (P=S.LH) || void 0 === P?0:P.Ii)(p.assert(pa,"Should have video track if there are adverts"),S.LH.Ii.forEach(function(Ca){Ca.tt=pa.normalize(Ca.tt);}));S.gM=U;S.PBa=T;S.yt=W;S.Lo=ia;return S;}c.__extends(y,x);Object.defineProperties(y.prototype,{ea:{get:function(){return this.kU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Oc:{get:function(){var z,A;z=this.ea;A=z.CP;return "LIVE" === z.Whb && ! !A;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{TY:{get:function(){var z;return !(null === (z=this.gM[1][0]) || void 0 === z || !z.TY);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Oh:{get:function(){return this.XTa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{UYb:{get:function(){return this.qUa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{I:{get:function(){return this.ea.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{so:{get:function(){return this.ea.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{duration:{get:function(){return this.ea.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Jk:{get:function(){return this.ho;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pr:{get:function(){p.assert(this.zka,"ErrorDirector is not available on old architecture prefetch viewables.");return this.zka;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yO:{get:function(){return this.pr.events;},enumerable:!1,configurable:!0}});y.prototype.xb=function(){this.close();this.Yc();};y.prototype.close=function(){var z;this.cE=[];null === (z=this.zka) || void 0 === z?void 0:z.xb();this.zn.xb();this.ho=!0;};y.prototype.Yc=function(){this.jg && this.jg.Yc();};y.prototype.Uy=function(z){var A,B,C,D,F,G,E;A=this;B=z.ea;C=z.Xe;D=void 0 === C?!1:C;C=z.zd;F=void 0 === C?m.Of:C;p.assert(z.Mi === this.Mi,"Updating Viewable clearplay not supported");m.Of.forEach(function(I){p.assert(A.qc(I) === 0 <= F.indexOf(I),"Updating Viewable media types not supported");});p.assert(B.movieId === this.ea.movieId,"Changing Viewable manifest movieId unsupported");G=this.qc(0);E=this.qc(1);["audio_tracks","video_tracks"].forEach(function(I,L){var K,H,R;K=0 === L;if(!(K && !G || 1 === L && !E)){H=B[I];R=A.gM[L];p.assert(R.every(function(O){var J;J=H[O.OF];return J && J.GR === O.trackId && (1 === J.type || !1 !== J.Si);}),"Existing tracks must still exist and be hydrated in updated manifest");H.forEach(function(O,J){var M,P;if(0 !== O.type || !1 !== O.Si){M=A.getTrackById(O.GR);if(M){O=O.streams;P=Object.keys(M.wE());p.assert(O.length === P.length,"Expected updated manifest track to have same number of streams");O.forEach(function(S){p.assert(-1 !== P.indexOf(S.downloadable_id),"Changing Viewable track streams unsupported");});}else (M=new h.YF({O:A,Er:O,mediaType:L,Xe:D,OF:J,zD:J + (K?A.ea.video_tracks.length:0)},A.config,A.console),R.push(M),A.PBa[L]=c.__assign(c.__assign({},A.PBa[L]),M.wE()),M.maxBitrate > A.yt[M.mediaType] && (A.yt[M.mediaType]=M.maxBitrate),p.assert(A.Lo || !M.Lo,"Can not update clear viewable with drm track."));}});}});this.kU=B;this.zn.lN(this.ea);};y.prototype.xF=function(z){var A,B,C;A=z.Xo;B=z.ga;C=z.gE;z=z.Ro;A && B?(this.Pda=new g.GQa(A,{ga:String(B),gE:! !C,lZb:this.config.z3.mx,mDb:this.config.z3.lv},z),this.pr.xF(this.Pda)):this.abb || (z("SideChannel: pbcid/xid is missing."),this.abb=!0);};y.prototype.ay=function(){return void 0 !== this.so;};y.prototype.bm=function(z,A){return v.tsa(this.ea,z,A);};y.prototype.getTracks=function(z){return this.gM[z];};y.prototype.getTrackById=function(z){var A;this.gM.some(function(B){return B.some(function(C){if(C.trackId === z)return (A=C,!0);});});A || this.console.warn("getTrackById not found:",z,"length:",this.gM.length);return A;};y.prototype.DSb=function(z,A){var B;B=this.gM[z];if(0 > A || A >= B.length)this.console.warn("getTrackByIndex out of range:",A,"length:",B.length,"mediaType:",z);else return B[A];};y.prototype.Ux=function(z,A){return (z=this.wE(z)) && z[A];};y.prototype.wE=function(z){return this.PBa[z];};y.prototype.hcc=function(z,A){this.XTa[z]=A;A.stream.Z && this.$jb(z,A.stream.Z);};y.prototype.rWb=function(z){var A,B;if(void 0 === z.Dca || void 0 === z.Jya){A=this.zn.GB.filter(function(C){return void 0 !== C.streams[z.Qa];})[0];B=A.children.filter(function(C){return C.urls.some(function(D){return D.stream.id === z.Qa;});})[0];z.Dca=A.id;z.Jya=B.id;}return {Wua:z.location === z.Dca,sWb:z.Gc === z.Jya};};y.prototype.YAa=function(z,A,B){void 0 !== A && void 0 !== B && (this.Veb(z.mediaType,A),z.YAa(A,B));};y.prototype.Veb=function(z,A){var B,C;C=this.config.Vwa;("location" === C || "video_location" === C && 1 === z) && this.Vb.dR(A);null === (B=this.Z8) || void 0 === B?void 0:B.call(this).e1b(z,A);};y.prototype.If=function(z,A,B,C,D,F){p.assert(this.Sq,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Sq(z,A,B,C,D,F);};y.prototype.ym=function(){var z,A,B;z=this;A=[];if(this.Jk)return (this.console.error("updateRequestUrls, closed Viewable:",this.K),!1);m.Of.forEach(function(C){z.qc(C) && z.zcc(C) && (C=z.occ(C),0 < C.length && A.push.apply(A,C));});B=this.icc();0 < B.length && A.push.apply(A,B);return this.U6b(A);};y.prototype.jn=function(z,A){var B;B=this.getTracks(1)[0];p.assert(B);if(B.kP)return B.jn(z,A);};y.prototype.zcc=function(z){var A;A=this;return this.Jk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.qc(z)?this.Ci.reduce(function(B,C){return q.B6(B,C.Ie.filter(function(D){return D.mediaType === z;}));},[]).map(function(B){return A.zn.S0(A.K,B.gd);}).every(function(B){return B;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",z),!1);};y.prototype.icc=function(){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.ym();};y.prototype.occ=function(z){var A,B,F;B=[];if(this.Jk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),B);if(!this.qc(z))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",z),B);try{for(var C=c.__values(this.Ci),D=C.next();!D.done;D=C.next()){F=D.value.ym(z);F.length && B.push.apply(B,F);}}catch(E){var G;G={error:E};}finally{try{D && !D.done && (A=C.return) && A.call(C);}finally{if(G)throw G.error;}}return B;};y.prototype.U6b=function(z){var A,B,C;A=this;if(0 === z.length)return !0;B=0;C=[];z.forEach(function(D){var F;if(D.Bc){F=D.O;F.Pb > A.Pb && (C.push({O:F,track:D.stream.track}),++B);}});C.forEach(function(D){var F;F=D.track;D.O.gK([0 === F.mediaType?F:void 0,1 === F.mediaType?F:void 0],void 0,F.mediaType);});return B === z.length;};y.prototype.Uj=function(){var z;z=this;this.zn.Uj();this.pr.Uj();this.Pda && (p.assert(this.uE),m.Of.forEach(function(A){A=z.uE(A);z.Pda.CAa("rebuffer",A.sva);}));};y.prototype.sxa=function(){this.pr.sxa();};y.prototype.VCa=function(z,A){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");this.jg.VCa(z,A);};y.prototype.Z9=function(){p.assert(this.jg,"Headers not available on old architecture prefetch viewables..");return this.jg.Z9();};y.prototype.Coa=function(){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");this.jg.Coa();};y.prototype.bR=function(z){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");this.jg.bR(z);};y.prototype.DCa=function(){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.DCa();};y.prototype.Vp=function(z,A){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.Vp(z,A);};y.prototype.n_a=function(z,A,B){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");this.jg.Eea(z,A,B,!0);};y.prototype.j6=function(z,A,B){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.j6(z,A,! !B);};y.prototype.C8b=function(z,A){this.cE.push({stream:z,tSb:A});};y.prototype.Ceb=function(){this.cE=[];};y.prototype.f6b=function(z){this.cE=this.cE.filter(function(A){return A.stream !== z;});};y.prototype.e6b=function(z){this.cE=this.cE.filter(function(A){return A !== z;});};y.prototype.YO=function(){var z;z=this;p.assert(this.No,"Streamables not available on old architecture prefetch viewables.");return this.No()?[]:this.cE.map(function(A){var B,C;B=A.stream;C=A.tSb;C=C();return {identifier:B.K + "-" + B.mediaType + "-" + B.bitrate,mediaType:B.mediaType,Rh:C.Rh,wf:C.wf,MB:C.MB,Vt:C.Vt,Us:C.Us,Gya:0,Fya:Infinity,b_:1,dC:1,J2a:0,groupId:"" + z.K,NE:!0,ot:!1,q8a:function(){return {result:!0};},u8a:function(){if(B.PF())return (z.f6b(B),{ij:!0,reason:"success"});z.e6b(A);return {ij:!1,reason:"viewableTryIssueHeaderRequest"};}};});};y.prototype.PF=function(z,A){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.PF(z,A);};y.prototype.gN=function(z,A){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.gN(z,A);};y.prototype.Vza=function(z){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.Vza(z);};y.prototype.gK=function(z,A,B){p.assert(this.jg,"Headers not available on old architecture prefetch viewables.");return this.jg.gK(z,A,B);};y.prototype.eTb=function(z){var A,B,C;A=z.Qa;B=z.mediaType;this.Oc || this.$jb(B,z.stream.Z);A=this.Ux(B,A);C=this.ay()?this.config.n$a:0;A.Sjb(n.default.Xp()[B],C);this.Ev.emit("onHeaderFragments",z);};y.prototype.pza=function(z){this.Ci.push(z);};y.prototype.LCa=function(z){z=this.Ci.indexOf(z);p.assert(-1 !== z,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ci.splice(z,1);};y.prototype.Tba=function(z){var A;null === (A=this.NQ) || void 0 === A?void 0:A.Ju(z);};y.prototype.KB=function(z){this.Jk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",z):void 0 !== z.location && this.Veb(z.mediaType,z.location);};y.prototype.KJ=function(z){this.Jk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",z):this.pr.Jea({timestamp:z.Gf,url:z.url});};y.prototype.hm=function(z){var A;null === (A=this.NQ) || void 0 === A?void 0:A.ZB(z);p.assert(this.No && this.pZ,"Requests cannot be handled on old architecture prefetch viewables.");this.Jk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",z):this.No() || (this.pr.Jea({timestamp:z.Gf,mediaRequest:z}),this.pZ(z));};y.prototype.DZ=function(z,A,B){var C;B && (null === (C=this.NQ) || void 0 === C?void 0:C.ZB(z));};y.prototype.EZ=function(z){this.Jk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",z):(this.pr.It({url:z.url},z.status,z.Xg,z.lj),this.ym() || this.If(z.DO || "unknown","NFErr_MC_StreamingFailure",z.Xg,z.status,z.lj));};y.prototype.$jb=function(z,A){this.qUa[z]=A.lwa;};y.prototype.cTb=function(z){var A,B,C;if(!this.ho){A=z.aWb;B=z.P1b;C=z.R1b;z=z.S1b;this.console.warn("Streaming failure, is permanent: " + A + ", last error code: " + B + ", last http code: " + C + ", last native code: " + z);A?(this.console.warn(" > Permanent failure, done"),A=this.If("Permanent failure","NFErr_MC_StreamingFailure",B,C,z)):(this.console.warn(" > We are buffering, calling it!"),A=this.If("Temporary failure while buffering","NFErr_MC_StreamingFailure",z,C,z,!0));A || (this.console.warn(" > Resetting failures"),this.pr.fda());}};y.prototype.bTb=function(){p.assert(this.et,"Error handling not available on old architecture prefetch viewables.");this.ho || (this.ym(),this.et());};return y;})(t.Ew);b.Nfa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EC=void 0;t=a(35);a=a(74);c=(function(){function k(g,h){this.Es=g;this.sM=h.Ua;this.dx=h.fb;}Object.defineProperties(k.prototype,{Ua:{get:function(){return void 0 !== this.sM?this.sM:this.Es.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fb:{get:function(){return void 0 !== this.dx?this.dx:this.Es.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.Es.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qj:{get:function(){return this.Es.qj;},enumerable:!1,configurable:!0}});k.prototype.V_=function(g){this.dx=g;};k.prototype.Boa=function(){this.dx=void 0;};return k;})();b.EC=c;t.Je(a.eu,c);t.Je(a.bz,c);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZL=void 0;c=a(20);t=(function(){function k(g,h){this.nH=g;this.$G=h;this.B7b();}k.from=function(g){return "number" === typeof g?new k(g,1):new k(g.Vv,g.bv);};k.JOb=function(g){return new k(g.U,g.Xa);};Object.defineProperties(k.prototype,{Vv:{get:function(){return this.nH;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bv:{get:function(){return this.$G;},enumerable:!1,configurable:!0}});k.prototype.ka=function(){return new c.M(this.$G,this.nH);};k.prototype.equal=function(g){return this.nH === g.nH && this.$G === g.$G;};k.prototype.normalize=function(g){var h;h=1E3 * this.bv;return Math.floor(Math.floor((Math.floor(g + 1) * this.Vv - 1) / h) * h / this.Vv);};k.prototype.B7b=function(){var g,h,d;g=Math.floor(1E3 * this.nH / this.$G);h=Math.floor(1001 * this.nH / this.$G);d=1E3 * Math.round(g / 1E3);this.nH=d;this.$G=Math.abs(h - d) > Math.abs(g - d)?1E3:1001;};return k;})();b.ZL=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eS=void 0;c=a(0);t=c.__importDefault(a(151));k=a(114);g=a(176);a=(function(h){function d(f,l,m,n,p,q,r){l=h.call(this,f,l,m,n,p,q,r) || this;g.Fw.za(l,f,n);return l;}c.__extends(d,h);return d;})(k.D1);b.eS=a;t.default(g.Fw.prototype,a.prototype);},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(927),b);},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$fa=b.Uv=void 0;c=a(0);t=a(11);k=c.__importDefault(a(28));g=c.__importDefault(a(4));h=a(20);d=a(2);f=a(929);l=a(114);m=a(58);n=a(22);b.Uv=function(p){return p.Ba(h.M.Ha(p.nK));};a=(function(p){function q(r,u,v,w,x,y,z,A,B){var C,D;D=p.call(this) || this;D.G=r;D.mh=u;D.cg=v;D.wd=w;D.J=x;D.Cxb=y;D.S=z;D.rx=A;D.Lh=B;D.WVa=!1;D.nTa=!1;D.FU=!1;D.fl=D.G.error.bind(D.G);D.Mb=D.G.warn.bind(D.G);D.Bj=D.G.trace.bind(D.G);null === (C=w.events) || void 0 === C?void 0:C.addListener("ready",function(){D.ax();});D.P$a=new f.SLa(D.J,D.mh,D.cg.Kc,D.G);D.reset();return D;}c.__extends(q,p);Object.defineProperties(q.prototype,{endOfStream:{get:function(){return this.TT;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kdc:{get:function(){return this.Om.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{RWb:{get:function(){return this.il;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mib:{get:function(){return ! !this.wd.AMb;},enumerable:!1,configurable:!0}});q.prototype.reset=function(r){var u,v,w;null === (u=this.EUa) || void 0 === u?void 0:u.xb();this.pk=!1;r || (this.Om=[]);this.il=this.Jka=this.fH=void 0;this.tka=!1;this.gH=void 0;this.FU=this.TT=!1;this.yVa(h.M.La);null === (w=(v=this.wd).reset) || void 0 === w?void 0:w.call(v);this.P$a.reset();};q.prototype.R2a=function(){this.Jka=!0;};q.prototype.pause=function(){this.pk=!0;};q.prototype.resume=function(){this.pk=!1;this.ax();};q.prototype.LA=function(){this.nTa=!0;this.pk || this.ax();};q.prototype.zF=function(r){this.WVa=r;};q.prototype.qsa=function(){var r;return null === (r=this.il) || void 0 === r?void 0:r.$e;};q.prototype.hCb=function(r){var u;if(this.J.t1a){d.assert(r.Sa);u=r.Sa.Wa;d.assert(void 0 !== r.Zc);d.assert(void 0 !== u.Ec);if(r.Zc >= u.Ec)return;}this.Om.push(r);this.ax();};q.prototype.Aw=function(){this.ax();};q.prototype.x_=function(r){r=this.Om.indexOf(r);-1 !== r && this.Om.splice(r,1);};q.prototype.dbb=function(r,u){this.J.Rma && u && void 0 === this.il && this.LSa(r,0);this.ax();};q.prototype.oZ=function(r,u){var v,w;v=this;void 0 === r && (r=!1);this.TT || (this.TT=!0,this.ax(),!r && this.mib) || (u && this.rx && this.J.cKb?(r=h.M.Ha(this.J.Mib),u=u.Ba(r),r=m.ffa(this.rx,u,!0),u=r.Rn,r=r.promise,null === (w=this.EUa) || void 0 === w?void 0:w.xb(),this.EUa=u,r.then(function(){v.TT && v.wd.endOfStream();})):this.wd.endOfStream());};q.prototype.Fda=function(){return JSON.stringify(this.Om);};q.prototype.yVa=function(r){var u;null !== (u=this.yzb) && void 0 !== u && u.equal(r) || (this.yzb=r,this.wd.e9b(r.Xa,r.U));};q.prototype.ax=function(){var r,u,v,w,x,y,z,A,B;w=this.J;if(this.Om.length || this.il && !this.il.Pe)if(!this.wd || !1 === this.wd.ready)this.SM("@" + g.default.time.ia() + ", append: not appending, sourceBuffer not ready");else if(!this.il || this.il.Pe || this.il.kt())if(this.il && !this.il.Pe || this.Om.length)if(this.pk){x=this.il && !this.il.Pe?this.il:this.Om[0];this.SM("@" + g.default.time.ia() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.il || this.il.Pe || (this.iTa(this.il),this.il.Pe)) && this.Om.length)if((x=this.Om[0],x.aborted))(this.Mb("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.SM("@" + g.default.time.ia() + ", append: removing aborted request from toAppend: " + x.toString()),this.Om.shift());else {y=x.stream;z=y.O;if(y.Dg)if((x.nv && !this.FU && (null === (u=(r=this.wd).zhb) || void 0 === u?void 0:u.call(r,{K:y.track.O.K,M7a:y.Lj}),this.FU=!0),this.t9b(y,x.index)))(this.Jka=!1,this.LSa(y,x.index));else if((r=this.S.Mo(z),y=this.DUb(y),r || y || !this.tka && !w.dfa))if((r=this.q5a(x),this.mh !== k.default.$a.cc || !x.Oo && !x.cy || !x.Ca || w.iK || this.TT || 1 !== this.Om.length || !(r > w.gZ) || null !== (v=x.sK) && void 0 !== v && v.W$)){if(w.t1a || w.YLb)if((v=x.Sa.Wa,u=this.yKb())){A=v.nl;B=x.Ec >= u;r=r > w.gZ;if(u < v.Ec && B && r && !A)return;}if(w.C2b && this.Lh && (w=this.Lh(z.Pb)) && !w.eV)this.pause();else {this.tka || (this.tka=y);this.Om.shift();try{this.rub(x);}catch(C){throw (this.G.error(C),C);}}}else this.M7b();}};q.prototype.M7b=function(){var r;r=this;this.rx && (this.Xua?this.Xua.tVb || this.Xua.Rk():this.Xua=this.rx.aE(function(){return r.IWb();},"JIT Appender"));};q.prototype.IWb=function(){var r,u,v,w;return c.__generator(this,function(x){switch(x.label){case 0:if(1 !== this.Om.length)return [3,3];r=this.Om[0];if(!r.Oo && !r.cy || (null === (w=r.sK) || void 0 === w?0:w.W$))return [2];u=this.q5a(r);v=this.J.gZ;return u > v?[4,m.Zh.VF(h.M.Ha(u - v))]:[3,2];case 1:(x.Eb(),x.label=2);case 2:return (this.ax(),[3,0]);case 3:return [2];}});};q.prototype.q5a=function(r){return r.Ad - this.S.Fe();};q.prototype.t9b=function(r,u){if(this.Jka || void 0 === this.fH || r.Qa !== this.fH.Qa)return !0;r=r.Dg;d.assert(r);return 1 < r.length?n.A6(r,function(v){return v.me <= u;}) !== this.fH.S7a:!1;};q.prototype.DUb=function(r){if(0 === r.mediaType || !r.Lj)return !0;if(void 0 === this.fH)return !1;if(!r.track.TY)return !r.Lj;r=r.Dg;d.assert(r);return !1 === r[this.fH.S7a].Zl;};q.prototype.yKb=function(){throw Error("not supported");};q.prototype.LSa=function(r,u){var v,w,x,y;if(!this.WVa || this.nTa){x=r.Dg.reduce(function(z,A,B){return A.me <= u?B:z;},0);y=r.Dg[x];this.fH || (null === (w=(v=this.wd).zhb) || void 0 === w?void 0:w.call(v,{K:r.track.O.K,M7a:r.Lj}),this.FU=!0);if(this.wd.appendBuffer(y.data,{Bc:!0,profile:r.profile,bitrate:r.bitrate,Qa:r.id}))(this.SM("@" + g.default.time.ia() + ", header appended, streamId: " + r.Qa),this.fH={Qa:r.Qa,S7a:x},this.Nyb(r.O.Pb || 0,r.Qa,x),this.ax());else throw (this.Mb("appendHeader error: " + this.wd.error),this.SM("@" + g.default.time.ia() + ", appendHeader error: " + this.wd.error),Error("appendHeaderError"));}};q.prototype.rub=function(r){var u,v,w,x,y,z;u=this;y=r.Wya || h.M.La;z=r.Sa.Wa.u;z.Ma && Infinity !== z.Ma && (y=new h.M(z.Ma,1E3).add(y).si,Infinity === this.cg.duration || this.cg.duration < y) && (this.cg.duration=y);y=void 0 !== r.nC?h.M.Ha(r.nC).add(r.Wya):void 0;z=null === (v=this.Om[0]) || void 0 === v?void 0:v.rd;v={endOfStream:this.endOfStream || !(null === (w=r.sK) || void 0 === w || !w.W$),OP:y,Wwa:z};y=this.P$a.append(r,v);w=y.Ij;z=y.ul;v=y.response;y=y.offset;null === z || void 0 === z?void 0:z.forEach(function(A){return u.emit(A.type,A);});z=r.stream;z.Oc && (z=z.QO().j4b,y=y.Ba(z),(null === (x=this.cg.Kc) || void 0 === x || !x.gac) && Math.abs(y.Xa) > Math.pow(2,31) && (y=y.Wf(1)));this.yVa(y);w && (r.Oo || r.cy) && r.Ij();this.iTa(r,w,v);};q.prototype.iTa=function(r,u,v){var w,x,y,z;void 0 === u && (u=!1);z=u?{status:l.uj.Jw,Kk:void 0}:r.NH(this.wd,this.cg.Kc,void 0,v);v=z.status;(z=z.Kk) && this.emit(z.type,z);switch(v){case l.uj.Yf:this.qub(r);break;case l.uj.Jw:(u || (this.il=r,void 0 === this.gH || this.mh !== k.default.$a.cc || r.rd.equal(this.gH) || (this.Iyb(r,this.gH),this.gH=void 0),this.SM("@" + g.default.time.ia() + ", request appended, type: " + r.mediaType + ", streamId: " + r.Qa + ", pts: " + r.Ad + "-" + r.$e)),r.Oo || r.cy?(this.gH=u?r.rd:r.Qc,null === (x=(w=this.wd).AMb) || void 0 === x?void 0:x.call(w,r.sK),this.FU=!1,(null === (y=r.sK) || void 0 === y?0:y.W$) && this.Cxb && this.oZ(!1,this.gH)):this.gH=void 0,this.Oyb(r),this.ax());}};q.prototype.qub=function(r){if(void 0 !== this.wd.error){if("done" === this.wd.error)return;this.fl("failure to append queued mediaRequest:",null === r || void 0 === r?void 0:r.toString(),"err:",JSON.stringify(this.wd.error));throw this.wd.error;}r=Error("failure to append queued mediaRequest: " + (null === r || void 0 === r?void 0:r.toString()) + " err: " + this.wd.error);this.fl(r.message);throw r;};q.prototype.Nyb=function(r,u,v){r={type:"headerAppended",mediaType:this.mh,manifestIndex:r,streamId:u,isIndex:v};this.emit(r.type,r);};q.prototype.Oyb=function(r){r={type:"requestAppended",mediaType:this.mh,request:r};this.emit(r.type,r);};q.prototype.SM=function(r){r={type:"managerdebugevent",message:r};this.emit(r.type,r);};q.prototype.Iyb=function(r,u){var v;v=r.Zc;r=r.rd.Ba(u).T;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,r]}}};this.emit(v.type,v);};return q;})(t.EventEmitter);b.$fa=a;},function(t,b,a){var k;function c(g,h){return g < h?-1:g > h?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.q3=void 0;k=a(0);t=(function(){function g(h,d){this.data=null !== h && void 0 !== h?h:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(h=(this.length >> 1) - 1;0 <= h;h--){this.vka(h);}}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(h){this.data.push(h);this.QVa(this.length - 1);};g.prototype.pop=function(){var h,d;if(!this.empty){h=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.vka(0));return h;}};g.prototype.sy=function(){return this.data[0];};g.prototype.map=function(h){return this.data.map(h);};g.prototype.find=function(h){return k.__read(this.data.filter(h),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(h){var d,f,l;d=this.data;h=d.indexOf(h);if(-1 !== h){f=d.pop();if(h < d.length){d[h]=f;l=h - 1 >> 1;d=d[l];0 <= l && 0 > this.compare(f,d)?this.QVa(h):this.vka(h);}}};g.prototype.yCb=function(){for(var h=this.data,d=1;d < h.length;d++){if(0 > this.compare(h[d],h[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + h);}};g.prototype.contains=function(h){return 0 <= this.data.indexOf(h);};g.prototype.QVa=function(h){for(var d=this.data,f=this.compare,l=d[h],m,n;0 < h;){m=h - 1 >> 1;n=d[m];if(0 <= f(l,n))break;d[h]=n;h=m;}d[h]=l;};g.prototype.vka=function(h){for(var d=this.data,f=this.compare,l=this.length >> 1,m=d[h],n,p,q;h < l;){n=(h << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,m))break;d[h]=q;h=n;}d[h]=m;};return g;})();b.q3=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sca=void 0;c=a(14);b.sca=function(k){switch(k){case c.va.sd:k=c.Hc.sd;break;case c.va.$f:k=c.Hc.$f;break;case c.va.dh:case c.va.xj:case c.va.ss:k=c.Hc.xj;break;default:k=c.Hc.yj;}return k;};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GL=void 0;c=a(2);k=a(22);t=(function(){function g(h){var d;d=this;void 0 === h && (h=[]);this.items=h;h.forEach(function(f){return d.RCa(f);});}Object.defineProperties(g.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{d_:{get:function(){var h;return null !== (h=this.video) && void 0 !== h?h:this.audio;},enumerable:!1,configurable:!0}});g.prototype.get=function(h){return 1 === h?this.video:this.audio;};g.prototype.every=function(h){return this.items.every(h);};g.prototype.some=function(h){return this.items.some(h);};g.prototype.forEach=function(h){this.items.forEach(h);};g.prototype.find=function(h){return k.Xc(this.items,h);};g.prototype.reduce=function(h,d){return this.items.reduce(h,d);};g.prototype.filter=function(h){return new g(this.items.filter(h));};g.prototype.replace=function(h,d){var f;f=this.items.indexOf(h);c.assert(-1 < f);c.assert(h.mediaType === d.mediaType);this.items[f]=d;this.RCa(d);};g.prototype.w8b=function(h,d){(h=this.get(h))?this.replace(h,d):this.add(d);};g.prototype.add=function(h){this.items.push(h);this.RCa(h);};g.prototype.remove=function(h){var d;d=this.items.indexOf(h);if(-1 === d)return !1;this.items.splice(d,1);this.mFb(h.mediaType);return !0;};g.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};g.prototype.RCa=function(h){1 === h.mediaType?this.video=h:this.audio=h;};g.prototype.mFb=function(h){1 === h?this.video=void 0:this.audio=void 0;};return g;})();b.GL=t;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.B1=void 0;c=a(0);a(2);t=a(35);k=c.__importDefault(a(28));g=c.__importDefault(a(4));h=a(256);d=a(73);f=a(114);l=g.default.ns;m=a(955);a=(function(n){function p(q,r,u,v,w,x,y,z){var z00,A;z00=2;for(;z00 !== 6;){switch(z00){case 3:void 0 === u.responseType && (u.responseType=u.Ca || l.Kc && !l.Kc.H_.uT?0:1);A=n.call(this,q,r,A,u,v,x,y) || this;d.Zk.za(A,q,u,z);return A;break;case 2:var s9X="e";s9X+="d";s9X+="i";s9X+="t";var M9X="c";M9X+="a";M9X+="c";M9X+="h";M9X+="e";var W9X="1";W9X+="SIYb";W9X+="ZrNJCp9";A=this;W9X;A=[M9X,s9X].filter(function(B,C){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 4:return [w,u.Ca][C];break;A00=1;break;case 2:return [w,u.Ca][C];break;}}});A=A.length?"(" + A.join(",") + ")":"";z00=3;break;}}}var y00;y00=2;for(;y00 !== 9;){switch(y00){case 5:p.prototype.toString=function(){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:var U9X="I";U9X+="D";U9X+=":";U9X+=" ";return U9X + this.Ri() + ":" + d.Zk.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return {ID:this.Ri(),request:d.Zk.prototype.toJSON.call(this)};break;}}};return p;break;case 2:c.__extends(p,n);p.create=function(q,r,u,v,w,x,y,z){var B00,A,B;B00=2;for(;B00 !== 11;){switch(B00){case 2:B00=!r.Ah && v.Ca && q.mediaType === k.default.$a.Jb && l.Kc && l.Kc.H_.uT?1:5;break;case 5:B00=v.JP && v.aa > v.JP?4:12;break;case 4:A=Math.ceil(v.aa / v.JP);x=v.offset;B=v.aa;B00=8;break;case 8:w=new h.jL(q,v,w,r,y,z);B00=7;break;case 1:return new m.gEa(q,u,v,w,x,r,y,z);break;case 12:return new p(q,u,v,w,x,r,y,z);break;case 14:var P9X="su";P9X+="b";P9X+="r";P9X+="eques";P9X+="t";(A={offset:x,aa:Math.min(B,z),responseType:v.responseType},x+=A.aa,B-=A.aa,w.push(new f.D1(q,u,P9X,A,w,r,y)));B00=6;break;case 7:z=Math.ceil(v.aa / A);B00=6;break;case 13:return w;break;case 6:B00=0 < B?14:13;break;}}};y00=5;break;}}})(f.D1);b.B1=a;t.Je(d.Zk,a,!1);},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jL=void 0;c=a(0);k=a(2);t=a(35);g=a(7);h=a(22);d=a(405);f=a(73);l=a(114);a=(function(m){function n(p,q,r,u,v,w){r=m.call(this,p,q,r,u,v) || this;f.Zk.za(r,p,q,w);r.cd=0;r.Ca || r.ti();r.Pe=!1;return r;}c.__extends(n,m);Object.defineProperties(n.prototype,{Bc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.cd+=p.aa;m.prototype.push.call(this,p);};n.prototype.kt=function(){var p;return !this.Pe && ! !this.Ka.length && !(null === (p=h.Xc(this.Ka,function(q){return !q.Pe;})) || void 0 === p || !p.kt());};n.prototype.NH=function(p,q){var r,u;k.assert(!this.Pe);r=l.uj.srb;u=g.fy(this);this.Pe=this.Ka.every(function(v){if(v.Pe)return !0;if(!v.kt())return !1;r=v.NH(p,q,u).status;return r === l.uj.Jw;});r !== l.uj.Jw || this.Pe || (r=l.uj.Lrb);return {status:r};};n.prototype.Z5b=function(){this.Ka.forEach(function(p){p.Wca();});};n.prototype.Ri=function(){return this.Ka?this.Ka[0].Ri() + "-" + this.Ka[this.Ka.length - 1].Ri():"empty";};n.prototype.toString=function(){return "ID: " + this.Ri() + ":" + f.Zk.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Ri(),request:m.prototype.toJSON.call(this)};};return n;})(d.Dfa);b.jL=a;t.Je(f.Zk,a);},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(961),b);},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.J3=void 0;c=a(0);k=a(11);g=a(7);h=a(10);d=a(58);f=c.__importDefault(a(4));l=g.M.Ha(1E3);t=(function(){function m(n,p,q,r,u,v,w,x,y,z){var A,B,C;A=this;this.HOb=n;this.N1b=p;this.Fa=q;this.x6=r;this.events=u;this.Fs=v;this.de=w;this.jjb=x;this.wl=[];this.console=g.ii(f.default,p,"PresentationTracker [" + this.HOb + "] " + this.jjb + "]");this.Uxa=l.add(g.M.Ha(null !== (C=null === (B=v.hR) || void 0 === B?void 0:B.T) && void 0 !== C?C:0));this.listeners=new k.Zf();this.listeners.on(q.S,"skipped",function(){return A.zZ();});this.listeners.on(r,"requestAppended",function(D){return A.Pv(D.request);});this.EU=!z;this.xW=w.aE(function(){return A.KLb();},"Presentation Emit",y);this.Hca=w.aE(function(){return A.R4b();},"Presentation Prune");this.Abb();}m.prototype.Abb=function(){};m.prototype.zZ=function(){this.trace("skipped, scheduler clock " + this.de.Aa.currentTime.jc());this.EU=!0;this.xW.Rk();};m.prototype.KLb=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:(h.W && this.console.trace("Starting emit job"),this.YJ=this.J_b(this.EU),n=this.Lab(),q.label=1);case 1:if(!n)return [3,3];this.trace("queuing task for " + n.yw + (" at player time " + n.timestamp.jc()) + (" scheduler clock is " + this.de.Aa.currentTime.jc()));return [4,d.Zh.Yy(n.timestamp)];case 2:q.Eb();this.trace("executing task for " + n.yw + (" at player time " + n.timestamp.jc()) + (" scheduler clock is " + this.de.Aa.currentTime.jc()));p=this.EU?this.Fa.Cf:null === n || void 0 === n?void 0:n.timestamp;this.EU=!1;try{this.jqa(n,p);}catch(r){this.console.error("Error in " + this.jjb + " emit, continuing",r);}this.YJ++;n=this.Lab();p=null === n || void 0 === n?void 0:n.timestamp;return [3,1];case 3:return (h.W && this.console.trace("Ending emit job"),[2]);}});};m.prototype.Lab=function(){if(void 0 !== this.YJ)return this.wl[this.YJ];};m.prototype.J_b=function(n){var p,q,u;void 0 === n && (n=!1);for(var r=n?0:null !== (p=this.YJ) && void 0 !== p?p:0;r < this.wl.length;r++){p=this.wl[r];u=g.M.Ha(null !== (q=this.Fs.pya) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Fa.Cf.add(u)))return n && 0 < r?r - 1:r;}return Math.max(this.wl.length - 1,0);};m.prototype.R4b=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.wl.length))return [3,2];n=c.__read(this.wl,2);p=n[1];this.trace("queuing pruning task for " + p.yw + (" at player time " + this.Uxa.add(p.timestamp).jc()) + (" scheduler clock is " + this.de.Aa.currentTime.jc()));return [4,d.Zh.Yy(this.Uxa.add(p.timestamp))];case 1:return (q.Eb(),this.trace("executing pruning task for " + p.yw + (" at player time " + this.Uxa.add(p.timestamp).jc()) + (" scheduler clock is " + this.de.Aa.currentTime.jc())),this.wl.shift(),this.YJ && this.YJ--,[3,0]);case 2:return [2];}});};m.prototype.reset=function(){this.wl=[];h.W && this.trace("reset");this.EU=!0;this.xP=void 0;this.YJ=0;this.Hca.Rk();this.xW.Rk();};m.prototype.close=function(){this.xW.xb();this.Hca.xb();this.listeners.clear();this.wl=[];};m.prototype.Tg=function(n){var p;h.W && this.trace("canSkip() " + n);if(0 === this.wl.length)return (h.W && this.trace("canSkip false, no media sequence"),!1);p=this.wl[0];return p.timestamp.greaterThan(n)?(h.W && this.trace("canSkip false, before earliest item at " + p.timestamp),!1):void 0 === this.xP || this.xP.lessThan(n)?(h.W && this.trace("canSkip false, later than last appended at " + this.xP),!1):!0;};m.prototype.trace=function(n){h.W && this.console.trace(n);};m.prototype.wma=function(n,p,q){q && (this.xP=q);q=this.wl.length?this.wl[this.wl.length - 1]:void 0;return void 0 !== q && this.w8a(q.yw,n)?!1:(this.wl.push({yw:n,timestamp:p}),this.xW.state === d.bo.complete && this.xW.Rk(),this.Hca.state === d.bo.complete && this.Hca.Rk(),!0);};m.prototype.w8a=function(n,p){var q;return n === p || (null === (q=n.S1a) || void 0 === q?void 0:q.call(n,p));};m.prototype.AFb=function(n){n.wl=c.__spread(this.wl);n.xP=this.xP;};return m;})();b.J3=t;},function(t,b,a){var h,d;function c(){}function k(f,l){this.Um=f;void 0 !== l?(d(l <= f.Mn,"require remain_sec <= chunk.sec but has " + l + " and " + f.Mn),this.El=l):this.El=f.Mn;}function g(f){var l;void 0 === f && (f=[]);this.Gt=[];this.Uh=this.wm=0;try{for(var m=h.__values(f),n=m.next();!n.done;n=m.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (l=m.return) && l.call(m);}finally{if(p)throw p.error;}}}h=a(0);d=a(2).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.qh=function(){return new k(this.Um,this.El);};g.prototype.constructor=g;g.prototype.add=function(f,l){f=new k(f,l);this.Gt.push(f);this.Uh+=f.El;this.wm+=f.Um.aB() * f.El;};g.prototype.qh=function(){var f,l,p;l=new g(void 0);try{for(var m=h.__values(this.Gt),n=m.next();!n.done;n=m.next()){p=n.value;l.add(p.Um,p.El);}}catch(r){var q;q={error:r};}finally{try{n && !n.done && (f=m.return) && f.call(m);}finally{if(q)throw q.error;}}return l;};g.prototype.yv=function(){try{return this.Gt[0];}catch(f){}};g.prototype.Lcb=function(f){var l;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.yv())throw new c();if(f < this.yv().El){l=this.yv().Um.aB() * f;this.yv().El-=f;this.Uh-=f;this.wm-=l;f=0;}else (l=this.Gt.shift(),this.Uh-=l.El,this.wm-=l.Um.aB() * l.El,f-=l.El);}};g.prototype.g3b=function(f){var m;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var l=0;0 < f;){if(void 0 === this.yv())throw new c();if(f < this.yv().El * this.yv().Um.aB()){m=f / this.yv().Um.aB();this.yv().El-=m;this.Uh-=m;this.wm-=f;l+=m;f=0;}else (m=this.Gt.shift(),this.Uh-=m.El,this.wm-=m.Um.aB() * m.El,l+=m.El,f-=m.Um.aB() * m.El);}return l;};t.exports={gFa:g,enb:c};},function(t){var l,m,n,p,q,r;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(u){if(l === setTimeout)return setTimeout(u,0);if((l === b || !l) && setTimeout)return (l=setTimeout,setTimeout(u,0));try{return l(u,0);}catch(v){try{return l.call(null,u,0);}catch(w){return l.call(this,u,0);}}}function k(u){if(m === clearTimeout)return clearTimeout(u);if((m === a || !m) && clearTimeout)return (m=clearTimeout,clearTimeout(u));try{return m(u);}catch(v){try{return m.call(null,u);}catch(w){return m.call(this,u);}}}function g(){p && q && (p=!1,q.length?n=q.concat(n):r=-1,n.length && h());}function h(){var u;if(!p){u=c(g);p=!0;for(var v=n.length;v;){q=n;for(n=[];++r < v;){q && q[r].Gy();}r=-1;v=n.length;}q=null;p=!1;k(u);}}function d(u,v){this.ROb=u;this.kA=v;}function f(){}t=t.exports={};l="function" === typeof setTimeout?setTimeout:b;m="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;r=-1;t.Snc=function(u){var v;v=Array(arguments.length - 1);if(1 < arguments.length)for(var w=1;w < arguments.length;w++){v[w - 1]=arguments[w];}n.push(new d(u,v));1 !== n.length || p || c(h);};d.prototype.Gy=function(){this.ROb.apply(null,this.kA);};t.title="browser";t.rkc=!0;t.Q1a={};t.bkc=[];t.version="";t.Upc={};t.on=f;t.addListener=f;t.once=f;t.IB=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.YZ=f;t.Bya=f;t.listeners=function(){return [];};t.nkc=function(){throw Error("process.binding is not supported");};t.Ukc=function(){return "/";};t.Fkc=function(){throw Error("process.chdir is not supported");};t.Jpc=function(){return 0;};},function(t){t.exports={$Ka:{code:-1,description:"MediaCache is not supported."},vic:{code:100,description:"Resource was not found"},Rqb:{code:101,description:"Resource Metadata was not found"},QL:{code:102,description:"Read failed",fs:function(b,a){return {code:this.code,description:b,cause:a};}},r4:{code:200,description:"Daily write limit exceeded"},lL:{code:201,description:"Capacity has been exceeded"},q4:{code:202,description:"Write failed, cause unknown",fs:function(b,a){return {code:this.code,description:b,cause:a};}},ujc:{code:203,description:"Write failed, cause unknown"},aob:{code:300,description:"Failed to delete resource",fs:function(b,a){return {code:this.code,description:b,cause:a};}},OC:{code:900,description:"Invalid partition name"},qqb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},lGa:{code:701,description:"Failed to initialize underlying disk cache."},Qqb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(t){t.exports={U5a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var k;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(g){c.error && c.error.code == g.error.code && c.error.description === g.error.description && (k=g);});k?k.resources.push(c.Rr):a.push({error:c.error,resources:[c.Rr]});});return a;}},O3a:function(b){var a;a={freeSize:b.Eo,dailyBytesRemaining:b.ZN,bytesWritten:b.ll,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.xl,itemBytes:c.aaa,error:c.error};}));return a;},zy:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NI=void 0;c=a(0).__importDefault(a(4));k=a(1023);b.NI=function(){var h;if(!g){h=new c.default.Console("ASEJS","media|asejs");g=new k.UDa(h);}return g;};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.b4=void 0;t=a(11);c=a(35);k=a(20);a=(function(){function g(h){void 0 === h && (h={Nj:!1,currentTime:k.M.La,speed:1});this.Nc={Nj:function(){return "function" === typeof h.Nj?h.Nj():h.Nj;},currentTime:function(){return "function" === typeof h.currentTime?h.currentTime():h.currentTime;},speed:function(){return "function" === typeof h.speed?h.speed():h.speed;}};}Object.defineProperties(g.prototype,{Nj:{get:function(){return this.Nc.Nj();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.Nc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.Nc.speed();},enumerable:!1,configurable:!0}});return g;})();b.b4=a;c.Je(t.EventEmitter,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Afb=b.H4a=b.map=void 0;c=a(0);a(1062);b.map=function(k){return function(g,h){void 0 === h && (h=!1);return function(d,f,l){var m,n,p,q,r,u,v,w;r=Reflect.a5a(k,d,f) || ({});v="number" === typeof l;w=h;(u=v?null !== (n=(null !== (m=r.Cb) && void 0 !== m?m:{})[l]) && void 0 !== n?n:{}:w?r.return:r.Dwa) || (u={rules:[]});m=c.__assign(c.__assign(c.__assign({},u),g),{rules:c.__spread(null !== (p=u.rules) && void 0 !== p?p:[],null !== (q=g.rules) && void 0 !== q?q:[])});v?(r.Cb || (r.Cb={}),r.Cb[l]=m):w?r.return=m:r.Dwa=m;Reflect.P7(k,r,d,f);};};};b.H4a=function(k){return function(g,h){var d,f,l,m;return (g=null !== (m=null !== (f=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (l=null === g || void 0 === g?void 0:g.constructor) || void 0 === l?void 0:l.prototype) && void 0 !== m?m:g) && Reflect.a5a(k,g,h);};};b.Afb=function(){return function(){return function(k){return k;};};};},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tS=void 0;c=a(0);k=a(11);g=a(2);h=a(22);d=a(10);f=0;t=(function(l){function m(n,p,q,r,u,v,w,x){p=l.call(this,"cdnList" + f++,p,q,r,u,v,w,"cdnList",x) || this;p.Ag=n;return p;}c.__extends(m,l);m.prototype.Abb=function(){var n;n=this;this.qU=new k.Zf();this.qU.on(this.Fa.S,"skipped",function(p){n.ZBa(null === p || void 0 === p?void 0:p.moc);});this.qU.on(this.Fa.S,"paused",function(){n.ZBa();});this.qU.on(this.Fa.S,"playing",function(){n.eD=void 0;});this.qU.on(this.Fa.S,"underflow",function(){n.ZBa();});};m.prototype.close=function(){d.W && this.console.trace("close");l.prototype.close.call(this);this.qU.clear();};m.prototype.ZBa=function(n){var p;if(this.eD && (n || this.Fa.Ze) && this.Sz && (n || (n=this.Fa.Cf),this.eD.greaterThan(n))){p=this.eD.Ba(n);this.Sz.totalTime-=p.T;this.eD=n;}};m.prototype.zBa=function(n){var p,q,r;if(this.l5 && this.Sz && this.eD){r=this.Sz.totalTime;this.eD.sn(n) && (n=this.eD.Ba(n),r-=n.T);r=c.__assign(c.__assign({},this.Ag),(p={},p[this.l5]=c.__assign(c.__assign({},this.Ag[this.l5]),{JA:c.__assign(c.__assign({},this.Ag[this.l5].JA),(q={},q[this.Sz.Yb]=c.__assign(c.__assign({},this.Sz),{totalTime:r}),q))}),p));d.W && this.console.trace("getting snapshot",{Okc:this.Ag,result:r});return r;}return this.Ag;};m.prototype.Pv=function(n){var p,q,r;p=n.stream;q=n.rd;r=n.Qc;g.assert(void 0 !== q);d.W && this.console.trace("Media appended",{rd:q,Qc:r});this.wma({request:n,okb:p.url,S1a:function(u){return this.request === u.request;}},q,r);};m.prototype.gsa=function(n){var p,q,r,u;n=n.yw;r=n.okb;n=n.request.stream;u=n.vl;g.assert(u,"manifestStram should exist)");u=null === (p=h.Xc(u.urls,function(v){return v.url === r;})) || void 0 === p?void 0:p.ro;p=null === (q=n.O.ea.JN) || void 0 === q?void 0:q.Xo;return u + "::" + p;};m.prototype.jqa=function(n,p){var q,r,u,v,w,x,y,z,A;w=this.Ag;x=n.yw;y=x.request;z=x.okb;x=y.duration;y.rd && p.greaterThan(y.rd) && (p=p.Ba(y.rd).T,x-=p);p=y.stream;A=p.vl;A && (A=null === (q=h.Xc(A.urls,function(B){return B.url === z;})) || void 0 === q?void 0:q.ro,q=null === (r=p.O.ea.JN) || void 0 === r?void 0:r.Xo,r=p.track.I,n=this.gsa(n),w=w[n] || (w[n]={Cx:A,Xo:q,I:r,JA:{}}),this.l5=n,this.Sz=(u=w.JA)[v=p.vl.Ao] || (u[v]={bitrate:p.bitrate,Yb:p.vl.Ao,mediaType:y.mediaType,totalTime:0,cb:p.cb}),this.eD=y.Qc,this.Sz.totalTime+=x);};m.prototype.clone=function(n,p){p=void 0 === p?{}:p;n=new (p.bib || m)(n,this.N1b,this.Fa,this.x6,this.events,this.Fs,this.de,p.priority);this.AFb(n);d.W && n.console.trace("Cloning",{akc:n.wl.length});return n;};return m;})(a(258).J3);b.tS=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uia="PboPlaydataFactorySymbol";},function(t){t.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(t,b,a){var g,h,d,f;function c(l,m,n){for(var p=n.next();!p.done;){if((m=l["@@transducer/step"](m,p.value)) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}p=n.next();}return l["@@transducer/result"](m);}function k(l,m,n,p){return l["@@transducer/result"](n[p](d(l["@@transducer/step"],l),m));}g=a(1130);h=a(1132);d=a(1133);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(l,m,n){"function" === typeof l && (l=h(l));if(g(n)){for(var p=0,q=n.length;p < q;){if((m=l["@@transducer/step"](m,n[p])) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}p+=1;}return l["@@transducer/result"](m);}if("function" === typeof n["fantasy-land/reduce"])return k(l,m,n,"fantasy-land/reduce");if(null != n[f])return c(l,m,n[f]());if("function" === typeof n.next)return c(l,m,n);if("function" === typeof n.reduce)return k(l,m,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(t){t.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,k){return a.apply(this,arguments);};case 3:return function(c,k,g){return a.apply(this,arguments);};case 4:return function(c,k,g,h){return a.apply(this,arguments);};case 5:return function(c,k,g,h,d){return a.apply(this,arguments);};case 6:return function(c,k,g,h,d,f){return a.apply(this,arguments);};case 7:return function(c,k,g,h,d,f,l){return a.apply(this,arguments);};case 8:return function(c,k,g,h,d,f,l,m){return a.apply(this,arguments);};case 9:return function(c,k,g,h,d,f,l,m,n){return a.apply(this,arguments);};case 10:return function(c,k,g,h,d,f,l,m,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lia="PlaybackSegmentDataFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nha="ManifestParserFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zga="HLSConfigSymbol";},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.d2=void 0;k=a(42);g=a(120);c.Ts=function(){var h;h={};return (h[k.H.fG]="avc1.4D401E",h[k.H.gG]="avc1.4D401F",h[k.H.Tga]="avc1.4D4028",h[k.H.qIa]="avc1.4D401E",h[k.H.rIa]="avc1.4D401F",h[k.H.sIa]="avc1.4D4028",h[k.H.Vga]="hev1.2.6.L90.B0",h[k.H.Wga]="hev1.2.6.L93.B0",h[k.H.Xga]="hev1.2.6.L120.B0",h[k.H.Yga]="hev1.2.6.L123.B0",h[k.H.N2]="hev1.2.6.L90.B0",h[k.H.Q2]="hev1.2.6.L93.B0",h[k.H.T2]="hev1.2.6.L120.B0",h[k.H.W2]="hev1.2.6.L123.B0",h[k.H.GS]="hev1.2.6.L150.B0",h[k.H.HS]="hev1.2.6.L153.B0",h[k.H.O2]="hev1.2.6.L90.B0",h[k.H.R2]="hev1.2.6.L93.B0",h[k.H.U2]="hev1.2.6.L120.B0",h[k.H.X2]="hev1.2.6.L123.B0",h[k.H.Z2]="hev1.2.6.L150.B0",h[k.H.b3]="hev1.2.6.L153.B0",h[k.H.M2]="hev1.2.6.L90.B0",h[k.H.P2]="hev1.2.6.L93.B0",h[k.H.S2]="hev1.2.6.L120.B0",h[k.H.V2]="hev1.2.6.L123.B0",h[k.H.Y2]="hev1.2.6.L150.B0",h[k.H.a3]="hev1.2.6.L153.B0",h[k.H.u2]="hev1.2.6.L90.B0",h[k.H.x2]="hev1.2.6.L93.B0",h[k.H.FS]="hev1.2.6.L120.B0",h[k.H.C2]="hev1.2.6.L123.B0",h[k.H.F2]="hev1.2.6.L150.B0",h[k.H.I2]="hev1.2.6.L153.B0",h[k.H.v2]="hev1.2.6.L90.B0",h[k.H.y2]="hev1.2.6.L93.B0",h[k.H.A2]="hev1.2.6.L120.B0",h[k.H.D2]="hev1.2.6.L123.B0",h[k.H.G2]="hev1.2.6.L150.B0",h[k.H.J2]="hev1.2.6.L153.B0",h[k.H.t2]="hev1.2.6.L90.B0",h[k.H.w2]="hev1.2.6.L93.B0",h[k.H.z2]="hev1.2.6.L120.B0",h[k.H.B2]="hev1.2.6.L123.B0",h[k.H.E2]="hev1.2.6.L150.B0",h[k.H.H2]="hev1.2.6.L153.B0",h[k.H.Q1]=g.Od.nga,h[k.H.S1]=g.Od.qGa,h[k.H.yS]=g.Od.oga,h[k.H.V1]=g.Od.pga,h[k.H.X1]=g.Od.qga,h[k.H.Z1]=g.Od.rga,h[k.H.sga]=g.Od.oga,h[k.H.tga]=g.Od.pga,h[k.H.uga]=g.Od.qga,h[k.H.vga]=g.Od.rga,h[k.H.R1]=g.Od.nga,h[k.H.T1]=g.Od.qGa,h[k.H.U1]=g.Od.oga,h[k.H.W1]=g.Od.pga,h[k.H.Y1]=g.Od.qga,h[k.H.a2]=g.Od.rga,h[k.H.oIa]="avc1.640016",h[k.H.o2]="avc1.64001E",h[k.H.q2]="avc1.64001F",h[k.H.Rga]="avc1.640028",h[k.H.pIa]="avc1.640016",h[k.H.p2]="avc1.64001E",h[k.H.r2]="avc1.64001F",h[k.H.Sga]="avc1.640028",h[k.H.Gja]=g.Od.BT,h[k.H.l4]=g.Od.BT,h[k.H.m4]=g.Od.BT,h[k.H.n4]=g.Od.BT,h[k.H.EDa]=g.Od.Ml,h[k.H.FDa]=g.Od.Ml,h[k.H.AC]=g.Od.Ml,h[k.H.BC]=g.Od.Ml,h[k.H.u1]=g.Od.Ml,h[k.H.v1]=g.Od.Ml,h[k.H.w1]=g.Od.Ml,h[k.H.x1]=g.Od.Ml,h);};b.d2=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bd=void 0;t=b.bd || (b.bd={});t.ZCb="bitraterestriction";t.GYa="cdnsel";t.MN="chgstrm";t.debug="debug";t.TKb="dlreport";t.tI="endplay";t.rua="intrplay";t.YE="midplay";t.oca="playbackaborted";t.Qeb="renderstrmswitch";t.JQ="repos";t.PQ="resumeplay";t.p8b="serversel";t.DF="startplay";t.Ihb="statechanged";t.transition="transition";t.SBb="asereport";t.uXa="audioswitch";t.QXa="blockedautoplay";t.config="config";t.Upa="dlreq";t.Vlc="ftlProbeError";t.$$b="subtitleerror";t.aac="subtitleqoe";t.Wac="timedtextrebuffer";t.Vib="timedtextswitch";t.vhb="speedchanged";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa="IsTypeSupportedProviderFactorySymbol";b.hOa="PlatformIsTypeSupportedSymbol";},function(t,b,a){var k,g,h;function c(){this.type=k.Gw.vz;}Object.defineProperty(b,"__esModule",{value:!0});b.QC=void 0;k=a(26);t=a(122);g=a(93);h=new t.JG();c.sIb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return mb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?mb.MSMediaKeys.isTypeSupported(g.zb.zz,d):"probably" === c.dCa(f[0],f[1]);}catch(l){return !1;}}};};c.w7=function(d,f,l){f=h.format(c.Hea,f);if(0 === l.length)return f;l=h.format('features="{0}"',l.join());return h.format("{0}|{1}{2}",d,f,l);};c.dCa=function(d,f){var l;try{l=mb.MSMediaKeys.isTypeSupportedWithFeatures?mb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(m){l="exception";}return l;};b.QC=c;c.Hea='video/mp4;codecs="{0},mp4a";';},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Nf=void 0;b.Nf=a;a.GIa=/^hevc-main/;a.FIa=/^hevc-hdr-|hevc-dv/;a.wL=/^hevc-hdr-/;a.Kw=/^hevc-dv/;a.n2=/h264mpl/;a.fG=/h264mpl30/;a.gG=/h264mpl31/;a.CC=/h264hpl/;a.aD=/^vp9-/;a.Ml=/^av1-/;a.ppb=/[l|L]4[0-1]-/;a.YL=/-L5[0-1]-/;a.qfa=/^heaac-2-/;a.Dpb=/^heaac-2hq-dash/;a.Fz=/^xheaac-dash/;a.Inb=/ddplus-2/;a.Jnb=/ddplus-5/;a.Knb=/ddplus-atmos/;},function(t,b){function a(c,k){var g;g=this;this.status={};c.forEach(function(h,d){g.status[h]=k[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.K3=void 0;a.prototype.WO=function(){return this.status;};a.prototype.J9=function(){return Object.entries(this.status).filter(function(c){c=na(c);c.next();return c.next().value.supported;}).map(function(c){var k;c=na(c);k=c.next().value;c.next();return k;});};b.K3=a;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r){var u;u=h.cG.call(this,n,p,k.$n.eSa,r) || this;u.config=n;u.Tj=p;u.is=q;u.Oaa=r;u.type=k.Gm.gz;u.Adc=d.Od.H_a();return u;}Object.defineProperty(b,"__esModule",{value:!0});b.IC=void 0;k=a(26);g=a(42);h=a(477);t=a(122);d=a(120);f=a(274);l=a(103);m=a(279);new t.JG();ka(c,h.cG);c.prototype.NK=function(){return Promise.resolve(!1);};c.prototype.JI=function(){return Promise.resolve("");};c.prototype.n9=function(){return Promise.resolve("");};c.prototype.q0=function(){return this.config().mqa?this.Oaa.yua()?this.Oaa.MW(g.H.FS).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.lea=function(){return this.config().mqa?this.Oaa.yua()?this.Oaa.MW(g.H.yS).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.r0=function(){return Promise.resolve(!1);};c.prototype.o0=function(){return Promise.resolve(!1);};c.prototype.dX=function(n){return this.Adc[n];};c.prototype.rma=function(){};c.prototype.BYb=function(n){switch(n){case k.Fq.l3:return "1.4";case k.Fq.pG:return "2.2";}};c.prototype.Ts=function(){return f.d2.Ts();};c.prototype.n5a=function(){return (0,l.Kjb)(function(n,p){return n.name === p.name;},this.config().CWa,this.config().Wn);};c.prototype.yX=function(){return Promise.resolve(void 0);};c.prototype.B9=function(){return Promise.resolve(void 0);};c.prototype.v7=function(n){var p;p=[];this.is.Vg(n) && p.push(this.BYb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:! !p.length}];};c.prototype.NW=function(n){return this.config().b2b?Promise.resolve(new m.K3(n,n.map(function(){return {supported:!0};}))):h.cG.prototype.NW.call(this,n);};b.IC=c;c.Hea="video/mp4;codecs={0};";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mga=b.nz=void 0;t=b.nz || (b.nz={});t.Stb="unknown";t.GDa="absent";t.xPa="present";t.Error="error";b.Mga="ExternalDisplayLogHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lJa="IDBDatabaseFactorySymbol";b.RJa="IndexedDBFactorySymbol";b.TJa="IndexedDBStorageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k4="TransportConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sYb=b.GP=b.qYb=void 0;b.qYb=function(a){return a;};b.GP=function(a){return a;};b.sYb=function(a){return Object.assign({},a);};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v;function c(w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S){this.j=w;this.trackId=x;this.$x=y;this.Zb=z;this.Si=A;this.gjb=B;this.Yb=C;this.cv=D;this.Vpa=F;this.uf=G;this.displayName=E;this.wi=I;this.LK=L;this.variant=K;this.uF=H;this.profile=R;this.Rv=O;this.dQ=J;this.wOb=M;this.S$=P;this.Dv=S;this.type=d.cj.tea;this.$t=void 0;this.tl=!(!R || R != l.Em.HL);this.xh={bcp47:G,trackId:x,downloadableId:C,isImageBased:this.tl};this.log=(0,f.Qi)(w,"TimedTextTrack");this.state=v.x3;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.KG=void 0;k=a(0);g=a(104);h=a(18);d=a(89);f=a(8);l=a(42);m=a(23);n=a(15);p=a(1210);q=a(17);r=a(3);u=a(1211);(function(w){w[w.x3=0]="NOT_LOADED";w[w.LOADING=1]="LOADING";w[w.oG=2]="LOADED";w[w.RS=3]="LOAD_FAILED";})(v || (v={}));c.prototype.v$=function(){var w;w=this;if(this.j.state.value === q.$b.CLOSED || this.j.state.value === q.$b.CLOSING)return Promise.reject({ca:!1});if(this.tl)return this.cVb();this.W0a || (this.W0a=this.Y0a());return this.W0a.then(function(x){return w.eVb(x);});};c.prototype.getState=function(){return this.state;};c.prototype.Br=function(){return this.dQ;};c.prototype.bq=function(){return this.wOb;};c.prototype.wv=function(w,x){var y;try{return null === (y=this.YBa) || void 0 === y?void 0:y.wv(w,x);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:w,end:x,isImageBased:this.tl});}};c.prototype.nSb=function(){var w,x,y;if(!(0,n.pd)(this.ba))try{y=null === (x=null === (w=this.YBa) || void 0 === w?void 0:w.NO(0)) || void 0 === x?void 0:x[0];this.ba=null === y || void 0 === y?void 0:y.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.ba;};c.prototype.Nda=function(w){return this.j.state.value === q.$b.CLOSING || this.j.state.value === q.$b.CLOSED?(this.log.info("playback is closing, abort timed text retry",w),!1):this.j.kc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",w),!1):!0;};c.prototype.D_a=function(w){var x,y,z;x=this;y=(0,f.Qi)(this.j,"TimedTextTrack");y.warn=y.trace.bind(y);y.info=y.debug.bind(y);y=(0,p.E_a)(this.j,y,this.request,this);z=new u.default(y,w);z.on("ready",function(){x.YBa=z;});return z;};c.prototype.cVb=function(){var w,x,y,z,A,B,C;w=this;if(!this.m7a){this.state=v.LOADING;x={profile:"nflx-cmisc",url:"",BXa:!1,Fwa:this.Rv.offset,Z$a:this.Rv.length,Nd:this.j.mediaTime.value || 0,bufferSize:h.config.AUb,zda:{N:this.j.cX()}};y=(this.Vpa || []).filter(function(D){return (D.id in w.cv);}).sort(function(D,F){return D.Zb - F.Zb;}).map(function(D){return D.id;});z=0;A={};B=!0;C=function(D,F){var G;if((0,n.pd)(D)){if(B || w.Nda(w.uv(w.$u,"","image"))){B=!1;w.Rv.url=w.cv[w.$u];x.url=w.Rv.url;A[D]=(A[D] || 0) + 1;G=w.D_a(x);G.on("ready",function(){F({ca:!0,track:w});});G.on("error",function(E){var I;E=Object.assign({ca:!1},E);I=w.uv(w.$u,w.Rv.url,"image");I.details={midxoffset:w.Rv.offset,midxsize:w.Rv.length};I.errorstring=E.errorString;A[D] <= h.config.Tib?(w.F8(I,!0,"retry with current cdn"),w.qna(A[D]).then(function(L){w.log.trace("retry timed text download after " + L,w.uv(w.$u,"","image"));C(w.$u,F);})):(w.$u=y[z++],w.$u?(w.F8(I,!0,"retry with next cdn"),w.qna(A[D]).then(function(L){w.log.trace("retry timed text download after " + L,w.uv(w.$u,"","image"));C(w.$u,F);})):(w.F8(I,!1,"all cdns tried"),F({ca:!1,r_b:"all cdns failed for image subs",track:w})));});G.start();}else F({ca:!1,aborted:!0});}else (F({ca:!1,r_b:"cdnId is not defined for image subs downloadUrl"}),w.F8(w.uv(0,"","image"),!1,"cdnId is undefined"));};this.$u=y[z++];this.m7a=new Promise(function(D,F){C(w.$u,function(G){G.ca?(w.log.info("Loaded image subtitle manager"),w.state=v.oG,D(G)):(w.log.error("Unable to load image subtitles manager",G),w.state=v.RS,F(G));});});}return this.m7a;};c.prototype.eVb=function(w){var x,y;x=this;y=this.j.SF.value;(0,m.ib)(y);return new Promise(function(z,A){var B;B=x.D_a({profile:x.profile,xml:w,sh:h.config.Uib,preferences:h.config.qCa,Nd:x.j.mediaTime.value || 0,BXa:!1,videoSize:y});B.on("ready",function(){z(B);}).on("error",function(C){A({ca:!1,error:C});}).start();}).then(function(){x.state=v.oG;return {ca:!0,track:x};}).catch(function(z){x.log.error("Unable to parse timed text track",(0,r.mz)(z),x.xh,{url:z.url});x.state=v.RS;z.reason="parseerror";z.track=x;throw z;});};c.prototype.F8=function(w,x,y){w=Object.assign({},w,{$pc:x,status:y});this.j.fireEvent(q.ja.uR,w);this.log.warn("subtitleerror event",w);};c.prototype.request=function(w,x){var y,z,A;y=this;this.log.trace("Downloading",w);A=this.Qra(this.$u);w={url:w.url,offset:w.offset,length:w.size,$t:this.$t,responseType:g.RX,headers:{},wc:A,eE:"tt-" + this.uf,Rt:null !== (z=null === A || void 0 === A?void 0:A.type) && void 0 !== z?z:"unknown"};this.j.l$.download(w,function(B){y.log.trace("imgsub: request status " + B.ca);B.ca?x(null,new Uint8Array(B.content)):x({wa:B.wa,Ef:B.Ef});});};c.prototype.uv=function(w,x,y){return {currentCdnId:w,url:x,profile:this.profile,dlid:this.Yb,subtitletype:y,bcp47:this.uf,trackId:this.trackId,cdnCount:Object.keys(this.cv).length,isImageBased:this.tl};};c.prototype.Qra=function(w){return (this.Vpa || []).find(function(x){return x.id === w;});};c.prototype.Y0a=function(){var z,A;function w(B){return k.__awaiter(z,void 0,void 0,function D(){var F,G,E;G=this;return Ga(D,function(I){F=y();E=G.uv(B.wc.id,B.url,"text");E.errorstring=B.reason;return F && G.Nda(E)?I.return(G.qna(A[F.id]).then(x)):I.return(Promise.reject({ca:!1,aborted:!0}));});});}function x(){return k.__awaiter(z,void 0,void 0,function C(){var D,F,G;F=this;return Ga(C,function(E){G=(D=y()) && F.cv[D.id];return D && G?(A[D.id]=(A[D.id] || 0) + 1,E.return(F.bLb(G,D).catch(w))):E.return(Promise.reject({}));});});}function y(){return (z.Vpa || []).find(function(B){return ! !((A[B.id] || 0) < h.config.Tib && z.cv[B.id]);});}z=this;this.state=v.LOADING;A={};return x();};c.prototype.qna=function(w){return new Promise(function(x){var y;y=1E3 * Math.min(Math.pow(2,w - 1),8);setTimeout(function(){return x(y);},y);});};c.prototype.bLb=function(w,x){var y;y=this;this.log.trace("Downloading",x && ({wc:x.id}),this.uv(x.id,w,"text"));return new Promise(function(z,A){var B;B={responseType:g.Kta,url:w,track:y,wc:x,eE:"tt-" + y.uf,Rt:x.type};y.j.l$.download(B,function(C){C.ca?z(C.content):(C=Object.assign(Object.assign({},C),{reason:"downloadfailed",url:B.url,track:y,wc:x}),A(C));});});};Va.Object.defineProperties(c.prototype,{Rf:{configurable:!0,enumerable:!0,get:function(){return this.gjb.Rf;}},lF:{configurable:!0,enumerable:!0,get:function(){return this.gjb.lF;}}});b.KG=c;c.YC=v;},function(t){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Jsa:function(){return this.buffer.length - this.position;},WB:function(){return this.buffer[this.position++];},Ok:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Nr:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},dza:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Sh:function(){return this.Nr(2);},Or:function(){return this.Nr(4);},DQ:function(){return this.Nr(8);},Cy:function(a){for(var c,k="";a--;){c=this.WB();k+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return k;},eza:function(a){for(var c=0,k=0;k < a;k++){c+=this.WB() << (k << 3);}return c;},CQ:function(){return this.eza(4);},k1:function(a){this.WR(a,2);},zC:function(a){this.WR(a,4);},lfa:function(a){this.buffer[this.position++]=a;},WR:function(a,c){this.position+=c;for(var k=1;k <= c;k++){this.buffer[this.position - k]=a & 255;a=Math.floor(a / 256);}},yC:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},j1:function(a){for(var c=a.length,k=0;k < c;k++){this.buffer[this.position++]=a[k];}},VR:function(a,c){this.j1(a.Ok(c));}};t.exports=b;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LKa="LogMessageRulerConfigSymbol";b.NKa="LogMessageRulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tha="MilestonesEventBuilderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sia="PboLicenseResponseTransformerSymbol";},function(t,b,a){var d,f,l,m,n,p;function c(q,r,u,v){this.Aa=q;this.IX=r;this.Ea=u;this.profile=v;}function k(){}function g(){}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=b.G3=void 0;t=a(0);d=a(1);f=a(30);l=a(5);m=a(12);n=a(19);a=a(78);h.prototype.encode=function(q){return {downloadableId:q.Yb,duration:q.duration};};h.prototype.decode=function(q){return {Yb:q.downloadableId,duration:q.duration};};g.prototype.encode=function(q){return {total:q.total,totalContentTime:q.WK,totalAdDuration:q.MF,totalCombinedDuration:q.DR,totalOtherDuration:q.NF,audio:q.audio.map(new h().encode),video:q.video.map(new h().encode),text:q.text.map(new h().encode)};};g.prototype.decode=function(q){var r;return {total:q.total,WK:null !== (r=q.totalContentTime) && void 0 !== r?r:q.total,MF:q.totalAdDuration,DR:q.totalCombinedDuration,NF:q.totalOtherDuration,audio:q.audio.map(new h().decode),video:q.video.map(new h().decode),text:q.text.map(new h().decode)};};k.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ga,movieId:q.I,position:q.position,clientTime:q.aI,sessionStartTime:q.rq,videoTrackId:q.SR,audioTrackId:q.po,timedTextTrackId:q.BR,mediaId:q.LP,playTimes:new g().encode(q.Xv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Nn,profileId:q.profileId};};k.prototype.decode=function(q){return {type:q.type,href:q.href,ga:q.xid,I:q.movieId,position:q.position,aI:q.clientTime,rq:q.sessionStartTime,SR:q.videoTrackId,po:q.audioTrackId,BR:q.timedTextTrackId,LP:q.mediaId,Xv:new g().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Nn:q.sessionParams,profileId:q.profileId};};b.G3=k;c.prototype.create=function(q){var r,u,v,w,x;x=Object.assign(Object.assign({},null !== (r=q.gb.Nn) && void 0 !== r?r:{}),{uiVersion:this.IX().mr.Ry});return {href:q.ea && q.ea.Pj?q.ea.Pj.qX("events").href:"",type:"online",ga:q.ga.toString(),I:q.I,position:Math.floor(q.B7 || 0),aI:this.Aa.$Q.da(l.ma),rq:q.cJ?q.cJ.da(l.ma):-1,SR:null === (u=q.Jg.value) || void 0 === u?void 0:u.trackId,po:null === (v=q.yc.value) || void 0 === v?void 0:v.trackId,BR:null === (w=q.kc.value) || void 0 === w?void 0:w.trackId,LP:void 0,Xv:this.zX(q),trackId:void 0 !== q.Xk?q.Xk.toString():"",sessionId:this.IX().sessionId || this.Ea.id,appId:this.IX().appId || this.Ea.id,Nn:x,profileId:this.profile};};c.prototype.load=function(q){return new k().decode(q);};c.prototype.Fsa=function(q){return q.map(function(r){return {Yb:r.downloadableId,duration:r.duration};});};c.prototype.zX=function(q){return (q=q.im)?(q=q.CRb(),{total:q.total,WK:q.totalContentTime,MF:q.totalAdDuration,NF:q.totalOtherDuration,DR:q.totalCombinedDuration,audio:this.Fsa(q.audio),video:this.Fsa(q.video),text:this.Fsa(q.timedtext)}):{total:0,WK:0,MF:0,DR:0,NF:0,video:[],audio:[],text:[]};};p=c;p=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(f.Bh)),t.__param(1,(0,d.l)(m.Ic)),t.__param(2,(0,d.l)(n.$c)),t.__param(3,(0,d.l)(a.PL))],p);b.RNa=p;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XNa="PboPlaydataValidatorSymbol";b.ONa="PboPlaydataArrayValidatorSymbol";b.QNa="PboPlaydataCollectionValidatorSymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Bha=void 0;b.Bha=a;a.dob="display";a.unb="console";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sia=b.OL=void 0;t=b.OL || (b.OL={});t.Cac="taskstart";t.Aac="taskabort";t.Bac="taskfail";t.Dac="tasksuccess";b.Sia="PreparerTaskSchedulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hga="CacheManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qEa="AsePrefetcherAdapterSymbol";b.rEa="AsePrefetcherProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wia="PboPublisherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hfa=b.ie=void 0;t=b.ie || (b.ie={});t[t.tq=0]="startPlayback";t[t.Sp=1]="endPlayback";t[t.gp=2]="underflow";b.Hfa="AseIntegrationFactorySymbol";},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.IK=void 0;c=a(16);k=a(18);g=a(65);h=a(60);d=a(3);f=a(23);l=a(8);m=a(25);n=a(13);p=a(299);q=a(15);t=a(36);l.ya.get(t.$i).register(d.V.zJa,function(r){var w,x,y;function u(){var z;u=c.Vw;z=setInterval(v,k.config.VXb);g.kf.addListener(g.Ko,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,m.Wg)(x,function(B,C){localStorage.removeItem(C.ut);}),clearInterval(z));},c.KL);}function v(){var z;z=(0,h.Hoa)();(0,m.Wg)(x,function(A,B){!1;A=localStorage.getItem(B.ut);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.ut,JSON.stringify(A));});}(0,f.ib)(p.storage);w=(0,l.Jj)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.IK={ux:function(z,A,B){var D,F,G,E,I,L,K,H,R,O;function C(J){localStorage.setItem(G,JSON.stringify(J));J={ut:G};x[G]=J;w.trace("Lock acquired",{Name:J.ut});u();A({ca:!0,uaa:J});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,h.Hoa)();G="lock-" + z;E={updated:F,sessionId:y,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);L=0;K=JSON.parse(I);(0,q.OE)(K.updated) && (L=K.updated);H=(0,n.p3)(F - L) * c.ju;R=y === K.sessionId;if(H < k.config.t9a){if(R)(K.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:y,count:K.count}),K.updated=F,C(K));else if(B){O=k.config.t9a - H + c.ju;w.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:K.count,Epoch:F,LockEpoch:L,waitTimeoutMs:O});mb.setTimeout(function(){return D.ux(z,A,!1);},O);}else A({ca:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:L}),C(E));}else C(E);}catch(J){w.error("Error acquiring Lock",{errorSubCode:d.R.Bm,errorDetails:(0,m.We)(J)});A({ca:!0});}}else (n.Ava?w.error("Local storage access exception",{errorSubCode:d.R.ttb,errorDetails:(0,m.We)(n.Ava)}):w.error("No localstorage",{errorSubCode:d.R.utb}),A({ca:!0}));},release:function(z,A){var B,C;(0,f.ib)(x[z.ut] == z);if(localStorage){try{B=localStorage.getItem(z.ut);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.ut,JSON.stringify(C)),w.trace("Lock count decremented",{Name:z.ut,count:C.count})):(localStorage.removeItem(z.ut),delete x[z.ut],w.trace("Lock released",{Name:z.ut}));}catch(D){w.error("Unable to release Lock",{Name:z.ut},D);}A && A(c.Lg);}}};k.config.k8?b.IK.ux("session",function(z){b.IK.kgb=z;r(c.Lg);}):r(c.Lg);});},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(18);k=a(16);g=a(551);t=a(3);h=a(552);d=a(554);f=a(8);a=a(36);b.storage=b.storage || void 0;f.ya.get(a.$i).register(t.V.yJa,function(l){var m;switch(c.config.A$b){case "idb":m=h.Lhb;break;case "none":m=g.Nhb;break;case "ls":m=d.Mhb;}m(function(n){n.ca?(b.storage=n.storage,l(k.Lg)):l(n);});});},function(t,b,a){var g,h,d,f,l,m,n,p,q,r,u,v;function c(w,x){var z;function y(){function A(B,C){return C.Ge && 0 !== C.Ge.length && C.Ge[0].oJ?(0,g.YB)(w,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.s_(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({bc:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.s_(C):Promise.resolve());}k(z).then(function(B){var C;C=B.e8.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");x(h.Lg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);x(h.Lg);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(h.Lg);});}z=(0,m.Jj)("PlayDataManager");x=x || h.Vw;d.config.au?x(h.Lg):y();}function k(w){var x;if(!b.Ypa){x=m.ya.get(n.iga);b.Ypa=new Promise(function(y,z){x.beb().then(function(){y(x);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.Ypa;}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=b.iOa=b.Ypa=void 0;g=a(301);h=a(16);d=a(18);f=a(65);l=a(48);m=a(8);t=a(3);n=a(211);p=a(156);q=a(17);r=a(50);u=a(36);v=a(207);b.iOa=function(w){var z,A,B,C,D,F;function x(){A || (w.He("pdsb"),A=m.ya.get(p.mT)().then(function(G){C=G;w.He("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);w.He("pdse");throw G;}));return A;}function y(){B=!0;C && C.close();f.kf.removeListener(f.Ko,y);}z=(0,m.Qi)(w,"PlayDataManager");B=!1;D=m.ya.get(l.I3);if(!D.tL || !D.rL){F=m.ya.get(v.Cia)();D.tL=F.bc;D.rL=F.request;}w.He("pdctor");w.addEventListener(q.ja.ph,function(){f.kf.removeListener(f.Ko,y);});w.addEventListener(q.ja.DY,function(){var G;if(!d.config.au && w.Ve){G=w.q7.j_a();k(z).then(function(E){return E.hWa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ja.ph,function(){var G;if(!B){w.Gdc();G=[(function(){return d.config.au || !w.Ve?Promise.resolve():new Promise(function(E){var I;z.info("Sending the expedited playdata");I=w.q7.j_a();w.Ve.a2a(I).then(function(){z.info("Sent the expedited playdata");return k(z);}).then(function(L){return L?L.s_(I):Promise.resolve();}).then(function(){E(void 0);}).catch(function(L){z.error("Unable to send the expedited playdata",L);E();});});})(),(function(){return x().then(function(E){return E.k0(w.la);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){m.ya.get(r.Yn).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){w.Dba();}).catch(function(){w.Dba();});}});f.kf.addListener(f.Ko,y);return {};};b.jOa=function(){return new Promise(function(w){c({},function(x){w(x);});});};m.ya.get(u.$i).register(t.V.NC,function(w){w(h.Lg);});},function(t,b,a){var g,h,d,f,l,m,n,p;function c(q){this.j=q;this.d9a=!1;this.log=(0,h.Qi)(this.j,"Playback");this.BP=h.ya.get(n.SS);(0,d.ib)(g.config);g.config.au || (this.lLb=h.ya.get(f.XGa));}function k(q,r){var v;function u(w){return w && 0 < w.length && w[0].oJ;}v=h.ya.get(n.SS);return q.ga && u(q.Ge)?v.release({ga:q.ga,Ge:q.Ge}).then(function(){}):r.ga && u(r.Ge)?v.release(r).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.YB=b.cGa=void 0;g=a(18);h=a(8);d=a(23);f=a(329);l=a(61);m=a(15);n=a(192);p=a(17);c.prototype.KI=function(q){var r;r=this;return new Promise(function(u,v){var w,x,y;w=l.lp.$Za(q.ng);x=q.yk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,h.oA)(z.data)};});y=r.j.ERb(q.yk[0].sessionId);r.BP.ux({li:y.li,ng:m.is.lo(q.ng)?q.ng:w,d8:[y.Yl],yk:x,ga:y.ga,Bo:q.Bo,Pj:y.ea.Pj}).then(function(z){r.j.Ge=z.Ge;u(z);r.ZNb(y);}).catch(v);});};c.prototype.release=function(q){return k(this.j,q);};c.prototype.j_a=function(){var q;q=this.lLb.create();q.Ge=this.j.Ge;q.ga=this.j.ga;q.I=this.j.I;return q;};c.prototype.ZNb=function(q){this.d9a || (this.d9a=!0,this.j.fireEvent(p.ja.DY,{I:q.I}));};b.cGa=c;b.YB=k;},function(t,b,a){var g,h,d,f,l,m,n,p,q,r,u,v;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function k(w,x,y,z){var A,B;A=this;this.j=w;this.type=x;this.log=z;this.i5=new f.Xb(!1);this.XG={data:[],state:"",operation:""};this.mimeType=this.d2a((this.type === g.Nb.$a.Jb?this.j.Jg.value:this.j.yc.value).streams);this.gl=new l.$k();this.hla={Type:this.type};if(d.config.SE){B=!0;this.ira=new f.Xb(!1);}this.log.trace("Adding source buffer",this.hla,{TypeId:this.mimeType});this.wd=y.addSourceBuffer(this.mimeType);this.wd.addEventListener("updatestart",function(){!1;A.XG.state="updatestart";});this.wd.addEventListener("update",function(){!1;A.XG.state="update";});this.wd.addEventListener("updateend",function(){var C;!1;A.i5.set(!1);A.USa && A.USa();A.XG.state="updateend";C=0;try{C=A.wd.buffered.length;}catch(D){}B && C && (B=!1,A.ira.set(!0),!1);});this.wd.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(F){}w.Sd(n.V.wsb,(0,h.p9)(A.type));});this.wd.addEventListener("abort",function(){!1;});w.addEventListener(r.ja.closed,function(){A.wd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Dnb=b.Qha=void 0;g=a(31);h=a(171);d=a(18);f=a(69);l=a(75);m=a(8);a(101);n=a(3);a(5);p=a(23);q=a(15);r=a(17);u=a(158);v=a(197);k.prototype.ei=function(){return this.i5.value;};k.prototype.updating=function(){return this.wd?this.wd.updating:!1;};k.prototype.Ida=function(w){this.USa=w;};k.prototype.Vra=function(){return this.XG;};k.prototype.buffered=function(){return this.wd.buffered;};k.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};k.prototype.toJSON=function(){return {type:this.type};};k.prototype.f9=function(){var w,x,y,z,A,B,C;try{w=this.wd.buffered;x=0;if(w){y=[];z=0;A=w.length;for(z=0;z < A;z++){B=w.start(z);C=w.end(z);x+=C - B;(0,p.ib)(C > B);y.push(B + "-" + C);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};k.prototype.WWa=function(w,x){!1;try{(0,p.ib)(this.wd.buffered && 1 >= this.wd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.f9()));}catch(y){}(0,p.ib)(!this.ei());this.Vgb("append",w);x=x && x.jw / 1E3;(0,q.Ja)(x) && this.wd.timestampOffset !== x && (!1,this.wd.timestampOffset=x);this.wd.appendBuffer(w);!1;this.i5.set(!0);};k.prototype.remove=function(w,x){(0,p.ib)(!this.ei());try{this.Vgb("remove");!1;this.wd.remove(w,x);this.i5.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.hla);}};k.prototype.Vgb=function(w,x){this.XG.data=x || [];this.XG.state="init";this.XG.operation=w;};k.prototype.e9b=function(w,x){this.eXb=Math.floor(w / x * 1E3);};k.prototype.zEb=function(w){var x;if(this.wd){if((w=this.d2a([{type:this.gGb,Te:w}]),w !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.wd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.wd.changeType(w);this.mimeType=w;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.hla,{From:x,To:w}),new c(y.message));}}}else this.log.info("No SourceBuffer");};k.prototype.appendBuffer=function(w,x){!x || x.Bc?this.Sma(w,x):this.w6(w,x);return !0;};k.prototype.Sma=function(w,x){this.j.Uf.Sma(this,w,x || ({}));};k.prototype.w6=function(w,x){w=this.bGb(w,x);!1;this.j.Uf.w6(w);};k.prototype.bGb=function(w,x){var y;y=this.eXb || 0;return {iFb:function(){this.response=void 0;},Ri:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:v.xc.Rc.DONE,UB:x.ba,Ay:x.ba + x.duration,en:x.duration,jw:y,Bk:x.Bk,Y:x.Y,Qa:x.Qa,ye:+x.ye,location:x.location,FN:x.offset,DN:x.offset + x.aa - 1,bitrate:x.bitrate,response:w,h6a:w && 0 < w.byteLength,LE:!0,get Bc() {return !this.LE;},Rfb:this.kk - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.Y,isHeader:this.Bc,ptsStart:this.UB,ptsOffset:this.jw,responseType:this.Njc,duration:this.en,readystate:this.bi};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};k.prototype.endOfStream=function(){var w;this.j.IH("EndOfStream");null === (w=this.j.Uf) || void 0 === w?void 0:w.oZ(this.mediaType);};k.prototype.zhb=function(w){this.ozb=w;};k.prototype.addEventListener=function(w,x,y){this.gl.addListener(w,x,y);};k.prototype.removeEventListener=function(w,x){this.gl.removeListener(w,x);};k.prototype.d2a=function(w){var x;x=m.ya.get(u.wT);return this.type === g.Nb.$a.Jb?x.A7(w):x.u7(w);};Va.Object.defineProperties(k.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Ahb:{configurable:!0,enumerable:!0,get:function(){return this.ozb;}},gGb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Qha=k;ka(c,Error);b.Dnb=c;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.N_a=b.Vva=void 0;c=a(23);k=a(25);g=a(15);(function(){var d,f,l;function h(m){(0,c.ib)(void 0 !== d[m]);return d[m];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;l=/[", ]/;b.N_a=function(m){return (0,g.pd)(m)?(0,g.Ja)(m)?m:(0,g.mg)(m)?m.replace(f,h):(0,g.G7a)(m)?m:isNaN(m)?"NaN":"":"";};b.Vva=function(m){var n,p;n=b.N_a;p="";(0,k.Wg)(m,function(q,r){q=n(q) + "=" + n(r);l.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hk=void 0;t=b.hk || (b.hk={});t[t.uhb=1]="sourceopen";t[t.jr=2]="currentTimeChanged";t[t.N_=3]="seeked";t[t.c9a=5]="licenseadded";t[t.shb=6]="sourceBuffersAdded";t[t.Nba=7]="onNeedKey";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Afa="AdEventPboCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pia="PlaygraphManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ria="PlaygraphVideoPlayerFactorySymbol";},function(t,b,a){var k;function c(g,h){var d;d=this;this.oj=g;this.yh=h;this.addEventListener=function(f,l,m){return d.yh.addListener(f,d.g0a(f,l),m);};this.removeEventListener=function(f,l){return d.yh.removeListener(f,d.g0a(f,l));};this.getReady=function(){return d.yh.isReady();};this.getXid=function(){return d.Hb().$A();};this.getMovieId=function(){return d.Hb().S4a();};this.getPlaygraphId=function(){return d.yh.GRb();};this.getElement=function(){return d.yh.Go();};this.isPlaying=function(){return d.Hb().Cr();};this.isPaused=function(){return d.Hb().kY();};this.isMuted=function(){return d.Hb().Eua();};this.isReady=function(){return d.Hb().isReady();};this.isBackground=function(){return d.Hb().F7a();};this.setBackground=function(f){return d.Hb().NAa(f);};this.startInactivityMonitor=function(){return d.Hb().oR();};this.setTransitionTime=function(f){return d.Hb().dBa(f);};this.getDiagnostics=function(){return d.Hb().V3a();};this.getTextTrackList=function(f){return d.Hb().ata(f);};this.getMaxRecommendedTextIndex=function(f){return d.Hb().ssa(f);};this.getTextTrack=function(){return d.Hb().$sa();};this.setTextTrack=function(f){return d.Hb().$Aa(f);};this.getVolume=function(){return d.Hb().R5a();};this.isEnded=function(){return d.Hb().vua();};this.getBusy=function(){return d.Hb().ei();};this.getError=function(){return d.Hb().getError();};this.getCurrentTime=function(){return d.Hb().vv();};this.getAdManager=function(){return d.Hb().sv();};this.getBufferedTime=function(){return d.Hb().D3a();};this.getSegmentTime=function(){return d.Hb().j9();};this.getDuration=function(){return d.Hb().Tra();};this.getVideoSize=function(){return d.Hb().P5a();};this.getAudioTrackList=function(){return d.Hb().v3a();};this.getMaxRecommendedAudioIndex=function(){return d.Hb().M4a();};this.getAudioTrack=function(){return d.Hb().u3a();};this.getTimedTextTrackList=function(f){return d.Hb().ata(f);};this.getMaxRecommendedTimedTextIndex=function(f){return d.Hb().ssa(f);};this.getTimedTextTrack=function(){return d.Hb().$sa();};this.getAdditionalLogInfo=function(){return d.Hb().s3a();};this.getTrickPlayFrame=function(f){return d.Hb().M5a(f);};this.getSessionSummary=function(){return d.Hb().Ssa();};this.getTimedTextSettings=function(){return d.Hb().EX();};this.setMuted=function(f){return d.Hb().Dgb(f);};this.setVolume=function(f){return d.Hb().Qgb(f);};this.getPlaybackRate=function(){return d.Hb().Yp();};this.setPlaybackRate=function(f){return d.Hb().Egb(f);};this.setAudioTrack=function(f){return d.Hb().ngb(f);};this.setTimedTextTrack=function(f){return d.Hb().$Aa(f);};this.setTimedTextSettings=function(f){return d.Hb().fR(f);};this.prepare=function(){return d.Hb().WJ();};this.load=function(){return d.Hb().load();};this.close=function(f){return d.ZWa(d.yh.close(),f);};this.play=function(){return d.Hb().play();};this.pause=function(){return d.Hb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(f,l){return d.ZWa(d.Hb().tO(f),l);};this.induceError=function(f){return d.Hb().c7a(f);};this.loadCustomTimedTextTrack=function(f,l,m,n){return d.Hb().k9a(f,l,m,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Hb().k9();};this.generateScreenshots=function(f){return d.Hb().n3a(f);};this.getCurrentSegmentId=function(){return d.yh.R3a();};this.getPlaygraphMap=function(){return d.yh.SI();};this.updatePlaygraphMap=function(f){return d.yh.zw(f);};this.Dqa=new Map();this.log=(0,k.Jj)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.o4=void 0;k=a(8);a(101);c.prototype.Hb=function(){return this.yh.Hb();};c.prototype.g0a=function(g,h){var d;this.Dqa.has(g) || this.Dqa.set(g,new Map());d=this.Dqa.get(g);d.has(h) || d.set(h,this.GJb(g,h));return d.get(h);};c.prototype.GJb=function(g,h){var d;d=this;return function(f){return h(Object.assign({},f,{type:g,target:d}));};};c.prototype.ZWa=function(g,h){return h?g.then(h,h):g;};b.o4=c;},function(t,b,a){b=a(260);t.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ia:Date.now;},function(t){t.exports={ez:{zja:0,eQa:1,Nl:2,name:["transient","semiTransient","permanent"]},az:{WHa:0,dQa:1,W3:2,jT:3,xz:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},rjc:{fjc:0,fhc:1,vfc:2,xz:100,name:["trailer","montage","content"]},Ow:{iKa:0,JPa:1,Rtb:2,Cob:3,xz:100,name:["left","right","up","down"]},QS:{znb:0,W3:1,Pgc:2,jgc:3,Pec:4,Ogc:5,tmb:6,xz:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},yL:{jT:0,jGa:1,xz:100,name:["playFocused","detailsOpened"]}};},function(t,b,a){var c,k,g,h,d,f;c=a(591);k="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;h=Array.prototype.concat;d=Object.defineProperty;b=a(313)();f=d && b;t.exports=function(l,m){var n,p,r,u,v,w;n=2 < arguments.length?arguments[2]:{};p=c(m);k && (p=h.call(p,Object.getOwnPropertySymbols(m)));for(var q=0;q < p.length;q+=1){r=l;u=p[q];v=m[p[q]];w=n[p[q]];if(!((u in r)) || "function" === typeof w && "[object Function]" === g.call(w) && w())f?d(r,u,{configurable:!0,enumerable:!1,value:v,writable:!0}):r[u]=v;}};},function(t){var b;b=Object.prototype.toString;t.exports=function(a){var c,k;c=b.call(a);k="[object Arguments]" === c;k || (k="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return k;};},function(t,b,a){var k;function c(){if(k)try{return (k({},"a",{value:1}),!0);}catch(g){}return !1;}k=a(44)("%Object.defineProperty%",!0);c.rTb=function(){if(!c())return null;try{return 1 !== k([],"length",{value:1}).length;}catch(g){return !0;}};t.exports=c;},function(t,b,a){var c,k;c="undefined" !== typeof Symbol && Symbol;k=a(315);t.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:k();};},function(t){t.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(t,b,a){var c,k,g,h,d,f;c=a(596);k=a(597);g=a(598);h=a(165);d=a(319);f=a(607);t.exports=function(l){l=g(l);return h(l) || 0 === l?0:d(l)?f(l) * k(c(l)):l;};},function(t){var a,c,k,g,h,d,f,l;function b(m){var n;try{n=a.call(m);return h.test(n);}catch(p){return !1;}}a=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw g;}});g={};c(function(){throw 42;},null,k);}catch(m){m !== g && (c=null);}else c=null;h=/^\s*class\b/;d=Object.prototype.toString;f="function" === typeof Symbol && ! !Symbol.toStringTag;l="object" === typeof document && "undefined" === typeof document.all && void 0 !== document.all?document.all:{};t.exports=c?function(m){if(m === l)return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;if("function" === typeof m && !m.prototype)return !0;try{c(m,null,k);}catch(n){if(n !== g)return !1;}return !b(m);}:function(m){var n;if(m === l)return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;if("function" === typeof m && !m.prototype)return !0;if(f){try{if(b(m))n=!1;else (a.call(m),n=!0);}catch(p){n=!1;}return n;}if(b(m))return !1;m=d.call(m);return "[object Function]" === m || "[object GeneratorFunction]" === m;};},function(t,b,a){var c;c=a(315);t.exports=function(){return c() && ! !Symbol.toStringTag;};},function(t){var b;b=Number.isNaN || (function(a){return a !== a;});t.exports=Number.isFinite || (function(a){return "number" === typeof a && !b(a) && Infinity !== a && -Infinity !== a;});},function(t,b,a){t.exports=a(317);},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);t=(function(){function k(){}k.prototype.P3a=function(g){var h;h=Reflect.getMetadata(c.fia,g);g=Reflect.getMetadata(c.jRa,g);return {yZa:h,adc:g || ({})};};k.prototype.NRb=function(g){return Reflect.getMetadata(c.kRa,g) || [];};return k;})();b.Sha=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);b.h8a=function(k){return k instanceof RangeError || k.message === c.otb;};},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);k=a(41);g=a(66);h=a(92);t=(function(){function d(f){this.Oub=f;}d.prototype.Zbc=function(){return this.Oub();};return d;})();b.tha=t;b.l=function(d){return function(f,l,m){var n;if(void 0 === d)throw Error(c.Ptb(f.name));n=new g.Metadata(k.NS,d);"number" === typeof m?h.OK(f,l,m,n):h.w0(f,l,n);};};},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);k=a(107);g=a(66);h=a(642);t=(function(){function d(f,l,m,n){this.id=k.id();this.type=f;this.ah=m;this.name=new h.Ssb(l || "");this.Ac=[];f=null;"string" === typeof n?f=new g.Metadata(c.RC,n):n instanceof g.Metadata && (f=n);null !== f && this.Ac.push(f);}d.prototype.o6a=function(f){for(var l=0,m=this.Ac;l < m.length;l++){if(m[l].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.o6a(c.sG);};d.prototype.MYb=function(f){return this.gwa(c.sG)(f);};d.prototype.Fua=function(){return this.o6a(c.RC);};d.prototype.Rua=function(){return this.Ac.some(function(f){return f.key !== c.NS && f.key !== c.sG && f.key !== c.s3 && f.key !== c.zT && f.key !== c.RC;});};d.prototype.Y7a=function(){return this.gwa(c.FMa)(!0);};d.prototype.kRb=function(){return this.Fua()?this.Ac.filter(function(f){return f.key === c.RC;})[0]:null;};d.prototype.UPb=function(){return this.Rua()?this.Ac.filter(function(f){return f.key !== c.NS && f.key !== c.sG && f.key !== c.s3 && f.key !== c.zT && f.key !== c.RC;}):null;};d.prototype.gwa=function(f){var l;l=this;return function(m){var q;for(var n=0,p=l.Ac;n < p.length;n++){q=p[n];if(q.key === f && q.value === m)return !0;}return !1;};};return d;})();b.g4=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(205);k=a(206);t=(function(){function g(h){this.Dc=h;this.IT=new k.Wfa(this.Dc);this.Xja=new c.F1(this.Dc);}g.prototype.when=function(h){return this.IT.when(h);};g.prototype.h1=function(){return this.IT.h1();};g.prototype.oy=function(h){return this.Xja.oy(h);};return g;})();b.ZF=t;},function(t,b,a){var g;function c(h){return function(d){function f(l){return null !== l && null !== l.target && l.target.gwa(h)(d);}f.T$a=new g.Metadata(h,d);return f;};}function k(h,d){h=h.LB;return null !== h?d(h)?!0:k(h,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});t=a(41);g=a(66);b.tjb=k;b.xib=c;a=c(t.RC);b.Dab=a;b.Cjb=function(h){return function(d){var f;if(null !== d){f=d.wV[0];return "string" === typeof h?f.ah === h:h === d.wV[0].tn;}return !1;};};},function(t,b,a){var g;function c(h,d){this.Ig=d;this.tB=Math.floor(h);this.display=this.tB + " " + this.Ig.name;}function k(h,d,f){this.Ig=h;this.name=d;this.ar=f?f:this;(0,g.fq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.lu=b.AT=void 0;g=a(55);k.prototype.GW=function(h){return this.Ig == h.Ig;};k.prototype.toJSON=function(){return this.name;};b.AT=k;c.prototype.da=function(h){return this.Ig.GW(h)?this.tB:Math.floor(this.tB * this.Ig.Ig / h.Ig);};c.prototype.kdb=function(h){return this.Ig.GW(h)?this.tB:this.tB * this.Ig.Ig / h.Ig;};c.prototype.as=function(h){return new c(this.da(h),h);};c.prototype.to=function(h){return new c(this.da(h),h);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.tB,units:this.Ig.name};};c.prototype.add=function(h){return this.rZa(h);};c.prototype.Ba=function(h){return this.rZa(h,function(d){return -d;});};c.prototype.scale=function(h){return new c(this.da(this.Ig.ar) * h,this.Ig.ar);};c.prototype.Wl=function(h){return this.da(this.Ig.ar) - h.da(this.Ig.ar);};c.prototype.GW=function(h){return 0 == this.Wl(h);};c.prototype.r8a=function(){return 0 == this.tB;};c.prototype.Gua=function(){return 0 > this.tB;};c.prototype.cWb=function(){return 0 < this.tB;};c.prototype.rZa=function(h,d){d=void 0 === d?function(f){return f;}:d;return new c(this.da(this.Ig.ar) + d(h.da(this.Ig.ar)),this.Ig.ar);};b.lu=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gOa="PlatformConfigOverridesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XGa="DrmDataFactorySymbol";},function(t,b,a){var k;function c(g,h,d,f,l){this.version=g;this.QJ=h;this.OBa=d;this.uq=f;this.xw=l;this.Hl=new k.LJa(g,h,d,f,l);this.Sm=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jha=void 0;k=a(673);c.prototype.load=function(g){var h;h=this;return this.Hl.load(g).then(function(){var d;h.Sm=null !== (d=h.Hl.Sm) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.Sm.push(g);return this.Hl.set(this.Sm);};c.prototype.remove=function(g,h){g=this.G3a(this.KO(g,h));return 0 <= g?(this.Sm.splice(g,1),this.Hl.set(this.Sm)):Promise.resolve();};c.prototype.update=function(g,h){h=this.G3a(this.KO(g,h));return 0 <= h?(this.Sm[h]=g,this.Hl.set(this.Sm)):Promise.resolve();};c.prototype.KO=function(g,h){for(var d=0;d < this.Sm.length;++d){if(h(this.Sm[d],g))return this.Sm[d];}};c.prototype.G3a=function(g){return g?this.Sm.indexOf(g):-1;};b.jha=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tSa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.$Ha=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.mOa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MG=void 0;t=b.MG || (b.MG={});t[t.Request=0]="Request";t[t.NPa=1]="Renewal";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.a4=void 0;a.PUb=function(c){return "ID" + (c + 1);};a.Zhb=function(c){return Number(c.substr(2)) - 1;};b.a4=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.o3='video/mp4; codecs="avc1.640028"';b.n3='audio/mp4; codecs="mp4a.40.5"';b.Vfc="DrmTraitsSymbol";},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y,z,A,B,C){var D;D=this;this.Ea=y;this.HD=z;this.config=A;this.Ft=B;this.CB=C;this.keyStatuses=new p.Xb({});this.xxa=function(F){var G,E,I,L,K,H;try{E=D.xm.dpa(F);I=E.wJ;L=E.messageType;K=E.sessionId;D.by=D.by || E.by;D.T_(K);D.log.trace("Received " + F.type + " event",{sessionId:K,messageType:L,keyIds:D.by});if(L === b.Hha){if(D.config.Rpa){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.ng=h.Bi.Iq;D.xl=u.cK;}D.xl === u.vh && D.Xq(d.gu.qeb);D.xl === u.cK && D.Xq(d.gu.reb);H={yk:I,IYa:L,ng:D.ng};null === (G=D.Cbb) || void 0 === G?void 0:G.call(D,H);D.BY && (D.sta(I)?D.QE(new n.jd(g.V.oHa)):(D.BY.resolve(H),D.BY=void 0));}catch(R){D.QE(R);}};this.vxa=function(F){var G,E,I,L,K,O,J,M,P,S,U,T,pa,wa,za,Ca,N;E=F.target;I=E.keyStatuses;D.T_(E.sessionId);D.log.trace("Received event: " + F.type);try{K=null === (G=D.context) || void 0 === G?void 0:G.faa;F=[];for(var H=na(I),R=H.next();!R.done;R=H.next()){O=na(R.value);J=O.next().value;M=O.next().value;P=D.HD.encode(new Uint8Array(J));F.push({cq:P,status:M,height:null === K || void 0 === K?void 0:K[P]});}F.sort(function(Q,V){return (Q.height || 0) - (V.height || 0);});S=F.map(function(Q){return Q.cq;});U=F.map(function(Q){return Q.height;});T=F.map(function(Q){return Q.status;});D.bva=S + ", " + U + ", " + T;D.log.trace("KeyStatus: " + D.bva);K={};for(var W=na(I),ia=W.next();!ia.done;ia=W.next()){pa=na(ia.value);wa=pa.next().value;za=pa.next().value;Ca=D.HD.encode(new Uint8Array(wa));N=v[za];K[Ca]=N.status;D.fJ(Ca,N.error) && (L=new l.Ch(N.error));}D.keyStatuses.set(K);}catch(Q){L=new l.Ch(g.V.psb);L.iW(Q);}L?D.st?D.Z$(L):D.oY(L):(D.xm.m7() || D.t8a(),D.ng !== h.Bi.np || D.xm.lna() || (D.config.Rpa?D.log.trace("Disabling license renewal"):D.q6b()));};this.Cn=function(F){var G;G=D.xm.CA(F);D.log.error("Received event: " + F.type,G);D.QE(G);D.Z$(G);D.vr || D.st || D.oY(G);};this.T0b=function(F){D.log.error("MediaKeySession closed unexpectedly: " + F);D.oY(new n.jd(g.V.Fga,w[F]));};this.QE=function(F){var G;D.vr && D.close().then(function(){var E;D.log.trace("Issuing a generate challenge error");null === (E=D.vr) || void 0 === E?void 0:E.reject(F);D.vr=void 0;},function(E){var I;D.log.error("EmeSession closed with an error.",D.xm.CA(E));null === (I=D.vr) || void 0 === I?void 0:I.reject(F);D.vr=void 0;});null === (G=D.BY) || void 0 === G?void 0:G.reject(F);};this.yWb=function(){var F;null === (F=D.vr) || void 0 === F?void 0:F.resolve();D.vr=void 0;};this.Z$=function(F){D.log.error("Failed to add license",F);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.vr=void 0;null === (G=D.st) || void 0 === G?void 0:G.reject(F);D.st=void 0;},function(G){var E;D.log.error("EmeSession closed with an error.",D.xm.CA(G));D.xl === u.cK && D.Xq(d.gu.uWa);D.vr=void 0;null === (E=D.st) || void 0 === E?void 0:E.reject(F);D.st=void 0;}).then(function(){throw F;});};this.t8a=function(){D.st && (D.log.info("Successfully added license"),D.xl === u.vh?D.Xq(d.gu.nWa):D.xl === u.cK && D.Xq(d.gu.tWa),D.st.resolve(),D.st=void 0);};this.oY=function(F){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.vr=void 0;D.st=void 0;null === (G=D.ybb) || void 0 === G?void 0:G.call(D,F);},function(G){var E;D.log.error("EmeSession closed with an error.",D.xm.CA(G));D.vr=void 0;D.st=void 0;null === (E=D.ybb) || void 0 === E?void 0:E.call(D,F);});};this.Xq=function(F){D.qd.push({time:D.Ea.Tb(),ZY:F});};this.Reb=!1;this.log=x.mb("EmeSession");this.xl=u.Tbc;this.ci=C.m_a();this.xm=C.l_a();this.qd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=b.Hha=b.Iha=void 0;k=a(5);g=a(3);h=a(57);d=a(336);t=a(215);f=a(332);l=a(95);m=a(68);n=a(37);p=a(69);q=a(685);r=a(49);(function(x){x[x.Tbc=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.vh=3]="license";x[x.cK=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(u || (u={}));b.Iha="license-request";b.Hha="license-renewal";v={usable:{status:t.Lw.pkb},expired:{status:t.Lw.ur,error:g.V.jia},released:{status:t.Lw.released},"output-not-allowed":{status:t.Lw.Tbb,error:g.V.YMa},"output-restricted":{status:t.Lw.Tbb,error:g.V.kia},"output-downscaled":{status:t.Lw.Y1b},"status-pending":{status:t.Lw.u$b},"internal-error":{status:t.Lw.lVb,error:g.V.osb}};w={"internal-error":g.R.$ob,"closed-by-application":g.R.Wob,"release-acknowledged":g.R.dpb,"hardware-context-reset":g.R.Dga,"resource-evicted":g.R.fpb};c.prototype.oX=function(){return this.CB.gaa;};c.prototype.y4a=function(){return this.bva;};c.prototype.XA=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.Cbb=this.context=void 0;this.xl=u.closed;this.qd=[];return this.ci.iWb()?(this.log.trace("Closing the session"),this.ci.Jeb(this.xxa),this.ci.Geb(this.vxa),this.ci.Eeb(this.Cn),this.mediaKeys=void 0,this.Ft.Lt(this.config.RWa,this.ci.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.xm.CA(y).code=g.V.rsb;throw y;})):Promise.resolve(void 0);};c.prototype.tv=function(){return this.CB.tv();};c.prototype.c$=function(){return void 0 !== this.Oj;};c.prototype.createSession=function(x,y,z){var A;A=this;this.context=z;this.ng=y;this.xl=u.create;this.Xq(d.gu.b9a);return (x.i6a()?Promise.resolve():this.Ft.Lt(this.config.SWa,this.ci.createMediaKeys(this.CB)).then(function(B){A.log.trace("Created media keys");return A.IBb(B).then(function(){return x.oWa(B);}).catch(function(C){return Promise.reject(A.Nya(C,g.V.gpb));});})).then(function(){A.mediaKeys=x.mediaKeys;try{A.ci.createSession(A.mediaKeys,r.TEMPORARY);A.ci.pWa(A.xxa);A.ci.lWa(A.vxa);A.ci.iWa(A.Cn);A.ci.tAb(A.T0b);A.T_(A.ci.XA());}catch(B){return Promise.reject(A.Nya(B,g.V.Xob));}}).catch(function(B){return Promise.reject(A.Nya(B,g.V.BS));});};c.prototype.S8b=function(x){this.Yj=x;this.log.fWa("xid",x.ga);};c.prototype.YOb=function(x){var y;y=this;return this.generateRequest(x).then(function(){y.log.trace("Returning the challenge promise");return y.BY.promise;});};c.prototype.ZOb=function(x){this.generateRequest(x);return this.vr.promise;};c.prototype.mWa=function(x){this.Ge=x.Ge;x=x.Oj.map(function(y){return y.data;});this.sta(x)?(this.log.error("The license buffer is empty"),this.QE(new l.Ch(g.V.nHa,g.R.lHa))):(this.xl === u.vh && (this.Xq(d.gu.peb),this.Oj=x,this.c1a=this.xm.PO(this.by,x),this.yWb()),this.xl === u.cK && (this.Xq(d.gu.seb),this.Oj=x,this.c1a=this.xm.PO(this.by,x),this.Wma()));};c.prototype.EAb=function(x){this.xl === u.cK?(this.Xq(d.gu.teb),this.oY(x)):this.QE(x);};c.prototype.Wma=function(){var x,y;x=this;if(!this.Oj)return this.Z$(new l.Ch(g.V.nHa,g.R.qHa));this.st=new q.L3();y=this.Oj;this.Oj=void 0;this.Ft.Lt(this.config.VWa,this.ci.update(y,this.xl === u.vh?f.MG.Request:f.MG.NPa,this.by)).then(function(){x.xm.m7() && x.t8a();}).catch(function(z){z=x.xm.CA(z);z.code=g.V.E3;z.message="Unable to update the EME";x.log.error(z.message,z);x.Z$(z);});return this.st.promise;};c.prototype.L8b=function(x){this.Cbb=x;};c.prototype.F8b=function(x){this.ybb=x;};c.prototype.PO=function(){return this.c1a;};c.prototype.generateRequest=function(x){var y;y=this;this.xl=u.vh;this.log.trace("Generating a license challenge");this.vr=new q.L3();this.BY=new q.L3();return x?this.sta(x)?(x=new l.Ch(g.V.mHa,g.R.lHa),this.QE(x),Promise.reject(x)):this.Ft.Lt(this.config.v6,this.ci.generateRequest(this.xm.nX(),x)).then(function(){y.T_(y.ci.XA());}).catch(function(z){var A,B;A=new l.Ch(g.V.h2,z instanceof m.us?g.R.CS:g.R.Bm);try{B=y.xm.CA(z);A.Td=B.Td;A.message="Unable to generate request.";A.iW(z);}catch(C){}y.log.error("Unable to generate a license request",A);y.QE(A);return Promise.reject(A);}):(x=new l.Ch(g.V.mHa,g.R.qHa),this.QE(x),Promise.reject(x));};c.prototype.IBb=function(x){return this.Ft.Lt(this.config.UWa,this.ci.setServerCertificate(x,this.xm.h9()));};c.prototype.T_=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.fWa("sessionId",x));};c.prototype.q6b=function(){var x;x=this;this.Reb || (this.Reb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.SE}),setTimeout(function(){x.bK();},this.config.SE.da(k.ma)));};c.prototype.pWb=function(x){var y,z,A;return 1080 < (null !== (A=null === (z=null === (y=this.context) || void 0 === y?void 0:y.faa) || void 0 === z?void 0:z[x]) && void 0 !== A?A:0);};c.prototype.fJ=function(x,y){return y === g.V.kia?this.pWb(x)?this.config.Vbb:this.config.Ubb:! !y;};c.prototype.bK=function(){this.log.trace("Initiating a renewal request");this.ng=h.Bi.Iq;this.xl=u.cK;this.xm.boa()?this.xm.oua(this.ci):this.z7();};c.prototype.z7=function(){var x;x=this;this.ci.z7(this.mediaKeys,r.TEMPORARY,this.xxa,this.vxa,this.Cn).then(function(){x.log.debug("Creating session to renew license");x.T_(x.ci.XA());}).catch(function(){x.oY(new l.Ch(g.V.h2));});};c.prototype.sta=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.Nya=function(x,y){var z,A;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.Cc))return x;A=(0,r.Csa)(null === x || void 0 === x?void 0:x.message);return new l.Ch(y,x instanceof m.us?g.R.CS:g.R.Bm,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.EHa=c;},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.d1a=b.gu=void 0;(function(c){c[c.b9a=0]="licenseStarted";c[c.qeb=1]="receivedLicenseChallenge";c[c.peb=2]="receivedLicense";c[c.reb=3]="receivedRenewalChallengeComplete";c[c.seb=4]="receivedRenewalLicenseComplete";c[c.teb=5]="receivedRenewalLicenseFailed";c[c.q5b=6]="receivedIndivChallengeComplete";c[c.r5b=7]="receivedIndivLicenseComplete";c[c.nWa=8]="addLicenseComplete";c[c.tWa=9]="addRenewalLicenseComplete";c[c.uWa=10]="addRenewalLicenseFailed";})(a=b.gu || (b.gu={}));b.d1a=function(c){switch(c){case a.b9a:return "lg";case a.qeb:return "lc";case a.peb:return "lr";case a.reb:return "renew_lc";case a.seb:return "renew_lr";case a.teb:return "renew_lr_failed";case a.q5b:return "ilc";case a.r5b:return "ilr";case a.nWa:return "ld";case a.tWa:return "renew_ld";case a.uWa:return "renew_ld_failed";default:return "unknown";}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ILa="MediaKeySystemAccessInternalFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wia="QueryStringDataProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qMa="NetworkMonitorConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZGa="DrmProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DHa="EmeSessionFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QFa="ClockConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JMa="OneWayCounterFactorySymbol";},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tfa=void 0;t=a(0);a=a(1);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(h){for(var d=new Uint8Array(h.length / 2),f=0;f < d.length;f++){d[f]=this.cjb(h.substr(2 * f,2));}return d;};c.prototype.encode=function(h){var m;for(var d="",f=h.length,l=0;l < f;l++){m=h[l];d+=("0123456789ABCDEF")[m >>> 4] + ("0123456789ABCDEF")[m & 15];}return d;};c.prototype.EI=function(h,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[h & 15] || "0") + f;h>>>=4;}return f;};c.prototype.cjb=function(h){var d;d=h.length;if(7 < d)throw Error("hex to long");for(var f=0,l=0;l < d;l++){f=16 * f + k[h[l]];}return f;};g=c;g=t.__decorate([(0,a.X)()],g);b.Tfa=g;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ufa=void 0;t=a(0);a=a(1);g=Array.prototype.slice;h=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};l={};m={};n=/\s+/g;[h,g].forEach(function(p){var r;for(var q=p.length;q--;){r=p[q];d[r]=q << 18;f[r]=q << 12;l[r]=q << 6;m[r]=q;}});c.prototype.encode=function(p){return k.oqa(p,h,"=");};c.prototype.decode=function(p){return k.Apa(p);};c.Apa=function(p){var q,r,u;p=p.replace(n,"");q=p.length;r=p.charAt(q - 1);"=" !== r && "." !== r || q--;r=p.charAt(q - 1);"=" !== r && "." !== r || q--;r=3 * (q >> 2);u=0;switch(q % 4){case 2:u=1;break;case 3:u=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(r + u);for(var v=0,w=0,x;w < r;){x=d[p[v++]] + f[p[v++]] + l[p[v++]] + m[p[v++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[w++]=x >>> 16;q[w++]=x >>> 8 & 255;q[w++]=x & 255;}if(0 < u && (x=d[p[v++]] + f[p[v++]],q[w++]=x >>> 16,1 < u && (x+=l[p[v++]],q[w++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < u?255:65535)))))throw Error("bad base64");return q;};c.oqa=function(p,q,r){for(var u="",v=0,w=p.length,x=w - 2,y;v < x;){y=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");u+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(v == x){y=(p[v++] << 8) + p[v++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");u+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + r;}else if(v == w - 1){y=p[v++];if(!(0 <= y && 255 >= y))throw Error("not bytes");u+=q[y >>> 2] + q[y << 4 & 63] + r + r;}return u;};g=k=c;g=k=t.__decorate([(0,a.X)()],g);b.Ufa=g;},function(t,b,a){var k,g;function c(){this.qr={};this.id="$es$" + k.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.$k=void 0;t=a(0);a=a(1);c.prototype.addListener=function(h,d,f){var l,m;l="$netflix$player$order" + this.id + "$" + h;if(this.qr){m=this.qr[h]?this.qr[h].slice():[];f && (d[l]=f);0 > m.indexOf(d) && (m.push(d),m.sort(function(n,p){return (n[l] || 0) - (p[l] || 0);}));this.qr[h]=m;}};c.prototype.removeListener=function(h,d){if(this.qr && this.qr[h]){for(var f=this.qr[h].slice(),l;0 <= (l=f.indexOf(d));){f.splice(l,1);}this.qr[h]=f;}};c.prototype.Wc=function(h,d,f){var l;if(this.qr){l=this.csa(h);for(h={hL:0};h.hL < l.length;(h={hL:h.hL},h.hL++)){f?(function(m){return function(){var n;n=l[m.hL];setTimeout(function(){n(d);},0);};})(h)():l[h.hL].call(this,d);}}};c.prototype.di=function(){this.qr=void 0;};c.prototype.on=function(h,d,f){this.addListener(h,d,f);};c.prototype.csa=function(h){var d;return null !== (d=this.qr && (this.qr[h] || (this.qr[h]=[]))) && void 0 !== d?d:[];};g=k=c;g.counter=0;g=k=t.__decorate([(0,a.X)()],g);b.$k=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fGa="CsvEncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wga="DecoderTimeoutPathologistSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vha=b.mrb=void 0;b.mrb=function(){};b.Vha="MseConfigSymbol";},function(t,b,a){var k;function c(g){this.ywb=void 0 === g?!1:g;this.sf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Tia=void 0;t=a(0);a=a(1);c.prototype.add=function(g,h){var d;h=void 0 === h?0:h;d=this.sf[h];d?this.ywb && -1 !== d.indexOf(g) || d.push(g):this.sf[h]=[g];};c.prototype.remove=function(g,h){this.Yz(g,void 0 === h?0:h);};c.prototype.removeAll=function(g){this.Yz(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.sf).sort().reduce(function(h,d){return h.concat(g.sf[d]);},[]);};c.prototype.Yz=function(g,h){Object.entries(this.sf).forEach(function(d){var f,l;f=na(d);d=f.next().value;f=f.next().value;if(void 0 === h || h === parseInt(d)){-1 < (l=f.indexOf(g)) && f.splice(l,1);}});};k=c;k=t.__decorate([(0,a.X)()],k);b.Tia=k;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VRa="UrlFactorySymbol";},function(t,b,a){var k,g,h;function c(d,f,l,m,n,p,q){this.debug=d;this.config=f;this.platform=l;this.Saa=m;this.debug.assert(n && n != g.V.co,"There should always be a specific error code");this.errorCode=n || g.V.co;p && "object" === typeof p?(this.wa=p.wa || p.Cc,this.Ef=p.Ef || p.Td,this.vqa=p.vqa || p.Co,this.Ob=p.Ob || p.details,this.nW=p.Gk,this.o8=p.o8 || p.Jnc || p.DB,this.vI=p.vI || p.data,p.WY && (this.WY=p.WY),this.pl=p.pl,this.method=p.method,this.rba=p.rba,this.alert=p.alert,this.Jma=p.Jma,this.YI=p.YI,!this.Ob && this.YI && (this.Ob=JSON.stringify(this.YI)),this.debug.assert(!this.pl || this.pl == this.Ef)):(this.wa=p,this.Ef=q);this.stack=[this.errorCode];this.wa?this.stack.push(this.wa):this.Ef && this.stack.push(g.R.co);this.Ef && this.stack.push(this.Ef);this.Y7=this.platform.Xs + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.OOa=void 0;k=a(16);g=a(3);h=a(15);a(25);c.prototype.Fgb=function(d){this.p3b=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.Y7 + "]";this.Ob && (d+=" " + this.Ob);this.nW && (d+=" (CustomMessage: " + this.nW + ")");return d;};c.prototype.I0=function(){var d,f,l,m;this.nW && (l=["streaming_error"]);l || this.Saa.tv() !== k.g2 || ("80080017" == this.Ef && (l=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ef && (l=["pause_timeout"]));l || this.Saa.tv() !== k.Cga || this.errorCode !== g.V.kHa && this.errorCode !== g.V.BS || (l=["no_cdm","platform_error","plugin_error"]);l || this.errorCode !== g.V.Fga || this.wa !== g.R.Dga || (l=["pause_timeout"]);this.o8 === g.r3.Eja && (this.koa("2018") || this.koa("2020")?l=["received_soad"]:this.koa("5000") && (l=["should_reset_device"]));m=this.HPb();m && (l=[m],this.nW=void 0);if(!l)switch(this.errorCode){case g.V.D3:case g.V.h3:case g.V.Zlb:case g.V.jia:this.p3b && (l=["pause_timeout"]);break;case g.V.FJa:case g.V.GJa:l=this.wa?["platform_error"]:["multiple_tabs"];break;case g.V.gha:case g.V.bNa:case g.V.lia:case g.V.WMa:l=["platform_error","plugin_error"];break;case g.V.kT:l=["no_cdm","platform_error","plugin_error"];break;case g.V.rHa:case g.V.rs:case g.V.E3:switch(this.Ef){case "FFFFD000":l=["device_needs_service","platform_error"];break;case "48444350":l=["unsupported_output","platform_error"];break;case "00000024":l=["private_mode"];}break;case g.V.YMa:case g.V.kia:l=["unsupported_output"];}!l && (0,g.NHa)(this.wa) && (l=this.wa == g.R.KS?["geo"]:["internet_connection_problem"]);l || this.errorCode !== g.V.BS || this.wa !== g.R.Bm || "S" !== this.platform.Xs || (l=["private_mode"]);if(!l)switch(this.cib(this.wa)){case g.R.Lja:l=["should_upgrade"];break;case g.R.RMa:l=["should_reset_device"];break;case g.R.QMa:l=["should_reload_device"];break;case g.R.PMa:l=["should_exit_device"];break;case g.R.nrb:case g.R.dLa:l=["should_signout_and_signin"];break;case g.R.orb:l=["internet_connection_problem"];break;case g.R.kGa:l=["platform_error","plugin_error"];break;case g.R.cob:case g.R.oJa:case g.R.pJa:l=["private_mode"];break;case g.R.Fha:l=["should_reload_with_preferred_locales"];}l=l || [];l.push(this.platform.Xs + this.errorCode);if(this.wa)switch(this.cib(this.wa)){case g.R.SMa:l.push("incorrect_pin");break;default:l.push("" + this.wa);}l={display:{code:this.Y7,text:this.nW},messageIdList:l,alert:this.alert,alertTag:this.Jma,preferredAudioLocale:null === (d=this.YI) || void 0 === d?void 0:d.K6a,preferredTextLocale:null === (f=this.YI) || void 0 === f?void 0:f.L6a};this.config().ZMb && (l.debugData=this.vI);return l;};c.prototype.cib=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.koa=function(d){return ((0,h.Ja)(this.Ef)?this.Ef.toString():(0,h.mg)(this.Ef)?this.Ef:"").endsWith(d);};c.prototype.HPb=function(){if(this.errorCode === g.V.zL && (this.wa === g.R.gia || this.wa === g.R.OMa))return this.IPb(this.wa === g.R.gia);};c.prototype.IPb=function(d){var f,l,m,n;m=this.config().browserInfo || ({});n=null === (f=m.os) || void 0 === f?void 0:f.name;f=((null === (l=m.os) || void 0 === l?void 0:l.version) || "").split(".");l=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > l || 6 === l && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > l || 10 === l && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.OOa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pha="MediaElementHelpersSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DS="EventSourceFactorySymbol";},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.DS=b.RHa=void 0;t=a(0);k=a(346);a=a(1);c.prototype.create=function(){return new k.$k();};g=c;g=t.__decorate([(0,a.X)()],g);b.RHa=g;b.DS="EventSourceFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tGa="DebouncerFactorySymbol";},function(t,b,a){var k;function c(g,h,d,f,l,m){this.level=g;this.Op=h;this.timestamp=d;this.message=f;this.Vc=l;this.index=void 0 === m?0:m;this.Eqb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.yha=void 0;k=a(5);c.prototype.uea=function(g,h){var d;d="" + this.message;this.Vc.forEach(function(f){d+=f.VK(g,h);});return (this.timestamp.da(k.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Eqb[this.level] || this.level) + "|" + this.Op + "| " + d;};b.yha=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cMa="MomentObserverFactory";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xQa="SegmentConfigFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yOa="PlaybackFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hSa="VideoPlayerFactorySymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(741),b);t.__exportStar(a(742),b);t.__exportStar(a(743),b);t.__exportStar(a(744),b);t.__exportStar(a(745),b);t.__exportStar(a(746),b);t.__exportStar(a(747),b);t.__exportStar(a(748),b);t.__exportStar(a(749),b);t.__exportStar(a(750),b);t.__exportStar(a(751),b);t.__exportStar(a(752),b);t.__exportStar(a(756),b);t.__exportStar(a(221),b);t.__exportStar(a(757),b);t.__exportStar(a(222),b);t.__exportStar(a(758),b);t.__exportStar(a(759),b);t.__exportStar(a(760),b);t.__exportStar(a(761),b);t.__exportStar(a(762),b);t.__exportStar(a(763),b);t.__exportStar(a(764),b);t.__exportStar(a(765),b);t.__exportStar(a(766),b);t.__exportStar(a(767),b);t.__exportStar(a(768),b);t.__exportStar(a(769),b);t.__exportStar(a(770),b);t.__exportStar(a(771),b);t.__exportStar(a(772),b);t.__exportStar(a(773),b);t.__exportStar(a(774),b);t.__exportStar(a(775),b);t.__exportStar(a(776),b);t.__exportStar(a(785),b);t.__exportStar(a(788),b);t.__exportStar(a(789),b);t.__exportStar(a(790),b);t.__exportStar(a(791),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vma=void 0;b.Vma=function(a,c,k){var g,h;g=!0;k.forEach(function(d){var f;if(g && a === d.profile){f=d.ranges;g=void 0 === f?c >= d.min && c <= d.max:f.some(function(l){return c >= l.min && c <= l.max;});!g && d.disallowed && d.disallowed.some(function(l){if(l.stream.bitrate === c)return (h=l.disallowedBy,!0);});}});return {inRange:g,X7:h};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yG=void 0;b.yG={hn:function(a){return a;}};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qu=b.TL=void 0;c=a(364);(function(g){g[g.xQ=0]="primary";g[g.yI=1]="fallback";})(k=b.TL || (b.TL={}));t=(function(){function g(h,d){var f,l;l=this;void 0 === d && (d=!1);this.iEb=d;this.filters=(f={},f[k.xQ]=[],f[k.yI]=[],f);Array.isArray(h)?h.forEach(function(m){return l.and(m,k.xQ);}):this.and(h);}g.prototype.and=function(h,d){void 0 === d && (d=k.xQ);h !== c.yG && this.filters[d].push({filter:h,NZa:!0});return this;};g.prototype.or=function(h,d){void 0 === d && (d=k.xQ);this.filters[d].push({filter:h,NZa:!1});return this;};g.prototype.filter=function(h){var d;d=this;[k.xQ,k.yI].forEach(function(f){d.filters[f]=d.filters[f].filter(function(l){return h(f,l.filter);});});};g.prototype.hn=function(h,d,f,l){var m;m=this;return [k.xQ,k.yI].reduce(function(n,p){return m.filters[p].reduce(function(q,r){r.NZa?q=r.filter.hn(q,d,f,l):0 === q.length && (q=r.filter.hn(h,d,f,l));return q;},n);},h);};return g;})();b.qu=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ps=b.Xsb=void 0;c=a(0);k=a(224);t=(function(){function g(h,d){this.Pa=h;this.cB=d?[d]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(h){-1 === this.cB.indexOf(h) && (this.cB=this.cB.slice(),this.cB.push(h));};g.prototype.removeListener=function(h){h=this.cB.indexOf(h);-1 !== h && (this.cB=this.cB.slice(),this.cB.splice(h,1));};return g;})();b.Xsb=t;t=(function(g){function h(d,f){return g.call(this,d,f) || this;}c.__extends(h,g);h.tDa=function(d,f,l){return new k.dia(d,f,l,!1);};Object.defineProperties(h.prototype,{value:{get:function(){return this.Pa;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});h.prototype.set=function(d){var f;f=this.Pa;f !== d && (this.Pa=d,this.cB.forEach(function(l){return l({oldValue:f,newValue:d});}));};return h;})(t);b.ps=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sE=void 0;b.sE=function(a,c){var k;a=Math.abs(a);for(c=Math.abs(c);c;){k=c;c=a % c;a=k;}return a;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wOa=void 0;c=a(0);t=(function(k){function g(h,d){h=k.call(this,h) || this;h.U1a=d;h.name="PlaybackError";return h;}c.__extends(g,k);g.bWb=function(h){return h && h.message && h.stack && h.U1a?"PlaybackError" === (null === h || void 0 === h?void 0:h.name):!1;};return g;})(Error);b.wOa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ie=void 0;t=a(0);t.__exportStar(a(370),b);t.__exportStar(a(806),b);t.__exportStar(a(225),b);t.__exportStar(a(807),b);t.__exportStar(a(808),b);t.__exportStar(a(809),b);t.__exportStar(a(371),b);t.__exportStar(a(811),b);c=a(52);Object.defineProperties(b,{ie:{enumerable:!0,get:function(){return c.ie;}}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kp=b.fS=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.iYb=2]="lowCpuPlaybackStarting";})(b.fS || (b.fS={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.kp || (b.kp={}));},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(0);k=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.AssertionError=k;b.assert=function(g,h){if(!g)throw new k(h || "Assertion failed");};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.D8=b.VNb=b.Yqa=void 0;c=a(228);b.Yqa=function(k,g){var h;h=void 0;return Object.keys(k.N).some(function(d){var f;return null === (f=(h=k.N[d]).next) || void 0 === f?void 0:f[g];})?h:void 0;};b.VNb=function(k,g){return c.Xc(Object.keys(k.N),function(h){var d;return null === (d=k.N[h].next) || void 0 === d?void 0:d[g];});};b.D8=function(k,g){return Object.keys(k.N).filter(function(h){var d;return null === (d=k.N[h].next) || void 0 === d?void 0:d[g];});};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cEa=void 0;c=a(31);t=(function(){function k(g){this.Lp=g;this.gY=this.vta=!1;}Object.defineProperties(k.prototype,{id:{get:function(){return this.Lp.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{startTime:{get:function(){return c.M.Ha(this.Lp.qa);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{endTime:{get:function(){return c.M.Ha(this.Lp.sa);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{h6:{get:function(){return this.Lp.h6;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pCa:{get:function(){return this.Lp.pCa;},enumerable:!1,configurable:!0}});return k;})();b.cEa=t;},function(t){function b(){}function a(c){this.MVa=c;this.Lq=[];this.Pg=null;}b.prototype.clear=function(){this.sf=null;this.size=0;};b.prototype.find=function(c){var g;for(var k=this.sf;null !== k;){g=this.fo(c,k.data);if(0 === g)return k.data;k=k.Mh(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var k=this.sf,g=this.iterator(),h=this.fo;null !== k;){d=h(c,k.data);if(0 === d)return (g.Pg=k,g);g.Lq.push(k);k=k.Mh(0 < d);}for(d=g.Lq.length - 1;0 <= d;--d){if((k=g.Lq[d],0 > h(c,k.data)))return (g.Pg=k,g.Lq.length=d,g);}g.Lq.length=0;return g;};b.prototype.upperBound=function(c){for(var k=this.lowerBound(c),g=this.fo;null !== k.data() && 0 === g(k.data(),c);){k.next();}return k;};b.prototype.min=function(){var c;c=this.sf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.sf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Df=function(c){for(var k=this.iterator(),g;null !== (g=k.next());){c(g);}};a.prototype.data=function(){return null !== this.Pg?this.Pg.data:null;};a.prototype.next=function(){var c;if(null === this.Pg){c=this.MVa.sf;null !== c && this.xUa(c);}else if(null === this.Pg.right){do {if((c=this.Pg,this.Lq.length))this.Pg=this.Lq.pop();else {this.Pg=null;break;}}while(this.Pg.right === c);}else (this.Lq.push(this.Pg),this.xUa(this.Pg.right));return null !== this.Pg?this.Pg.data:null;};a.prototype.ZJ=function(){var c;if(null === this.Pg){c=this.MVa.sf;null !== c && this.tUa(c);}else if(null === this.Pg.left){do {if((c=this.Pg,this.Lq.length))this.Pg=this.Lq.pop();else {this.Pg=null;break;}}while(this.Pg.left === c);}else (this.Lq.push(this.Pg),this.tUa(this.Pg.left));return null !== this.Pg?this.Pg.data:null;};a.prototype.xUa=function(c){for(;null !== c.left;){this.Lq.push(c);c=c.left;}this.Pg=c;};a.prototype.tUa=function(c){for(;null !== c.right;){this.Lq.push(c);c=c.right;}this.Pg=c;};t.exports=b;},function(t,b){function a(c){var k,g;k=Math.abs(c);g=1 / (1 + k / 2);k=g * Math.exp(-k * k - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?k:2 - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.LMb=b.N6a=b.xO=void 0;b.xO=a;b.N6a=function(c){var k,g,d;if(2 <= c)return -100;if(0 >= c)return 100;k=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(k / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var h=0;2 > h;h++){d=a(g) - k;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.LMb=function(c){return 1 - a(c);};},function(t){function b(a){this.jla=a;this.vg=[];this.Gs=!1;this.wH=void 0;this.qk={};}b.prototype.k6=function(a){this.vg.length === this.jla && this.vg.shift();Array.isArray(a)?this.vg=this.vg.concat(a):this.vg.push(a);this.Gs=!0;};b.prototype.UO=function(){return this.vg.length;};b.prototype.Wna=function(){var a;a=this.vg;return 0 < a.length?a.reduce(function(c,k){return c + k;},0) / this.vg.length:void 0;};b.prototype.e7=function(){var a,c;a=this.vg;if(0 < a.length){c=this.Wna();a=a.reduce(function(k,g){return k + g * g;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Su=function(a){var c,k,g;if(this.Gs || void 0 === this.wH)(this.wH=this.vg.slice(0).sort(function(h,d){return h - d;}),this.qk={},this.Gs=!1);if(void 0 === this.qk[a]){c=this.wH;k=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.qk[a]=k === c.length - 1?c[k]:c[k] + g * (c[k + 1] - c[k]);}return this.qk[a];};t.exports=b;},function(t,b,a){var h;function c(d){this.reset();this.R8b(d);}function k(d){this.setInterval(d);this.reset();}function g(d){this.fD=new k(d);this.Lb=0;this.Sc=null;}h=a(9);c.prototype.R8b=function(d){this.fM=Math.pow(.5,1 / d);this.ZT=d;};c.prototype.reset=function(d){d && d.oa && h.Ja(d.oa)?d.ee && h.Ja(d.ee)?(this.ex=this.mwb,this.Mq=d.oa,this.bD=d.ee + d.oa * d.oa):(this.ex=this.mwb,this.Mq=d.oa,this.bD=d.oa * d.oa):this.bD=this.Mq=this.ex=0;};c.prototype.add=function(d){var f;if(h.Ja(d)){this.ex++;f=this.fM;this.Mq=f * this.Mq + (1 - f) * d;this.bD=f * this.bD + (1 - f) * d * d;}};c.prototype.Isa=function(){var d,f,l;if(0 === this.ex)return {oa:0,ee:0};d=this.Mq;f=this.bD;l=1 - Math.pow(this.fM,this.ex);d/=l;f/=l;l=d * d;return {oa:d,ee:f > l?f - l:0};};c.prototype.get=function(){var d;d=this.Isa();return {oa:Math.floor(d.oa),ee:Math.floor(d.ee)};};c.prototype.getState=function(){return 0 === this.ex?null:{a:Number(this.Mq.toPrecision(6)),s:Number(this.bD.toPrecision(6)),n:this.ex};};c.prototype.Dd=function(d){if(h.qb(d) || !h.has(d,"a") || !h.has(d,"s") || !h.isFinite(d.a) || !h.isFinite(d.s))return (this.bD=this.Mq=this.ex=0,!1);this.Mq=d.a;this.bD=d.s;h.has(d,"n") && h.Ja(d.n)?this.ex=d.n:this.ex=16 * this.ZT;return !0;};k.prototype.setInterval=function(d){this.ZT=d;this.fM=-Math.log(.5) / d;};k.prototype.reset=function(d){this.tb=this.Qg=null;d && h.isFinite(d.oa)?this.Mq=d.oa:this.Mq=0;};k.prototype.start=function(d){h.qb(this.Qg) && (this.tb=this.Qg=d);};k.prototype.add=function(d,f,l){var m,n,p;h.qb(this.Qg) && (this.tb=this.Qg=f);this.Qg=Math.min(this.Qg,f);f=Math.max(l - f,1);m=this.fM;n=Math.max(l,this.tb);p=n - this.tb;l=n - l;this.Mq=this.Mq * (0 < p?Math.exp(-m * p):1) + 8 * d / f * (1 - Math.exp(-m * f)) * (0 < l?Math.exp(-m * l):1);this.tb=n;};k.prototype.get=function(d){var f;d=Math.max(d,this.tb);f=this.Mq * Math.exp(-this.fM * (d - this.tb));d=1 - Math.exp(-this.fM * (d - this.Qg));0 < d && (f/=d);return {oa:Math.floor(f)};};k.prototype.toString=function(){return "ewmav(" + this.ZT + ")";};g.prototype.setInterval=function(d){this.fD.setInterval(d);};g.prototype.reset=function(d){this.fD.reset(d);this.Lb=0;this.Sc=null;};g.prototype.start=function(d){!h.qb(this.Sc) && d > this.Sc && (this.Lb+=d - this.Sc,this.Sc=null);this.fD.start(d - this.Lb);};g.prototype.add=function(d,f,l){!h.qb(this.Sc) && l > this.Sc && (this.Lb+=f > this.Sc?f - this.Sc:0,this.Sc=null);this.fD.add(d,f - this.Lb,l - this.Lb);};g.prototype.stop=function(d){this.Sc=Math.max(h.qb(this.fD.tb)?0:this.fD.tb + this.Lb,h.qb(this.Sc)?d:Math.min(this.Sc,d));};g.prototype.get=function(d){return this.fD.get((h.qb(this.Sc)?d:this.Sc) - this.Lb);};g.prototype.toString=function(){return this.fD.toString();};t.exports={Nob:c,Dfc:k,Lob:g};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PS=void 0;c=a(376);t=(function(){function k(g,h){this.Swa=g;this.ee=h;0 < h?(this.J8a=h=Math.pow(g,3) / h,g=2 * h / g,500 >= g && (this.Iqa=Math.exp(g))):this.Iqa=0;}k.prototype.DYa=function(g){var h,d,f;h=this.Swa;d=this.Iqa;if(d && 0 < g){f=Math.sqrt(this.J8a / (2 * g));h=g / h;g=c.xO(f * (h - 1));f=c.xO(f * (h + 1));return Math.max((2 - g + d * f) / 2,0);}return g < h?0:g > h?1:.5;};k.prototype.wy=function(g,h,d){for(var f=0,l=this.Swa + 5 * Math.sqrt(this.ee),m=1,n=0;Math.abs(m) > h && d--;){n=(f + l) / 2;m=this.DYa(n);m=g - m;0 > m?l=n:f=n;}return n;};k.prototype.EYa=function(g){var h,d,f,l;h=this.Swa;d=this.Iqa;if(d && 0 < g){f=Math.sqrt(this.J8a / (2 * g));l=g / h;g=2 - c.xO(f * (l - 1));d*=c.xO(f * (l + 1));return [Math.max((g + d) / 2,0),Math.max(h * (g - d) / 2,0)];}return g < h?[0,0]:g > h?[1,h]:[.5,h / 2];};return k;})();b.PS=t;},function(t,b,a){var k,g;function c(h,d,f,l){k.call(this,f,l);this.lx=new g(h);this.Xwb=d;}k=a(144);g=a(377);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var h;h=this.sy(0);k.prototype.shift.call(this);null !== h && this.lx.k6(h);return h;};c.prototype.flush=function(){var h;h=this.get();this.lx.k6(h);k.prototype.reset.call(this);return h;};c.prototype.get=function(){var h;h=this.OI();return {sampleSize:this.UO(),gca:h,Zwa:h.Vj?(h.zl - h.yl) / h.Vj:void 0};};c.prototype.UO=function(){return this.lx.UO();};c.prototype.OI=function(){return this.lx.UO() < this.Xwb?{yl:void 0,Vj:void 0,zl:void 0,sampleSize:void 0,nj:void 0}:{yl:this.lx.Su(25),Vj:this.lx.Su(50),zl:this.lx.Su(75),sampleSize:this.lx.UO(),nj:this.lx.Su.bind(this.lx)};};c.prototype.toString=function(){return "biqr(" + this.eN + "," + this.Qd + "," + this.vk + ")";};t.exports=c;},function(t,b,a){var k,g;function c(h){this.J={RY:h.maxc || 25,Toa:h.c || .5,Rdc:h.w || 15E3,pA:h.b || 5E3};k.call(this,this.J.Rdc,this.J.pA);this.BU();}k=a(144);g=a(174).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var h;h=this.sy(0);k.prototype.shift.call(this);null !== h && (this.tf.push(h,1),this.Gs=!0);return h;};c.prototype.flush=function(){var h;h=this.get();this.tf.push(h,1);this.Gs=!0;k.prototype.reset.call(this);return h;};c.prototype.get=function(){return this.I5a();};c.prototype.YA=function(){var h;h=this.I5a();return {min:h.min,p10:h.Xba,p25:h.yl,p50:h.Vj,p75:h.zl,p90:h.Yba,max:h.max,centroidSize:h.wEb,sampleSize:h.sampleSize,centroids:h.gj};};c.prototype.I5a=function(){var h;if(0 === this.tf.size())return null;h=this.tf.nj([0,.1,.25,.5,.75,.9,1]);if(h[2] === h[4])return null;if(this.Gs || !this.tg)(this.Gs=!1,this.tg={min:h[0],Xba:h[1],yl:h[2],Vj:h[3],zl:h[4],Yba:h[5],max:h[6],nj:this.tf.nj.bind(this.tf),wEb:this.tf.size(),sampleSize:this.tf.n,gj:this.KPb(),YA:this.YA.bind(this)});return this.tg;};c.prototype.KPb=function(){var h;if(0 === this.tf.size())return null;if(!this.Gs && this.tg)return this.tg.centroids;h=this.tf.nj([.25,.75]);if(h[0] === h[1])return null;this.tf.size() > this.J.RY && this.tf.AA();h=this.tf.Tn(!1).map(function(d){return {mean:d.Tf,n:d.n};});return JSON.stringify(h);};c.prototype.E5a=function(){return this.tf.summary();};c.prototype.size=function(){return this.tf.size();};c.prototype.toString=function(){return "btdtput(" + this.eN + "," + this.Qd + "," + this.vk + "): " + this.tf.summary();};c.prototype.BU=function(){this.tf=new g(this.J.Toa,this.J.RY);};t.exports=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y;function c(z){this.config=z;this.lvb=z.qka;}k=a(383).qia;g=a(842).TFa;b=a(378);h=b.Nob;d=b.Lob;f=a(232).Mob;l=a(233).yga;m=a(233).EGa;n=a(232).Ztb;p=a(380);q=a(381);r=a(384).oRa;u=a(843);v=a(844);w=a(234);x=a(845).SOa;y=a(846).WDa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,F;B=this.lvb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":F=new k(this.config,new f(D.mw));break;case "discontiguous-ewma":F=new k(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":F=new x(new d(D.mw),D.playerStates);break;case "wssl":F=new n(D.mw,D.max_n);break;case "iqr":F=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":F=new q(D);break;case "ci":F=new k(this.config,new y(D,new g(D)));break;case "discrete-ewma":F=new h(D.hl);break;case "tdigest-history":F=new r(D);break;case "iqr-history":F=new u(D);break;case "avtp":F=new w();break;case "entropy":F=new v(D);break;case "deliverytime":F=new k(this.config,new y(D,new l(D)));break;case "deliverytime-ci":F=new k(this.config,new y(D,new m(D)));}F && (F.type=D.type);return F;};t.exports=c;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.qia=void 0;new (a(4).default.Console)("ASEJS_PACING_FILTER","media|asejs");t=(function(){function c(k,g){this.config=k;this.filter=g;}c.prototype.qh=function(){return new c(this.config,this.filter);};c.prototype.B9b=function(k,g,h,d){var f,l,m;m=d.E_;if(!m || !m.T$())return !0;switch(this.config.xUb){case "requested":return !1;case "requested-low":return (m=m.kAa(this.config.hqa),m.hab() > ((null === (f=d.eC) || void 0 === f?void 0:f.XZ) || 0));case "inferred":m=m.kAa(this.config.hqa);k=m.hwa(k,g,h,this.config.IZ);if(!k)break;return m.hab() > ((null === (l=d.eC) || void 0 === l?void 0:l.XZ) || 0);case "inferred-strict":if((m=m.kAa(this.config.hqa),m.hwa(k,g,h,this.config.IZ)))return !1;}return !0;};c.prototype.add=function(k,g,h,d){this.B9b(k,g,h,d) && this.filter.add(k,g,h,d);};c.prototype.get=function(k){if(this.filter.get)return this.filter.get(k);};c.prototype.start=function(k){this.filter.start && this.filter.start(k);};c.prototype.stop=function(k){this.filter.stop && this.filter.stop(k);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.qia=t;},function(t,b,a){var k,g;function c(h){this.J={RY:h.maxc || 25,Toa:h.c || .5,s5b:h.rc || "none",VI:h.hl || 7200};this.BU();this.Eyb=this.J.s5b;this.ZT=this.J.VI;this.Wja=Math.exp(Math.log(2) / this.ZT);this.Wja=Math.max(this.Wja,1);this.K4=1;}k=a(9);g=a(174).TDigest;new (a(4).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var h;if(0 === this.tf.size())return null;h=this.tf.nj([.25,.75]);if(h[0] === h[1])return null;this.tf.size() > this.J.RY && this.tf.AA();h=this.tf.Tn(!1).reduce((function(d,f){k.Ja(f.Tf) && k.Ja(f.n) && d.push({mean:f.Tf,n:f.n / this.K4});return d;}).bind(this),[]);return {tdigest:JSON.stringify(h)};};c.prototype.Dd=function(h){var d;if(k.qb(h) || !k.has(h,"tdigest") || !k.mg(h.tdigest))return !1;try{d=JSON.parse(h.tdigest);}catch(f){return !1;}d.forEach(function(f){k.isFinite(f.n) || (f.n=1);});h=d.map(function(f){return {Tf:f.mean,n:f.n};});this.K4=1;this.tf.Zya(h);void 0 === this.tf.nj(0) && this.BU();};c.prototype.get=function(){var h,d;h=this.tf;d=h.nj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],Xba:d[1],yl:d[2],Vj:d[3],zl:d[4],Yba:d[5],max:d[6],gj:h.Tn(!1)};};c.zRb=function(h){var d;d=new c({});k.qb(h) || k.na(h) || !k.isArray(h.gj) || (d.tf.Zya(h.gj),void 0 === d.tf.nj(0) && d.BU());h=d.tf.nj([.25,.75]);return h[0] === h[1]?null:function(f){return d.tf.nj(f);};};c.prototype.add=function(h){var d;d=1;"ewma" === this.Eyb && (this.K4=d=this.K4 * this.Wja);this.tf.push(h,d);};c.prototype.toString=function(){return "TDigestHist(" + this.tf.summary() + ")";};c.prototype.BU=function(){this.tf=new g(this.J.Toa,this.J.RY);};t.exports={oRa:c};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.c4=void 0;c=a(2);b.c4=(function(){function g(h,d,f){f.sI && (k=new (a(853).WQa)(h,d));}g.instance=function(){c.assert(k,"expected StaticMediaProvider to exist");return k;};return g;})();},function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};t.exports={from:function(a,c,k,g){a=new a(c.length);for(var h="function" === typeof k,d=0;d < c.length;++d){a[d]=h?k.call(g,c[d],d,c):c[d];}return a;},set:b};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){var h;h=null !== k && k.apply(this,arguments) || this;h.DI=1536;return h;}c.__extends(g,k);g.od=!0;return g;})(a(175).default);b.default=t;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="ac-3";return g;})(t);b.Glb=a;t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.gf="ec-3";return g;})(t);b.Vob=t;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(100);t=a(24);g=k.Yha;t=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.parse=function(){this.zh();this.fileSize=this.L.Dl();this.U=this.L.Dl();this.duration=this.L.Dl(!1,!0);this.C0b=this.L.Dl();this.L.Dl();this.G0b=this.L.Dl();this.L_b=this.L.ac();this.D0b=this.L.Dl();this.jOb=this.L.ac();this.L.Qca();this.km={moof:{offset:this.C0b},sidx:{offset:this.D0b,size:this.jOb}};this.km[k.jMa]={offset:this.G0b,size:this.L_b};this.L.offset - this.startOffset <= this.length - 24 && (this.F0b=this.L.Dl(),this.A_b=this.L.ac(),this.E0b=this.L.Dl(),this.z_b=this.L.ac(),this.km[k.u3]={offset:this.F0b,size:this.A_b},this.km[k.t3]={offset:this.E0b,size:this.z_b});return !0;};d.gf=g;d.od=!1;return d;})(t.Xf);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=a(100);a=a(24);k=t.Zha;a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){var d,m,n;this.zh();1 <= this.version && this.L.Qca();d=this.L.ac();this.km={};for(var f=this.startOffset + this.length,l=0;l < d;++l){m=this.L.VB();"uuid" === m && (m=this.L.Qca());n=this.L.Dl();this.km[m]={offset:f,size:n};f+=n;}return !0;};h.gf=k;h.od=!1;return h;})(a.Xf);b.default=a;},function(t,b,a){function c(){c=Object.assign || (function(E){for(var I,L=1,K=arguments.length;L < K;L++){I=arguments[L];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,K){L.__proto__=K;}) || (function(L,K){for(var H in K){K.hasOwnProperty(H) && (L[H]=K[H]);}});return k(E,I);}function g(E,I){function L(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(L.prototype=I.prototype,new L());}function h(E,I){var L,K,H;L={};for(K in E){Object.prototype.hasOwnProperty.call(E,K) && 0 > I.indexOf(K) && (L[K]=E[K]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(K=Object.getOwnPropertySymbols(E);H < K.length;H++){0 > I.indexOf(K[H]) && Object.prototype.propertyIsEnumerable.call(E,K[H]) && (L[K[H]]=E[K[H]]);}}return L;}function d(E,I,L,K){var H,R,O;H=arguments.length;R=3 > H?I:null === K?K=Object.getOwnPropertyDescriptor(I,L):K;if("object" === typeof Reflect && "function" === typeof Reflect.Qp)R=Reflect.Qp(E,I,L,K);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])R=(3 > H?O(R):3 < H?O(I,L,R):O(I,L)) || R;}return (3 < H && R && Object.defineProperty(I,L,R),R);}function f(E,I){return function(L,K){I(L,K,E);};}function l(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(E,I);}function m(E,I,L,K){function H(R){return R instanceof L?R:new L(function(O){O(R);});}return new (L || (L=Promise))(function(R,O){function J(S){try{P(K.next(S));}catch(U){O(U);}}function M(S){try{P(K["throw"](S));}catch(U){O(U);}}function P(S){S.done?R(S.value):H(S.value).then(J,M);}P((K=K.apply(E,I || [])).next());});}function n(E,I){var H,R,O,J,M;function L(P){return function(S){return K([P,S]);};}function K(P){if(R)throw new TypeError("Generator is already executing.");for(;H;){try{if((R=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (H.label++,{value:P[1],done:!1});case 5:H.label++;O=P[1];P=[0];continue;case 7:P=H.Nk.pop();H.Wh.pop();continue;default:if(!(J=H.Wh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){H=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))H.label=P[1];else if(6 === P[0] && H.label < J[1])(H.label=J[1],J=P);else if(J && H.label < J[2])(H.label=J[2],H.Nk.push(P));else {J[2] && H.Nk.pop();H.Wh.pop();continue;}}P=I.call(E,H);}catch(S){P=[6,S];O=0;}finally{R=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}H={label:0,Eb:function(){if(J[0] & 1)throw J[1];return J[1];},Wh:[],Nk:[]};return (M={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,L,K){void 0 === K && (K=L);E[K]=I[L];}function q(E,I){for(var L in E){"default" === L || I.hasOwnProperty(L) || (I[L]=E[L]);}}function r(E){var I,L,K;I="function" === typeof Symbol && Symbol.iterator;L=I && E[I];K=0;if(L)return L.call(E);if(E && "number" === typeof E.length)return {next:function(){E && K >= E.length && (E=void 0);return {value:E && E[K++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(E,I){var L,K,H;L="function" === typeof Symbol && E[Symbol.iterator];if(!L)return E;E=L.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(K=E.next()).done;){H.push(K.value);}}catch(O){var R;R={error:O};}finally{try{K && !K.done && (L=E["return"]) && L.call(E);}finally{if(R)throw R.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(u(arguments[I]));}return E;}function w(){var K;for(var E=0,I=0,L=arguments.length;I < L;I++){E+=arguments[I].length;}E=Array(E);K=0;for(I=0;I < L;I++){for(var H=arguments[I],R=0,O=H.length;R < O;(R++,K++)){E[K]=H[R];}}return E;}function x(E){return this instanceof x?(this.Vy=E,this):new x(E);}function y(E,I,L){var M,P,S;function K(U){M[U] && (P[U]=function(T){return new Promise(function(W,ia){1 < S.push([U,T,W,ia]) || H(U,T);});});}function H(U,T){var W;try{W=M[U](T);W.value instanceof x?Promise.resolve(W.value.Vy).then(R,O):J(S[0][2],W);}catch(ia){J(S[0][3],ia);}}function R(U){H("next",U);}function O(U){H("throw",U);}function J(U,T){(U(T),S.shift(),S.length) && H(S[0][0],S[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=L.apply(E,I || []);S=[];return (P={},K("next"),K("throw"),K("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var L,K;function I(H,R){L[H]=E[H]?function(O){return (K=!K)?{value:x(E[H](O)),done:"return" === H}:R?R(O):O;}:R;}return (L={},I("next"),I("throw",function(H){throw H;}),I("return"),L[Symbol.iterator]=function(){return this;},L);}function A(E){var K,H;function I(R){H[R]=E[R] && (function(O){return new Promise(function(J,M){O=E[R](O);L(J,M,O.done,O.value);});});}function L(R,O,J,M){Promise.resolve(M).then(function(P){R({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=E[Symbol.asyncIterator];return K?K.call(E):(E="function" === typeof r?r(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function C(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var L in E){Object.hasOwnProperty.call(E,L) && (I[L]=E[L]);}I.default=E;return I;}function D(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,L){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,L);return L;}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return h;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return l;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return r;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b){var a,c,k;Object.defineProperty(b,"__esModule",{value:!0});t={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Sda:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Sda:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Sda:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Sda:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.mV={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":t,"heaac-2hq-dash":t},"heaac-2-dash":t,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(24);g=a(83);t=(function(h){function d(f,l,m,n,p){m=h.call(this,m,n,p) || this;m.eDb=f;m.rR=l;m.je={};return m;}c.__extends(d,h);d.prototype.parse=function(f){var l,m,n,p,q,r;this.offset=0;l=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.ac();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.VG(this.ac());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.Qca();}if(0 === l.length && this.rR.Z2a(p,m,n))break;if(m + n > this.view.byteLength)break;q=this.eDb[p];r=void 0;if(q){if((r=new q(this,p,m,n,l[0]),(l[0] || this).YU(r),r.parse(f)))this.config.Rxa && q.od?l.unshift(r):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=m + n;for(;l.length && this.offset > l[0].byteOffset + l[0].NJ - 8;){r=l.shift();if(!r.zI(f))return {done:!1,offset:this.offset,error:"finalize error in " + r.type + " box"};this.offset=r.byteOffset + r.NJ;}if(0 === l.length && this.rR.Q0a(p,m,n,r))break;}return !this.rR.done && (f=this.rR.endOffset?this.rR.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,Eab:f}:{done:!0,offset:Math.min(this.rR.endOffset || Infinity,this.offset)};};d.prototype.YU=function(f){k.Xf.YU(this,f);};return d;})(a(892).Wtb);b.Xfa=t;},function(t,b,a){var k;function c(g,h){g=h.indexOf(g);-1 !== g && h.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(100);t=(function(){function g(h){this.endOffset=h;this.done=!1;}g.prototype.Z2a=function(){return this.done;};g.prototype.Q0a=function(h,d,f){return this.done=d + f >= this.endOffset;};return g;})();b.DGa=t;t=(function(){function g(h,d,f,l){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === l && (l=!1);this.nw=h;this.R7=d;this.Aib=f;this.ocb=l;this.done=!1;this.km={};}g.prototype.Z2a=function(h,d,f){-1 !== g.JTb.indexOf(h) && (this.km[h]={offset:d,size:f});if(-1 !== this.Aib.indexOf(h)){if((this.km[h]={offset:d,size:f},this.ocb))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.nw && -1 !== this.nw.indexOf(h)?(h=1 < this.nw.length?4096:0,this.endOffset=Math.max(d + f + h,this.endOffset || 0)):-1 !== this.R7.indexOf(h) && (h=this.nw?4096:0,this.endOffset=Math.max(d + f + h,this.endOffset || 0));return this.done;};g.prototype.Q0a=function(h,d,f,l){var m;m=this;if(-1 !== this.Aib.indexOf(h))return this.done=!0;h === k.Yha && this.Igb(l.km);h === k.Zha && this.Igb(l.km);this.nw && c(h,this.nw);c(h,this.R7);return this.nw && 0 === this.nw.length && !this.R7.some(function(n){return m.km[n];})?this.done=!0:this.done;};g.prototype.Igb=function(h){var d;d=this;this.km=h;this.endOffset=(this.nw || []).concat(this.R7).reduce(function(f,l){return d.km[l]?(l=d.km[l],Math.max(l.offset + (l.size || 4096),f)):f;},this.endOffset || 0);};g.JTb=["moov","sidx"];return g;})();b.Kpb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.h3a=b.Ukb=b.g3a=void 0;b.g3a={23976:{Xa:24E3,U:1001},24:{Xa:24E3,U:1E3},25:{Xa:25E3,U:1E3},2997:{Xa:3E4,U:1001},30:{Xa:3E4,U:1E3}};b.Ukb=["23976","24","25","2997","30"];b.h3a=function(a,c){return a.Xa / a.U === c.Xa / c.U;};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(235);k=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);return h;})(Error);b.assert=function(g,h){if(!g)throw new k(h || "Assertion failed");};},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ia=b.dha=void 0;c=a(0);k=c.__importStar(a(9));g=c.__importDefault(a(4));h=a(915);d=a(916);f=(function(){return function(){this.R6=new d.nT(100);this.uba=new d.nT(100);};})();t=(function(){function l(m,n,p){var q,r,u;this.J=n;this.G=p;this.I5=m;q=this.UM=this.jM=this.iM=0;r=0;u=0;this.I5.length >= this.J.fba && (this.I5.forEach(function(v){!(v=v.get().nOb) || k.na(v.avtp) || k.na(v.neuhd) || (q+=v.avtp,r+=1 * v.neuhd,u++);}),this.UM=u,this.iM=q / u,this.jM=r / u);}Object.defineProperties(l.prototype,{ECb:{get:function(){return this.iM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{GCb:{get:function(){return this.jM;},enumerable:!1,configurable:!0}});l.prototype.Q$=function(){return this.UM >= this.J.fba && this.iM >= this.J.baselineHighAndStableThreshold.bwThreshold && this.jM < this.J.baselineHighAndStableThreshold.nethreshold;};return l;})();b.dha=t;t=(function(l){function m(n,p,q){n=l.call(this,n,p,q) || this;n.Nja=[];n.rNb={};n.Dib=[];n.EA=new f();n.I5.length >= n.J.fba && (n.SVa("avtp",n.EA.R6),n.SVa("neuhd",n.EA.uba));return n;}c.__extends(m,l);m.prototype.Q$=function(){var n;this.yRb();n=new h.UKa(this.G,this.Dib,this.TCb);n.yya(this.Nja);n=n.hFb(this.J.g$.ooc);return this.Rcc && 1 === n && this.UM >= this.J.fba;};m.prototype.hX=function(){var n,p,q,r;n={};p=g.default.time.now();q=new Date(p);r=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=r;return n;};m.prototype.W3a=function(n,p,q){n="avtp" === n?this.iM:this.jM;for(var r=p.e7(),u=0,v="skew" === q?3:4,w=0;w < p.vg.length;w++){k.na(n) || k.na(r) || (u+=Math.pow(p.vg[w] - n,v));}u/=p.vg.length;return !k.na(r) && 0 < r?u / Math.pow(r,v) - 3 * ("skew" === q?0:1):NaN;};m.prototype.m4a=function(n,p,q){var r;r=0;"lte" === q?r=n.reduce(function(u,v){return v <= p?u + 1:u;},0) / (1 * n.length):"gte" === q && (r=n.reduce(function(u,v){return v >= p?u + 1:u;},0) / (1 * n.length));return r;};m.prototype.iRb=function(n){var p,q;p=n.Su(25);q=n.Su(50);n=n.Su(75);return k.na(p) || k.na(q) || k.na(n)?NaN:0 < q?(n - p) / q:NaN;};m.prototype.CPb=function(n,p){n="avtp" === n?this.iM:this.jM;p=p.e7();return !k.na(p) && !k.na(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};m.prototype.OI=function(n,p){n=n.Su(p);return k.na(n)?NaN:n;};m.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};m.prototype.yRb=function(){var n,p,q,r,u,v,w,x,y,z,A,B;n=this;p=this.J.g$.I9a.dnc;q=this.J.g$.I9a.bnc;r=this.J.g$.I9a.cnc;x=[];B=0;this.Rcc=!Object.keys(p).some(function(C){var D;A=NaN;if(!(p.hasOwnProperty(C) && q.hasOwnProperty(C) && r.hasOwnProperty(C) && !k.na(n.EA) && n.EA.R6 && n.EA.uba) || 1 > n.UM || "number" !== typeof p[C] || "number" !== typeof q[C] || "number" !== typeof r[C])return !0;u=p[C];v=q[C];w=r[C];x=C.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.EA.R6;break;case "neuhd":D=n.EA.uba;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":A=D.vg[n.UM - 1];break;case "mean":A="avtp" === y?n.iM:n.jM;break;case "niqr":A=n.iRb(D);break;case "skew":A=n.W3a(y,D,"skew");break;case "kurtosis":A=n.W3a(y,D,"kurtosis");break;case "std":A=D.e7();break;case "b":A=n.CPb(y,D);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (A=n.OI(D,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":D=n.EA.R6;A=k.na(D)?NaN:n.m4a(D.vg,2E4,"gte");break;case "fracBelow20p":D=n.EA.uba;A=k.na(D)?NaN:n.m4a(D.vg,.15,"lte");break;case "hour_current":A=n.hX().currentHour;break;case "session_ct":A=n.UM;break;case "intercept":(A=u,n.TCb=A);}A=n.normalize(A,v,w);if(isNaN(A))return !0;"intercept" !== C && (n.Nja.push(A),n.Dib.push(u),n.rNb[C]=B,B+=1);});};m.prototype.SVa=function(n,p){this.I5.forEach(function(q){q=q.get().nOb;!q || "avtp" !== n && "neuhd" !== n || k.na(q[n]) || p.k6(Number(q[n]));});};return m;})(t);b.$Ia=t;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.YF=void 0;c=a(0);k=a(398);g=a(2);h=a(7);d=a(399);f=a(248);l=a(401);m=a(402);t=(function(){function n(p,q,r){this.J=q;this.G=r;this.Oz=new h.HQa();this.v5=0;this.Er=p.Er;this.O=p.O;this.mediaType=p.mediaType;this.OF=p.OF;this.zD=p.zD;1 === this.mediaType?(q=this.Er,r=c.__read(q.streams,1)[0],this.Wyb=new l.Ija({w:q.maxWidth,dt:q.maxHeight},{w:q.gya,dt:q.hya}),void 0 !== r.framerate_value && void 0 !== r.framerate_scale && (this.Kka=f.ZL.from({Vv:r.framerate_value,bv:r.framerate_scale}),this.ila=this.Kka.ka()),void 0 !== q.twa && void 0 !== q.swa && (this.Nwb=f.ZL.from({Vv:q.twa,bv:q.swa}))):0 === this.mediaType && (this.Pub=this.Er.streams[0].channels,this.Yyb=48E3);this.nb=(this.CM=this.ila) && this.CM.U;this.Oka=this.UUa=!1;this.Dta=-Infinity;this.G9a=Infinity;p=n.dvb(this,p.Xe);q=p.maxBitrate;r=p.gd;this.Lo=p.Lo;this.maxBitrate=q;this.gd=r;this.rzb=r.reduce(function(u,v){u[v.Qa]=v;return u;},{});!1;}n.dvb=function(p,q){var r,u,v,w,x,y;r=p.J;u=1 === p.mediaType;v=!1;w=0;x=p.Er.streams.some(function(z){return z.Lj;});y=[];p.Er.streams.forEach(function(z,A){var B,C,D;B=z.bitrate;C=!0;if(u){D=z.Lj;C=r.rO && r.V0?q?!0:D === x:q && !D || !q && (D || !x);v=v || D;}C && B > w && (w=B);z=new m.wEa({vl:z,Lf:A,track:p,Iv:C},r,p.G);y.push(z);});return {Lo:v,maxBitrate:w,gd:y};};Object.defineProperties(n.prototype,{qba:{get:function(){return !this.Ud && 0 === this.v5;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ud:{get:function(){var p;return this.Oc?!(null === (p=this.Oz.value) || void 0 === p || !p.Ud):! !this.xq && ! !this.Oz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Iya:{get:function(){return this.UUa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I:{get:function(){return String(this.O.I);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Er.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ny:{get:function(){return this.dxb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ka:{get:function(){return this.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{frameRate:{get:function(){return this.Kka;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gaa:{get:function(){return this.Nwb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{om:{get:function(){return this.Wyb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{channels:{get:function(){return this.Pub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sampleRate:{get:function(){return this.Yyb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.Er.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{f0:{get:function(){return this.Er.f0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{U:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{CJ:{get:function(){return this.cxb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xq:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kP:{get:function(){return this.Oz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{V8:{get:function(){return this.ka.U;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{U8:{get:function(){return this.ka.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ba:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kra:{get:function(){return this.Oz;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{TY:{get:function(){return this.gd.some(function(p){var q;return 1 < ((null === (q=p.Dg) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Oc:{get:function(){return this.O.Oc;},enumerable:!1,configurable:!0}});n.prototype.Ux=function(p){return this.wE()[p];};n.prototype.wE=function(){return this.rzb;};n.prototype.equals=function(p){return ! !p && this.I === p.I && this.mediaType === p.mediaType && this.trackId === p.trackId;};n.prototype.Mba=function(){this.v5++;};n.prototype.Lba=function(){0 < this.v5 && this.v5--;};n.prototype.Kba=function(p,q,r,u,v,w){if(this.Oc || u && void 0 !== u.On && (this.Ud || void 0 !== u.ae && u.ae.length)){if(p.Lj || !p.track.Lo)this.UUa=!0;if(this.Ud)!this.Oka && !this.Oc && u.ae && u.ae.length > this.xq.length && (this.Tc=new k.Cja(this.mediaType,this.ka,u,v),this.Oz.pfb(),this.Dta=-Infinity,this.Oka=!0);else {this.wVa(q);this.dxb=w;if(r=r || this.ila)(this.vVa(r || this.ila),void 0 === this.U && this.xVa(r.U));this.Oc || (this.Tc=new k.Cja(this.mediaType,this.ka,u,v));if(p.Lj || !p.track.Lo)this.Oka=!0;}}else this.Oc || this.G && this.G.error("AseTrack.onHeaderReceived with missing fragments data");};n.prototype.Y0b=function(p){void 0 === this.Oz.value && this.Oz.set(p);};n.prototype.oGb=function(p){this.Ud || (this.xVa(p.U),this.wVa(p.CJ),this.vVa(p.ka),this.Tc=p.xq,p.kra.value?this.Oz.set(p.kra.value):this.Oz.pfb());};n.prototype.jn=function(p,q,r,u){g.assert(this.kP);return d.jn(this.mediaType,p,this.kP,q,r,u);};n.prototype.SA=function(p,q,r){g.assert(this.kP);return d.SA(this.mediaType,p,this.kP,q,r);};n.prototype.bm=function(){var p;if(0 === this.mediaType){g.assert(0 === this.mediaType);g.assert(void 0 !== this.channels);g.assert(void 0 !== this.sampleRate);p={channels:this.channels,profile:this.profile,f0:this.f0,bitrate:this.gd[this.gd.length - 1].bitrate,sampleRate:this.sampleRate,ny:this.ny};}else (g.assert(1 === this.mediaType),g.assert(void 0 !== this.Gaa),g.assert(void 0 !== this.om),p={K:this.O.K,Lo:this.Lo,profile:this.profile,V8:this.Gaa.Vv,U8:this.Gaa.bv,f0:this.f0,om:this.om,maxWidth:this.om.om.w,maxHeight:this.om.om.dt,gya:this.om.gcb.w,hya:this.om.gcb.dt,ny:this.ny});return p;};n.prototype.toJSON=function(){return {movieId:this.I,mediaType:this.mediaType,trackId:this.trackId};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};n.prototype.xVa=function(p){this.nb=p;};n.prototype.wVa=function(p){this.cxb=p;};n.prototype.vVa=function(p){this.CM=p;1 === this.mediaType && (this.Kka=f.ZL.JOb(p));};return n;})();b.YF=t;},function(t,b,a){var k,g,h,d;function c(f){return function(){for(var l=Array(this.length),m=0;m < this.length;++m){l[m]=f.call(this,m);}return l;};}Object.defineProperties(b,{__esModule:{value:!0}});b.NBb=b.ey=b.Cja=b.DRa=void 0;t=a(0);k=a(2);t=t.__importDefault(a(4));g=a(20);h=new t.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(l,m){this.Tc=l;this.pe=m;}Object.defineProperties(f.prototype,{index:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dc:{get:function(){return new g.M(this.Ua,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hd:{get:function(){return new g.M(this.fb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ua:{get:function(){return this.Tc.M5 + this.Tc.vD[this.pe];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fb:{get:function(){return this.Ua + this.Tc.zs[this.pe];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dv:{get:function(){return this.Tc.zs[this.pe];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ka:{get:function(){return this.Tc.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.Tc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return Math.floor(1E3 * this.Ua / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return Math.floor(1E3 * (this.Ua + this.dv) / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Ma - this.ba;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.Ua / this.ka.U,endPts:1E3 * this.fb / this.ka.U,duration:1E3 * this.dv / this.ka.U,index:this.index};};return f;})();b.DRa=d;a=(function(){function f(l,m,n,p){this.mediaType=l;this.length=n.ae.length;this.nb=n.U;this.zs=n.ae;this.m6=p && p.uQ;this.BWa=p && p.RQ;this.CM=m;this.ICa=this.JCa=this.pUa=void 0;this.M5=n.On;this.vD=new Uint32Array(this.length + 1);if(this.length){for(m=l=0;m < this.length;++m){this.vD[m]=l;l+=this.zs[m];}this.vD[m]=l;this.Vja=Math.floor((this.Ma - this.ba) / this.length);}}Object.defineProperties(f.prototype,{On:{get:function(){return this.Fhb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rqa:{get:function(){return this.Fhb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return this.ak(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return this.ak(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Cg:{get:function(){return new g.M(this.rqa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lwa:{get:function(){return this.pUa || this.Lub();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ka:{get:function(){return this.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});f.prototype.Fhb=function(l){return this.M5 + this.vD[l];};f.prototype.ak=function(l){return Math.floor(1E3 * (this.M5 + this.vD[l]) / this.U);};f.prototype.FW=function(l){return this.ak(l + 1);};f.prototype.ae=function(l){return this.FW(l) - this.ak(l);};f.prototype.get=function(l){return new d(this,l);};f.prototype.kn=function(l,m,n){if(0 === this.length || l < this.ak(0))return -1;l=Math.max(l,m || 0);for(var p=0,q=this.length - 1,r,u;q >= p;){if((r=p + (q - p >> 1),u=this.ak(r),l < u))q=r - 1;else if(l >= u + this.ae(r))p=r + 1;else {for(;m && r < this.length && this.ak(r) < m;){++r;}return r < this.length?r:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.E8=function(l,m,n){l=this.kn(l,m,n);return 0 <= l?this.get(l):void 0;};f.prototype.t7=function(l,m){var n,p;n=Math.floor(m * this.U / 1E3);m=Math.min(l + Math.ceil(m / this.Vja),this.length);p=this.vD[m] - this.vD[l];if(p > n){for(;p >= n;){--m;p-=this.zs[m];}return m - l + 1;}for(;p < n && m <= this.length;){p+=this.zs[m];++m;}return m - l;};f.prototype.subarray=function(l,m){k.assert(void 0 === l || 0 <= l && l < this.length);k.assert(void 0 === m || m > l && m <= this.length);return new f(this.mediaType,this.ka,{U:this.U,On:this.M5 + this.vD[l],ae:this.zs.subarray(l,m)},this.m6 && ({uQ:this.m6.subarray(l,m + 1),RQ:this.BWa}));};f.prototype.forEach=function(l){for(var m=0;m < this.length;++m){l(this.get(m),m,this);}};f.prototype.map=function(l){for(var m=[],n=0;n < this.length;++n){m.push(l(this.get(n),n,this));}return m;};f.prototype.reduce=function(l,m){for(var n=0;n < this.length;++n){m=l(m,this.get(n),n,this);}return m;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Vja};};f.prototype.dump=function(){var m;h.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Vja + "ms");for(var l=0;l < this.length;++l){m=this.get(l);h.trace("TrackFragments: " + l + ": [" + m.ba + "-" + m.Ma + "]");}};f.prototype.Lub=function(){for(var l=0,m=0;m < this.length;m++){l=Math.max(this.zs[m],l);}return this.pUa=l;};return f;})();b.Cja=a;b.ey=c;a.prototype.Ehb=c(a.prototype.ak);c(a.prototype.FW);c(a.prototype.ae);b.NBb=function(f){return "[" + Array(f.length).map(function(l,m){return f[m].toString();}).join(",") + "]";};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.I1a=b.SA=b.jn=b.q9=void 0;c=a(73);k=a(2);g=a(123);b.q9=function(h,d){return h.kn(d,void 0,!0);};b.jn=function(h,d,f,l,m,n){var p,q,r,u;g.zm.Wp(h);if(f.Oc){p=f.QO();d=p.Zda;m=p.ev;p=d + Math.floor(l / m.T);0 === h && (p=Math.max(d,p - 1));h=m.EB(p - d);l=h.add(m);return new c.Zk(f,{index:p,Ua:h.Xa,fb:l.Xa,U:f.U,offset:0,aa:0});}k.assert(f.Z,"findFirstFragment called without stream fragments");q=f.Z;l=Math.max(f.Z.ak(0),l);0 === h && !n && d.mo && !d.OH && f.Af && (l=Math.max(f.Z.ak(0),l + f.Af.T));p=b.q9(q,l);r=f.th(p);if(r.Ma < l)return r;u=r.ara(l);u?(0 < u.Wi && r.ti({start:u.Wi}),0 !== h || d.XY || (0 > u.Nd && r.ti({start:u.Wi}),u.Nd < (d.mo && !d.OH && f.Af?Math.floor(f.Af.T):0) && r.aqa())):l >= r.Ma && p < q.length - 1 && (r=f.th(p + 1));1 === h && m && r.Ma === m && p < q.length - 1 && (r=f.th(p + 1));0 === h && !r.Ca && (d.u7a || d.yLb) && n && r.ti({});r.eR(l);return r;};b.SA=function(h,d,f,l,m,n){var p,q;if(f.Oc)return (k.assert(Infinity === l),new c.Zk(f,{index:Infinity,Ua:Infinity,fb:Infinity,U:f.U,offset:0,aa:0}));g.zm.Wp(h);p=f.Z;void 0 === l && (l=p.Ma);if(m && (m=m.NNb(f,l,h,d,n)))return m;m=p.ka;n=l?l + b.I1a(h,m,d.iK,d.wda):p.FW(p.length - 1);p=p.kn(n,void 0,!0);m=f.th(p);0 === p || m.ba !== l || 1 !== h && d.iK || (--p,m=f.th(p));n=1 === h?n:l;if(n < m.Ma){q=m.$qa(n);q && 0 !== q.Wi?m.ti({end:q.Wi}):0 === h && (q || n < m.ba) && 0 !== p?m=f.th(p - 1):1 !== h || (f.yVb || d.cDa) && !q || 0 === p || (m=f.th(p - 1));}0 === h && !m.Ca && d.u7a && m.ti();m.eR(l);return m;};b.I1a=function(h,d,f,l){var m;return 1 === h || l?0:f?null !== (m=null === d || void 0 === d?void 0:d.T) && void 0 !== m?m:0:d?-d.T:0;};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.nja=void 0;c=a(0);k=a(62);a(2);c.__importDefault(a(29));t=(function(){function g(h,d,f,l,m,n){this.ae=h;this.JK=f;this.U=m;this.hUa=!1;this.length=Math.min(h.length,d.length,f.length);this.tk=d;l.length !== this.length?(h=new Uint8Array(this.length),k.yT.set(h,l.subarray(0,this.length),0),this.Gu=h):this.Gu=l;this.cd=n;}Object.defineProperties(g.prototype,{aa:{get:function(){return void 0 !== this.cd?this.cd:this.cd=this.bka();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sizes:{get:function(){return this.tk;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ll:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});g.prototype.subarray=function(h,d){return new g(this.ae.subarray(h,d),this.sizes.subarray(h,d),this.JK.subarray(h,d),this.Ll.subarray(h,d),this.U);};g.prototype.concat=function(){var f,l,m,n;for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}d=[this];h=d.concat.apply(d,c.__spread(h));d=h.reduce(function(p,q){return p + q.length;},0);f=new Uint32Array(d);l=new Uint32Array(d);m=new Uint8Array(d);n=new Uint8Array(d);d=h[0].U;h.reduce(function(p,q){k.yT.set(f,q.ae,p);k.yT.set(l,q.sizes,p);k.yT.set(m,q.JK,p);k.yT.set(n,q.Ll,p);return p + q.length;},0);return new g(f,l,m,n,d);};g.prototype.bka=function(){for(var h=this.sizes,d=this.length,f=0,l=0;l < d;++l){f+=h[l];}return f;};g.prototype.mZb=function(){this.hUa || (this.hUa=!0,this.tk=new Uint32Array(this.tk),this.Gu=new Uint8Array(this.Gu),this.cN=new Uint8Array(this.Gu.length));};g.prototype.nZb=function(){void 0 === this.cN && (this.cN=new Uint8Array(this.Gu.length));};g.prototype.upgrade=function(h,d){var f;this.mZb();h.nZb();f=h.sizes[d];void 0 !== this.cd && (this.cd+=f - this.sizes[d]);this.cN[d]=1;h.cN[d]=1;this.JK[d]=h.JK[d];this.Ll[d]=h.Ll[d];this.sizes[d]=f;};g.prototype.P7a=function(h){return void 0 === this.cN?!1:0 < this.cN[h];};return g;})();b.nja=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ija=void 0;c=a(367);b.Ija=(function(){return function(k,g){var h;void 0 === g && (g={w:1,dt:1});this.om=k;this.gcb=g;h=k.w * g.w;k=k.dt * g.dt;g=c.sE(h,k);this.gV={w:h / g,dt:k / g};};})();},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wEa=void 0;c=a(0);k=a(920);g=a(20);h=a(2);d=a(73);t=(function(){function f(l,m,n){var p,q,r;this.J=m;this.G=n;this.uk=l.track;this.$M=l.Lf;this.vl=l.vl;this.swb=l.vl.Lj;this.dH=this.Va=void 0;m=l.Iv;this.Iv=void 0 === m?!0:m;this.X7=l.X7;this.BM=void 0;this.rUa=this.ug=0;this.url=this.vK=this.Gc=this.Qt=this.Cva=this.location=this.Na=this.yb=void 0;this.dB=!1;this.Wua=this.yf=void 0;m=(l=this.J) && "object" === typeof l.Fdb && l.Fdb[this.profile];"object" === typeof m && (m=m[this.bitrate]) && (this.zyb=new g.M(m.ticks,m.timescale));this.jxb=0 <= (null === (p=l.tCb) || void 0 === p?void 0:p.indexOf(this.profile));if((null === (q=l.oQ) || void 0 === q?0:q.ylc) && 1 === this.mediaType && (p=this.vl,0 < (null === (r=p.Sr) || void 0 === r?void 0:r.length))){r=p.Sr.splice(0,p.Sr.length);p=new Uint8Array(r.length);for(q=0;q < r.length;q++){p[q]=r[q].cb;}this.Sr=p;}}Object.defineProperties(f.prototype,{Ud:{get:function(){return this.Oc?! !this.dH:! !this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{D7a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{O:{get:function(){return this.uk.O;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{K:{get:function(){return this.O.K;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{I:{get:function(){return this.uk.I;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.uk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ka:{get:function(){return this.uk.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.uk.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{CJ:{get:function(){return this.uk.CJ;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{trackId:{get:function(){return this.uk.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{track:{get:function(){return this.uk;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lf:{get:function(){return this.$M;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qa:{get:function(){return this.vl.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{id:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lj:{get:function(){return this.swb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oc:{get:function(){return this.track.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bitrate:{get:function(){return this.vl.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cb:{get:function(){var l;return this.q8?this.q8:null !== (l=this.vl.vmaf) && void 0 !== l?l:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Y6b:{get:function(){return this.vl.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hda:{get:function(){return this.vl.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{profile:{get:function(){return this.vl.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Te:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ky:{get:function(){return this.vl.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Af:{get:function(){return this.zyb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{DTb:{get:function(){return this.jxb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Z:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jy:{get:function(){return this.Va && this.Va.jy;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V8:{get:function(){return this.uk.V8;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U8:{get:function(){return this.uk.U8;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ov:{get:function(){return void 0 !== this.BM?this.BM:this.lWb();},set:function(l){this.BM=l;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kv:{get:function(){return this.Iv && !this.dB;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dg:{get:function(){return this.dH;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yVb:{get:function(){h.assert(! !this.Z,"Initial header should have been received already");return this.O.ay() && -1 < this.Te.indexOf("h264mpl") && void 0 === this.Z.Ima;},enumerable:!1,configurable:!0}});f.prototype.Vp=function(){return this.O.Vp(this.mediaType,this.Qa);};f.prototype.s9=function(){var l;l=this.Vp();return l && l.stream.Z;};f.prototype.PF=function(l){return this.O.PF(this,l);};f.prototype.Mba=function(){this.track.Mba();};f.prototype.Lba=function(){this.track.Lba();};f.prototype.Kba=function(l,m,n,p,q,r,u,v){this.Oc || p && void 0 !== p.On && (this.track.Ud || void 0 !== p.ae && p.ae.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(!this.Oc && this.J.mo && this.Af && 0 === p.On && (p.On+=this.Af.Wf(p.U).Xa),this.Ud || (this.dH=l,this.track.Kba(this,m,n,p,r,v),this.Oc || (this.Va=new k.bRa(this.$M,this.track.xq,p,q,r,u,this.I)),this.track.Y0b(this))):this.Oc || (p?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.On) + "," + this.track.Ud + "," + this.track.Iya + "," + (void 0 !== p.ae) + "," + !(!p.ae || !p.ae.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};f.prototype.s7=function(l){this.Ud || (this.track.oGb(l.track),this.Va=l.Z,this.dH=l.Dg);};f.prototype.th=function(l){return new d.Zk(this,this.Z.get(l));};f.prototype.g4a=function(l){var m;m=this.th(l.index);l.Ca && (m.ti(l.Ca),m.eR(l.nC));return m;};f.prototype.Sjb=function(l,m){this.ug=l;this.rUa=m;};f.prototype.rFb=function(){this.Na=this.yb=this.Gc=this.location=this.url=void 0;};f.prototype.bm=function(){return 0 === this.mediaType?this.lPb():this.OSb();};f.prototype.r5a=function(l,m){if(this.Oc){if(l)return this.SQb();h.assert(void 0 !== m,"liveSegmentId is required for live media requests");return this.TQb(m);}return this.url;};f.prototype.QO=function(){var l;h.assert(this.Oc && this.O.ea.CP,"liveMetadata missing from manifest");l=this.O.ea.CP;l=l.Sfb[l.Z0a[this.Qa]];return c.__assign(c.__assign({},l),{P6:new Date(l.P6).getTime(),Zda:Number(l.Zda),j4b:new g.M(Number(l.i4b),l.U).Wf(this.U),ev:new g.M(l.duration,l.U).Wf(this.U)});};f.prototype.toJSON=function(){return {movieId:this.I,mediaType:this.mediaType,streamId:this.Qa,bitrate:this.bitrate,streamIndex:this.Lf,isAvailable:this.Iv,fittable:this.ov,vmaf:this.cb,resolutionWidth:this.Y6b,resolutionHeight:this.hda};};f.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Qa + ":" + this.bitrate;};f.prototype.SQb=function(){var l;h.assert(this.Oc,"Unexpected call to getLiveHeaderRequestUrl for non-live stream");return this.url + this.QO().aVb.replace("$RepresentationID$",null !== (l=this.vl.Hza) && void 0 !== l?l:"");};f.prototype.TQb=function(l){var m,n,p,q;h.assert(this.Oc,"Unexpected call to getLiveMediaRequestUrl for non-live stream");n=this.url;p=null !== (m=this.vl.Hza) && void 0 !== m?m:"";m=this.QO().media.replace("$Number$",l.toString());q=m.replace;for(l=l.toString();5 > l.length;){l="0" + l;}return n + q.call(m,"$Number%05d$",l).replace("$RepresentationID$",p);};f.prototype.lWb=function(){var l,m,n,p,q,r,u;if(!this.Ud)return !0;if(this.track.Dta >= this.bitrate)return this.BM=!0;if(this.track.G9a <= this.bitrate)return this.BM=!1;(u=this.Oc?this.J.Uaa * this.bitrate * 8 * (this.J.$E + (null !== (m=null === (l=this.O) || void 0 === l?void 0:l.CF.T) && void 0 !== m?m:0)) < this.ug:this.Va.ODb(this.J.$E,this.ug,null !== (p=null === (n=this.O) || void 0 === n?void 0:n.CF.T) && void 0 !== p?p:0,null !== (r=null === (q=this.O) || void 0 === q?void 0:q.CF.aa) && void 0 !== r?r:0,this.rUa))?this.track.Iya && !this.Lj && this.track.Lo || (this.track.Dta=this.bitrate):this.track.G9a=this.bitrate;return this.BM=u;};f.prototype.OSb=function(){return c.__assign(c.__assign({},this.track.bm()),{profile:this.Te});};f.prototype.lPb=function(){return c.__assign(c.__assign({},this.track.bm()),{profile:this.Te,bitrate:this.bitrate});};return f;})();b.wEa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Gfa=void 0;c=a(0);k=a(62);t=a(11);g=c.__importDefault(a(4));h=a(7);d=a(35);f=a(2);l=a(14);m=a(249);n=a(404);a=a(405);p=g.default.MediaSource;a=(function(q){function r(u,v,w,x,y,z,A){v=q.call(this,u,x,y,v,A) || this;n.C1.e7a(v,u,x,A);v.Gt=w;v.track=w.track;v.Nx=! !x.Nx;v.ZP=! !x.ZP;v.jE=! !x.jE;v.M1b=x.aa;v.lR=! !x.lR;v.bla=(z?"(cache)":"") + v.Qa + " header";u=x.offset;x=x.aa;v.Jm && (u+=v.Jm.byteLength,x-=v.Jm.byteLength);v.XM(u,x);return v;}c.__extends(r,q);Object.defineProperties(r.prototype,{Bc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{cca:{get:function(){return this.gyb;},enumerable:!1,configurable:!0}});r.prototype.Yc=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}q.prototype.Yc.call(this);};r.prototype.WW=function(u){this.stream.Mba();q.prototype.WW.call(this,u);};r.prototype.HO=function(u,v,w){this.stream.Lba();q.prototype.HO.call(this,u,v,w);};r.prototype.hm=function(u){u.response && this.ESa(u.response);f.assert(this.Jm);u.Wca();this.stream.Lba();this.cyb()?q.prototype.hm.call(this,u):this.ISa?(this.XM(u.offset + u.aa,this.ISa),this.stream.Mba(),q.prototype.hm.call(this,u)):this.P8(this);};r.prototype.Sba=function(u){u.response && this.ESa(u.response);q.prototype.Sba.call(this,u);};r.prototype.XM=function(u,v){u=new m.eS(this.stream,this.track,this.bla + " (" + this.Ka.length + ")",{Bc:!0,offset:u,aa:v,eC:{af:l.va.dh},location:this.location,ye:this.ye,responseType:0},this,this.Qe,this.G);this.push(u);this.cd=this.Ka.reduce(function(w,x){return w + x.aa;},0);};r.prototype.cyb=function(){var u,v,w,x,y,z,A;x=this.Qe;y=new k.Rw(r.o_b,this.stream,this.Jm,this.stream.Oc?["moov"]:["sidx"],x.n2b,{$oc:this.stream.track.Iya,Qxa:void 0 === this.ka,qjb:!p.Kc || !p.Kc.lZa,yCa:x.yCa,mo:x.mo,KR:this.Qe.KR,vfb:!0,Vda:!p.Kc || !p.Kc.zab,Bza:this.Qe.Bza});z=y.parse({ka:this.ka});this.$cc=x.KR && y.ATb;if(z.ry){f.assert(z.Dg);this.dH=z.Dg;this.gyb=z.cca;this.oTa=! !z.yMb;void 0 === this.ka && void 0 === z.ka && this.G.error("No frame duration available for " + this.Qa);y=z.ka?new h.M(z.ka):this.ka;A=void 0;if(1 === this.A_.mediaType && (null === (u=x.oQ) || void 0 === u?0:u.enabled))if(null === (v=this.A_.Sr) || void 0 === v?0:v.length)A=this.A_.Sr;else if((u=this.A_.vl.Sr,0 < (null === u || void 0 === u?void 0:u.length)))for((A=new Uint8Array(u.length),w=0);w < u.length;w++){A[w]=u[w].cb;}else if(null === (w=z.Ll) || void 0 === w?0:w.length)for((A=new Uint8Array(z.Ll.length),w=0);w < z.Ll.length;w++){A[w]=z.Ll[w];}this.stream.Kba(z.Dg,z.U,y,z.Z,z.WP,z.wk,A,z.trackId);this.Jm=void 0;}else this.ISa=z.cBb || 0;return ! !z.ry;};r.prototype.ESa=function(u){this.Jm=this.Jm?h.Tu(this.Jm,u):u;};r.o_b=new g.default.Console("MP4","media|asejs");return r;})(a.Dfa);b.Gfa=a;d.Je(n.C1,a,!1,!1);d.Je(t.EventEmitter,a);},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.C1=void 0;c=a(0);k=a(2);g=a(176);t=(function(h){function d(f,l,m){var n;n=h.call(this,f,l) || this;n.lR=!1;n.Nx=!1;n.ZP=!1;n.jE=!1;n.Gt=void 0;d.e7a(n,f,l,m);return n;}c.__extends(d,h);d.e7a=function(f,l,m,n){g.Fw.za(f,l,m);f.dH=m.Dg;f.Jm=m.Txa;f.oTa=m.Zl;f.G=n;};Object.defineProperties(d.prototype,{Bc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dg:{get:function(){return this.dH;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Txa:{get:function(){return this.Jm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zl:{get:function(){return this.oTa;},enumerable:!1,configurable:!0}});d.prototype.Yc=function(){};d.prototype.WCa=function(){};d.prototype.kBb=function(f){k.assert(this.kd.Qa === f.Qa);!f.Ud && this.kd.Ud && f.s7(this.kd);!f.location && this.kd.location && (f.location=this.kd.location,f.Gc=this.kd.Gc,f.vK=this.kd.vK,f.url=this.kd.url,f.yb=this.kd.yb);this.kd=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},h.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Z});};return d;})(g.Fw);b.C1=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dfa=void 0;c=a(0);c.__importDefault(a(4));a(2);t=(function(k){function g(h,d,f,l,m){h=k.call(this,h,d,f,l,m) || this;h.CTa=!1;h.BTa=!1;h.XT=!1;h.Ka=[];h.Cp=!1;h.KUa=!1;h.YTa=!1;h.Ne=!1;h.Mm=!1;h.Di=!1;h.aM=!1;h.IM=void 0;h.hx=void 0;return h;}c.__extends(g,k);Object.defineProperties(g.prototype,{Hua:{get:function(){return this.Cp && !this.XT;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{active:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jza:{get:function(){return this.Mm;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{complete:{get:function(){return this.Di || (this.Di=this.Ka.every(function(h){return h.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{aborted:{get:function(){return this.aM;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ae:{get:function(){return this.Ka.reduce(function(h,d){return h + d.Ae;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bytesReceived:{get:function(){return this.Ka.reduce(function(h,d){return h + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gf:{get:function(){return this.IM || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{url:{get:function(){return this.Ka[0] && this.Ka[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{readyState:{get:function(){return this.bi || this.Ka.reduce(function(h,d){return Math.min(h,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{status:{get:function(){return this.hx && this.hx.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xg:{get:function(){return this.hx && this.hx.Xg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DO:{get:function(){return this.hx && this.hx.DO;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lj:{get:function(){return this.hx && this.hx.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jv:{get:function(){return ! !this.Ka.length && this.Ka[0].Jv;},enumerable:!1,configurable:!0}});g.prototype.push=function(h){this.YTa && h.za(this.Sa);this.Ka.push(h);this.Cp && h.MJ();};g.prototype.za=function(h){k.prototype.za.call(this,h);this.Ka.forEach(function(d){return d.za(h);});this.YTa=!0;};g.prototype.MJ=function(){this.KUa=!0;(this.Cp=this.Ka.every(function(h){return h.MJ();})) && this.WW(this);this.KUa=!1;return this.Cp;};g.prototype.Yc=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ka.forEach(function(h){return h.Yc();});};g.prototype.mea=function(h){this.bi=this.hx=void 0;return this.Ka.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.mea(h):!0;});};g.prototype.abort=function(){var h,d,f;h=this.active;d=this.aborted;this.bi=7;this.aM=!0;this.Mm=this.Ne=!1;f=this.Ka.map(function(l){return l.abort();}).every(function(l){return l;});d || this.HO(this,h,this.Hua);return f;};g.prototype.getResponseHeader=function(h){var d;d=null;this.Ka.some(function(f){return ! !(d=f.getResponseHeader(h));});return d;};g.prototype.getAllResponseHeaders=function(){var h;h=null;this.Ka.some(function(d){return ! !(h=d.getAllResponseHeaders());});return h;};g.prototype.Tba=function(){};g.prototype.KB=function(h){this.Ne || (this.Ne=!0);this.CTa || (this.CTa=!0,this.Dt=0,this.IM=this.gw=h.Gf,this.IO(this));};g.prototype.JJ=function(h){this.Mm || (this.Mm=!0);this.BTa || (this.BTa=!0,this.IM=h.Gf,this.rE(this));};g.prototype.KJ=function(h){this.IM=h.Gf;this.CI(this);this.Dt=this.bytesReceived;this.gw=h.Gf;};g.prototype.hm=function(h){this.IM=h.Gf;this.complete?(this.Di=!0,this.bi=5,this.Mm=this.Ne=!1,this.XT=!0,this.qv(this)):this.CI(this);this.Dt=this.bytesReceived;this.gw=h.Gf;};g.prototype.EZ=function(h){this.IM=h.Gf;this.hx=h;this.bi=6;this.P8(this);};g.prototype.DZ=function(){};g.prototype.Ri=function(){return this.Ka[0].Ri() + "-" + this.Ka[this.Ka.length - 1].Ri();};g.prototype.toString=function(){return "Compound[" + this.Ka.map(function(h){return h.toString();}).join(",") + "]";};g.prototype.toJSON=function(){return {requests:this.Ka};};return g;})(a(177).XF);b.Dfa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xqa=void 0;b.Xqa=function(a,c){for(var k,g,h=a.length - 1;0 <= h;--h){if((g=a[h],g.Kv)){if(g.bitrate <= c)return h;k=h;}}return k;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xsa=b.sBb=void 0;b.sBb=function(a){return a.wda;};b.xsa=function(a,c){return void 0 !== a.SP?a.SP:c && void 0 !== c.SP?c.SP:100;};},function(t,b,a){var g;function c(h,d){this.iyb=h.oQ && h.oQ.enabled;this.P5=void 0;this.Uwb=d;this.Nla=[];this.fma=[];this.vla=[];h=h.kVa || [];d=h.map(function(f){return f.llc;});d.unshift(0);this.pyb=h;this.qyb=d;this.zla=[];this.tg=[];}function k(h,d){var r,u,v,w;for(var f=[],l=[],m=0;m < h.length;m++){for(var n=h[m],p=[],q=0;q < n.length;q++){r=n[q] - (l[q] || 0);u=d && d[q];v=p;w=v.push;1 <= u && (u=Math.pow(10,u || 0),r=Math.round(r * u) / u);w.call(v,r);}f.push(p);l=n;}return f;}g=a(29).hJ;c.prototype.reset=function(h){this.P5=void 0;this.Nla=[];this.fma=[];this.vla=[];this.zla=[];h && (this.tg=[]);};c.prototype.add=function(h,d){var f,l,m,n;f=d.filter(function(p,q){return g(p) || q === h.bf;});l=f.map(function(p){return p.bitrate;});d=d[h.bf];f=f.indexOf(d);m=this.P5;if(m && (m.length !== l.length || m.some(function(p,q){return p !== l[q];}))){n=this.Q3a();n && (this.tg.push(n),this.reset(!1));}void 0 === m && (this.P5=l);this.Nla.push([f,h.Yt,h.ec,h.Nna,h.hYa,h.XZ,h.v0b,h.af,h.Wq,h.Bk,h.IF - h.Yt,h.s3b]);void 0 !== h.qy && this.vla.push([h.Yt,h.qy.iC,h.qy.BA,h.qy.XB]);f=d && d.Z;this.iyb && void 0 !== f && (m=f.kn(h.Bk),-1 != m && (f=f.get(m),m=f.duration,d=f.cb || d.cb,void 0 !== d && this.fma.push({ba:f.ba,duration:m,cb:d})));(d=h.N3b) && d.length && (d=d.slice(0),d.unshift(h.Yt),this.zla.push(d));};c.prototype.Q3a=function(){var h,d;h=k(this.Nla);if(0 !== h.length){h={dltype:this.Uwb,bitrates:this.P5,seltrace:h,vmaftrace:this.fma,paceratetrace:k(this.vla)};d=k(this.zla,this.qyb);d && d.length && (h.predtrace={config:this.pyb,data:d});return h;}};c.prototype.get=function(){var h,d;h=this.Q3a();d=this.tg;h && d.push(h);if(0 !== d.length)return d;};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=void 0;c=a(945);t=(function(){var E00;E00=2;for(;E00 !== 3;){switch(E00){case 4:return k;break;case 2:k.prototype.uub=function(g,h){var G00,d;G00=2;for(;G00 !== 14;){switch(G00){case 4:var r9X="appl";r9X+="ying manifest based stre";r9X+="amin";r9X+="g";r9X+="ClientConfig";return (g=d.streamingClientConfig,this.G.trace(r9X + JSON.stringify(g)),this.LUa(h,g));break;case 2:h=c.VZa(h,g);d=g.steeringAdditionalInfo;G00=5;break;case 3:g=g.cdnResponseData;G00=9;break;case 9:G00=!g?8:7;break;case 5:G00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 8:return h;break;case 7:var T9X="usi";T9X+="ng sa";T9X+="b cell ";T9X+=">= 100";T9X+=", pipelineEnabled: ";var O9X="using sab cell >= ";O9X+="200, pipelineEnabl";O9X+="ed:";O9X+=" ";var V9X=", a";V9X+="llowS";V9X+="witchb";V9X+="ack";var p9X=", pr";p9X+="obeDetailD";p9X+="enominator: ";var y9X="using sab cel";y9X+="l >= 300, probeServe";y9X+="rWhenError: ";var L9X=",";L9X+=" allo";L9X+="wSwi";L9X+="tchback";var b9X=", pro";b9X+="beDetai";b9X+="lDenominato";b9X+="r: ";var a9X="us";a9X+="ing sab cell >= ";a9X+="400, probeServerWhenError: ";(g=g.sessionABTestCell) && (g=g.split(".")) && 1 < g.length && (g=parseInt(g[1].replace(/cell/i,""),10),400 <= g?(h.set?(h.set({probeServerWhenError:!0}),h.set({probeDetailDenominator:1}),h.set({allowSwitchback:!0})):(h.hw=!0,h.$J=1,h.jA=!0),this.G.trace(a9X + h.hw + b9X + h.$J + L9X + h.jA)):300 <= g?(h.set?(h.set({probeServerWhenError:!0}),h.set({probeDetailDenominator:1}),h.set({allowSwitchback:!1})):(h.hw=!0,h.$J=1,h.jA=!1),this.G.trace(y9X + h.hw + p9X + h.$J + V9X + h.jA)):200 <= g?(h.set?h.set({pipelineEnabled:!1}):h.Ir=!1,this.G.trace(O9X + h.Ir)):100 <= g && (h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:1}),h.set({maxActiveRequestsPerSession:h.Baa}),h.set({maxPendingBufferLen:h.u$a})):(h.Ir=!0,h.IP=1,h.iy=h.Baa,h.Jaa=h.u$a),this.G.trace(T9X + h.Ir)));return h;break;}}};k.prototype.vub=function(g,h){var H00;H00=2;for(;H00 !== 9;){switch(H00){case 2:H00=!h.cpa || g === this.zwb?1:5;break;case 1:return h;break;case 5:this.zwb=g;for(var d in h.cpa){new RegExp(d).test(g) && (h=this.LUa(h,h.cpa[d]));}H00=3;break;case 3:return h;break;case 12:return h;break;H00=9;break;}}};k.prototype.LUa=function(g,h){var I00,d,f,l;I00=2;for(;I00 !== 4;){switch(I00){case 2:for(f in h){if(h.hasOwnProperty(f)){var t9X="In";t9X+="v";t9X+="alid ";t9X+="key";l=h[f];g.set?0 === g.set((d={},d[f]=l,d)) && this.G.trace(t9X + f):g[f]=l;}}return g;break;}}};E00=4;break;}}function k(g){var F00;F00=2;for(;F00 !== 5;){switch(F00){case 2:var A9X="1SIYbZr";A9X+="NJCp";A9X+="9";this.G=g;A9X;F00=5;break;}}}})();b.bGa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kKa=b.sT=void 0;c=a(0);k=a(11);g=c.__importStar(a(9));h=c.__importDefault(a(86));d=a(14);f=a(253);l=a(20);t=a(35);m=c.__importDefault(a(4));n=a(950);p=a(411);(function(r){r[r.X2a=0]="forwards";r[r.rna=1]="backwards";r[r.dQ=2]="none";})(q=b.sT || (b.sT={}));a=(function(r){function u(v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H){var R,O,J;O=r.call(this,void 0,w,y,D.O,v,D,void 0,F,I,l.M.Ha(G),B.Fe.bind(B),E,H,void 0,new k.EventEmitter(),void 0) || this;O.wb=v;O.Gi=x;O.uc=z;O.W4=A;O.S=B;O.VM=C;O.Gg=E;O.bX=L;O.hh=K;O.el=H;O.active=!1;O.PTa=[];O.Ala=0;null === (R=O.O) || void 0 === R?void 0:R.pza(O);O.children=Object.create(null);O.Py=[];O.ue=void 0;void 0 === I && (I=l.M.Ha(D.ba));J=[O.J.sXa,O.J.QBa];F.forEach(function(M){var P;P=M.mediaType;M=new p.k3(v,O.Gi,O.G,O,M,I.T,J[P],w,O.W4,O.hh,null === E || void 0 === E?void 0:E.Za(P));O.re.w8b(P,M);});O.Cu=O.re.d_;return O;}c.__extends(u,r);Object.defineProperties(u.prototype,{I:{get:function(){return this.O.I;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ln:{get:function(){var v,w,x,y;return [null !== (w=null === (v=this.Za(0)) || void 0 === v?void 0:v.Ln) && void 0 !== w?w:0,null !== (y=null === (x=this.Za(1)) || void 0 === x?void 0:x.Ln) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wo:{get:function(){var v,w,x,y;return [null !== (w=null === (v=this.Za(0)) || void 0 === v?void 0:v.wo) && void 0 !== w?w:{T:0,aa:0},null !== (y=null === (x=this.Za(1)) || void 0 === x?void 0:x.wo) && void 0 !== y?y:{T:0,aa:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ada:{get:function(){return this.u.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qya:{get:function(){return this.Ada + this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ec:{get:function(){return this.u.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$e:{get:function(){return this.Ec + this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qc:{get:function(){return this.O.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{weight:{get:function(){return this.u.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{u:{get:function(){return this.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Bl:{get:function(){return this.re;},enumerable:!1,configurable:!0}});u.prototype.yd=function(){var v;this.zg || (this.active=!1,this.Gg && (delete this.Gg.children[this.u.id],this.Gg=void 0),g.Df(this.children,function(w){w && w.Gg && (w.Gg=void 0);}),this.children=Object.create(null),this.oM=void 0,r.prototype.yd.call(this),null === (v=this.O) || void 0 === v?void 0:v.LCa(this),this.re.clear());};u.prototype.Qza=function(v,w){void 0 === w && (w=q.rna);this.Bl.forEach(function(x){(g.na(v) || x.mediaType === v) && x.reset();});switch(w){case q.rna:this.Gg && this.Gg.Qza(v,w);break;case q.X2a:this.children && g.Df(this.children,function(x){x && x.Qza(v,w);});}};u.prototype.nP=function(v){var w,x,y;if(!this.active)return !1;w=this.Gg;if(w){x=w.Za(v);y=x.Sa.xcb;if(0 !== y && (w.uN(v),y=x.Sa.xcb,0 !== y))return !1;}return !0;};u.prototype.ce=function(v){return this.Bl.get(v);};u.prototype.CTb=function(){return this.Bl.every(function(v){return 0 === v.aC;});};u.prototype.toJSON=function(){return c.__assign(c.__assign({},r.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Ad,playerEndPts:this.$e,pipelines:this.Bl,previousBranch:this.Gg});};u.prototype.Pgb=function(v,w){this.O.LCa(this);this.O=this.u.O=v;this.XAa(this.O);this.O.pza(this);this.Bl.forEach(function(x){var y;y=w[x.mediaType];y && x.Y_(y);});};u.prototype.FRb=function(v){return this.el[v];};u.prototype.Za=function(v){return this.Bl.get(v);};u.prototype.XRb=function(v){return this.Za(v).aC;};u.prototype.TAa=function(v,w,x){var y,z,A,B;y=this;z=this.u;v=this.d7(z.ba,this.O,v,this.I === (v?v.I:this.uc.Uc.I));A=v.AQ;B=v.TA;void 0 === w && (w=[0,1]);0 === B.length || w.forEach(function(C){var D,F;D=y.Za(C);x && (D.dd=B[C]);F=y.OW(z.Ma);D.Lda(F[C]);});return A;};u.prototype.xeb=function(v,w){var x,y,z;x=this.wb;y=this.Za(0);void 0 === w && (w=y.$Ub);this.Gg && (z=this.Gg.ce(0));x=new p.k3(x,this.Gi,this.G,this,v,w,y.YQ,this.J,this.W4,this.hh,z);this.re.replace(y,x);this.Cu=this.re.d_;this.TAa(this.Gg,[0],!0);x.zK(w,! !this.Gg);y.yd();g.Df(this.children,function(A){A && A.xeb(v);});};u.prototype.mv=function(v,w){if(w=this.Za(w))return w.Sa.mv(v);};u.prototype.uN=function(v){void 0 === v?this.Bl.forEach(function(w){w.uN();}):this.Za(v).uN();};u.prototype.i_=function(v,w,x){(v=this.Za(v)) && v.Sa.i_(w,x);};u.prototype.G9=function(v,w){(w=this.Za(w)) && w.Sa.G9(v);};u.prototype.FYb=function(v){this.PTa[v]=!0;};u.prototype.HEb=function(){var v;v=this;return [0,1].every(function(w){return !v.qc(w) || v.PTa[w];});};u.prototype.DEb=function(v,w,x,y){var z,A,B,C,D,F,G,E,I;z=this.J;A=this.wb;B=this.S.getState();C=B === d.va.sd || B === d.va.$f;if(!C && void 0 === x)return {hf:!0};if(B === d.va.$f && m.default.time.ia() < this.Ala + z.Lwa)return {hf:!1};D=this.Za(0);F=this.Za(1);G=this.uc.Bx(this,0);E=this.uc.Bx(this,1);I=f.sca(B);G=!D || D.NYa(I,this.S.Fe(),w,G,this.S.Yp(),y);E=!F || F.NYa(I,this.S.Fe(),v,E,this.S.Yp(),y);void 0 !== x && G && (x=x.trackId,v=this.O.getTrackById(x),this.Bub(x,v.OF),A.nA=void 0);if(G && E)return (this.VM(),this.AV=m.default.time.ia(),B === d.va.$f && (this.Ala=m.default.time.ia()),{hf:!0,Ru:F?F.TH:D.TH});G=this.Kh(0);E=this.Kh(1);if(C){A=!F || E > z.kj;if((!D || G > z.kj) && A && (D=this.bX(),D >= z.RB))return (this.Mb("buffering longer than limit: " + D + " >= " + z.RB + ", audio buffer: " + G + " ms, video buffer: " + E + " ms"),this.VM(),this.AV=m.default.time.ia(),B === d.va.$f && (this.Ala=m.default.time.ia()),{hf:!0,Ru:"prebufferTimeLimit"});this.Gi.oxb();}return {hf:!1};};u.prototype.ooa=function(v,w){var x,y,z,A,B,C;x=this.J;y=this.Za(0);z=this.Za(1);w?(w=this.Kh(0,v),v=this.Kh(1,v)):(w=this.uc.Bx(this,0,v),v=this.uc.Bx(this,1,v));A=x.kj;B=!this.qc(0) || y.Ai && 0 === y.Sa.iF && 0 === y.Sa.Zt;y=!this.qc(1) || z.Ai && 0 === z.Sa.iF && 0 === z.Sa.Zt;C=B && y;x=!B && w < x.kj;if(!C && (x || !y && v < A))return !1;if(z && z.hf || !this.qc(1))return !0;if(C)if(this.wb.x5 && 0 === w && 0 === v)this.Mb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};u.prototype.Hda=function(v,w){var x,y;x=this;y=this.J;this.Bl.forEach(function(z){z.seeking=void 0;});v && y.Ni && this.Bl.forEach(function(z){var A;if(z){A=x.uc.XH(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.wo.aa + ", completedMs: " + z.PN + ", completedBytes: " + A + ", partials: " + z.Sa.iF + ", streamingPts: " + z.ec + ", completeStreamingPts: " + z.gr + ", fragments: " + JSON.stringify(z.Sa.Z) + ", toAppend: " + w(z.mediaType);x.Gi.Bn(z);}});};u.prototype.Ny=function(v,w,x){var y,z,A;y=this;z=m.default.time.ia();A={};g.Df(this.children,function(B){var C,D,F,G;if(B){if(B.ue){B.ue.kLb=z - B.ue.x$;B.ue.x$=void 0;C=B.ue.weight;}else C=y.uc.x5a(y.u.id,B.u.id);D=B.UA();F=y.Za(0) && 0 === D.Hs;G=y.Za(1) && 0 === D.ip;A[B.u.id]={weight:C,Ps:D,MX:!F && !G};}});x={Qr:z,xe:v,Gpa:x,Xda:this.u.id,ue:A};v || (v=w.Fe(),x.mR=v - (this.u.ba + this.Re),x.mR=Math.max(0,x.mR),x.Q7=0,x.startTime=z);this.Py.unshift(x);return x;};u.prototype.PFb=function(v){var w,x;w=this.Py[0];w.xe && (w.mR=this.Ec - this.u.ba,w.mR=Math.max(0,w.mR));w.ojb={};x=v.UA();h.default(x,w.ojb);w.MX=v.wo.every(function(y){return 0 < y.T;});this.Py=[];return w;};u.prototype.Jl=function(v){var w;w=this.u;v-=this.Re;if(w.ba < v && v < w.Ma)this.Py.shift();else if(w=this.Py[0])w.Jl=!0;};u.prototype.d7=function(v,w,x,y){var z,A,B,C;z=this;void 0 === w && (w=this.O);A=!1;if(x){A=!0;B=x.Za(1).Jd;x=x.Za(0).Jd;if(!B || !x)return {AQ:[],TA:[]};B=B.Ma;y || (B=void 0);}C=this.w2a(v,B,A,w);w.Pb === this.uc.hJb && [1,0].forEach(function(D){var F;F=z.Za(D);F && (F.dd=C[D]);});return {AQ:C.map(function(D){return D.ba;}),TA:C};};u.prototype.w2a=function(v,w,x,y){var z;z=this;void 0 === y && (y=this.O);return this.UVa(y)?[1,0].map(function(A){var B;if(!z.qc(A))return {};B=y.Oh[A];A=z.Za(A).jn(B.stream,v,w,x);v=A.ba;return A;}).reverse():[];};u.prototype.OW=function(v,w){var x;x=this;void 0 === w && (w=this.O);return this.UVa(w)?[1,0].map(function(y){var z;if(!x.qc(y))return {};z=w.Oh[y].stream;y=x.Za(y).SA(z,v);v=x.J.Ah?new l.M(y.fb,z.ka.U).T:y.Ma;return y;}).reverse():[];};u.prototype.lcc=function(v,w){var x;x=this.u.Ma;x && x < w && (v=this.OW(x));w=this.ce(1);x=this.ce(0);w && w.Lda(v[1]);x && x.Lda(v[0]);};u.prototype.UVa=function(v){var w;w=v.Oh;if(!w)return !1;v=w[1];v=!this.qc(1) || v && v.stream.Ud;w=w[0];w=!this.qc(0) || w && w.stream.Ud;return v && w?!0:!1;};u.prototype.Bub=function(v,w){this.Gi.mxb(v,w);};return u;})(n.pKa);b.kKa=a;t.Je(k.EventEmitter,a);},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.k3=void 0;c=a(0);t=a(412);k=c.__importDefault(a(28)).default.$a;g=a(399);h=a(14);d=c.__importDefault(a(4));f=a(182);l=a(2);m=a(20);n=a(987);a=(function(p){function q(r,u,v,w,x,y,z,A,B,C,D){v=p.call(this,w,A,v,w,w,x,m.M.Ha(y),z,!1,function(){return null === D || void 0 === D?void 0:D.ze;}) || this;v.wb=r;v.Gi=u;v.Bg=B;v.hh=C;v.Kna=0;v.qE=[];v.Iz=!1;v.Fp.qkb=!1;v.WT=new n.lKa(w,v.hh,A,v.G,v.mediaType,v.Gi,v.Sa,v.wb);v.cXb=d.default.time.ia();v.UWb=void 0;v.vJ=A.iua;v.tdb=d.default.time.ia();u=f.TO(A);r=u.WZ;u=u.VJ;v.M3b=0 === v.mediaType?r:u;v.Y_(x);return v;}c.__extends(q,p);Object.defineProperties(q.prototype,{Is:{get:function(){return this.Sa.Is;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PN:{get:function(){return this.Sa.PN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{VD:{get:function(){return this.Sa.VD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aC:{get:function(){return this.Sa.aC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ai:{get:function(){return this.WT.Ai;},set:function(r){this.WT.Ai=r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{js:{get:function(){return this.WT.js;},set:function(r){this.WT.js=r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oaa:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$Ub:{get:function(){return this.WTa.T;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YQ:{get:function(){return this.ck.YQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hSb:{get:function(){return this.wb.Gla;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hf:{get:function(){return this.Iz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TH:{get:function(){return this.TSa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.Ai=!1;this.Fp.reset();};q.prototype.yd=function(){this.reset();p.prototype.yd.call(this);};q.prototype.SA=function(r,u){return g.SA(this.uk.mediaType,this.J,r,u,this.Ah,this.wb.wZb);};q.prototype.jn=function(r,u,v,w){return g.jn(this.uk.mediaType,this.J,r,u,v,w);};q.prototype.Jl=function(){this.vJ=this.J.iua;};q.prototype.uN=function(){this.Sa.Fea();};q.prototype.Y_=function(r){var u,v;u=this.wb;v=this.mediaType;l.assert(r.mediaType === v);l.assert(r.O === this.Wa.O);this.uk=r;this.Wa.O.VCa(v,r.gd);u.cwb(this,r.Er);this.PDb(r.gd);this.ze.Y_(r);this.Wa.O.Coa();this.Ai=!1;};q.prototype.Vqa=function(r){var u;u=this.Wa.O.Oh[this.mediaType];if(u && u.stream.Ud && (r=u.stream.Z.kn(r),-1 !== r))return r;};q.prototype.zK=function(r,u){var v,w,x;if(this.dd && this.dd.ba === r){u=this.dd.index;v=r;}else {w=this.Wa.O;x=w.Oh[this.mediaType];if(!x || !x.stream.Ud){this.PJ=r;this.M2b=u;return;}v=x.stream.Z;this.dd=this.jn(x.stream,r,void 0,u);if(void 0 === this.dd){if((u=v.length - 1,v=v.ak(u),this.Mb("setStreamingPts out of range of fragments, pts:",r,"last startPts:",v,"fragment index:",u,"fastplay:",w.zf.Xe),w.zf.Xe)){this.PJ=r;return;}}else (u=this.dd.index,v=this.dd.ba);}this.fm=u;this.HU=v;this.PJ=void 0;};q.prototype.mdc=function(r){var u,v;u=this.uk.Ux(r);v="verifying streamId: " + r + " stream's track: " + (u?u.Qa:"unknown") + " currentTrack: " + this.uk.trackId;return u?!0:(this.Gi.Bn(v),this.Gi.Bn("unknown streamId: " + r),!1);};q.prototype.PDb=function(r){this.VTb=r.reduce(function(u,v){return v.Kv && v.bitrate > u.bitrate?v:u;},r[0]);};q.prototype.Lda=function(r){this.Jd=r;};q.prototype.uYb=function(r,u,v,w,x){this.xjb(r,u,w,x);v && ++this.Kna;this.wb.sk();};q.prototype.KB=function(r){r.Ma && r.ba && (this.vJ-=r.Ma - r.ba);p.prototype.KB.call(this,r);};q.prototype.hm=function(r){this.Y5a(r);this.qv(r);};q.prototype.ncc=function(r){var u;u=d.default.time.ia();this.vJ+=r * (u - this.tdb);this.tdb=u;};q.prototype.W6b=function(){this.vJ=this.J.iua;};q.prototype.LN=function(r){this.Sa.joa();this.Ah || this.WT.LN(r,this.Ec);};q.prototype.Y5a=function(r){var u,v,w;v=this.oaa;w=this.wb;this.Bg.FVa() || (this.Gi.Lxb(r.mediaType,r.O.Pb,r.stream.track.zD,this.gr,this.Y),null === (u=this.Ah) || void 0 === u?void 0:u.MUb(r),u=v.S.Fe() || 0,w.Fb.Kz() || (v=v.Za(k.Jb)) && !v.hf && v.a$ && w.Fb.Vsa(v),this.LN(u),this.wb.X5a(r),this.Bg.F4(this) && this.Bg.sk());};q.prototype.Gxa=function(r){this.wb.U9(r);};q.prototype.NYa=function(r,u,v,w,x,y){var z,A;z=this.J;A=z.kj;if(v >= z.kj && (z.cda && (A=v + 1E3),z.dda && !this.connected))return !1;if(this.Ah)return this.Ah.vA();v=this.Ai && 0 === this.Sa.Sxa && 0 === this.Sa.Zt;return !v && w < A?!1:v?y && 0 === w?(this.Mb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.REb(r,u,x);};q.prototype.O8b=function(r){this.HU=r;};q.prototype.Hda=function(r){this.Iz=!0;this.TSa=r;};q.prototype.Aoa=function(){this.Iz=!1;this.TSa=void 0;};q.prototype.REb=function(r,u,v){if(this.hf || 0 === this.mediaType)return !0;if(void 0 === this.Po)return !1;u=this.Ovb(u,r);this.track.O.zn.S0(this.track.O.K,this.track.gd);this.ck.zya([this.Po],!1,h.rca(r),u,this.M3b);r=this.ck.vA(u,r,v,this.Po,this.Wa.O.pr);r.complete?this.Hda(r.reason):(this.Aoa(),this.VE=r.VE,this.progress=r.progress);return this.hf;};q.prototype.Ovb=function(r,u){var v,w,x,y,z;y=d.default.Xp()[this.mediaType];z=this.Sa.G9();r={fr:y,ba:null !== (v=z.Ad) && void 0 !== v?v:0,mc:r,ec:null !== (w=z.tQ || r) && void 0 !== w?w:0,Ak:null !== (x=z.OV || r) && void 0 !== x?x:0,Ae:z.Ae,mj:z.mj,In:z.In,b3a:z.Z.length,Z:z.Z};"number" !== typeof r.ba?(r.ba=0,r.ec=0):u === h.Hc.sd && r.mc !== r.ba && (r.mc=r.ba);return r;};return q;})(t.yia);b.k3=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.yia=void 0;c=a(0);k=a(11);g=a(951);h=a(85);d=a(952);f=a(954);l=a(960);m=a(180);n=a(257);p=a(7);q=a(2);r=a(20);u=c.__importDefault(a(4));t=a(74);v=a(35);w=a(418);x=a(124);a=(function(y){function z(A,B,C,D,F,G,E,I,L,K,H,R,O){var J;J=y.call(this,A) || this;J.J=B;J.Zd=F;J.uk=G;J.WTa=E;J.Bu=R;J.wp=O;J.events=new k.EventEmitter();J.connected=!1;J.rta=!1;J.Hm=!1;J.nwb=0;J.KVa=0;J.S8=new d.wMa(J.mediaType,B,C,J);J.G=p.ii(u.default,C,"[" + J.mediaType + "]");J.fl=J.G.error.bind(J.G);J.Mb=J.G.warn.bind(J.G);J.Bj=J.G.trace.bind(J.G);J.HU=E.T;"string" === typeof I || void 0 === I?(A=0 === J.mediaType && B.kqa || 1 === J.mediaType && B.lqa,J.Wla=new n.uja(I,B,new m.d4(K),A)):J.Wla=I;J.Rl=new g.eOa(J,D,J.J,J.G,J.mediaType);J.Fp=new f.YPa(J,B,J.G,J.Rl,J.Zd,J.mediaType,J.Bu,function(){return J.qj;});B.Ah && (J.Ah=new l.RQa(B.Ah,J.G));L && (J.Jf=null !== H && void 0 !== H?H:w.Yu(J.mediaType,J.track.O,J.J,J.G,J.Rl.zOb.bind(J.Rl),J.Rl.yOb.bind(J.Rl),function(){}),J.Jf.on("created",function(){return J.events.emit("requestQueueCreated");}));return J;}c.__extends(z,y);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.uk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.uk;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wa:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Y:{get:function(){return this.Zd.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Sa:{get:function(){return this.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gd:{get:function(){return this.uk.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wo:{get:function(){return this.Fp.wo;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ln:{get:function(){return this.Fp.Ln;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ec:{get:function(){return this.HU;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{aea:{get:function(){var A;return null !== (A=this.rd) && void 0 !== A?A:this.jt;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{NV:{get:function(){var A;return null !== (A=this.Sa.NV) && void 0 !== A?A:this.aea;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{mma:{get:function(){return this.Sa.NV;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gr:{get:function(){return this.Sa.gr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Roa:{get:function(){return this.Sa.Roa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{SWb:{get:function(){var A;A=this.Sa.K8a;return null === A || void 0 === A?void 0:A.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Lv:{get:function(){return ! !this.Jd && (this.fm > this.Jd.index || this.HU >= this.Jd.Ec);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xk:{get:function(){return this.Lv && 0 === this.Fp.iF;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xBb:{get:function(){return ! !this.Sa.K8a;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Is:{get:function(){return this.Sa.Is;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zq:{get:function(){return this.Qc?r.M.max(this.Qc.Ba(this.GF),r.M.La):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{AI:{get:function(){return this.Wa.AI;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{O_a:{get:function(){return this.Sa.Z.ev;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ck:{get:function(){return this.Wla;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ze:{get:function(){return this.ck.ze;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Po:{get:function(){return this.ck.ze.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{U:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.U) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ua:{get:function(){var A;return null === (A=this.dd) || void 0 === A?void 0:A.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fb:{get:function(){var A;return null === (A=this.Jd) || void 0 === A?void 0:A.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qj:{get:function(){return this.Wa.md.Wf(this.U).Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{a$:{get:function(){return this.Sa.a$;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Oy:{get:function(){return this.Sa.Oy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{FBa:{get:function(){return this.Sa.FBa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jt:{get:function(){return this.WTa.add(this.Wa.md);},enumerable:!1,configurable:!0}});z.prototype.PU=function(){var A;A=this;this.Fp.PU(void 0,function(B){var C;C=B[0];B=C.Zc;C=C.index;C < A.fm && A.yK(B,C);});};z.prototype.reset=function(){this.Sa.reset();this.dd && this.yK(this.dd.Zc,this.dd.index);this.Jf && this.Wa.O.gN(this.mediaType,this.Jf);};z.prototype.yd=function(){var A;this.Hm=!0;this.Fp.yd();null === (A=this.Wla) || void 0 === A?void 0:A.ze.xb();this.Jf && (this.Wa.O.gN(this.mediaType,this.Jf),x.Dq.instance.eO(this.Jf),this.Jf.removeAllListeners(),this.Jf=void 0);};z.prototype.toJSON=function(){return {started:this.Oy,startOfSequence:this.FBa,segmentId:this.Y,requestedBufferLevel:this.Ln,viewableId:this.Zd.O.K,hasFragments:this.a$};};z.prototype.ym=function(){return this.Sa.ym();};z.prototype.yK=function(A,B){this.HU=A;this.fm=B;};z.prototype.Tx=function(){return this.Sa.Tx();};z.prototype.mE=function(){this.Sa.close();};z.prototype.WD=function(A){return (A=this.Sa.mv(A.T))?A.complete:!1;};Object.defineProperties(z.prototype,{Rh:{get:function(){return this.Zd.Rh;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{GF:{get:function(){var A,B,C,D;return null !== (D=null !== (A=this.Sa.GF) && void 0 !== A?A:null === (C=null === (B=this.dd) || void 0 === B?void 0:B.dc) || void 0 === C?void 0:C.add(this.Wa.md)) && void 0 !== D?D:this.jt;},enumerable:!1,configurable:!0}});z.prototype.yjb=function(A,B,C){var D;q.assert(this.Jf);q.assert(!this.Hm,"pipeline.tryIssueRequest on disabled pipeline");if(!A.Ud)return (A=A.PF(this.Jf))?{ij:A,reason:"success"}:{ij:A,reason:"pipelineTryIssueHeaderRequest"};if(A.Oc)return this.Ibc(A,this.Jf,C);D=A.s9();q.assert(D,"initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:" + A.Ud + ", headerFragments:" + D);return this.xjb(A,D,this.Jf,B,C);};z.prototype.C$=function(A,B){A && (this.dd=A);B && (this.Jd=B);q.assert(this.dd);q.assert(this.Jd);q.assert(void 0 === this.fm);this.yK(this.dd.Zc,this.dd.index);};z.prototype.truncate=function(A){var B;B=this;q.assert(this.dd,"expected first fragment to exist on updateStreaming");this.Jd=A;this.Lv && (A=c.__read(this.Fp.Xzb(A),2),this.yK(A[0],A[1]),this.ot() && (this.Sa.mgb(),this.Sa.joa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.NE=function(){return this.ot()?!1:this.uh()?!0:this.track.qba;};z.prototype.uh=function(){return void 0 !== this.dd && void 0 !== this.Jd;};z.prototype.ot=function(){return this.Hm || this.Lv;};Object.defineProperties(z.prototype,{rdb:{get:function(){var A;A=!0;this.J.dda && (A=this.connected);this.J.cda && (A=A && this.rta);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$1b:{get:function(){return void 0 !== this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wbb:{get:function(){var A;return (null === (A=this.Ah) || void 0 === A?0:A.vA())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.hm=function(A){this.Rl.b0b(A);"oncomplete" === this.J.b7a && (this.rta=!0);this.qv(A);};z.prototype.KB=function(A){A.Bc || this.Rl.ibb(A.stream,A.ba,A.Zc);this.Rl.Y_b(this.Y,A.stream,A.Bc);this.IO(A);};z.prototype.JJ=function(A){A.o6 || (this.connected=!0);"onfirstbyte" === this.J.b7a && (this.rta=!0);this.rE(A);};z.prototype.o4a=function(A){var B,C;B=this.Sa.Z;if(0 === B.length)return {Z:[],dca:0,mj:0,In:0};C=B.EO(A.T);0 > C && (C=void 0 === B.ba || A.T <= B.ba?0:B.length);return {Z:B.Z7b(C),dca:Math.max(0,B.CZa - C),mj:B.mj,In:B.In};};z.prototype.xjb=function(A,B,C,D,F){var G,E,I,L,K,H,R,O,J,M;R=this.Zd;O=R.O;J=this.mediaType;M=this.fm;if(M >= B.length)return (this.Mb("makeRequest nextFragmentIndex:",M,"past fragments length:",B.length),{ij:!1,reason:"insufficientFragments"});if(!this.dd || !this.Jd)return (this.Mb("makeRequest delayed, first or last fragment not set","first:",! !this.dd,"last:",! !this.Jd),{ij:!1,reason:"noFirstOrLastFragment"});B=0 === J && ! !this.J.pw && (null === (G=this.Wa.u.u) || void 0 === G?void 0:G.hv) && this.dd.en < this.J.pw && void 0 !== this.dd.Ca;G=0 === J && ! !this.J.pw && (null === (E=this.Wa.u.u) || void 0 === E?void 0:E.jv) && this.Jd.en < this.J.pw && void 0 !== this.Jd.Ca;E=this.S8.n4a(A,M,B,G);if(0 === J && this.J.pw){if(null === (I=this.Wa.u.u) || void 0 === I?0:I.hv)E.nv?E.ugb():E.index === this.dd.index + 1 && this.dd.en < this.J.pw && void 0 !== this.dd.Ca && E.ugb(this.dd.Ca.end - this.dd.Ca.start);if(null === (L=this.Wa.u.u) || void 0 === L?0:L.jv)E.Oo?E.vgb():E.index === this.Jd.index - 1 && this.Jd.en < this.J.pw && void 0 !== this.Jd.Ca && E.vgb(this.Jd.Ca.end - this.Jd.Ca.start);}if(this.wp && !this.wp.KEb(this.mediaType,E.aa))return {ij:!1,reason:1 === this.mediaType?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.fva=E.region;E.eC=F;null === (K=this.Ah) || void 0 === K?void 0:K.OUb(E,A);E.Oo && 1 === J && this.Rl.ola(R.u,E.Ma);this.J.JP && (E.JP=this.J.JP);void 0 !== A && (E.location=A.location,E.ye=A.Gc,E.KAa=A.Qt);(F=R.O.Pda) && "OPEN_CONNECT_APPLIANCE" === A.Rt && (J=0 === J && this.J.kqa || 1 === J && this.J.lqa,I=this.J.iMb && 1 === this.mediaType && this.J.Ir,E.E_=J?D:void 0,E.Qda=F.Xu({MD:R.Kh(this.mediaType),zba:this.J.dMb?this.J.zba:void 0,Xib:String(u.default.time.ia()),UV:J?D:void 0,Ana:I?{start:E.offset,size:E.aa}:void 0}));u.default.time.ia();C=this.Sa.y_a(E,C,A);if(!C.MJ()){this.Mb("MediaRequest.open error: " + C.Xg + " native: " + C.lj);if(7 === C.readyState)return {ij:!1,reason:"requestAborted"};this.Mb("makeRequest caught:",C.Xg);O.If("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {ij:!1,reason:"openAseMediaRequest"};}null === (H=this.Ah) || void 0 === H?void 0:H.CMb(C,E,A);this.Rl.c0b(C);this.yK(C.Ec,E.$P);this.ot() && (this.Sa.mgb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {ij:!0,reason:"success"};};z.prototype.Ibc=function(A,B,C){var D,F,G,E,I,L,K;D=this.Zd.O;F=this.fm;G=A.QO();E=G.P6;I=G.ev;L=I.EB(F - G.Zda);G=L.add(I);0 === this.KVa && (this.KVa=u.default.time.ia(),this.nwb=G.T);K=A.O.fgb?u.default.time.ia() - A.O.fgb:u.default.time.now();if(G.add(I).T > K - E)return {ij:!1,reason:"exceedsLiveEdge"};A=this.Sa.y_a({TE:F,index:F,Ua:L.Xa,fb:G.Xa,U:A.U,offset:0,aa:0,eC:C,Scc:!this.J.lib},B,A);if(!A.MJ()){this.Mb("MediaRequest.open error: " + A.Xg + " native: " + A.lj);if(7 === A.readyState)return {ij:!1,reason:"requestAborted"};this.Mb("makeRequest caught:",A.Xg);D.If("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {ij:!1,reason:"openAseMediaRequest"};}this.yK(G.T,this.fm + 1);return {ij:!0,reason:"success"};};return z;})(h.Ew);b.yia=a;v.Je(t.bz,a);v.Je(t.eu,a);},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UQ=void 0;t=a(0);c=t.__importStar(a(9));k=a(22);t=t.__importDefault(a(29));g=a(414);h=a(415);d=t.default.assert;f=t.default.up;b.UQ=l;(function(){var J00;J00=2;for(;J00 !== 5;){switch(J00){case 2:var n9X="1SIY";n9X+="b";n9X+="Z";n9X+="r";n9X+="NJCp9";b.UQ=l=function(n,p,q,r,u,v,w){var M00;M00=2;for(;M00 !== 1;){switch(M00){case 2:var S9X="pl";S9X+="a";S9X+="yi";S9X+="ng";return S9X === n.Lna?h.ap.call(this,n,p,q,r,u,v,w):m.call(this,n,p,q,r);break;}}};n9X;J00=5;break;}}function m(n,p,q,r){function u(B){var L00,C;L00=2;for(;L00 !== 7;){switch(L00){case 2:void 0 !== y && (null === v || void 0 === v?0:v.Z) && g.Naa(n,q,v.Z.Ly,y,y + 1);C=B.Na;L00=5;break;case 5:L00=!C || (B.bitrate > w?n.Kcc:1) * B.bitrate * p.playbackRate > C?4:3;break;case 4:return !1;break;case 3:var c9X="buff_lt_hi";c9X+="s";c9X+="t";z=c9X;A=C;return !0;break;}}}var K00,v,w,x,y,A,z;K00=2;for(;K00 !== 20;){switch(K00){case 2:var K9X="Must have at least one select";K9X+="e";K9X+="d stream";d(!c.na(r),K9X);(v=q[r],w=v.bitrate,x=v,y=p.me);K00=5;break;case 9:v=q[0];K00=8;break;case 4:v=k.Xc(q.slice(0,Math.min(r + (n.vBb?2:1),q.length)).reverse(),u);K00=3;break;case 5:K00=v.Na?4:14;break;case 7:A=null === v || void 0 === v?void 0:v.Na;K00=14;break;case 3:K00=void 0 === v?9:6;break;case 8:var G9X="fa";G9X+="llba";G9X+="ck_lowest_acceptable_stream";z=G9X;K00=7;break;case 6:var l9X="sele";l9X+="c";l9X+="t_feasible_buffering";z=l9X;K00=7;break;case 14:r=new f();r.Kf=v;x !== v && (r.reason=z,r.Fv=A);g.Maa(n,q,y,r);return r;break;}}}})();},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Maa=b.Naa=void 0;c=a(0).__importDefault(a(29)).default.console;b.Naa=k;b.Maa=g;(function(){function h(d,f,l){var O00,m;O00=2;for(;O00 !== 7;){switch(O00){case 1:m=0;O00=5;break;case 2:O00=0 === f.length?1:9;break;case 4:f[d[m].Lf]=m;O00=3;break;case 5:O00=m < d.length?4:9;break;case 3:m++;O00=5;break;case 9:d=f[l];return void 0 !== d?d:-1;break;}}}var N00;N00=2;for(;N00 !== 4;){switch(N00){case 2:var R9X="1";R9X+="SI";R9X+="YbZrNJCp9";b.Naa=k=function(d,f,l,m,n){var P00,q,p,r,u,v,w,x;P00=2;for(;P00 !== 18;){switch(P00){case 2:P00=d.bZ && 0 < d.bZ?1:18;break;case 5:P00=m < n?4:18;break;case 4:q=h(f,p,l.JK[m]);P00=3;break;case 20:q++;P00=7;break;case 3:P00=-1 === q?9:8;break;case 9:var Z9X="maybeUpgradeLowVmafFragments: i";Z9X+="nvali";Z9X+="d st";Z9X+="r";Z9X+="eams";c.error(Z9X);P00=18;break;case 8:q+=1;P00=7;break;case 1:p=[];P00=5;break;case 10:(h(f,p,v.JK[m]),l.upgrade(v,m));P00=20;break;case 11:P00=w > r || w === r && x > u?10:20;break;case 6:(r=l.Ll[m],u=l.sizes[m]);P00=14;break;case 13:(v=f[q].Z.Ly,w=v.Ll[m],x=v.sizes[m]);P00=12;break;case 12:P00=!r || !w?19:11;break;case 14:P00=!f[q].Z?19:13;break;case 7:P00=l.Ll[m] < d.bZ && q < f.length?6:19;break;case 19:m++;P00=5;break;}}};b.Maa=g=function(d,f,l,m){var Q00,n,p,q,r,u,v;Q00=2;for(;Q00 !== 8;){switch(Q00){case 1:Q00=d.bZ && !(0 >= d.bZ)?5:8;break;case 2:Q00=1;break;case 5:var q9X="min_frag";q9X+="ment_v";q9X+="maf";(u=[],v=m.Kf);d=h(f,u,v.Lf);v=null === (p=null === (n=v.Z) || void 0 === n?void 0:n.Ly) || void 0 === p?void 0:p.JK[l];void 0 !== v && (n=h(f,u,v),-1 !== n && (n !== d && (m.dab=d,m.Kf=f[n],m.reason=q9X),(null === (r=null === (q=m.Kf) || void 0 === q?void 0:q.Z) || void 0 === r?0:r.get) && m.Kf.Z.get(l)));Q00=8;break;}}};R9X;N00=4;break;}}})();},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.eqa=b.pt=b.ap=void 0;t=a(0);k=t.__importStar(a(9));g=a(22);h=a(73);d=t.__importDefault(a(28));f=t.__importDefault(a(29));l=t.__importDefault(a(966));m=a(14);n=a(414);p=f.default.assert;q=f.default.up;b.ap=(c=(function(){var R00;R00=2;for(;R00 !== 5;){switch(R00){case 2:var m9X="1SI";m9X+="YbZrNJ";m9X+="Cp9";m9X;return {pt:r,ap:function(x,y,z,A,B,C,D){var Y00,S,F,E,I,L,K,H,R,O,J,M,P,G,U,T,W,ia;Y00=2;for(;Y00 !== 35;){switch(Y00){case 20:D > M && P <= x.RYb && (M+=(1 - Math.min(P / (x.h$ + x.yaa),1)) * (D - M));Y00=18;break;case 6:Y00=D?14:13;break;case 17:return u.call(this,y,x,z,B);break;case 18:Y00=F === d.default.L2.Qtb || !B.Na?17:16;break;case 2:var k9X="Must have";k9X+=" at least one selected";k9X+=" s";k9X+="tream";p(!k.na(A),k9X);void 0 === y.me && (y.me=0);Y00=4;break;case 14:return (B=w(z,A,B.Na || 0,x.l2a,y.playbackRate),null !== (F=B.Z) && void 0 !== F && F.length || (B.m0=!0),G.Kf=B,G);break;case 4:var o9X="n";o9X+="umbe";o9X+="r";var N9X="inva";N9X+="lid pla";N9X+="yer fragmen";N9X+="tIndex";p(k.Ja(y.me),N9X);p(o9X === typeof y.buffer.fr);Y00=9;break;case 13:(E=B,I=y.buffer.ba,L=y.buffer.mc,K=y.buffer.ec,H=y.buffer.Ak,R=y.me);a000.j9X(0);D=a000.Q9X(L,H);F=this.ze.N8a || d.default.L2.dh;(O=y.state === m.va.Jc || y.state === m.va.Eh?y.buffer.mj:0,J=x.tJ,M=x.dy?x.dy:1E3,P=B.O.duration);Y00=20;break;case 9:var u9X="n";u9X+="u";u9X+="mb";u9X+="e";u9X+="r";p(u9X === typeof y.rW);G=new q();B=z[A];Y00=6;break;case 16:B.Z && B.Z.length || (B.m0=!0);(U=h.Zk.A_a(y.buffer.Z),T=y.buffer.fr - U.aa);F=x.wBa && D >= x.vDa?z.length:A + 2;Y00=26;break;case 26:(W=(function(pa){var Z00,a10;Z00=2;for(;Z00 !== 4;){switch(Z00){case 2:var I9X="va";I9X+="r";I9X+="i";I9X+="a";I9X+="ble";a10=x.tBa;Z00=a10 === I9X?1:3;break;case 5:return z.slice(0,pa).map(function(wa,za){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return za < A?[x.Bta,x.Qva]:za === A?[x.h$,x.yaa]:[x.Cta,x.Rva];break;}}});break;case 1:return z.slice(0,pa).map(function(wa){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:return [v(x,y.buffer.fr,wa),0];break;}}});break;case 13:Z00=1;break;Z00=5;break;case 3:Z00=5;break;}}})(F),ia=z.slice(0,F).map(function(pa,wa){var d10,za;d10=2;for(;d10 !== 5;){switch(d10){case 2:a000.j9X(4);za=a000.X9X(A,wa);return function(){var e10,Ca,N,Q,V,ca,sa,Ha;e10=2;for(;e10 !== 5;){switch(e10){case 2:a:{Ca=z[Math.max(a000.Q9X(1,wa,a000.j9X(0)),0)];N=W[wa][1];Q=y.playbackRate;V=pa.Z?pa.Z.t7(R,W[wa][0]):0;ca=Ca.Z?Ca.Z.t7(R + V,N):0;N=pa.Na || 0;sa=pa.Z && pa.Z.length;Ha=za?x.Pqa:sa?x.z8:x.l2a;if(S && !S.A8 && S.Na >= N && S.bitrate <= pa.bitrate){Ca=!1;}else {za || sa || (pa.m0=!0);if(!za || !sa)if(sa && !x.n0){if(N >= Math.max(pa.jy * Q,pa.bitrate * Q * Ha) && pa.ov){Ca=!0;break a;}}else if(N >= pa.bitrate * Q * Ha){Ca=!0;break a;}Q=!x.$oa || pa === E || pa.Gc === E.Gc && C?0:(Q=pa.yb) && Q.Qk && Q.Qk.oa?Q.Qk.oa + x.Xoa * (Q.Qk.ee?Math.sqrt(Q.Qk.ee):0):0;(Ca=r(x,z,pa,Ca,U,L + Q - I,J,H - I,K - I,R,U.length,O,T,V,ca,M,y.rW,y.playbackRate,! !y.B9a)) && Ca.result && (G.anc=Ca.KY);S={A8:Ca && Ca.result,Na:N,bitrate:pa.bitrate};Ca=Ca && Ca.result;}}return Ca;break;}}};break;}}}));p(ia.length === W.length);ia[A]()?A + 1 < z.length && D > x.sB && (void 0 === this.jaa || this.rva && this.rva > this.jaa || K - this.jaa > x.taa && D > x.Tva) && (B=g.Yma(z.slice(A + 1,F),function(pa,wa){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return ia[A + 1 + wa]();break;}}})):B.Z && B.Z.length && (B=g.Yma(z.slice(0,A),function(pa,wa){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 4:return ia[wa]();break;g10=1;break;case 2:return ia[wa]();break;}}}),D=z[0],B && B.Lf < D.Lf || !B) && (B=D);Y00=23;break;case 23:G.Kf=B || E;n.Maa(x,z,R,G);return G;break;}}},eqa:v};break;}}function r(x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P){var S00,pa,U,T,W,ia;function S(wa,za,Ca){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:n.Naa(x,y,wa,za,Ca);pa.push(wa.subarray(za,Ca));T00=5;break;}}}S00=2;for(;S00 !== 15;){switch(S00){case 20:P=R;S00=19;break;case 12:T=void 0;S00=11;break;case 19:S00=0 < P?18:17;break;case 10:(T=Math.min(P,z.Z.length - E),S(z.Z.Ly,E,E + T),P-=T,E+=T,E >= z.Z.length && (E=0));S00=11;break;case 11:S00=0 < P?10:20;break;case 14:S00=P?13:16;break;case 4:p(B.length === I);x.Uva && (O=Math.min(O,T));S00=9;break;case 16:(H=Math.max(0,Math.min(H,z.Z.length - E)),R=Math.max(0,Math.min(R,A.Z.length - E - H)),0 < H && S(z.Z.Ly,E,E + H),0 < R && S(A.Z.Ly,E + H,E + H + R));S00=17;break;case 8:return !1;break;case 7:ia || (A=z);pa=[];S00=14;break;case 2:var E9X="Secon";E9X+="d s";E9X+="t";E9X+="ream undef";E9X+="ined";var g9X="Fir";g9X+="st s";g9X+="trea";g9X+="m undefined";p(z,g9X);p(A,E9X);(U=z.Na,T=F - C,W=z.Z && z.Z.length,ia=A.Z && A.Z.length);S00=4;break;case 13:P=H;S00=12;break;case 17:return 0 < H || 0 < R?l.default({Z:B.concat(pa),blocks:I + H + R,mc:C,Ak:F,W9b:D,mj:L,ec:G,me:I,eOb:I + H,rW:J,k3a:K,Na:U / M,bba:O,$E:x.$E,tWb:x.n0,PLb:!1}):U > z.jy?{result:!0,KY:0,ov:!0}:{result:!1,KY:0,ov:!0};break;case 18:(T=Math.min(P,A.Z.length - E),S(A.Z.Ly,E,E + T),P-=T,E+=T,E >= A.Z.length && (E=0));S00=19;break;case 9:S00=!U || U < z.bitrate * M * x.Ata || !W?8:7;break;}}}function u(x,y,z){var U00;U00=2;for(;U00 !== 4;){switch(U00){case 2:x=new q();x.Kf=z[0];return x;break;}}}function v(x,y,z){var V00,A;V00=2;for(;V00 !== 3;){switch(V00){case 7:return x.iab;break;V00=5;break;case 5:A=(z.Nac || z.Na) / z.Na;return 1 >= A?x.B$a:Math.min(Math.max((x.R9b * Math.min(8 * y / z.bitrate,x.hq) - x.dy) / (A - 1),x.iab),x.B$a);break;case 1:return x.iab;break;case 2:V00=!z.Na?1:5;break;}}}function w(x,y,z,A,B){var W00,C;W00=2;for(;W00 !== 3;){switch(W00){case 2:a000.h9X(3);C=a000.X9X(z,B,A);z=g.oo(x,function(D){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 4:return D.bitrate <= C;break;X00=1;break;case 2:return D.bitrate > C;break;}}});z=0 < z?z - 1:0 === z?0:x.length - 1;return x[Math.max(y,z)];break;}}}})(),c.ap);b.pt=c.pt;b.eqa=c.eqa;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.JVb=b.AAa=void 0;c=a(0);k=c.__importDefault(a(86));g=c.__importStar(a(9));h=a(22);d=a(384);f=c.__importDefault(a(4));t=c.__importDefault(a(98));a=c.__importDefault(a(29));l=a.default.q_b;m=a.default.BDb;n=a.default.h7;p=a.default.up;q=t.default.mBa;a=(function(){function u(B,C,D){var j10;j10=2;for(;j10 !== 5;){switch(j10){case 2:B=m(D.kj,B * D.Uaa);return l(B,C);break;}}}var h10;function r(B,C){var i10,D,F;i10=2;for(;i10 !== 12;){switch(i10){case 2:D=new p();i10=1;break;case 7:i10=(F=g.Ja(C.Bda) && 0 <= C.Bda && 100 >= C.Bda && !g.na(B) && !g.qb(B))?6:14;break;case 1:D.Kf=B;B=D.Kf.yb || ({});D.$p=B.Qm && B.Hg;D.Zp=B.Qm?B.Qm:0;B=k.default(D.$p,{});i10=7;break;case 14:var C3X="hist_";C3X+="th";C3X+="rough";C3X+="put";var D9X="hist_t";D9X+="d";D9X+="ige";D9X+="s";D9X+="t";F?(C=B.nj(C.Bda / 100) || D.Kf.Na,D.Fv=C,D.reason=D9X):D.Kf.Na && (C=D.Kf.Na,D.Fv=C,D.reason=C3X);return D;break;case 6:(F=d.oRa.zRb(B),g.fd(F)?(B.nj=F,F=!0):F=!1);i10=14;break;}}}function v(B,C){var k10,D,F;k10=2;for(;k10 !== 13;){switch(k10){case 5:k10=0 === F?4:3;break;case 1:(D=B.w$,F=h.oo(D,function(G){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 4:return C >= G.r;break;l10=1;break;case 2:return C <= G.r;break;}}}));k10=5;break;case 2:k10=B.w$?1:14;break;case 3:k10=-1 === F?9:8;break;case 4:return D[0].d;break;case 9:return D[D.length - 1].d;break;case 7:D=D[F];k10=6;break;case 14:return B.Fr;break;case 8:a000.j9X(0);B=D[a000.Q9X(1,F)];k10=7;break;case 6:return Math.floor(B.d + (D.d - B.d) * (C - B.r) / (D.r - B.r));break;}}}function z(B,C,D){var r10,F,G;r10=2;for(;r10 !== 4;){switch(r10){case 2:(F=new p(),G=Math.max(B.Sv,B.$aa,C.zua?B.Iwa:-Infinity));F.Kf=h.Xc(D.filter(function(E){var s10;s10=2;for(;s10 !== 1;){switch(s10){case 2:return E.bitrate <= B.xB;break;}}}).reverse(),function(E){var t10,I,L,K;t10=2;for(;t10 !== 13;){switch(t10){case 2:I={Na:E.Na,Qm:E.yb && E.yb.Qm,Hg:E.yb && E.yb.Hg};t10=1;break;case 1:t10=E.bitrate > G?5:14;break;case 5:E=E.bitrate * C.playbackRate;L=I.Na;t10=3;break;case 9:K=v(B,E);t10=8;break;case 3:t10=L?9:6;break;case 6:I=!1;t10=7;break;case 8:var Y3X="his";Y3X+="t_buf";Y3X+="ftime";u(E,L,B) <= K?(F.Fv=L,I && (F.Zp=I.Qm?I.Qm:0,F.$p=I.Qm && I.Hg),F.reason=Y3X,I=!0):I=!1;t10=7;break;case 7:return I;break;case 14:var F3X="no_historical_lt";F3X+="e";F3X+="_minbitrate";var e3X="hist_tput_";e3X+="lt_minbit";e3X+="rate";var w3X="lt_";w3X+="hist_lt";w3X+="e_minbitr";w3X+="ate";(L=I.Na,E.bitrate * C.playbackRate <= L?(F.Fv=L,I && (F.Zp=I.Qm?I.Qm:0,F.$p=I.Qm?I.Hg:void 0),F.reason=w3X,I=!0):L?(F.Fv=L,I && (F.Zp=I.Qm?I.Qm:0,F.$p=I.Qm?I.Hg:void 0),F.reason=e3X,I=!1):(F.reason=F3X,I=!0));t10=7;break;}}}) || D[0];return F;break;}}}function x(B,C,D){var n10,F,G,E,I,L,K;n10=2;for(;n10 !== 19;){switch(n10){case 1:n10=0 <= E && (F?D[E].cb >= B.Tv:D[E].bitrate >= B.Sv)?5:11;break;case 2:(F=! !B.Tv && ! !B.C$a && D.every(function(H){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 2:return H.cb && 110 >= H.cb;break;}}}),G=null,E=D.length - 1);n10=1;break;case 5:I=D[E];G=r(I,B);(L=u(I.bitrate * C.playbackRate,G.Fv,B),K=w(G.Fv,B));K=y(I,G.Fv,F,L,K,B);I=K.A8;n10=7;break;case 13:G.reason=K;n10=12;break;case 11:var d3X="f";d3X+="allback_no_acc";d3X+="eptable_str";d3X+="eam";var f3X="below_";f3X+="minInit";f3X+="Vid";f3X+="e";f3X+="oBitrate";g.qb(G) && D[E].bitrate < B.Sv && (G=r(D[E],B),G.reason=f3X);g.qb(G) && (G=r(D[0],B),G.reason=d3X);n10=20;break;case 14:n10=I?11:13;break;case 12:E--;n10=1;break;case 20:return G;break;case 7:K=K.reason;G.iB=L;n10=14;break;}}}function y(B,C,D,F,G,E){var q10;q10=2;for(;q10 !== 5;){switch(q10){case 2:var z3X="no_v";z3X+="a";z3X+="lid_";z3X+="Bitr";z3X+="ate";var x3X="no_";x3X+="v";x3X+="ali";x3X+="d_VMA";x3X+="F";var B3X="no_";B3X+="valid_";B3X+="DelayTarget";B=D?B.cb >= E.Tv && B.cb <= E.C$a:B.bitrate >= E.Sv && B.bitrate <= E.xB;return (F=F < G && B)?{A8:F}:{A8:F,reason:B?B3X:D?x3X:z3X};break;}}}h10=2;for(;h10 !== 5;){switch(h10){case 2:var Q3X="1SIYbZrN";Q3X+="JCp";Q3X+="9";Q3X;return {bzb:function(B,C,D,F){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:var X3X="his";X3X+="t";X3X+="orica";X3X+="l";return X3X === B.fua?A(B,C,D,F):B.SU?x(B,C,D,F):z(B,C,D,F);break;}}},twb:y};break;}}function A(B,C,D,F){var u10,G;u10=2;for(;u10 !== 7;){switch(u10){case 2:var j3X="v";j3X+="b";G=f.default.storage.get(j3X);u10=1;break;case 4:var h3X="hi";h3X+="st";h3X+="_bitrate";B=new p();B.Kf=h.Xc(D.slice().reverse(),function(E){var v10;v10=2;for(;v10 !== 1;){switch(v10){case 2:return E.bitrate <= G;break;}}}) || D[0];B.reason=h3X;return B;break;case 1:var v3X="nu";v3X+="mb";v3X+="e";v3X+="r";u10=v3X !== typeof G?5:4;break;case 5:return B.SU?x(B,C,D,F):z(B,C,D,F);break;}}}function w(B,C){var A94=a000;var m10,D;m10=2;for(;m10 !== 9;){switch(m10){case 14:D=C.VQ;m10=5;break;m10=4;break;case 1:var J3X="l";J3X+="o";J3X+="g";m10=0 === C.VQ.lastIndexOf(J3X,0)?5:3;break;case 5:D=C.VQ;m10=4;break;case 2:A94.j9X(5);var S31=A94.Q9X(10,15,99995);A94.h9X(5);var T31=A94.X9X(15,515,500);B=n(B,0,S31) / T31;m10=1;break;case 3:var i3X="s";i3X+="i";i3X+="g";i3X+="m";i3X+="oid";return 0 === C.VQ.lastIndexOf(i3X,0)?(D=C.VQ,(D=C.Tfb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):C.Fr):C.Fr;break;case 4:return (D=C.Tfb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):C.Fr;break;}}}})();t=a.twb;b.AAa=a.bzb;b.JVb=t;},function(t,b,a){var g,h,d,f,l,m;function c(n,p,q,r){f(!g.na(r),"Must have at least one selected stream");return new m(r);}function k(n,p,q,r){f(!g.na(r),"Must have at least one selected stream");return new m(r);}g=a(9);b=a(29);h=b.console;d=b.debug;f=b.assert;l=b.hJ;m=b.up;t.exports={STARTING:function(n,p,q){var u,v,w,x;function r(y,z){var A,B,C,D;A=y.id;B=y.bitrate;C=y.Na || 0;D=! !C;d && h.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.Kv)return (d && !y.Iv && h.log("  Not available"),d && y.dB && h.log("  Failed"),!1);if(B > n.PY)return (d && h.log("  Above maxInitAudioBitrate (" + n.PY + " Kbps)"),!1);if(!(B * n.gba / 8 < p.buffer.fr))return (d && h.log("  audio buffer too small to handle this stream"),!1);if(D){d && h.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / v)return (d && h.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && h.log(" bitrate requires more than available throughput");return !1;}y=n.eZ;p.zua && (y=Math.max(y,n.cZ));if(B <= y)return (d && h.log("  Bitrate is less than max of minInitAudioBitrate (" + n.eZ + " Kbps) " + (p.zua?" and also minHCInitAudioBitrate (" + n.cZ + " Kbps)":"")),d && h.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && h.log("  No throughput history");return !1;}u=new m();v=n.dkc || 1;for(w=q.length - 1;0 <= w;--w){x=q[w];if(r(x,w)){u.bf=w;break;}l(x) && (u.bf=w);}return u;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Yu=void 0;c=a(10);k=a(124);g=a(2);b.Yu=function(h,d,f,l,m,n,p){var q;c.W && l.trace("AsePlaygraph.createRequestQueue()");q=k.Dq.instance.Yu(h,d.I,!0,!1,{MA:f.MA},f);q.wh.on(q,"networkfailing",function(){var r;c.W && l.trace("requestQueue OnNetworkFailing: ",q);q.y8 && (g.assert(q.LW),null === (r=d.pr) || void 0 === r?void 0:r.It(q.LW,void 0,q.Xg,q.lj));d.ym();});q.wh.on(q,"error",function(){p(q.Xg,q.lj);});q.on("transportreport",m);q.on("mediaRequestComplete",n);q.za();return q;};},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Oha=void 0;c=a(0);t=c.__importDefault(a(98));k=c.__importDefault(a(4));a=a(154);g=t.default.h7;h=t.default.fFb;d=t.default.Bqa;f=t.default.NMb;l=t.default.I7b;new k.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var x10;x10=2;for(;x10 !== 5;){switch(x10){case 2:c.__extends(n,m);return n;break;}}function n(p,q){var y10,r;y10=2;for(;y10 !== 13;){switch(y10){case 3:var H3X="1SIYb";H3X+="Z";H3X+="rNJCp9";r.KCb=g(p.Pu.gamma || 1,.1,10);r.filter=p.Pu.filter;r.Q9b=! !p.Pu.simpleScaling;p.Pu.niqrfilter && p.Pu.niqrcurve && (r.Pab=p.Pu.niqrfilter,r.M_b=h(p.Pu.niqrcurve,1,0,4));H3X;return r;break;case 2:r=m.call(this,p,q) || this;r.VJ=function(u,v,w,x){var z10,y,z,A;z10=2;for(;z10 !== 12;){switch(z10){case 2:x=null !== x && void 0 !== x?x:r.HP;A=r.Io(u,w);w=r.iBa(w)?A:(null === (y=u[r.filter]) || void 0 === y?void 0:y.oa) || A;z10=3;break;case 3:y=Math.pow(Math.max(1 - w / r.NCb,0),r.KCb);w=v.Ak - v.mc;r.Q9b?(v=d(r.R_a,w,1),w=d(r.Q_a,w,1),v=v * y + w * (1 - y)):v=d(l(r.R_a,r.Q_a,y),w,1);u=r.Pab && (null === (z=u[r.Pab]) || void 0 === z?void 0:z.Zwa);void 0 !== u && (z=f(r.M_b,u),v=Math.min(v * z,1));a000.h9X(6);z=r.G0a(a000.X9X(v,1,A),x);z10=13;break;case 13:return {lower:z,upper:z * r.config.$Ca};break;}}};Array.isArray(p.Pu.curves) && (r.R_a=h(p.Pu.curves[0],0,0,1),r.Q_a=h(p.Pu.curves[1],0,0,1));r.NCb=g(p.Pu.threshold || 6E3,1,1E5);y10=3;break;}}}})(a.FC);b.Oha=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Uma=b.WZ=b.W1a=void 0;c=a(0).__importDefault(a(98)).default.Bqa;b.W1a=function(k,g,h){var d,f,l;d=0;if(h){k.some(function(m){var n;n=m.b;m=m.m;if(g <= n)return (d=l && n !== f?l + (m - l) / (n - f) * (g - f):m,!0);f=n;d=l=m;return !1;});}else k.some(function(m){d=m.m;return g <= m.b;});return d;};b.WZ=function(k,g,h){var d;g=(null === (d=g.Na) || void 0 === d?void 0:d.oa) || 0;return k.HXa?(k=c(k.GXa,h.Ak - h.mc,1),g * (1 - k)):g * k.z0 / 100;};b.Uma=function(k,g){return k < 2 * g?k / 2:k - g;};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Lfa=void 0;c=a(0);t=a(11);k=a(10);g=c.__importDefault(a(4));h=a(7);d=a(989);f=a(125);l=a(990);m=a(20);n=a(993);p=a(994);q=a(995);a=(function(r){function u(){var v;v=null !== r && r.apply(this,arguments) || this;v.lVa=0;v.Jla=0;v.G4=0;v.jka=0;return v;}c.__extends(u,r);u.prototype.Jza=function(v){var w,x;r.prototype.Jza.call(this,v);this.lVa++;this.Jla++;this.LVa=g.default.time.ia();this.AM || (this.AM={Ec:v.Ec,Zc:v.Zc,index:v.index},this.Z4 || (this.Z4=this.AM));w=this.n5;x=!1;w && 100 > Math.abs(w.$e - v.Ad) && (this.G4+=v.$e - w.$e,this.jka++,x=!0);x || (this.G4=v.en,this.jka=1);this.n5=v;};u.prototype.stop=function(){r.prototype.stop.call(this);this.Jla=0;this.AM=void 0;};u.prototype.x4a=function(){var v,w,x,y;v=this.Eu;w=v.YV;if(w){y=w.Za(this.mh);y && y.Sa && (x=y.Sa.Hsa());return {RM:x,currentBranch:{sId:w.u && w.u.id,cancelled:w.zg},currentReceivedCount:v && v.fJb,totalReceivedCount:this.lVa,currentState:v && v.P_a || "Uninitialized",lastRequestPushed:this.n5 && ({contentEndPts:this.n5.Ec,fragmentIndex:this.n5.index}),tslp:this.LVa && g.default.time.ia() - this.LVa,cpts:this.G4,crq:this.jka,rslp:this.Jla,firstRequestSSPushed:this.AM && ({contentStartPts:this.AM.Zc,fragmentIndex:this.AM.index}),firstRequestPushed:this.Z4 && ({contentStartPts:this.Z4.Zc,fragmentIndex:this.Z4.index})};}};return u;})((function(r){function u(v,w,x,y,z,A,B,C,D,F){var G;G=r.call(this) || this;G.Ng=v;G.mh=w;G.J=y;G.G=z;G.S=A;G.iD=new h.ps(!1);G.hD=new h.ps(m.M.Ha(-Infinity));G.G=h.ii(g.default,G.G,"AsePlayerBuffer [" + w + "]:");G.Eu=new d.$Ea(G.G,x,w);G.resume();A && B && C && (G.ZZ=new l.zPa(w,z,A,G.Ng,A.events,B,C,D),v=new n.THa(null === A || void 0 === A?void 0:A.jm,m.M.Ha(G.J.gZ),z),G.Eu.Cma(v),G.J.YWa && (z=new p.hNa(null === A || void 0 === A?void 0:A.jm,G.J.YWa,m.M.Ha(G.J.EBb),z),G.Eu.Cma(z)),F && (G.tVa=new q.rQa(F),G.Eu.Cma(G.tVa)));G.Ng.on("requestAppended",function(E){G.iD.set(!0);E.request.Qc && G.hD.set(E.request.Qc);G.emit("requestAppended");});return G;}c.__extends(u,r);Object.defineProperties(u.prototype,{Pv:{get:function(){return this.iD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qY:{get:function(){return this.hD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vVb:{get:function(){return this.Eu.Nj;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.mh;},enumerable:!1,configurable:!0}});u.prototype.x4a=function(){};u.prototype.resume=function(){k.W && this.G.trace("resume");this.CBa();};u.prototype.J7a=function(v){return this.Ng.qsa() > v;};Object.defineProperties(u.prototype,{iCb:{get:function(){return this.hM;},enumerable:!1,configurable:!0}});u.prototype.N9b=function(){this.Ng.oZ(!0);};u.prototype.reset=function(v){var w,x;void 0 === v && (v=!1);k.W && this.G.trace("reset");this.stop();this.Ng.reset(v);this.iD.set(!1);this.hD.set(m.M.Ha(-Infinity));v || (this.hM=void 0,null === (w=this.ZZ) || void 0 === w?void 0:w.reset(),null === (x=this.tVa) || void 0 === x?void 0:x.c1b());};u.prototype.Rk=function(v){void 0 === v && (v=!1);k.W && this.G.trace("restart");this.reset(v);this.CBa(!0);};u.prototype.stop=function(){k.W && this.G.trace("stop");this.Eu.Jhb();};u.prototype.close=function(){var v;k.W && this.G.trace("start");null === (v=this.ZZ) || void 0 === v?void 0:v.close();};u.prototype.xb=function(){this.stop();this.close();};u.prototype.vZ=function(){this.J.L8 && this.Ng.R2a();this.Ng.LA();};u.prototype.zF=function(v){this.Ng.zF(v);};u.prototype.fOb=function(v){this.Ng.dbb(v,!0);};u.prototype.Tg=function(v){var w;return !(null === (w=this.ZZ) || void 0 === w || !w.Tg(v));};u.prototype.CBa=function(v){if(!this.Eu.Nj || v)(this.Eu.f7b(),f.AsyncIterator.AWb(this.Eu,this.caa.bind(this)));};u.prototype.caa=function(v){v.done || this.Jza(v.value);};u.prototype.Jza=function(v){var w,x;k.W && this.G.trace("requestReceived: " + (null === (w=this.Eu.YV) || void 0 === w?void 0:w.u.id) + (" " + v.toString() + ", edit: " + JSON.stringify(v.Ca)));this.Ng.endOfStream?k.W && this.G.error("Buffer manager has declared EOS, ignoring request",v.toString()):(this.hM?(this.hM.VWb=v.Ec,this.hM.XWb=v.$e,this.hM.R8a=v.Qc):this.hM={Mlc:v.Zc,Nlc:v.Ad,VWb:v.Ec,XWb:v.$e,R8a:v.Qc},v.nv && v.stream.track.Lo && (null === (x=this.S) || void 0 === x || !x.Mo(v.O.K)) && this.emit("drmNeeded",{K:v.O.K,uca:v.rd}),this.Ng.hCb(v));};return u;})(t.EventEmitter));b.Lfa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Zfa=void 0;t=a(0);c=t.__importStar(a(9));k=t.__importDefault(a(86));g=t.__importDefault(a(4));h=a(996);d=a(14);f=a(179);l=a(7);m=a(2);n=a(20);p=a(363);q=a(410);a=(function(){function r(u,v,w,x,y,z,A,B,C,D){this.wb=u;this.Gi=v;this.G=w;this.VM=x;this.J=A;this.W4=B;this.QUa=C;this.bX=D;this.Mb=this.G.warn.bind(this.G);this.Bj=this.G.trace.bind(this.G);this.bg=this.G.log.bind(this.G);this.Ci=[];this.Fh={};y.so?(m.assert(!y.nq),this.Zja=!0,this.dyb(y,y.so,z)):(this.yp=this.Lz(y.nq || "",y,0,void 0,void 0,{},!0),this.yp.gm=!0,this.yp.Ma=Infinity,this.U5=[this.yp]);this.Zd=this.I4(this.yp,void 0,z);this.Zd.active=!0;u=l.ii(g.default,this.G,"BranchQueue::");this.Aj=new f.kL(u);this.Aj.enqueue(this.Zd);this.Bla=this.eU=void 0;}r.Cra=function(u){return "m" + u;};Object.defineProperties(r.prototype,{ay:{get:function(){return ! !this.Zja;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Jk:{get:function(){return this.Zd.zg;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Vd:{get:function(){return this.yp;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ih:{get:function(){return this.Zd.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{hJb:{get:function(){return this.Zd.O.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Uc:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{eb:{get:function(){return this.Ci;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Re:{get:function(){return this.Zd.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{hh:{get:function(){return this.wb.hh;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{oi:{get:function(){return this.eU?this.eU:this.eb[0];},enumerable:!1,configurable:!0}});r.prototype.xb=function(){this.Ci.forEach(function(u){u.yd();});this.Ci=[];this.Aj.clear();};r.prototype.Ye=function(u){return this.Fh[u];};r.prototype.y5a=function(){return this.Aj.getIterator();};r.prototype.x5a=function(u,v){var w;w=this.Fh[u];if(w)return (u=w.Xl[v]) && u.weight;this.Mb("getSegmentWeight, unknown segment:",u);};r.prototype.dSb=function(u){var v;v=this.Fh[u];if(v)return v.ba;this.Mb("getSegmentStartPts, unknown segment:",u);};r.prototype.cSb=function(u){var v;v=this.Fh[u];if(!v)this.Mb("getSegmentDuration, unknown segment:",u);else if(c.Ja(v.Ma) && isFinite(v.Ma) && c.Ja(v.ba) && isFinite(v.ba))return v.Ma - v.ba;};r.prototype.Xca=function(u){var v;v=-1;this.Ci.some(function(w,x){return w === u?(v=x,!0):!1;});-1 !== v?this.Ci.splice(v,1):this.Mb("Unable to find branch:",u,"in branches array");};r.prototype.XH=function(u,v){var w;w=0;this.Mvb(u).forEach(function(x){(x=x.ce(v)) && (w+=x.VD);});return w;};r.prototype.Bx=function(u,v,w){var x;if(!u.qc(v))return 0;x=u.Za(v);for(x=w?x.ec:x.gr;void 0 === x;){if(!u.Gg)return 0;u=u.Gg;x=u.Za(v);x=w?x.ec:x.gr;}u=this.QUa.Fe();return Math.max(x - u,0);};r.prototype.Uqa=function(u){return this.Ci.filter(function(v){if(v.O.Pb === u)return !0;});};r.prototype.JNb=function(u,v){return this.uTa(u,!1,v);};r.prototype.INb=function(u,v){return this.uTa(u,!0,v);};r.prototype.s6b=function(u,v,w){c.Df(this.Ci,function(x){x.O === u && x.Pgb(v,w);});c.Df(this.Fh,function(x){x.O === u && (x.O=v);});};r.prototype.mfb=function(){var u;u=this;c.Df(this.Ci,function(v){var w;w=u.wb.Lh(v.O.Pb);v.Aq(n.M.Ha(w.gy));});};r.prototype.Ur=function(u){var v;v=this;c.Df(this.Ci,function(w){w.Za(1).track.gd.forEach(function(x){var y;y=p.Vma(x.Te,x.bitrate,u,v.G);k.default(y,x);});});};r.prototype.mv=function(u,v,w,x){var y;for(;v;){y=v.mv(u,w);if(y)return y;if(x)break;v=v.Gg;}};r.prototype.W_a=function(u){var v,w;v=this;void 0 === u && (u=!1);w=this.Ci;u && (w=w.filter(function(x){return x !== v.Zd;}));w.forEach(function(x){x.active=!1;v.Aj.remove(x);});u || this.Aj.clear();return w;};r.prototype.Q4b=function(){var u;for(;0 < this.Ci.length;){u=this.Ci[0];u.Za(0);u.Za(1);if(!u.active)break;if(u === this.Zd)break;if(!u.CTb())break;u.yd();this.Ci.shift();}};r.prototype.i_=function(u,v,w,x,y){if(w > x){for(w-=x;u;){u.i_(v,w,y);u=u.Gg;}return w;}};r.prototype.N9a=function(u,v){for(var w={OV:null,tQ:null,Ad:null,mj:0,In:0,Ae:0,Z:[]};u;){u.G9(w,v);u=u.Gg;}return w;};r.prototype.zFb=function(u){var v,w,x;v=this.Zd;if(v.C9a)w=v.C9a;else {x=this.Zd.Re;w=this.I4(v.u,v);d.Of.forEach(function(y){var z;z=w.ce(y);z && (z.zK(0),y=v.ce(y),z.Lda(y.Jd));});w.Aq(n.M.Ha(x + u));v.C9a=w;}this.bM(w,v);};r.prototype.PAb=function(u,v,w){var x,y;m.assert(!u.ay());if(!this.Zja){this.Zja=!0;this.eU=this.oi;x=this.yp.id || r.Cra(0);this.yp.id=x;this.Fh[x]=this.yp;this.yp.Ma=this.wb.FQb().A4a();this.yp.oF=!0;}y=void 0 !== u.nq?u.nq:r.Cra(u.Pb);u=this.Lz(y,u,v,w,void 0,{},!0);u.oF=!0;this.U5.forEach(function(z){z.Xl={};z.Xl[y]={weight:100};z.fW=y;z.tw=!1;});this.U5=[u];};r.prototype.Qs=function(u,v){var w,x,y,z;w=this.oi;x=w.Ny(v,this.wb.S);y=w.u;z=w.children[u];if(v){if(!y.Xl[u])return (this.Zd.Mb("chooseNextSegment, invalid destination:",u,"for current segment:",y.id),!1);if(w.nl)return w.nl === u;w.nl=u;z && w.O8 && this.bM(z,w);return !0;}if(void 0 !== w.nl)return !1;if(!z)return (x.Gab=!0,!1);x.Gab=!z.ooa();this.wb.Kla(void 0,q.sT.dQ);w.O8=void 0;w.nl=u;this.bM(z,w);w.mE();this.wb.CU();return !0;};r.prototype.ZTb=function(u,v){var w,x,y,z;w=this;z=u.u;v && !u.nl && (u.nl=z.fW,u.Ny(!0,this.wb.S,!0));u.children=Object.create(null);c.Df(z.Xl,function(A,B){u.nl && B !== u.nl || (x=w.Fh[B],y=w.evb(x,u),u.children[B]=y);});u.nl && (v=u.children[u.nl]) && this.bM(v,u);u.O8=!0;};r.prototype.ibc=function(){var u;u=0;c.Df(this.Ci,function(v){d.Of.forEach(function(w){v.qc(w) && (w=v.ce(w),u+=w.Sa.Wq);});});return u;};r.prototype.pac=function(u,v){var w,x,y;w=this;x=this.Kvb(u,v);if(x){if(x !== this.Zd.u){this.W_a();y=this.I4(x,this.Zd,u);y.Gg=void 0;y.TAa(void 0,void 0,!0);this.hub(this.Zd);this.bM(y,this.Zd);}else this.W_a(!0).forEach(function(z){z.yd();w.Xca(z);w.Aj.remove(z);});x === this.oi.u && (this.oi.Py.shift(),y && (y.Py=this.oi.Py,y.nl=this.oi.nl));this.Gi.u5(x,this.Zd.Re);this.Zd.O8=void 0;}else this.Mb("findSegment no segment for manifestIndex:",v);};r.prototype.M9a=function(u,v){var w;w=u.u;v || (v=w.fW);u.nl || (u.nl=v,u.Ny(!0,this.wb.S,!0));(v=u.children[u.nl]) && this.bM(v,u);};r.prototype.rgb=function(u,v){if(this.Zd !== u){if(v)for(v=this.Zd;v && v !== u;){v.active=!1;this.Aj.remove(v);v=v.Gg;}this.Zd=u;}};r.prototype.Aw=function(u,v){var w,x,y,z,A;w=this;if(this.ay){x=this.J;y=this.oi;z=y.u;A=l.V7b(z.id);!y.nl && !z.tw && y.Ec - v <= x.aF && (this.Mb(A + "updatePts making fork decision at playerPts:",u,"contentPts:",v),this.M9a(y));}d.Of.forEach(function(B){w.Zd.qc(B) && w.hh[B].Aw();});};r.prototype.d0b=function(u,v){var w,x;if(this.ay){w=this.eU;if(!(this.J.yUb && u && this.Bla && u.ba === this.Bla || (u=u.Sa.Wa,w && u.u.id === w.u.id))){x=null === w || void 0 === w?void 0:w.ce(1);x=null === x || void 0 === x?void 0:x.Jd;this.Bla=null === x || void 0 === x?void 0:x.ba;this.eU=u;this.Fub(w);w=w && w.PFb(u);this.Gi.Hxb(u.u,v,w);}}};r.prototype.Aba=function(u,v,w){v.gm || (v.ba=this.W4a(u,v.ba,!0),w || (v.Ma=this.W4a(u,v.Ma,!1)),v.gm=!0,!1);};r.prototype.JR=function(u,v){var w;w=this.Fh[u];w?c.Df(w.Xl,function(x,y){x.weight=v[y] || 0;}):this.Mb("updateChoiceMapEntry, unknown segment:",u);};r.prototype.W4a=function(u,v,w){u=w?u.w2a(v):u.OW(v);if(!u.length)return v;v=u[1];return w?v.ba:v.Ma;};r.prototype.$Ta=function(u,v,w){var x;x=v?w.Ec:w.$e;return (v?w.Ada:w.qya) <= u && u < x;};r.prototype.uTa=function(u,v,w){var A;for(var x=this.wb,y=this.Zd;y;){if((!c.Ja(w) || x.wua(w,y.O.Pb)) && this.$Ta(u,v,y))return y;y=y.Gg;}if(v){y=Object.keys(this.Zd.children);for(var z=0;z < y.length;z++){A=this.Zd.children[y[z]];if((!c.Ja(w) || x.wua(w,A.O.Pb)) && this.$Ta(u,v,A))return A;}}};r.prototype.evb=function(u,v){var w,x;w=this.I4(u,v);x=w.TAa(v,void 0,this.J.kza);d.Of.forEach(function(y){var z,A,B;if(w.qc(y)){z=w.ce(y);A=v.ce(y);B=x[y];1 === y && w.Aq(n.M.Ha(A.ec + v.Re - B));z.zK(B);}});this.Gi.u5(u,w.Re);return w;};r.prototype.hub=function(u){for(var v=[u.u.id];u.Gg;){u=u.Gg;v.unshift(u.u.id);}this.Rja(u);};r.prototype.Rja=function(u){var v,w;v=this;w=u.u;c.Df(u.children,function(x){x && v.Rja(x);});this.Aj.remove(u);u.yd();this.Xca(u);this.Gi.pla(w);};r.prototype.bM=function(u,v){var w,x,y,z;w=this;x=v.u;v.O !== u.O && this.wb.nUa(u.O.Pb);u.active=!0;this.Aj.enqueue(u);u.uN();y=g.default.time.ia();z={};c.Df(v.children,function(A){var B,C;if(A){if(A.ue){B=A.ce(0);C=A.ce(1);A.ue.MD=[B?B.wo.T:0,C?C.wo.T:0];A.ue.kLb=y - A.ue.x$;A.ue.x$=void 0;z[A.u.id]=A.ue;}A.u.id !== u.u.id && w.Rja(A);}});v.children=Object.create(null);v.children[u.u.id]=u;v.oM=void 0;this.rgb(u);this.Gi.Fxb(u.u,z);1 < Object.keys(x.Xl).length && u.ooa();};r.prototype.Fub=function(u){var v,w;if(u){v=g.default.time.ia();w=u.Py[0];w && void 0 === w.Q7?w.Q7=v - w.Qr:w || (this.Mb("missing metrics for branch:",u.u.id),w={Xda:u.u.id,xe:!0,Q7:0,ue:{}},u.Py.unshift(w));void 0 === w.startTime && (w.startTime=v);}};r.prototype.Kvb=function(u,v){var x,y,z,A;m.assert(0 <= u);for(var w in this.Fh){x=this.Fh[w];if(this.wb.wua(x.O.Pb,v)){if(x.ba <= u && (Infinity === x.Ma || void 0 === x.Ma || u < x.Ma))return x;y=Math.min(Math.abs(u - x.ba),Math.abs(u - x.Ma));if(c.na(z) || y < z)(z=y,A=x);}}return A;};r.prototype.Lz=function(u,v,w,x,y,z,A,B,C){v=new h.vQa(u,v,w,x,y,z,A,B,void 0,C);return this.Fh[u]=v;};r.prototype.dyb=function(u,v,w){var x,y,z;x=this;this.yp=void 0;this.U5=[];y=null;z=null;c.Df(v.segments,function(A,B){var C,D,F,G,E;C=A.startTimeMs;D=A.endTimeMs;F={};c.Df(A.next,function(I,L){F[L]={weight:I.weight || 0,sbc:I.transitionHint || A.transitionHint,xlc:"number" === typeof I.earliestSkipRequestOffset?I.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.na(G) && (G=Object.keys(F)[0]);E=c.na(G);G=x.Lz(B,u,C,D,G,F,E,A.exitZones,A.transitionHint);C <= w && (w < D || c.na(D))?x.yp=G:C > w && (!y || C < z) && (y=B,z=C);E && x.U5.push(G);});this.yp || (this.yp=y?this.Fh[y]:this.Fh[v.initialSegment]);};r.prototype.I4=function(u,v,w){var x,y,z,A;x=u.O;y=this.wb.Lh(x.Pb);z=y.gy;A=[];[0,1].forEach(function(B){x.qc(B) && A.push(y.wr(B));});u=new q.kKa(this.wb,this.J,this.Gi,this.G,this,this.W4,this.QUa,this.VM,u,A,z,v,w?n.M.Ha(w):void 0,this.bX,this.wb.hh,this.wb.px);this.jub(u);this.Ci.push(u);return u;};r.prototype.jub=function(u){var w;function v(x){w.wb.emit(x.type,x);}w=this;u.addListener("locationSelected",v);u.addListener("logdata",v);u.addListener("serverSwitch",v);u.addListener("streamSelected",v);u.addListener("lastSegmentPts",v);u.addListener("managerdebugevent",v);u.addListener("requestCreated",function(x){x=x.request;w.wb.Pla(x.mediaType,x.ba);});};r.prototype.Mvb=function(u){for(var v=[u];u.Gg;){u=u.Gg;v.push(u);}return v;};return r;})();b.Zfa=a;},function(t,b,a){var h,d,f,l;function c(m,n,p){this.nF=n;this.Vl=p;this.kC=this.XX=this.Yxa=this.ucb=this.tcb=this.fQ=this.gd=this.l3b=this.Vl=this.Pn=this.ec=this.ba=this.bu=this.ip=this.Z=this.q7a=this.sV=void 0;}function k(m,n,p){this.Ma=n;this.d8a=p;this.dXa=this.flb=this.Hs=this.ip=this.sJ=this.Kx=void 0;}function g(m,n,p,q,r,u,v){var w;w=new c(p,n,m.Vl);m.forEach(function(x){var y,z;y=x.buffer;z=y.Z;x.mediaType === d.$a.cc?w.sV=z.length?z[0].bitrate:void 0:x.mediaType === d.$a.Jb && (w.q7a=z.length?z[0].bitrate:void 0,w.Z=z,w.ip=y.Ak - y.mc,w.bu=y.Ae,w.ba=y.mc,w.ec=y.ec,w.Pn=x.me,w.Vl=x.Vl,w.l3b=n - x.Vl,w.gd=x.gd,w.fQ=z.filter(function(A){return w.ba <= A.Ay;}).length);});this.bk=w;this.fv=void 0;this.b0a=q;this.Fy=r;this.XXa=u;this.hza=this.Rca=this.Mbb=this.pC=this.nN=this.r2a=this.Wy=this.gd=this.fv=void 0;this.pBb=v;this.wya={};}h=a(0);d=a(28).default;f=a(29).assert;l=a(14).va;c.prototype.constructor=c;k.prototype.constructor=k;g.prototype.constructor=g;g.prototype.zI=function(m,n){var p,q,r,u,v,w,x,y,z,A,B,C,D,I,L,K,H,R,O;p=this.bk;q=[];r=m[d.$a.Jb];u=m[d.$a.cc];if(void 0 === r || void 0 === u)return !1;v=r.buffer;w=u.buffer;x=p.gd.filter(function(J){return J.s9();});if(void 0 === v || void 0 === w || void 0 === x || 0 === x.length)return !1;y=new k(n?l[n]:"maxbitratechanged",r.mc,n === l.$f);z=0;A=0;B=0;C=0;D=p.ba;m=m[d.$a.Jb].mc;for(var F=p.Z,G=p.fQ,E=0;E < G;E++){I=F[E];L=I.offset;K=I.offset + I.aa - 1;H=I.en;R=I.UB;O=R + H;I && R <= m && O > D && (H=I.en,R=Math.min(H,Math.min(m,O) - Math.max(R,D) + 1),C+=R,z+=R / H * (K - L + 1),A+=I.bitrate * R,B+=I.cb * R);}p.tcb=z;p.ucb=C;p.Yxa=0 < C?A / C:0;p.I2b=0 < C?B / C:0;p.XX || (p.XX=0,x.some(function(J,M){if(J.bitrate === p.q7a)return (p.XX=M,!0);}));x.forEach(function(J){var M,S;J=J.s9();M=[];p.kC || (p.kC=J.kn(p.ba,void 0,!0));y.Kx || (y.Kx=J.kn(y.Ma,void 0,!0),y.sJ=J.length - 1);p.Pn !== p.kC + p.fQ && (p.Pn=p.kC + p.fQ);G=Math.min(y.sJ,y.Kx + 1);for(var P=p.kC;P <= G;P++){S=J.get(P);M[P]=S;}q.push(M);});n === l.$f && (y.ip=v.Ak - v.mc,y.Hs=w.Ak - w.mc,y.flb=r.leb,y.dXa=u.leb);this.fv=y;this.gd=x;this.Wy=q;return this.r2a=!0;};g.prototype.YA=function(){var m,n,p,q,r,u,v,w,x,y,z,D,F,G,E,I,H,R;if(this.Kk)return this.Kk;p=this.pC;q=this.bk;r=this.fv;u=this.gd;v=this.Mbb;w=this.pBb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(r.d8a)(x=!1,y=!0);else r.Kx - q.kC + 1 <= q.fQ?y=x=!0:(x=!0,y=!1);z=!0;}if(v)for(var A=v.E$,B=v.AO,C=0;C < w.length;C++){D=w[C];(p=v[D]) && p.$wa && (y=!0);}r={bst:q.Vl,pst:q.nF,s:q.kC,e:r.Kx,prebuf:q.fQ,brsi:q.Pn,pbdlbytes:q.tcb,pbdur:q.ucb,pbtwbr:q.Yxa,pbvmaf:q.I2b};this.Fy && (r.fragmentsPrebuffered=q.Z);z && (r.nt=z);y && (r.nd=y);A && (r.invalid=A);B && (r.exception=B);this.hza && (r.rr=this.hza);this.Rca && (r.ra=this.Rca);if(!y && !A && !B && (this.b0a || this.Fy)){r.bitrate=u.map(function(O){return O.bitrate;});p=this.pC;D=p.trace;F=[];E=0;D.forEach(function(O){O=Number(O).toFixed(0);F.push(O - E);E=O;});r.tput={ts:p.timestamp,trace:F,bkms:p.pA};}if(y || z || A || B)r.feasible=x;else for((r.sols={},r.elapsed=v.ELb,C=0);C < w.length;C++){D=w[C];p=v[D];y={};if(p && p.Wr){y.algelapsed=p.oBb;y.maxHeapTotal=p.wB;y.f=p && p.pt || !1;y.dltwbr=p.K0a;y.dlvmaf=p.N0a;y.dlvdur=p.M0a;y.dlvbytes=p.L0a;y.dlabytes=p.I0a;if(this.b0a || this.Fy){G=p.Wr.filter(function(O){return O;}).map(function(O){return O.bf;});E=0;I=[];G.forEach(function(O){I.push(O - E);E=O;});y.strmsel=I;}if(this.Fy){z=[];x=this.bk.Pn;try{for(var L=(m=void 0,h.__values(G)),K=L.next();!K.done;K=L.next()){H=K.value;R=this.Wy[H][x];R.Lf=H;z.push(R);x++;}}catch(O){m={error:O};}finally{try{K && !K.done && (n=L.return) && n.call(L);}finally{if(m)throw m.error;}}y.fragsel=z;y.streamList=this.gd;y.pause_dlnd_sec=p.Wr.filter(function(O){return O;}).map(function(O){return O.Vxa;});y.buffer_sec=p.Wr.filter(function(O){return O;}).map(function(O){return O.Ina;});y.buffer_kb=p.Wr.filter(function(O){return O;}).map(function(O){return O.Hna;});y.buffer_frags=p.Wr.filter(function(O){return O;}).map(function(O){return O.cYa;});y.elapsed_secs=p.Wr.filter(function(O){return O;}).map(function(O){return O.k1a;});y.throughput=p.Wr.filter(function(O){return O;}).map(function(O){return O.Na;});}}r.sols[D]=y;}return this.Kk=r;};g.prototype.UNb=function(m){var q;if(void 0 !== this.wya[m])return this.wya[m];for(var n=this.Wy[this.bk.XX],p=0;p < n.length;p++){q=n[p];if(q && q.ba <= m && q.ba + q.duration > m)return this.wya[m]=q;}throw Error("findPlayingFragment: missing");};t.exports=g;},function(t,b,a){var g,h;function c(d,f,l){this.aa=d;this.Mn=f;this.quality=l;}function k(d,f){this.Yva=f;void 0 === f && (this.Yva=!0);this.Vm=d;this.wub();}g=a(0);h=a(2).assert;c.prototype.constructor=c;c.prototype.aB=function(){return 8 * this.aa / 1E3 / this.Mn;};k.prototype.constructor=k;k.prototype.qh=function(d,f,l,m,n){void 0 === f && (f=0);void 0 === l && (l=d.cP());void 0 === m && (m=0);void 0 === n && (n=d.Vm.length);for(var p=[],q,r=m;r < n;r++){m=[];for(var u=f;u < l;u++){q=d.Vm[r][u];m.push(q);}p.push(m);}return new k(p,d.Yva);};k.prototype.wub=function(){var d,f,n;f=this.Vm[0].length;try{for(var l=g.__values(this.Vm.slice(1)),m=l.next();!m.done;m=l.next()){n=m.value;h(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{m && !m.done && (d=l.return) && d.call(l);}finally{if(p)throw p.error;}}this.Yva && this.xub();this.yub();};k.prototype.cP=function(){return this.Vm[0].length;};k.prototype.xub=function(){for(var d=0;d < this.Vm.length - 1;d++){for(var f=0;f < this.cP();f++){h(this.Vm[d][f].aa <= this.Vm[d + 1][f].aa,"Chunk size for epoch " + f + " is not monotonic");}}};k.prototype.yub=function(){for(var d=0;d < this.Vm.length - 1;d++){for(var f=0;f < this.cP();f++){h(1E-8 > Math.abs(this.Vm[d][f].Mn - this.Vm[d + 1][f].Mn),"Chunk duration for epoch " + f + " is not consistent");}}};k.prototype.USb=function(){var d;d=[];this.Vm[0].forEach(function(f){d.push(f.Mn);});return d;};t.exports={Bnb:c,Cnb:k};},function(t,b,a){var h;function c(){}function k(d,f,l){void 0 === l && (l=!1);h(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");h(1E-8 < g(d),"bitrate zero, won't be able to send anything.");this.KD=d;this.e1a=f;this.repeat=l;this.$m=this.Pp=0;}function g(d){return d.reduce(function(f,l){return f + l;},0);}h=a(2).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.qh=function(){var d;d=new k(this.KD,this.e1a,this.repeat);d.Pp=this.Pp;d.$m=this.$m;return d;};k.prototype.jta=function(){return this.KD[this.Pp % this.KD.length];};k.prototype.AE=function(){return this.e1a[this.Pp % this.KD.length];};k.prototype.hLb=function(d){h(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Pp && this.Pp < this.KD.length))throw new c();h(this.$m < this.AE(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.AE() - this.$m;f=d < f?d:f;d-=f;this.$m+=f;if(this.$m < this.AE())break;this.$m-=this.AE();this.Pp+=1;if(!this.repeat && this.Pp >= this.KD.length){if(0 < d)throw new c();break;}}};k.prototype.rcb=function(d){this.hLb(d);};k.prototype.iLb=function(d){h(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Pp && this.Pp < this.KD.length))throw new c();h(this.$m < this.AE(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,l=0;;){f=this.AE() - this.$m;f=d < f * this.jta()?d / this.jta():f;d-=this.jta() * f;l+=f;this.$m+=f;if(this.$m < this.AE())return l;this.$m-=this.AE();this.Pp+=1;if(!this.repeat && this.Pp >= this.KD.length){if(0 < d)throw new c();return l;}}};t.exports={Mtb:k,Ntb:c};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Btb=b.Rha=b.Dtb=b.VQa=void 0;t=a(0);c=t.__importStar(a(9));k=t.__importDefault(a(4));g=t.__importDefault(a(29)).default.hJ;h=t.__importStar(a(7)).ii;d=t.__importDefault(a(423));f=a(406);l=a(222);m=a(14);n=a(22);p=a(2);q=a(97);r=a(253);a=(function(){function x(y,z,A,B,C,D,F,G,E,I,L){var K;K=this;this.G=y;this.fh=z;this.J=A;this.qc=B;this.S=C;this.aR=D;this.Vb=F;this.Gb=G;this.Bg=E;this.V6=I;this.rH=L;this.O5=[];this.Ula=[];this.wUa=[];this.NSa=void 0;[0,1].forEach(function(H){K.qc(H) && (K.O5[H]=new w(K.G,H),K.Ula[H]=new u(H),K.wUa[H]=new v(H));});this.Rkb=new q.NG(this.G);this.wC=q.YD(this.J,this.Rkb);this.jna=q.XD();this.YG=void 0;}Object.defineProperties(x.prototype,{Vf:{get:function(){return this.O5;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lC:{get:function(){return this.Ula;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ly:{get:function(){return this.wUa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nA:{get:function(){return this.NSa;},set:function(y){this.NSa=y;},enumerable:!1,configurable:!0}});x.prototype.Ur=function(y,z){this.Rkb.Ur(y,z);};x.prototype.Xva=function(y){var z,A,B,C,D,F;z=this.J;A=y.mediaType;B=k.default.Xp()[A];C=z.Occ?0 === A?z.iV:z.$0:1 === A?z.iV:z.$0;D=this.S.getState();F=this.S.Fe();z=y.Sa.Wa;A=this.V6.N9a(z,A);B={fr:B,ba:A.Ad,mc:F,ec:A.tQ || F,Ak:A.OV || F,Ae:A.Ae,mj:A.mj,In:A.In,b3a:A.Z.length,Z:[]};C={state:D,Cr:this.S.Cr(),me:y.fm,buffer:B,rW:C,B9a:! !this.aR.xaa,mO:! !this.aR.Jt,Wq:this.Vb && this.Vb.Wq,Sca:y.hSb,playbackRate:this.S.Yp()};void 0 === C.me && (C.me=y.Vqa(B.ec));C.AV=z.AV;B.Z=A.Z;c.Ja(B.ba)?y.seeking && B.mc != B.ba && (B.mc=B.ba):(B.ba=0,B.ec=0);this.fh.LEb(C);this.fh.OAb(C);return C;};x.prototype.noa=function(y,z,A){var G,E;y=this.O5[y];for(var B=y.maxBitrate,C="manifest",D=0,F=z.length - 1;0 <= F;F--){G=z[F];E=G.bitrate;if(g(G)){D=Math.max(D,E);break;}else this.J.n0 && !G.ov?C="bc":G.Iv?G.dB && (C="hf"):C="av";}if(void 0 === B || D !== B)(y.maxBitrate=D,this.Gb.Z_b(B,D,C,A));};x.prototype.fSb=function(y){return this.Vsa(y).Lf;};x.prototype.Vsa=function(y){var z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U;z=this.J;A=y.mediaType;B=1 == A;C=0;D=this.O5[A];F=this.Ula[A];if(!D.Jf)return {Lf:void 0};G=this.Xva(y);E=y.ze;I=E.Po;L=y.oaa.O;K=y.track.gd;if(!L.zn.S0(L.K,K))return (y.fl("location selector did not find any urls"),{Lf:void 0});H=r.sca(G.state);R=B?this.wC:this.jna;try{O=R.hn(K,H);}catch(T){this.G.error("StreamFilters: filterStreams: " + T);O=[K[0]];}0 === O.length && (this.G.error("StreamFilters: empty list"),O=[K[0]]);if(this.rH.Ws && (y.qE.length !== O.length || 0 < n.Ku(y.qE,O).length || 0 < n.Ku(O,y.qE).length)){try{this.YG && this.HNb();}catch(T){this.Gb.Ro("Hindsight: Error when handling maxbitrate chagned: " + T);}y.qE=O;}H=I?I.Lf:D.nra;try{if(I && (C=I.bitrate,I && E.track && !I.track.equals(E.track))){J=f.Xqa(O,C) || 0;M=O[J];if(I.bitrate !== M.bitrate || 1 === A)G.state=m.va.dh;I=M;H=K.indexOf(M);}}catch(T){this.G.error("StreamFilters: track change: " + T);}if(!B && (C=z.wR,!(C && 0 < C.length) && H && K[H] && I && I.location === K[H].location))return {Lf:H};I=this.fh;try{P=I.TO(A);S=B?I.aX():I.HX();U=y.ck.BAa(G,O,S,P,D.Jf.config.zt,L.pr);if(!U)return (y.fl("stream selector did not find a stream"),{Lf:void 0});}catch(T){this.G.error("StreamFilters: stream selector: " + T);U={bf:0};}U.bf=K.indexOf(O[U.bf]);this.aR.Jt && this.aR.Jt.TAb(y.mediaType,U,K);B && this.noa(A,O,y.ec);G=U.bf;O=K[G];P=O.bitrate;G != H && (B && z.oO && this.Bg.DSa(y,P),B?I.AK(P):I.Iy(P));c.Ja(D.nra) || (D.nra=G);y.hf || (U.hf?(p.assert(void 0 !== U.W6),y.Hda(U.W6),F.Ru=U.W6):(y.VE=U.VE,y.jK=U.jK,y.progress=U.progress));this.Kz();if(B)if(U.IA)L.bR(U.IA);else if(!L.Z9() && !z.mhb)for(y=0;y < K.length;++y){if((z=K[y],z.Kv && !L.Vp(A,z.Qa))){L.bR([z.Qa]);break;}}U.vXa && this.Gb.f0b(U.vXa);return {Qa:O.Qa,Lf:G,qy:U.qy};};x.prototype.Kz=function(){var y,z,A,B,C,D;A=this.Vf[0];B=this.Vf[1];C=this.lC[1];D=this.lC[0];A=this.V6.Uc.DEb(null !== (y=null === B || void 0 === B?void 0:B.cw) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.cw) && void 0 !== z?z:0,this.nA,this.aR.TZ);A.Ru && (this.aR.Vn && C?C.Ru=A.Ru:D && (D.Ru=A.Ru));return A.hf;};x.prototype.Tqa=function(y,z){var A,B,C,D;A=this;if(this.YG){B=this.YG;C=this.S.Fe();D=[];z && (C=z.Ma);l.Of.forEach(function(F){var G,E;G=A.V6.Uc.ce(F);if(G){E=A.Xva(G);E.mediaType=F;E.mc=C;y === m.va.$f && (E.leb=G.Sa.Pma(C));D[F]=E;}});B.r2a || B.zI(D,y) || this.Oza();return B;}};x.prototype.HNb=function(){var y,z;y=this.YG;z=this.J;y && (this.Tqa(void 0),y && !y.nN && this.fh.$ya.Aqa(y));this.r_a(z);};x.prototype.Oza=function(){this.YG=void 0;};x.prototype.rcc=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.YG;B=this.J;y === m.va.Jc && z !== m.va.Jc?(A && this.G.warn("override an existing play segment!"),this.r_a(B,z,!0)):y !== m.va.Jc && z === m.va.Jc && A && (this.Tqa(y),A && !A.nN && this.fh.$ya.Aqa(A),this.Oza());};x.prototype.r_a=function(y,z,A){var B,C,D;B=this;C=[];l.Of.forEach(function(F){var G,E,I;G=B.V6.Uc.ce(F);if(G){E=B.Xva(G);if(A){I=B.Vf[F];I.yBa?(E.Vl=I.yBa,I.yBa=void 0):E.Vl=I.Vl;}else E.Vl=k.default.time.ia();E.gd=G.qE;E.mediaType=F;C[F]=E;}});D=k.default.Xp();D={Tjc:D[0],Pkb:D[1],nnc:y.x$a,hq:y.hq};this.YG=new d.default(C,k.default.time.ia(),z,this.rH.zW,y.Fy,D,y.i$);};return x;})();b.VQa=a;u=(function(){function x(y){this.mediaType=y;this.CV=this.Ox=this.iB=this.Ru=this.jB=void 0;}x.prototype.vcc=function(y,z,A){this.jB=y?y:this.jB;this.Ru=this.Ru;this.iB=z?z:this.iB;this.Ox=A?A:this.Ox;};return x;})();b.Dtb=u;v=(function(){return function(x){this.mediaType=x;this.lva=this.sva=this.nva=this.nJ=void 0;};})();b.Rha=v;w=(function(){return function(x,y){this.mediaType=y;this.G=h(k.default,x,"[" + y + "]");this.fl=this.G.error.bind(this.G);this.Mb=this.G.warn.bind(this.G);this.Bj=this.G.trace.bind(this.G);this.bg=this.G.log.bind(this.G);this.G.debug.bind(this.G);this.nra=this.Vl=this.Kp=this.Jf=void 0;this.UZ=this.cw=0;this.UR=!1;this.maxBitrate=void 0;};})();b.Btb=w;},function(t,b,a){var q,r,u,v,w,x,y,z,A,B,C,D,F;function c(){}function k(G,E){var I,L,K,H;I=q.fd(E)?E:c;this.J=G || ({});(function(R,O,J){this.nk[R].Oe[O]=J;}).bind(this);(function(R,O){return this.nk[R].Oe?this.nk[R].Oe[O]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.bb=G.Blc?D.bb:c;L=v.jIb(G);K=this.J.dailyDiskCacheWriteLimit;if(L){this.gx=L;H=m(G.wnc || F,v.cQb());this.eA=function(R){return q.na(H) || null === H || void 0 === this.nk[R]?!1:!q.na(H[R]);};H?(this.nk={},E=r.Promise.all(Object.keys(H).map(function(R){return new r.Promise(function(O,J){var M;M=H[R];M.zkb=G.zkb;new w(R,L,M,function(P,S){P?J(P):O(S);},K);});})).then((function(R){R.map((function(O){var J;J=O.ox;this.nk[J]=O;H[J].FOb=H[J].fr - O.dA;this.nk[J].on(w.Ke.REPLACE,(function(M){M=M || ({});M.partition=J;M.type="save";this.bb("mediacache",M);}).bind(this));this.nk[J].on(w.Ke.rSa,(function(M){M=M || ({});M.partition=J;M.type="save";this.bb("mediacache",M);}).bind(this));this.nk[J].on(w.Ke.Yf,(function(M){M=M || ({});M.partition=J;M.type=w.Ke.Yf;this.bb("mediacache-error",M);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(R){f(L,r.storage.gT,Object.keys(H));return R;}).bind(this)).then((function(R){Object.keys(R.nk).map(function(O){R.nk[O].dsa().map(function(J){R.delete(O,J);});});R.Gv=!0;I(null,R);}).bind(this)).catch((function(R){u.error("Failed to initialize media cache ",R);this.dJ=B.lGa;I(this.dJ,this);}).bind(this)),C.zy(E)):(this.dJ=B.qqb,I(this.dJ,this));}else (this.dJ=B.lGa,I(this.dJ,this));}function g(G,E,I,L,K,H){var R;R=H?"mediacache-error":"mediacache";E={partition:I,type:E,resource:L,time:r.time.now()};H && (E.error=H);K && (q.Ja(K.duration) && (E.duration=K.duration),q.Ja(K.rA) && (E.bytesRead=K.rA));try{G.bb(R,E);}catch(O){u.warn("caught exception while emitting basic event",O);}}function h(G,E,I,L,K){var H;H=K?"mediacache-error":"mediacache";E={partition:I,type:E,resources:L,time:r.time.now()};K && (E.error=K);try{G.bb(H,E);}catch(R){u.warn("caught exception while emitting basic event",R);}}function d(G){return !x.sP(G) && !z.PVb(G);}function f(G,E,I){G.query(E,"",function(L,K){L || Object.keys(K).filter(function(H){return 0 > I.indexOf(H.slice(0,H.indexOf(".")));}).map(function(H){G.remove(E,H,c);});});}function l(G,E,I){var K,H;function L(R){G.delete(K,function(O){O?I(O):(delete G.Oe[H],O=Object.keys(R.resourceIndex),O=r.Promise.all(O.map(function(J){return new r.Promise(function(M,P){G.delete(J,function(S){S?P(S):M(J);});});})).then(function(){I();},function(J){I(J);}),C.zy(O));});}if(x.sP(E))(K=E,H=x.x8(E));else (K=x.gpa(E),H=E);(E=G.Oe[H])?L(E):G.read(K,function(R,O){R?I(R):L(O);});}function m(G,E){var I,L,K;I={};L=G.partitions.reduce(function(H,R){return H + R.capacity;},0);K=E / L;G.partitions.map(function(H){var R;R=H.key;I[R]={};I[R].fr=Math.floor(K * H.capacity);I[R].iJb=H.dailyWriteFactor || 1;I[R].Znc=H.owner;I[R].QMb=H.evictionPolicy;});return I;}function n(G,E,I){if(I)return z.OKb(G,E).reduce(function(L,K){Object.keys(K).map(function(H){L[H]=K[H];});return L;},{});I={};I[G]=E;return I;}function p(G,E,I,L,K,H,R,O,J,M,P){return function(S,U){S?q.isArray(S)?(U=S.map(function(T){return T.error;}),U.some(function(T){return T.code === B.lL.code;}) && !U.some(function(T){return T.code === B.r4.code;})?P(M,S,function(){J.save(E,I,L,K,H,R);}):(M.delete(O),delete M.Oe[I],H({error:S[0].error,Wv:S[0].Wv,type:S[0].type,GWa:S}))):H({error:S,Wv:E,type:"save"}):(S=U.items.filter(function(T){return 0 <= Object.keys(G).indexOf(T.key);}).reduce(function(T,W){return T + W.aaa;},0),M.Oe[I].Lgb(S),S={FOb:U.Eo,Wkc:U.ZN,ll:0,items:U},0 < U.ll && (S.ll=U.ll),0 < U.duration && (S.duration=U.duration),H(null,S));};}q=a(9);r=a(127);u=new r.Console("MEDIACACHE","media|asejs");v=a(1010);w=a(1011);x=a(428);y=a(128);z=a(1018);A=a(1019);B=a(261);C=a(262);D=a(429).EventEmitter;F={doc:[]};k.prototype.j_=function(G,E,I){var L;L=q.fd(I)?I:c;this.eA(G)?this.nk[G].query(E,function(K,H){K?(u.error("Failed to query resources",K),L([])):L(H.filter(d));}):L([]);};k.prototype.read=function(G,E,I){var L,K,H,R;L=q.fd(I)?I:c;if(this.eA(G)){K=this.nk[G];H=K.Oe[E];if(!x.sP(E) && this.J.tZb){R=(function(O){K.Oca(Object.keys(O),(function(J,M,P){J?L(B.QL.fs("Failed to read " + E,J)):(g(this,"read",G,E,P),L(null,z.kVb(M)));}).bind(this),O);}).bind(this);H?R(H.resourceIndex):this.h5b(G,E,function(O,J){O?L(B.QL.fs("Failed to read " + E,O)):R(J.resourceIndex);});}else K.read(E,(function(O,J,M){O?L(B.QL.fs("Failed to read " + E,O)):(H && H.convertToBinaryData && (J=A.kGb(J)),g(this,"read",G,E,M),L(null,J));}).bind(this));}else L(B.OC);};k.prototype.Oca=function(G,E,I){var L,K;L=q.fd(I)?I:c;if(this.eA(G)){K={};E=r.Promise.all(E.map((function(H){return new r.Promise((function(R,O){this.read(G,H,function(J,M){J?(M={},M[H]=J,O(M)):(K[H]=M,R());});}).bind(this));}).bind(this))).then(function(){L(null,K);},function(H){L(H);});C.zy(E);}else L(B.OC);};k.prototype.Hfb=function(G,E,I){var L;L=q.fd(I)?I:c;this.eA(G)?"[object Object]" !== Object.prototype.toString.call(E)?L(B.q4.fs("items must be a map of keys to objects")):(I=new r.Promise((function(K){var H,R;H=this.nk[G].dsa();R=Object.keys(E);(H=H.filter(function(O){return -1 === R.indexOf(O);})) && 0 < H.length?this.u0a(G,H,function(){K();}):K();}).bind(this)).then((function(){return r.Promise.all(Object.keys(E).map((function(K){return new r.Promise((function(H,R){this.save(G,K,E[K].Rr,E[K].Ac,function(O,J){O?(u.error("Received an error saving",K,O),R(O)):H(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(K){var H,R,O;try{H=Number.MAX_VALUE;R=Number.MAX_VALUE;O=K.reduce(function(J,M){M.Eo && M.Eo < H && (H=M.Eo);M.ZN && M.ZN < R && (R=M.ZN);H < Number.MAX_VALUE && (J.freeSize=H);R < Number.MAX_VALUE && (J.dailyBytesRemaining=R);q.Ja(M.ll) && (J.bytesWritten+=M.ll);q.Ja(M.duration) && (J.duration+=M.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(E),time:r.time.now(),bytesWritten:0,duration:0});this.bb("mediacache",O);L(null,O);}catch(J){L(err);}}).bind(this),(function(K){q.isArray(K.GWa)?K.GWa.forEach((function(H){this.bb("mediacache-error",{partition:G,type:"saveMultiple",error:H.error,resources:H.resources});}).bind(this)):this.bb("mediacache-error",{partition:G,type:"saveMultiple",error:K});L(K);}).bind(this)),C.zy(I)):(q.fd(I)?I:c)(B.OC);};k.prototype.save=function(G,E,I,L,K,H){var R,O,J,M,P,S,U,T,W;R=q.fd(K)?K:c;if(this.eA(G)){O=this.nk[G];J=x.gpa(E);K=O.dsa();K=K.filter(function(ia){return ia !== E;});if(q.na(L) || q.qb(L) || !q.Ja(L.lifespan))R(B.Qqb);else {M=n(E,I,this.J.tZb);P=O.Oe[E] || ({});S=P.resourceIndex;S && Object.keys(S).map(function(ia){q.na(M[ia]) && O.delete(ia);});L.convertToBinaryData && (I=A.lGb(M),M=n(E,I,!1));S=r.time.now();U={};U.partition=G;U.resourceIndex=Object.keys(M).reduce(function(ia,pa){ia[pa]=y.hta(M[pa]);return ia;},{});U.creationTime=P.creationTime || S;U.lastRefresh=S;U.lifespan=L.lifespan;U.lastMetadataUpdate=S;U.size=P.size;U.convertToBinaryData=L.convertToBinaryData;T=(function(ia,pa,wa){ia.gKb((function(za,Ca){za && u.error("Evicting","Failed to delete some orphaned records",za);Ca.mza?wa():(za=ia.nQb())?this.delete(ia.ox,za,(function(N){N?(H || (q.isArray(pa)?pa.forEach((function(Q){h(this,"save",ia.jRb,Q.resources,Q.error);}).bind(this)):g(this,"save",ia.ox,E,void 0,pa)),R(pa)):wa();}).bind(this)):R(B.lL);}).bind(this));}).bind(this);W=(function(){var ia,pa,wa;ia=this.nk;pa=0;wa=r.time.now();if(!q.na(ia))for(var za in ia){pa+=ia[za].DPb(wa);}return pa;}).bind(this);this.u0a(G,K,(function(){O.replace(J,U,(function(ia,pa){pa?(O.Oe[E]=x.zra(U),O.u6b(M,p(M,G,E,I,L,R,H,J,this,O,T),H,W)):ia.code === B.lL.code?T(O,ia,(function(){this.save(G,E,I,L,R,H);}).bind(this)):R(ia);}).bind(this),H,W);}).bind(this));}}else R(B.OC);};k.prototype.delete=function(G,E,I){var L;L=q.fd(I)?I:c;this.eA(G)?l(this.nk[G],E,(function(K){g(this,"delete",G,E,void 0,K);L(K);}).bind(this)):L(B.OC);};k.prototype.u0a=function(G,E,I){var L,K;L=q.fd(I)?I:c;if(this.eA(G)){K=this.nk[G];I=r.Promise.all(E.map((function(H){return new r.Promise((function(R){l(K,H,(function(O){R({ca:q.na(O),error:O,Rr:H});}).bind(this));}).bind(this));}).bind(this))).then((function(H){var P,S;for(var R=[],O=[],J=[],M=0;M < H.length;M++){P=H[M];P.ca?R.push(P.Rr):P.error && O.push(P);}0 < R.length && h(this,"delete",G,R);if(0 < O.length){J=O.map(function(U){return U.Rr;});H=C.U5a(O);S=H[0];H.forEach((function(U){u.error("Failed to delete resources ",U.error,U.resources);h(this,"delete",G,U.resources,U.error);}).bind(this));}H={};H.Boc=R;0 < J.length && (H.Coc=J);S?L(S,H):L(void 0,H);}).bind(this),(function(H){h(this,"delete",G,E,H);L(H);}).bind(this));C.zy(I);}else L(B.OC);};k.prototype.clear=function(G,E){var I;I=q.fd(E)?E:c;this.eA(G)?this.nk[G].clear(function(L){I(L.filter(d));}):I(B.OC);};k.prototype.h5b=function(G,E,I){var L,K;L=q.fd(I)?I:c;if(this.eA(G)){K=this.nk[G];K.read(x.gpa(E),function(H,R){var O;if(H)L(B.Rqb);else {O=x.zra(R) || ({});K.b5a(Object.keys(O.Tza),function(J){O.size=J;(J=K.Oe[E]) && (O.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= O.lastMetadataUpdate?K.Oe[E]=O:J.lastMetadataUpdate && (J.lastMetadataUpdate > O.lastMetadataUpdate || q.na(O.lastMetadataUpdate)) && (O=J));L(null,O);});}});}else L(B.OC);};k.prototype.constructor=k;t.exports=k;},function(t,b,a){var h,d;function c(f,l,m,n,p,q){return new g(f,l,m,n,p,q);}function k(f){return f && 0 <= f.indexOf(".__metadata__");}function g(f,l,m,n,p,q){this.partition=f;this.lifespan=m;this.resourceIndex=l;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.ejb();}h=a(9);d=a(127);a(128);new d.Console("MEDIACACHE","media|asejs");g.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.ejb();};g.prototype.Lgb=function(f){this.size=f;};g.prototype.IZa=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};g.prototype.ejb=function(){this.lastMetadataUpdate=d.time.now();return this;};g.prototype.constructor=g;t.exports={create:c,zra:function(f){var l;l=f;"string" === typeof f && (l=JSON.parse(f));if(l && l.partition && !h.na(l.lifespan) && l.resourceIndex && l.creationTime && l.lastRefresh)return (f=c(l.partition,l.resourceIndex,l.lifespan,-1,l.creationTime,l.lastRefresh),l.lastMetadataUpdate && (f.lastMetadataUpdate=l.lastMetadataUpdate),!h.na(l.size) && 0 <= l.size && f.Lgb(l.size),f.IZa(),f.convertToBinaryData=l.convertToBinaryData,f);},gpa:function(f){return f + ".__metadata__";},x8:function(f){return k(f)?f.slice(0,f.length - 13):f;},sP:k};},function(t,b,a){t.exports={EventEmitter:a(1014),Zf:a(1015)};},function(t){t.exports="4.1.2085";},function(t,b,a){var p,q,r;function c(u){return u.Vt - u.Us;}function k(u,v){return Math.exp(-(Math.log(2) / u) * v);}function g(u,v){u=Math.log(2) * v / u;return (1 - Math.exp(-u)) / u;}function h(u,v){var w,x,y,z,A;w=v.Gya;x=v.Fya;y=v.b_;if(0 === v.Rh.length)return {n6:!1};z=v.Rh[0];v=z.xe;A=z.GE;z=z.duration;if(!A || 1 === y)return {n6:!1};q.assert(z,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(w < x)return {n6:!1};x=w - x;w=y + x / z * (1 - y);z-=x;A=A * (1 - w) / (1 - y);u=v * w / y * k(u,z) + A * g(u,z);q.assert(1 >= u);return {n6:!0,iBb:u};}function d(u){var v,w,x,y,z;v=u.en;w=u.Uhb;x=u.dC;y=u.Vt;z=u.Us;u=u.J2a;q.assert(void 0 !== w);q.assert(void 0 !== v);x=1 - x;y-=z;u?(z=w - u - y,v-=u,0 >= z?u=Math.max(0,(w - u) / v):(w=v - z,u=0 < w?y / w:0,x*=0 < w?w / v:1)):(z=w - y,0 >= z?u=w / v:(w=v - z,u=0 < w?y / w:0,x*=0 < w?w / v:1));q.assert(0 <= u);q.assert(1 >= u);q.assert(0 <= x);q.assert(1 >= x);return 1 - u * x;}function f(u,v){u=Math.log(2) / u.neb;return l(v) * Math.exp(-u * c(v));}function l(u){var v;return (null !== (v=u.TI) && void 0 !== v?v:1) * u.Rh.reduce(function(w,x){var y;y=x.GE;return w * (x.xe + (void 0 === y?0:y));},1);}function m(u){var v,w,x,y;if(0 === u.Rh.length)return 0;w=0;if(1 > u.b_){w=u.Gya;x=u.Fya;y=null !== (v=u.Rh[0].duration) && void 0 !== v?v:0;w=Math.max(0,Math.min(y,w - (x - y)));}return u.Rh.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function n(u){return u.Rh.filter(function(v){return !v.GE;}).reduce(function(v,w){return v * w.xe;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Zna=b.yYa=b.YDb=b.xYa=b.bEb=void 0;p=a(14);q=a(2);r=a(10);b.bEb=c;b.xYa=function(u,v,w){var x,y,z,A,B,C,D,F;if(!u.h8 || p.aq(v.wf))return f(u,v);y=u.neb;u=c(v);z=m(v);A=n(v);B=h(y,v);C=B.n6;B=B.iBb;B=void 0 === B?1:B;D=1 > v.dC?d(v):1;F=(null !== (x=v.TI) && void 0 !== x?x:1) * A * k(y,u - z) * B * D * v.Rh.filter(function(G,E){return G.GE && (0 < E || !C);}).reduce(function(G,E){var I,L;I=E.GE;L=E.duration;L=void 0 === L?0:L;I=void 0 === I?0:I;E=E.xe * k(y,L) + I * g(y,L);return G * E;},1);r.W && (null === w || void 0 === w?void 0:w.log("{" + v.groupId + "} [" + v.mediaType + "] calculateStreamablePriority: sp: " + (v.dC + ", pssp: ") + (v.b_ + ", streamingDuration: ") + (v.Uhb + ", duration: ") + (v.en + ", seamlessProbability: ") + (A + ", distance: ") + (u + ", immediateDistance: " + z + ", risk:") + (k(y,u - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + D + ", probabilities: ") + (JSON.stringify(v.Rh) + " => " + F)));return F;};b.YDb=f;b.yYa=l;b.Zna=n;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dT=void 0;t=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.vma=function(c,k){this[c]+=Math.max(k || 0,0);};return a;})();b.dT=t;0;1;},function(t,b,a){var k,g,h,d;function c(){return k.__awaiter(this,void 0,void 0,function(){var f;return k.__generator(this,function(l){switch(l.label){case 0:return [4,Promise.resolve().then(function(){return k.__importStar(a(263));})];case 1:return (f=l.Eb().NI,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.wX=void 0;k=a(0);g=a(1036);h=k.__importDefault(a(4));b.wX=function(f){var l;l=new h.default.Console("ASEJS","media|asejs");d || (d=new g.sPa(function(){return c();},f,l));return d;};},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Yfa=b.GC=b.lrb=b.QF=void 0;c=a(0);k=a(11);g=a(10);h=c.__importDefault(a(4));d=a(7);f=a(2);b.QF=function(m,n){return (1 === m.mediaType?0:1) - (1 === n.mediaType?0:1);};b.lrb={QF:b.QF};(function(m){m[m.sS=0]="CREATED";m[m.kS=1]="CANCELLED";})(l=b.GC || (b.GC={}));t=(function(){function m(n,p,q,r,u){this.Gp=n;this.Es=p;this.ws=q;this.xn=r;this.Nc=l.sS;this.KU=[];this.events=new k.EventEmitter();this.console=d.ii(h.default,u,n.id && n.id.length?"{" + n.id + "}":"");}Object.defineProperties(m.prototype,{state:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zg:{get:function(){return this.Nc === l.kS;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{u:{get:function(){return this.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ie:{get:function(){return this.KU;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{parent:{get:function(){var n;return null === (n=this.Es) || void 0 === n?void 0:n.call(this);},enumerable:!1,configurable:!0}});m.prototype.za=function(){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(){if(n=this.parent)(n.Qc && (p=n.Qc.Ba(this.xn),this.Aq(p,"init from parent")),n.g1.then(function(){var r;if(!q.zg){r=q.parent;f.assert(r,"Parent is undefined after parent normalization");r.Qc && (r=r.Qc.Ba(q.xn),q.Aq(r,"parent normalization"));}}));return [2];});});};m.prototype.Aq=function(n,p){void 0 === p && (p="unknown");g.W && this.console.log("AseBranch adjusting branchOffset to " + n.T + (" from " + this.ws.T + ".  " + p));this.ws=n;};m.prototype.yd=function(){this.Es=void 0;};m.prototype.d$=function(n){return this.Ie.some(function(p){return p.mediaType === n;});};return m;})();b.Yfa=t;},function(t,b,a){var g,h,d;function c(f,l,m,n,p){var q,r;m=null !== (q=l.dd) && void 0 !== q?q:l.track.jn(f,m.T,void 0,p);f=null !== (r=l.Jd) && void 0 !== r?r:l.track.SA(f,null === n || void 0 === n?void 0:n.T,l.Ah);return [!l.uh(),m,f];}function k(f,l){var B,C;for(var m=[],n=0,p=f[n],q=null === p || void 0 === p?void 0:p[0],r=null === p || void 0 === p?void 0:p[1],u=l.Jd.index,v=l.track.xq,w=0,x=l.dd.dc,y=l.dd.Hd.T > p[0],z=y,A=l.dd.index;A <= u;++A){B=!1;if(p){C=v.get(A);y && (C.dc.T >= r?(y=!1,++n >= f.length?r=q=p=void 0:(p=f[n],q=null === p || void 0 === p?void 0:p[0],r=null === p || void 0 === p?void 0:p[1])):z?z=!1:(m.push(new h.V3(w,x,C.dc)),x=C.dc,B=!0));!y && p && C.Hd.T > q && (y=!0,B=C.dc,(C=l.track.kP.th(A).D2a(q)) && 0 !== C.Wi && (B=d.M.Ha(C.Nd)),m.push(new h.V3(w,x,B)),x=B,B=!0);}B && ++w;}m.push(new h.V3(w,x,l.Jd.Hd));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.JYb=b.c$a=b.Yab=b.Wab=b.Aza=void 0;g=a(0);h=a(436);d=a(7);b.Aza=function(f,l,m){var n,p,q;q=l.get(0);l=l.get(1);l=null === l || void 0 === l?void 0:l.track.SA(f,null === m || void 0 === m?void 0:m.T,l.Ah);return [null === q || void 0 === q?void 0:q.track.SA(f,null !== (p=null === (n=null === l || void 0 === l?void 0:l.Hd) || void 0 === n?void 0:n.T) && void 0 !== p?p:null === m || void 0 === m?void 0:m.T,q.Ah),l];};b.Wab=function(f,l,m,n,p){var q,r,u,v;q=l.get(0);l=l.get(1);r=g.__read(l?c(f,l,m,n,p):[!1],3);u=r[0];v=r[1];r=r[2];n=g.__read(q?c(f,q,u && void 0 !== (null === v || void 0 === v?void 0:v.ba)?d.M.Ha(v.ba):m,void 0 !== (null === r || void 0 === r?void 0:r.Ma)?d.M.Ha(null === r || void 0 === r?void 0:r.Ma):n,p):[!1],3);f=n[0];m=n[1];n=n[2];f && (null === q || void 0 === q?void 0:q.C$(m,n));u && (null === l || void 0 === l?void 0:l.C$(v,r));return [f,u];};b.Yab=function(f,l,m){return l.track.jn(f,m.T,void 0,!0).dc;};b.c$a=function(f,l,m){var n;n=l.u;if(!n.Up || 0 === n.Up.length)return [];f=n.Up.map(function(p){return [n.qa + p[0],n.qa + p[1]];});return k(f,m.d_);};b.JYb=k;},function(t,b,a){var k,g,h;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.jPa=b.V3=b.R7a=void 0;k=a(0);g=a(7);h=a(2);b.R7a=c;t=(function(){function d(f,l,m){this.region=f;this.dc=l;this.Hd=m;}d.prototype.toJSON=function(){return {region:this.region,ba:this.dc.UJ,Ma:this.Hd.UJ};};return d;})();b.V3=t;t=(function(){function d(f,l,m){var n,p,q;n=this;this.id=f;this.u=l;this.BUa=!1;this.$O=function(r){var u,v,w,x;return (null === (u=n.Ey) || void 0 === u?0:u.length)?"immediate":null !== (x=null === (w=null === (v=n.u.next) || void 0 === v?void 0:v[r]) || void 0 === w?void 0:w.oe) && void 0 !== x?x:n.oe;};this.GU=new g.M(l.qa,1E3);this.UT=void 0 !== l.sa && null !== l.sa?new g.M(l.sa,1E3):g.M.Yx;this.Azb=null !== (q=null !== (p=l.oe) && void 0 !== p?p:m) && void 0 !== q?q:"lazy";this.o7a();h.assert(this.GU.lessThan(this.UT),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{K:{get:function(){return this.u.K;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gm:{get:function(){return this.BUa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{df:{get:function(){return this.GU;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cg:{get:function(){return this.UT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.UT.Ba(this.GU);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ba:{get:function(){return this.GU.T;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ma:{get:function(){return this.UT.T;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oF:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tw:{get:function(){return this.HB.length?!this.u.Rb && 0 === this.cQ.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K_b:{get:function(){return this.jD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{HB:{get:function(){var f,l;return Object.keys(null !== (l=null === (f=this.u) || void 0 === f?void 0:f.next) && void 0 !== l?l:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cQ:{get:function(){var f;f=this;return this.HB.filter(function(l){return ! !f.jD[l];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$Ba:{get:function(){var f;return null !== (f=this.GVa) && void 0 !== f?f:this.GVa=this.cEb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jea:{get:function(){var f;return null !== (f=this.HVa) && void 0 !== f?f:this.HVa=this.dEb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dC:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.jea):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oe:{get:function(){var f;return (null === (f=this.Ey) || void 0 === f?0:f.length)?"immediate":this.Azb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,l,m){this.GU=f;this.UT=l;this.Ey=m;this.BUa=!0;this.mlb();};d.prototype.T3a=function(){var f;return this.cQ.length?null !== (f=this.cQ.map(this.$O).reduce(function(l,m){return l === m?m:void 0;})) && void 0 !== f?f:this.oe:this.oe;};d.prototype.tj=function(f){this.o7a(f);};d.prototype.TDb=function(f){var l,m;if(this.$Ba){l=(this.jD[f] || 0) / this.$Ba;if(void 0 === this.u.weight || 0 === this.jea)return {xe:l};m=this.dC;return 1 !== m && c(this.$O(f)) && this.jD[f]?{xe:m * l,GE:this.jD[f] / this.jea * (1 - m)}:{xe:m * l};}return {xe:(null === (l=this.u.next) || void 0 === l?0:l[f])?1 / this.HB.length:0};};d.prototype.BTb=function(f){return -1 < this.HB.indexOf(f);};d.prototype.OBb=function(){return this.gm?k.__assign(k.__assign({},this.u),{qa:this.df.T,sa:this.Cg.T}):this.u;};d.prototype.o7a=function(f){var l;if(void 0 === this.u.next)this.jD={};else {l=this.u.next;this.jD=Object.keys(l).reduce(function(m,n){var p;p=f?f[n] || 0:l[n].weight;void 0 !== p && null !== p && 0 <= p && (m[n]=p);return m;},{});}this.mlb();};d.prototype.cEb=function(){var f;f=this;return this.cQ.reduce(function(l,m){return l + f.jD[m];},0);};d.prototype.dEb=function(){var f;f=this;return this.cQ.filter(function(l){return c(f.$O(l));}).reduce(function(l,m){return l + f.jD[m];},0);};d.prototype.mlb=function(){this.HVa=this.GVa=void 0;};return d;})();b.jPa=t;},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Nia=void 0;c=a(0);k=a(11);g=a(7);h=a(2);d=a(14);t=a(129);f=c.__importDefault(a(4));l=t.vy.Dpa;a=(function(){function m(){this.mQ=[];this.iD=new g.ps(!1);this.hD=new g.ps(g.M.Ha(-Infinity));this.events=new k.EventEmitter();this.G=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jm:{get:function(){return this.Bu;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xr:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.Yp();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pv:{get:function(){return this.iD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qY:{get:function(){return this.hD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ze:{get:function(){return this.Av;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cf:{get:function(){return this.HI();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rh:{get:function(){var n,p;n=this.Cf;p=this.Fn(n);h.assert(p,"Could not find current branch for " + n.T);return p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{YUb:{get:function(){return this.eb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mB:{get:function(){return this.Av?this.eb[this.eb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oi:{get:function(){var n,p;n=this.Cf;p=this.c9(n);h.assert(p,"Could not find presenting branch for " + n.T);return p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Av:{get:function(){return 0 < this.eb.length;},enumerable:!1,configurable:!0}});m.prototype.cR=function(){};m.prototype.Kda=function(){};m.prototype.Tg=function(){return !1;};m.prototype.dP=function(){return 0 < this.eb.length;};m.prototype.Ik=function(){h.assert(0 < this.eb.length,"Could not find presenting branch. Player has no branches.");return this.oi;};m.prototype.b6a=function(n){return -1 !== this.eb.indexOf(n);};m.prototype.H6=function(){return void 0 !== this.pa?!1:!0;};m.prototype.xb=function(){};m.prototype.zv=function(n){var p,q,r;p=this.eb.filter(function(u){return u.u.id === n.Y;});if(0 !== p.length){q=this.HI();r=new g.M(Infinity,1);p.forEach(function(u){u=u.mq.add(n.offset);q.W7(u).lessThan(q.W7(r)) && (r=u);});return r;}};m.prototype.T9=function(n){var p,q,r,u,v,w,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:p=this.eb.filter(function(C){return C.u.id === n.Y;});if(0 === p.length)return [2,void 0];q=this.HI();B.label=1;case 1:(B.Wh.push([1,6,7,8]),r=c.__values(p),u=r.next(),B.label=2);case 2:if(u.done)return [3,5];v=u.value;w=v.mq.add(n.offset);x=q.W7(w);return [4,{uca:w,W7:x}];case 3:(B.Eb(),B.label=4);case 4:return (u=r.next(),[3,2]);case 5:return [3,8];case 6:return (y=B.Eb(),z={error:y},[3,8]);case 7:try{u && !u.done && (A=r.return) && A.call(r);}finally{if(z)throw z.error;}return [7];case 8:return [2];}});};m.prototype.Fn=function(n){var p,q,r;p=this.c9(n);if(p){q=p.u;r=q.id;n=n.Ba(q.df.add(p.md));return {Y:r,offset:n};}};m.prototype.D9=function(){};m.prototype.reset=function(){this.SD();};m.prototype.G_=function(){};m.prototype.pause=function(n){void 0 === n && (n=d.Of);this.mQ=null === n || void 0 === n?void 0:n.reduce(function(p,q){-1 === p.indexOf(q) && p.push(q);return p;},this.mQ);};m.prototype.resume=function(n){var p;p=this;void 0 === n && (n=d.Of);n.forEach(function(q){q=p.mQ.indexOf(q);-1 !== q && p.mQ.splice(q,1);});};m.prototype.wCa=function(n){var p;h.assert(this.pa);h.assert(n !== this);this.HK();p=n.H6(this.pa,this);p && (n.pause(this.mQ),n.tqa.apply(n,c.__spread(this.eb.filter(function(q){return !q.aV;}))),this.Lpa(this.pa));return p;};m.prototype.HI=function(){return this.w4a();};m.prototype.w4a=function(){var n,p;h.assert(this.Av,"Attempted to get initial time before any branches were queued");p=c.__read(this.eb,1)[0];h.assert(p);return null !== (n=p.rd) && void 0 !== n?n:p.jt;};m.prototype.Yp=function(){return 1;};m.prototype.pX=function(){};m.prototype.c9=function(n){var p;if(this.Av){p=this.w4a();return n.lessThan(p)?this.eb[0]:g.bra(this.eb,n);}};m.prototype.QPb=function(){var n,p,u,v,w,x,y,z;p={};try{for(var q=c.__values(this.eb),r=q.next();!r.done;r=q.next()){u=r.value;v=void 0;w=void 0;x=u.UA();for(v in x){y=v;z=x[y];z && (p[y]=(null !== (w=p[y]) && void 0 !== w?w:0) + z);}if(!u.xk)break;}}catch(B){var A;A={error:B};}finally{try{r && !r.done && (n=q.return) && n.call(q);}finally{if(A)throw A.error;}}return p;};c.__decorate([l.return.hj()],m.prototype,"rh",null);c.__decorate([l.return.Cna(),l.return.Qn],m.prototype,"Ik",null);c.__decorate([c.__param(0,l.hj())],m.prototype,"zv",null);c.__decorate([c.__param(0,l.hj())],m.prototype,"T9",null);c.__decorate([l.return.hj()],m.prototype,"Fn",null);return m;})();b.Nia=a;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nda=void 0;c=a(0);k=a(2);g=a(186);b.nda=function(h,d,f,l,m,n){var p,q;void 0 === m && (m=g.Pw.oW);p=h();if(l && p){q=l.Nma;h=l.Qn;l=l.rules.map(function(r){return ["function" === typeof r.Fl?r.Fl(f):f[r.Fl],r.config];});q || k.assert(d,"Param is null");n && l.push([{map:n,RD:function(){return !0;}},void 0]);n=l.filter(function(r){r=c.__read(r,2);return r[0].RD(d,p,r[1]);});h && k.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(r,u){u=c.__read(u,2);return u[0].map(r,m,p,u[1]);},d);}return d;};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.A3a=b.c5a=b.Nra=b.XPa=void 0;c=a(0);k=a(10);g=a(52);t=(function(){function h(d){this.Fa=d;}Object.defineProperties(h.prototype,{Se:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{FB:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return k.W;},enumerable:!1,configurable:!0}});h.prototype.rl=function(d){var f,l,p;d=d.Ti;if(d === g.ie.Sp || d === g.ie.gp)if(d=this.Fa.Ira()){l={};try{for(var m=c.__values(d.m3b),n=m.next();!n.done;n=m.next()){p=n.value;l[p.mediaType]=this.CYb(p);}}catch(r){var q;q={error:r};}finally{try{n && !n.done && (f=m.return) && f.call(m);}finally{if(q)throw q.error;}}return {branchQueue:b.A3a(d.a5b),playerIterator:l,driftStats:this.Fa.uDa};}};h.prototype.CYb=function(d){return null === d || void 0 === d?void 0:d.x4a();};return h;})();b.XPa=t;b.Nra=function(h){var d,f;if(h){d=h.u;f={};h.rn().forEach(function(l){f[l.mediaType]=b.c5a(l);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:h.zg,RM:f};}return h;};b.c5a=function(h){var d,f,l;if(h && h.Sa)return c.__assign(c.__assign({},h.Sa.Hsa()),{unsentRequests:h.Sa.Zt,lastFragmentContentEndPts:null === (d=h.Jd) || void 0 === d?void 0:d.Ec,trackAttributes:null === (f=h.track) || void 0 === f?void 0:f.bm(),bitrate:null === (l=h.Jd) || void 0 === l?void 0:l.bitrate});};b.A3a=function(h){return h.map(function(d){return b.Nra(d);});};},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=b.xoa=b.Fn=b.S5a=b.Okb=void 0;c=a(7);k=a(2);g=a(10);b.Okb=function(d,f){d=d.N[f.Y];if(void 0 === d)return {vP:!1,reason:"Segment " + f.Y + " was not found"};if(0 > f.offset.T)return {vP:!1,reason:"Offset " + f.offset.T + " was negative"};if(void 0 === d.sa || null === d.sa || Infinity === d.sa)return {vP:!0};d=d.sa - d.qa;return f.offset.T >= d?{vP:!1,reason:"Offset " + f.offset.T + " was greater than segment duration " + d}:{vP:!0};};h=c.M.Ha(100);b.S5a=function(d,f){if(d === f)return !0;if(d && f && d.Y === f.Y){if(d.offset === f.offset)return !0;d=c.M.abs(d.offset.Ba(f.offset));if(h.greaterThan(d))return !0;}return !1;};b.Fn=function(d,f,l){var m,n,p,q;p=f.pa;f=f.ZUb;void 0 === l && (l={});q=p.fa;p=p.navigator;q=p.Ye(null !== (m=null === f || void 0 === f?void 0:f.id) && void 0 !== m?m:q.Vd);m=null !== (n=null === f || void 0 === f?void 0:f.W7b) && void 0 !== n?n:q.df;if(m.greaterThan(d))return l.nhb?{offset:d.Ba(m),Y:q.id}:void 0;f=p.BWb(q);for(p=f.next();!p.done;){n=p.value;p=n.Cg.Ba(n.df);q=m;m=q.add(p);if(m.greaterThan(d))return (d=d.Ba(q),g.W && k.assert(d.sn(c.M.La) && d.lessThan(p)),{Y:n.id,offset:d});p=f.next();if(p.done && l.ohb)return {Y:n.id,offset:d.Ba(q)};}};b.xoa=function(d,f){f=f.N[d.Y];return d.offset.lessThan(c.M.La)?{i7:c.M.La,Rp:d.offset}:f.sa && (f=c.M.Ha(f.sa - f.qa),f.isFinite() && d.offset.greaterThan(f))?{i7:f,Rp:d.offset.Ba(f)}:{i7:d.offset,Rp:c.M.La};};b.hAa=function(d,f){d=d.N[f.Y];if(void 0 !== d)return null === d.sa || void 0 === d.sa?{Y:f.Y,offset:c.M.max(c.M.La,f.offset)}:{Y:f.Y,offset:c.M.max(c.M.La,c.M.min(f.offset,c.M.Ha(d.sa - d.qa)))};};},function(t,b,a){var k,g,h;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(f,l){return 0 === l || h.oo(d,function(m){return m.value === f.parent;}) < l;});}Object.defineProperties(b,{__esModule:{value:!0}});b.udb=b.Dja=void 0;a(0);k=a(442);g=a(2);h=a(22);t=(function(){function d(){this.P=new k.Xia();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.bC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var f;return null === (f=this.bC) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var f;f=[];this.GO(function(l){return ! !f.push(l);});return f;},enumerable:!1,configurable:!0}});d.prototype.has=function(f){return ! !this.P.get(f);};d.prototype.parent=function(f){var l;f=this.P.get(f);g.assert(f,"Attempted to find the parent of a node not in the tree");return null === (l=f.parent) || void 0 === l?void 0:l.value;};d.prototype.children=function(f){f=this.P.get(f);g.assert(f,"Attempted to find the children of a node not in the tree");return f.children?f.children.map(function(l){return l.value;}):[];};d.prototype.qta=function(f){f=this.P.get(f);g.assert(f,"Attempted to find the children of a node not in the tree");return void 0 !== f.children && 0 < f.children.length;};d.prototype.add=function(f,l){var m;g.assert(!this.P.get(f),"Attempted to add a value to tree that is already present");m={value:f};void 0 === this.bC?(g.assert(void 0 === l,"a parent cannot be specified when the tree is empty"),this.bC=m):(g.assert(void 0 !== l,"a parent must be specified when the tree is non-empty"),l=this.P.get(l),g.assert(l,"Parent value does not exist in tree"),this.qXa(m,l));this.P.set(f,m);return this;};d.prototype.remove=function(f){f=this.P.get(f);g.assert(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};d.prototype.removeNode=function(f){var l;l=this;this.pra(function(m){return l.P.delete(m);},f.value);void 0 === f.parent?this.bC=void 0:this.detach(f);};d.prototype.move=function(f,l){f=this.P.get(f);l=this.P.get(l);g.assert(f,"cannot move a value that is not in the tree");g.assert(l,"cannot move a value to a parent value not in the tree");g.assert(f.parent,"cannot move the root node");g.assert(!this.uVb(f,l),"cannot move a node below itself or one of its decendants");f.parent !== l && (this.detach(f),this.qXa(f,l));return this;};d.prototype.v6b=function(f){var l,m;l=this;f=this.P.get(f);g.assert(f,"cannot replant at a value that is not in the tree");m=[];this.detach(f);this.pra(function(n){l.P.delete(n);m.unshift(n);return !0;});this.bC=f;};d.prototype.clear=function(){this.bC && this.remove(this.bC.value);return this;};d.prototype.Q2a=function(f,l){var m,n;m=this;f=this.P.get(f);g.assert(f,"cannot iterate children of a value not in the tree");null === (n=f.children) || void 0 === n?void 0:n.forEach(function(p){return l(p.value,m);});};d.prototype.GO=function(f,l,m){var n;n=this;void 0 === m && (m=0);g.assert(!this.empty || void 0 === l,"cannot iterate from a value on an empty tree");this.empty || (l=null !== l && void 0 !== l?l:this.bC.value,f(l,this,m) && this.Q2a(l,function(p){return n.GO(f,p,m + 1);}));};d.prototype.pra=function(f,l){var m;m=this;g.assert(!this.empty || void 0 === l,"cannot iterate from a value on an empty tree");this.empty || (l=null !== l && void 0 !== l?l:this.bC.value,this.Q2a(l,function(n){return m.pra(f,n);}),f(l,this));};d.prototype.o5b=function(f){var l,m,n;l=this;g.assert(c(f),"entries must be in topological order");if(0 === f.length){m=this.values;n=[];this.clear();}else (n=f.filter(function(p){return l.has(p.value) && p.parent !== l.parent(p.value);}),m=this.values.filter(function(p){return -1 === h.oo(f,function(q){return q.value === p;});}),this.clear(),f.forEach(function(p){return l.add(p.value,p.parent);}));return {GQ:m,Teb:n};};d.prototype.qXa=function(f,l){var m;f.parent=l;(null !== (m=l.children) && void 0 !== m?m:l.children=[]).push(f);};d.prototype.detach=function(f){var l;g.assert(f.parent,"cannot detach the root");g.assert(void 0 !== f.parent.children,"logic error: parent node does not have children");l=f.parent.children.indexOf(f);g.assert(0 <= l,"logic error: node does not appear in the children of its parent");f.parent.children.splice(l,1);f.parent=void 0;};d.prototype.uVb=function(f,l){for(;void 0 !== l;){if(l === f)return !0;l=l.parent;}return !1;};return d;})();b.Dja=t;b.udb=function(d,f){var l;l="";d.GO(function(m,n,p){l+="" + Array(p + 1).join("-") + f(m) + "\n";return !0;});return l;};},function(t,b){var k,g,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.ASa);}function c(d){return (a(d)?d:Object.defineProperties(d,{ASa:{value:{},configurable:!1,enumerable:!1}})).ASa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Xia=void 0;g=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;h=Date.now() % g;t=(function(){function d(){this.id=h=(h + 1) % g;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,l){c(f)[this.id]=l;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.Xia=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aia=void 0;c=a(0);t=(function(){function k(g){this.pa=g;this.nza();}Object.defineProperties(k.prototype,{nZ:{get:function(){return this.kxb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{KCa:{get:function(){return this.pa().fa;},enumerable:!1,configurable:!0}});k.prototype.nza=function(){var g,h;g=this;if(this.pa()){h=this.pa().fa;this.kxb=c.__assign(c.__assign({},h),{N:new Proxy(h.N,{get:function(d,f){var l;d=h.N[f];if(!d)return d;l=g.HRb(f);return l?(f=l.OBb(),c.__assign(c.__assign(c.__assign({},f),d),{qa:f.qa,sa:f.sa})):h.N[f];}})});}};k.prototype.HRb=function(g){var h;h=this.pa().navigator;return h.m6a(g)?h.Ye(g):void 0;};return k;})();b.aia=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Pga=void 0;c=a(0);k=a(39);g=a(20);h=c.__importDefault(a(4));d=a(63);f=a(440);l=a(2);m=a(1088);n=a(10);t=(function(){function p(q,r,u){this.Es=q;this.ika=r;this.console=new h.default.Console("GRAPHLOCATIONSERVICE");this.Vh=new d.ru({kq:this,source:(u || "") + "GraphLocation",console:this.console});}Object.defineProperties(p.prototype,{parent:{get:function(){return this.Es();},enumerable:!1,configurable:!0}});p.prototype.Lkb=function(q,r){return new p(function(){return q;},{nZ:r,KCa:r},"temp");};p.prototype.hE=function(q){var r,u,v;n.W && this.console.trace("downConverting",q);r=this.parent;u=this.ika;v=u.nZ;if(r === u.KCa)return q;if(v.N[q.Y])return (r.N[q.Y] || n.W && this.console.warn("Received a down converted position unexpectedly",q,Error().stack),q);u=f.xoa(q,r);q=k.Mkb(r,v,{offset:u.i7.T,u:q.Y});q={offset:u.Rp.add(g.M.Ha(q.offset)),Y:q.u};this.console.trace("downConverting ret:",q);return q;};p.prototype.Ty=function(q){var r,u,v;this.console.trace("upConverting",q);r=this.parent;u=this.ika;v=u.nZ;if(r === u.KCa)return q;if(r.N[q.Y])return (v.N[q.Y] || n.W && this.console.warn("Received a up converted position unexpectedly",q,Error().stack),q);u=f.xoa(q,v);q=k.tZa(r,v,{offset:u.i7.T,u:q.Y});q={offset:u.Rp.add(g.M.Ha(q.offset)),Y:q.u};this.console.trace("upConverting ret:",q);return q;};p.prototype.PQb=function(q){var r;r=k.N3a(this.parent,this.ika.nZ,{u:q.Y,offset:q.offset.T});r=m.P8a(r);l.assert(r,"Could not find any segments in the path of " + q);return r;};c.__decorate([d.jb({methodName:"downConvertPosition",ol:!0,no:!0,return:!0})],p.prototype,"hE",null);c.__decorate([d.jb({methodName:"upConvertPosition",ol:!0,no:!0,return:!0})],p.prototype,"Ty",null);return p;})();b.Pga=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.zxa=b.ZFa=void 0;c=a(0);k=a(39);g=a(1089);h=a(63);d=a(2);t=(function(f){function l(m,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,m,n,p,q,!0) || this;q.lm=m;q.Lbb=n;q.Bfb=p;m.Lc.wg(new g.$Fa(q));return q;}c.__extends(l,f);l.prototype.qF=function(m){var n,p;n=f.prototype.qF.call(this,m);if(n){p=m.ea.xo;p && !this.E4 && (this.lka.Iu({applyingContentPlaygraph:!0}),this.E4=p,this.fwb=this.fGb(m.ea),this.p_());}return n;};Object.defineProperties(l.prototype,{j6a:{get:function(){return this.fwb;},enumerable:!1,configurable:!0}});l.prototype.$D=function(){var m;if(this.E4){m=this.lm.Qh.fa;m=c.__assign(c.__assign({},m),{N:c.__assign({},m.N)});return k.Awa(m,this.E4.fa);}};l.prototype.fGb=function(m){var n,p;n=m.Ou;p=m.DE;return !(!n || !n.some(function(q){return q.DE !== p;}));};Object.defineProperties(l.prototype,{xo:{get:function(){var m;return null === (m=this.E4) || void 0 === m?void 0:m.fa;},enumerable:!1,configurable:!0}});c.__decorate([h.jb({methodName:"processViewableResponse"})],l.prototype,"qF",null);return l;})(a(446).Oia);b.ZFa=t;b.zxa=function(f){var l;l=[];return {Kt:function(m,n){var p,q,r,u,v,w,x;r=m.K;u=m.y_;v=f();if(v.nna && v.nna !== r){w=null === (p=null === u || void 0 === u?void 0:u.qo) || void 0 === p?void 0:p.Ee;p=null === (q=null === u || void 0 === u?void 0:u.qo) || void 0 === q?void 0:q.lq;q=v.Ee;u=v.nna;d.assert(u,"did not receive parent viewable id");u={qo:{Ee:null !== w && void 0 !== w?w:q,lq:null !== p && void 0 !== p?p:u}};}v.Lc.console.trace("In wrapped request viewable",r,u);x=n(c.__assign(c.__assign({},m),{y_:u}));l.forEach(function(y){return y({K:r,UF:x.UF});});return x;},dib:function(m){l.push(m);}};};},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Oia=void 0;c=a(0);k=a(183);g=a(63);h=a(22);d=a(2);f=a(10);l=a(442);m=a(447);n=a(1090);t=(function(){function p(q,r,u,v,w){var x;x=this;void 0 === v && (v="CphAsePlaygraph");void 0 === w && (w=!0);this.lm=q;this.Lbb=r;this.Bfb=u;this.lbc=v;this.iwb=new l.Xia();w && this.za();this.Lbb(function(y){var z;z=y.UF;return c.__awaiter(x,void 0,void 0,function(){var A;return c.__generator(this,function(B){switch(B.label){case 0:return [4,z];case 1:return (A=B.Eb(),this.qF(A),[2]);}});});});}Object.defineProperties(p.prototype,{Lc:{get:function(){return this.lm.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gj:{get:function(){return this.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fa:{get:function(){return this.io;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kj:{get:function(){return this.lm.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{G:{get:function(){return this.Lc.console;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{J:{get:function(){return this.Lc.config;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{j6a:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.za=function(){var q,r;q=this;r=this.lm;this.lka=new g.ru({Gr:10,kq:this,source:this.lbc,console:this.G});this.events=m.fpa(function(){return r;},r.Lc.events,this.Bfb,n.Xcb);this.io=r.Lc.fa;r.Lc.wg(new k.$w(this.lka));r.Lc.wg(new k.$w(r.Kj.Vh));r.Lc.events.on("playgraphUpdating",function(){q.lm.pua.nza();});};p.prototype.tN=function(q){var r,u,v;v=null !== (r=this.S) && void 0 !== r?r:this.Lc.S;this.S=q;q.WAa && q.WAa(this.lm);(r=this.lm.Lc.tN(null !== (u=q.$X) && void 0 !== u?u:q))?(this.S=q,v !== q && v.Foa && v.Foa()):this.S=v;return r;};p.prototype.p_=function(q,r,u,v){if(q=this.$D(null !== q && void 0 !== q?q:this.io))return this.f1b(q,this.j6a,r,u,v);};p.prototype.f1b=function(q,r,u,v,w){var x,y,z,A,B;x=this.lm.Qh;y=x.S;z=x.fa;if(u=u?u:x.Bv && y.Ze?y.rh:x.ft?x.Gl:void 0){A=this.Lc.fa.N[u.Y];A && A.oc && (u=this.Kj.Ty(u));}x.config.Fdc && r && y.zF(!0);r=x.C4a();f.W && this.G.log("onNewInnerPlaygraph: outer: " + JSON.stringify(z));f.W && this.G.log("onNewInnerPlaygraph: combined: " + JSON.stringify(q));this.iwb.set(q,!0);z=this.Lc.zw(q);try{if(!z.ca || u && !y.Ze && !x.ft)if((d.assert(!y.Aa.Nj,"Player is not paused"),x.yd(!0),z=this.Lc.zw(q),u)){B=this.Kj.hE(u);this.Lc.yda(B,v,w);y.resume();}return z;}finally{r.release();}};p.prototype.zw=function(q){var u,v,w;function r(){u.io=q;}u=this;w=null !== (v=this.$D(q)) && void 0 !== v?v:q;try{return (this.Lc.events.Bya("playgraphUpdating",r),this.Lc.zw(w));}finally{this.Lc.events.removeListener("playgraphUpdating",r);}};Object.defineProperties(p.prototype,{Ee:{get:function(){return this.OSa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nna:{get:function(){var q,r,u,v;q=this;u=Object.keys(this.Lc.fa.N);if(u=h.Xc(u,function(w){return ! !q.Lc.fa.N[w].oc;})){u=this.Lc.fa.N[u].oc;v=this.fa.N[u];return null !== (r=null === v || void 0 === v?void 0:v.K) && void 0 !== r?r:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});p.prototype.qF=function(q){var r,u,v,w;u=q.ea;v=u.Ee;u=u.xo;w=null !== (r=this.J.Hqa) && void 0 !== r?r:[];if(u && w.some(function(x){return x == q.I;}))return (r=q.I + " was excluded from content playgraph",this.lka.Iu(r),f.W && this.G.trace(r),!1);v && !this.OSa && (this.OSa=v);return !0;};p.prototype.yd=function(q){this.Lc.yd(q);};c.__decorate([g.jb({methodName:"attachPlayer"})],p.prototype,"tN",null);c.__decorate([g.jb({methodName:"reevaluateInnerPlaygraph"})],p.prototype,"p_",null);c.__decorate([g.jb({methodName:"processViewableResponse"})],p.prototype,"qF",null);c.__decorate([g.jb({methodName:"cancelStreaming"})],p.prototype,"yd",null);return p;})();b.Oia=t;},function(t,b,a){var k,g,h,d;function c(f,l){return l && !Array.isArray(l) && -1 === l.Y1a.indexOf(f)?l.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.fpa=void 0;k=a(0);t=a(11);g=a(186);h=a(438);d=(function(f){function l(m,n){var p;p=f.call(this) || this;p.AYb=m;p.r7a=n;p.Dka={};return p;}k.__extends(l,f);l.prototype.emit=function(m){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,m,this.AYb(m,n[0]));};l.prototype.subscribe=function(m){var n,p;n=this;if(!this.listeners(m).length){p=function(){for(var q=[],r=0;r < arguments.length;r++){q[r]=arguments[r];}return n.emit.apply(n,k.__spread([m],q));};this.Dka[m]=p;this.r7a.addListener(m,p);}};l.prototype.addListener=function(m,n){this.subscribe(m);f.prototype.addListener.call(this,m,n);return this;};l.prototype.removeListener=function(m,n){f.prototype.removeListener.call(this,m,n);n=this.Dka[m];!this.listeners(m).length && n && (this.r7a.removeListener(m,n),this.Dka[m]=void 0);return this;};l.prototype.on=function(m,n){this.addListener(m,n);return this;};l.prototype.IB=function(m,n){this.removeListener(m,n);return this;};l.prototype.once=function(m,n){var q;function p(){for(var r=[],u=0;u < arguments.length;u++){r[u]=arguments[u];}q.removeListener(m,p);n.apply(void 0,k.__spread(r));}q=this;this.addListener(m,p);return this;};l.prototype.YZ=function(m,n){this.subscribe(m);f.prototype.YZ.call(this,m,n);return this;};l.prototype.Bya=function(m,n){var q;function p(){for(var r=[],u=0;u < arguments.length;u++){r[u]=arguments[u];}q.removeListener(m,p);n.apply(void 0,k.__spread(r));}q=this;this.YZ(m,p);return this;};return l;})(t.EventEmitter);b.fpa=function(f,l,m,n){return new d(function(p,q){var r,u;u=c(p,n["*"]);p=null !== (r=n[p]) && void 0 !== r?r:[];r=u.concat(p).filter(function(v){return "object" === typeof v;});u=k.__read(p.filter(function(v){return "function" === typeof v;}),1)[0];return r.length?h.nda(f,q,m,{rules:r,Qn:!1,Nma:!0},g.Pw.MCa,u):q;},l);};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bpa=void 0;c=a(129);k=a(1110);b.bpa=function(g,h){var d;g=h(g);d=new k.POa(g,c.vy.Zza.QQ);return c.vy.Tya(g,d,function(){return d.lm;});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FRa="TransitionLoggerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MGa="DiagnosticsFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ANa="PboGenerateScreenshotsCommandSymbol";},function(t){t.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(t,b,a){var c,k,g,h,d,f;b=a(53);c=a(454);k=a(1129);g=a(452);h=a(269);d=a(1134);f=a(457);a=b(c(["filter"],d,function(l,m){return g(m)?h(function(n,p){l(m[p]) && (n[p]=m[p]);return n;},{},f(m)):k(l,m);}));t.exports=a;},function(t,b,a){var c,k;c=a(455);k=a(1128);t.exports=function(g,h,d){return function(){var f,l;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);l=f.pop();if(!c(l)){for(var m=0;m < g.length;){if("function" === typeof l[g[m]])return l[g[m]].apply(l,f);m+=1;}if(k(l))return h.apply(null,f)(l);}return d.apply(this,arguments);};};},function(t){t.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(t){t.exports={za:function(){return this.l1["@@transducer/init"]();},result:function(b){return this.l1["@@transducer/result"](b);}};},function(t,b,a){var c,k,g,h,d;b=a(130);c=a(268);k=a(1135);g=!({toString:null}).propertyIsEnumerable("toString");h=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var l,m,n,p;if(Object(f) !== f)return [];l=[];m=d && k(f);for(n in f){!c(n,f) || m && "length" === n || (l[l.length]=n);}if(g)for(m=h.length - 1;0 <= m;){n=h[m];if(p=c(n,f)){a:{for(p=0;p < l.length;){if(l[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (l[l.length]=n);--m;}return l;}:function(f){return Object(f) !== f?[]:Object.keys(f);});t.exports=a;},function(t){t.exports=function(b,a){for(var c=0,k=a.length,g=Array(k);c < k;){g[c]=b(a[c]);c+=1;}return g;};},function(t,b,a){var c,k,g;c=a(270);k=a(130);b=a(53);g=a(1138);a=b(function(h,d){return 1 === h?k(d):c(h,g(h,[],d));});t.exports=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IIa="HLSPlaylistBuilderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ROa="PlayerPlaydataMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tja="StreamChangeDetectorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XS="HLSLogblobMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="HeaderFetcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eJa="HttpDispatcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZIa="HLSHeaderParserFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KIa="HLSPlaylistTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JFa="CdnPartitionerSymbol";},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xga=void 0;k=a(42);c.Ts=function(){var g;g={};return (g[k.Xd.hG]="mp4a.40.2",g[k.Xd.K2]="mp4a.40.2",g[k.Xd.iG]="mp4a.40.2",g[k.Xd.Fz]="mp4a.40.42",g[k.Xd.wS]="ec-3",g[k.Xd.O1]="ec-3",g[k.Xd.xS]="ec-3",g);};b.xga=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bhc="LogblobBuilderSymbol";b.US="HLSLogblobBuilderFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tRa="ThroughputTrackerConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wRa="ThroughputTrackerSymbol";b.uRa="ThroughputTrackerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VHa="ExtraPlatformInfoProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EFa="CapabilityDetectorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GEa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){p=g.cG.call(this,m,n,k.$n.Audio,p) || this;p.config=m;p.Tj=n;p.type=k.Gw.gz;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.c2=void 0;k=a(26);g=a(477);h=a(120);t=a(122);d=a(469);f=a(279);l=new t.JG().format;ka(c,g.cG);c.prototype.o0=function(){var m;m=l(c.Hea,h.Od.Hnb);return Promise.resolve(this.config().pO && this.Tj.isTypeSupported(m));};c.prototype.Ts=function(){return d.xga.Ts();};c.prototype.n5a=function(){return this.config().PH;};c.prototype.NW=function(m){return this.config().a2b?Promise.resolve(new f.K3(m,m.map(function(){return {supported:!0};}))):g.cG.prototype.NW.call(this,m);};b.c2=c;c.Hea="audio/mp4;codecs={0};";},function(t,b,a){var k,g,h,d,f;function c(l,m,n,p){this.config=l;this.Tj=m;this.mediaType=n;this.zB=p;this.ywa={};this.ywa[k.$n.Audio]="audio";this.ywa[k.$n.eSa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.cG=void 0;k=a(26);t=a(122);g=a(278);h=a(13);d=a(279);f=new t.JG().format;c.prototype.G5a=function(l){return this.zKb(this.MRb(this.n5a(),l));};c.prototype.YH=function(l){return this.Tj.isTypeSupported(l);};c.prototype.VPb=function(){return [g.Nf.qfa,g.Nf.Dpb,g.Nf.fG,g.Nf.gG];};c.prototype.dVb=function(){this.Lr=[];this.yy=[];this.config().c2b && this.yy.push(g.Nf.Fz);this.config().acb && this.yy.push(g.Nf.GIa);this.config().$bb && this.yy.push(g.Nf.FIa);this.config().Zbb && this.yy.push(g.Nf.Kw);this.config().Ybb && this.yy.push(g.Nf.CC);this.config().bcb && this.yy.push(g.Nf.aD);this.config().Xbb && this.yy.push(g.Nf.Ml);this.yy=this.yy.concat(this.VPb());!this.config().sMb && this.Lr.push(g.Nf.Fz);!this.config().s1a && this.Lr.push(g.Nf.Inb);!this.config().r1a && this.Lr.push(g.Nf.Jnb);!this.config().pO && this.Lr.push(g.Nf.Knb);!this.config().eMb && this.Lr.push(/prk$/);this.config().Zbb || this.config().RLb || this.Lr.push(g.Nf.Kw);this.config().acb || this.config().ULb || this.Lr.push(g.Nf.GIa);this.config().$bb || this.config().mqa || this.Lr.push(g.Nf.FIa);this.config().Ybb || this.config().nO || this.Lr.push(g.Nf.CC);this.config().bcb || this.config().oMb || this.Lr.push(g.Nf.aD);this.config().Xbb || this.config().MLb || this.Lr.push(g.Nf.Ml);!this.config().mMb && this.Lr.push(g.Nf.YL);};c.prototype.MRb=function(l,m){var n;n=h.Me.hardwareConcurrency && h.Me.hardwareConcurrency;return l.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === m || void 0 === m?void 0:m.Ed) || !p.restrictToUILabels.includes(m.Ed))?!1:!0;}).map(function(p){return p.name;});};c.prototype.NW=function(l){var m,n;m=this;n=l.map(function(p){for(var q=na(m.yy),r=q.next();!r.done;r=q.next()){if(r.value.test(p))return Promise.resolve({supported:!0});}q=na(m.Lr);for(r=q.next();!r.done;r=q.next()){if(r.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return m.MW(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.K3(l,p);});};c.prototype.MW=function(l){var m;m=this;return this.Nua(l).then(function(n){return n.supported?m.config().bMb?m.zB.MW(l):m.Sqa(l):n;});};c.prototype.Sqa=function(l){var m;l=this.f_[l];m="";return l?(Array.isArray(l) && (m=1 < l.length?" " + l[1]:"",l=l[0]),l=f("{0}/mp4;codecs={1};{2}",this.ywa[this.mediaType],l,m),this.YH(l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.zKb=function(l){this.dVb();return this.NW(l);};c.prototype.Nua=function(){return Promise.resolve({supported:!0});};Va.Object.defineProperties(c.prototype,{f_:{configurable:!0,enumerable:!0,get:function(){this.XUa || (this.XUa=this.Ts());return this.XUa;}}});b.cG=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wLa="MediaCapabilitiesDetectorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ALa="MediaCapabilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zLa="MediaCapabilitiesLogHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yPa="PresentationAPISymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j3="IndexedDBConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zKa="LocalStorageSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XLa="MemoryStorageSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VEa="BookmarkSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="BookmarkConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SEa="BookmarkConfigParserSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nFa="CDMAttestedDescriptorProvider";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mLa="ManifestProviderConfigSymbol";},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wja=void 0;k=a(13);c.l5a=function(){var g;g=k.Uw && k.Uw.height;return g?1080 <= g?1080:720:720;};b.wja=c;},function(t,b,a){var k;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cT=void 0;k=a(492);c.prototype.njb=function(g,h){var d,f;d=this;if(!g)return (this.log.warn("There are no media streams for " + h.type + " track - " + h.trackId),[]);f=g.map(function(l){var m,n,p,q,r,u,v,w;w=new k.MediaStream(h,h.type,l.Ao,l.bitrate,l.cb,l.size,d.fQb(l.urls),l.hI,l.j3a / l.i3a,l.Lj,l.sj);w.h9b(l.hfb,l.Nza,l.Fcb,l.Ecb);w.y8b(null !== (m=l.dJb) && void 0 !== m?m:void 0,null !== (n=l.eJb) && void 0 !== n?n:void 0,null !== (p=l.cJb) && void 0 !== p?p:void 0,null !== (q=l.bJb) && void 0 !== q?q:void 0,null !== (r=l.Fcb) && void 0 !== r?r:void 0,null !== (u=l.Ecb) && void 0 !== u?u:void 0);h.Yl && (w.Yl=h.Yl);l.pI && (w.pI=null !== (v=l.pI) && void 0 !== v?v:void 0);l.hI && (w.Te=l.hI);return w;});f.sort(function(l,m){return l.bitrate - m.bitrate;});f.forEach(function(l,m){l.lower=f[m - 1];l.umc=f[m + 1];});return f;};c.prototype.fQb=function(g){return g.reduce(function(h,d){h[d.ro]=d.url;return h;},{});};b.cT=c;},function(t,b,a){var k,g,h;function c(d,f,l,m,n,p,q,r,u,v,w){this.track=d;this.type=f;this.Yb=l;this.bitrate=m;this.cb=n;this.size=p;this.cv=q;this.Te=r;this.framerate=u;this.Lj=v;this.sj=w;this.xh={Type:f,Bitrate:m,DownloadableId:l};}Object.defineProperty(b,"__esModule",{value:!0});b.Anb=b.MediaStream=void 0;k=a(16);g=a(15);h=a(89);c.prototype.toJSON=function(){return this.xh;};c.prototype.h9b=function(d,f,l,m){(0,g.pd)(d) && (0,g.pd)(f) && (this.width=d,this.height=f,(0,g.Ja)(l) && (0,g.Ja)(m) && (this.width=Math.round(l / m * d)),this.xh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.y8b=function(d,f,l,m,n,p){(0,g.pd)(d) && (0,g.pd)(f) && (0,g.pd)(l) && (0,g.pd)(m) && (this.npa=d,this.M_a=f,this.L_a=l,this.K_a=m);(0,g.pd)(n) && (0,g.pd)(p) && (this.Gcb=n,this.Hcb=p);};b.MediaStream=c;b.Anb=function(d,f,l,m,n){if(d == k.m3 || d === h.cj.audio)return f;if(d == k.ZS || d === h.cj.video)return l;if(d == h.cj.tea)return m;if(d == h.cj.BCa)return n;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.TOa="PlayerTextTrackFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JRa="TrickPlayFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qLa="ManifestVerifyErrorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GNa="PboLinksManagerSymbol";b.ENa="PboLinksManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="ManifestEnricherSymbol";},function(t){t.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wha="MslReadyNotifierSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HGa="DeviceIdGeneratorSymbol";},function(t,b){function a(c,k,g){if(null != g){if(0 < g(c,k))throw a.x_a(c,k);}else if(c.Wl && 0 < c.Wl(k))throw a.x_a(c,k);this.start=c;this.end=k;}Object.defineProperty(b,"__esModule",{value:!0});b.$ia=void 0;a.x_a=function(c,k){return new RangeError("end [" + k + "] must be >= start [" + c + "]");};b.$ia=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KGa="DeviceProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qNa="PboBindDeviceCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RKa="LogblobSenderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZLa="MessageQueueSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.INa="PboLogblobCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bSa="UuidProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Da="AppLogSinkSymbol";},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F;function c(G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca){var N;N=this;this.j=G;this.xa=E;this.Jib=I;this.og=L;this.vwa=K;this.Mqa=H;this.Be=R;this.b8=O;this.lf=J;this.config=M;this.Fd=P;this.Aa=S;this.Ea=U;this.Jr=T;this.rB=W;this.pj=ia;this.rv=pa;this.yJ=wa;this.zc=za;this.MP=Ca;this.B0=[];this.Ewa=this.KE=this.w_=0;this.hO=[];this.Bma=!1;this.DF=function(Q){var V,ca,sa,Ha,Ja,Na;ca={};try{ca={playdelaysdk:(0,n.hg)(N.j.DV()),applicationPlaydelay:(0,n.hg)(N.j.Vna()),playdelay:(0,n.hg)(N.j.Xna()),trackid:N.j.Xk,bookmark:(0,n.hg)(N.j.Ax || 0),pbnum:N.j.index,endianness:(0,d.e4a)()};N.config().pMb && (ca.transitiontime=N.j.Un,ca.uiplaystarttime=N.j.gb.IR,ca.playbackrequestedat=N.j.oj.da(p.ma),ca.clockgettime=N.getTime(),ca.clockgetpreciseepoch=N.Aa.xf.da(p.ma),ca.clockgetpreciseappepoch=N.Ea.pB.da(p.ma),ca.absolutestarttime=N.j.FI(),ca.relativetime=N.j.p5a());N.Y8(ca,"startplay");}catch(Oa){N.log.error("error in startplay log fields",Oa);}N.j.Ji && (ca.blocked=N.j.Ji);N.zc.U6a(ca);(0,y.Ja)(N.j.TXa) && (ca.bookmarkact=(0,n.hg)(N.j.TXa));sa=N.j.qd.at && N.j.qd.ats?N.j.qd.at - N.j.qd.ats:void 0;sa && (ca.nccpat=sa);(sa=N.j.qd.lr && N.j.qd.lc?N.j.qd.lr - N.j.qd.lc:void 0) && (ca.nccplt=sa);(sa=N.j.qd.lc && N.j.qd.lg?N.j.qd.lc - N.j.qd.lg:void 0) && (ca.lct=sa);(sa=N.JA()) && (ca.downloadables=sa);mb._cad_global.device && (0,y.pd)(mb._cad_global.device.p8) && (ca.esnSource=mb._cad_global.device.p8);(0,n.ve)(ca,N.Jr,{prefix:"pi_"});N.j.Np && N.j.Np.initBitrate && (ca.initvbitrate=N.j.Np.initBitrate);N.j.Np && N.j.Np.selector && (ca.selector=N.j.Np.selector);ca.fullDlreports=N.ukb;if(N.j.state.value >= x.$b.Ce)try{Ha=N.j.Wu();if(Ha){N.maxBitrate=(0,d.cS)(Ha.map(function(Oa){return Oa.bitrate;}));N.y$a=(0,d.cS)(Ha.map(function(Oa){return Oa.height;}));Ja=0 < Ha.length?(0,D.V5a)(function(Oa,Ua){return Oa.height === Ua.height;},Ha).map(function(Oa){return (0,z.jwa)(Oa,function(Ua){return Ua.bitrate;});}):void 0;ca.maxbitrate=N.maxBitrate;ca.maxresheight=N.y$a;}}catch(Oa){N.log.error("Exception computing max bitrate",Oa);}try{Na=(0,d.RI)();Na && (ca.pdltime=Na);}catch(Oa){}try{(0,n.ve)(ca,N.j.qd,{prefix:"sm_"});(0,n.ve)(ca,N.j.N9(),{prefix:"vd_"});}catch(Oa){}Q && N.j.iw && (ca.pssh=N.j.iw);N.Y6a(N.j,ca);ca.avtp=N.RK.Io().nCa;(null === (V=N.j.Ga) || void 0 === V?0:V.gD) && N.q$(ca);if(N.j.kc.value)try{ca.ttTrackFields=N.j.kc.value.xh;}catch(Oa){}N.zc.R6a(ca,N.j.yc.value,N.xa);N.zc.jP(ca,!0,N.j.Jg.value,N.xa);N.j.ea && (ca.packageId=N.j.ea.ab.Wo);N.j.ea && N.j.ea.ab.so && (ca.hasChoiceMap=!0);N.OWb(Ja);N.NWb();Q && (N.Zta(ca),N.aua(ca));N.T6a(N.j,ca);N.aJ(N.j,ca);N.bJ(N.j,ca);N.HE(N.j,ca,N.Bma);N.WX(N.j,ca);N.EUb(N.j,ca);N.$ta(ca);N.cua(ca);N.zc.iP(ca);N.S6a(ca);N.zc.s$(ca,N.xa);N.bua(ca);N.Fc(A.bd.DF,Q,F.Le | F.ou | F.aj | F.pu | F.bG | F.I1 | F.eG | F.Cq,ca);};this.PQ=function(Q,V,ca){V={playdelay:(0,n.hg)(Q),reason:ca,intrplayseq:N.KE - 1,skipped:V};"repos" === ca && (V.prstate=!0 === N.j.paused.value?"paused":"playing");N.bJ(N.j,V);N.Fc(A.bd.PQ,!1,F.Le | F.ou | F.aj,V);"rebuffer" !== ca && "force_rebuffer" !== ca || N.j.im.BAb(Number((0,n.hg)(Q)));};this.MN=function(Q,V,ca,sa){Q={moff:(0,n.ln)(ca),moffms:(0,n.hg)(ca),vbitrate:V.bitrate,vbitrateold:Q.bitrate,vdlid:V.Yb,vdlidold:Q.Yb,vheight:V.height,vheightold:Q.height,vwidth:V.width,vwidthold:Q.width,bw:sa};N.bJ(N.j,Q);N.HE(N.j,Q);N.Fc(A.bd.MN,!1,F.aj,Q);};this.zza=function(Q,V,ca){Q={moff:(0,n.ln)(ca),moffms:(0,n.hg)(ca),vdlidold:Q.Yb,vbitrateold:Q.bitrate};N.bJ(N.j,Q);N.HE(N.j,Q);N.zc.zr(Q,V,N.j.Hf.value && N.j.Hf.value.stream);N.Fc(A.bd.Qeb,!1,F.aj,Q);};this.jya=function(){var Q,V;Q={waittime:(0,n.hg)(N.j.p5a()),abortedevent:"startplay",trackid:N.j.Xk,prstate:N.ZA(),paustate:N.j.paused.value};N.Y8(Q,"endplay");N.rv.BW && (Q.eventlist_version=1,Q.eventlist=N.yJ.e5a(N.j));N.j.Np && N.j.Np.initBitrate && (Q.initvbitrate=N.j.Np.initBitrate);try{V=(0,d.RI)();V && (Q.pdltime=V);(0,n.ve)(Q,N.j.qd,{prefix:"sm_"});}catch(ca){}N.Wta(Q,!0);N.zc.s$(Q,N.xa);N.zc.jP(Q,!1,N.j.Jg.value,N.xa);N.Zta(Q);N.zc.zr(Q,N.j.nf.value,N.j.Gh.value);N.Y6a(N.j,Q);N.aJ(N.j,Q);N.WX(N.j,Q);N.bua(Q);N.aua(Q);N.Fc(A.bd.oca,!1,F.Le | F.aj | F.bG | F.pu | F.Cq,Q);};this.iya=function(Q,V){Q={waittime:(0,n.hg)(Q),abortedevent:"resumeplay",resumeplayreason:V};N.j.Np && N.j.Np.initBitrate && (Q.initvbitrate=N.j.Np.initBitrate);N.zc.zr(Q,N.j.nf.value,N.j.Gh.value);N.WX(N.j,Q);N.Fc(A.bd.oca,!1,F.Le | F.aj | F.Cq,Q);};this.IBa=function(Q,V){Q={newstate:V?"Paused":"Playing",oldstate:Q?"Paused":"Playing"};N.bJ(N.j,Q);N.HE(N.j,Q);N.zc.zr(Q,N.j.we.value && N.j.we.value.stream,N.j.Hf.value && N.j.Hf.value.stream);N.Fc(A.bd.Ihb,!1,F.Le | F.aj,Q);};this.rua=function(Q,V,ca){var sa,Ha;Q=(0,n.ve)({vdlid:N.j.nf.value.Yb,playingms:Q,pausedms:V,intrplayseq:N.KE++,prstate:N.ZA(),paustate:N.j.paused.value},ca);N.Y8(Q,"intrplay");V=N.j.wc[k.Nb.$a.Jb].value;ca=N.j.wc[k.Nb.$a.cc].value;Q.cdnid=Q.vcdnid=V && V.id;Q.acdnid=ca && ca.id;Q.locid=N.rY && N.rY.Dva;Q.loclv=N.rY && N.rY.u9a;Q.avtp=N.RK.Io().nCa;Q.mediabuffered=null === (sa=N.j.Uf) || void 0 === sa?void 0:sa.e9();if(null === (Ha=N.j.Ga) || void 0 === Ha?0:Ha.gD)(N.Wta(Q,!0),N.q$(Q),N.W6a(Q));try{(0,n.ve)(Q,N.j.N9(),{prefix:"vd_"});}catch(Ja){}N.bJ(N.j,Q);N.HE(N.j,Q);N.zc.zr(Q,N.j.we.value && N.j.we.value.stream,N.j.Hf.value && N.j.Hf.value.stream);N.Fc(A.bd.rua,!1,F.Le | F.aj,Q);};this.JQ=function(Q,V,ca){Q={moffold:(0,n.ln)(Q),reposseq:N.w_++,prstate:N.ZA(),paustate:N.j.paused.value};N.HE(N.j,Q);N.zc.zr(Q,ca && ca.stream,V && V.stream);N.Fc(A.bd.JQ,!1,F.Le | F.aj,Q);};this.kna=function(){var Q,V,ca,sa;V=N.j.yc.value;ca=N.j.Gh.value.Yb;V=V?{trackId:V.trackId,bcp47:V.uf,downloadableId:ca,rank:V.Zb,chan:V.channels}:{};ca=N.nB;sa=null === (Q=N.cva) || void 0 === Q?void 0:Q.Yb;Q=ca?{trackId:ca.trackId,bcp47:ca.uf,downloadableId:sa,rank:ca.Zb,chan:ca.channels}:{};N.Fc(A.bd.uXa,!1,F.Le | F.aj,{switchdelay:(0,n.hg)(N.getTime() - N.dva),track:V,oldtrack:Q});};this.e0=function(Q){N.Fc(A.bd.vhb,!1,F.Le | F.aj,{speedold:Math.floor(1E3 * Q.oldValue),speed:Math.floor(1E3 * Q.newValue)});};this.zR=function(){N.Fc(A.bd.Wac,!1,F.Le | F.aj,{track:N.j.kc.value.xh});};this.oC=function(Q){var V,ca;V=N.j.kc.value;if(Q.newValue || V && V.Br() && !V.bq()){ca=(Q=null !== (ca=Q.newValue) && void 0 !== ca?ca:V)?{trackId:Q.trackId,bcp47:Q.uf,downloadableId:Q.Yb,rank:Q.Zb,isImageBased:Q.tl}:{};Q=(Q=N.qva)?{trackId:Q.trackId,bcp47:Q.uf,downloadableId:Q.Yb,rank:Q.Zb,isImageBased:Q.tl}:{};ca={switchdelay:(0,n.hg)(N.getTime() - N.pva),track:ca,oldtrack:Q};N.zc.zr(ca,N.j.we.value && N.j.we.value.stream,N.j.Hf.value && N.j.Hf.value.stream);N.Fc(A.bd.Vib,!1,F.Le | F.aj,ca);}};this.cr=function(Q){N.Fc(A.bd.ZCb,!1,F.Le | F.aj,Q.newValue);};this.tEb=function(Q,V){var ca,sa;ca=V.serverid;sa={locid:V.location,loclv:V.locationlv,selocaid:ca,selcdnid:ca,selocaname:V.servername};sa.mediatype=V.mediatype;sa.selreason=V.selreason || "unknown";sa.seldetail=V.seldetail;sa.cdnbwdata=JSON.stringify([{id:ca}]);Q && (sa.oldlocid=Q.Dva,sa.oldloclv=Q.u9a,sa.oldocaid=Q.n8b,sa.oldocaname=Q.vK);N.Fc(A.bd.GYa,!1,F.I1,sa);};this.H0a=function(){var Q,V,ca;if(N.j.Ag)try{Q=!1;N.ukb || (Q=!0,N.hO=N.hO.filter(function(sa){return !sa.ca;}));if(0 < N.hO.length){V=N.b8.construct(N.hO,N.j.oj.da(p.ma));N.hO=[];V.erroronly=Q;ca={};(0,n.Wg)(V,function(sa,Ha){ca[sa]=JSON.stringify(Ha);});N.Fc(A.bd.TKb,!1,F.aj,ca);}}catch(sa){N.log.error("Exception in dlreport.",sa);}};this.ZA=function(){var Q;Q=N.j.Db.value;return Q === x.lb.Jc?"playing":Q === x.lb.Eh?"paused":Q === x.lb.hs?"ended":"waiting";};this.YE=function(){var Q,V,ca;if(N.j.state.value == x.$b.Ce){ca=N.QZ();N.config().Gza && (ca.avtp=N.RK.Io().nCa,(null === (Q=N.j.Ga) || void 0 === Q?0:Q.gD) && N.q$(ca));ca.mediabuffered=null === (V=N.j.Uf) || void 0 === V?void 0:V.e9();ca.midplayseq=N.Ewa++;ca.prstate=N.ZA();ca.paustate=N.j.paused.value;N.config().k8b && N.fib("midplay");N.config().fw && N.dua(ca);N.$ta(ca);N.cua(ca);N.zc.iP(ca);N.Fc(A.bd.YE,!1,F.Le | F.aj | F.bG | F.pu,ca);}};this.fib=function(Q){var V,ca;V={};V.trigger=Q;try{ca=N.j.Dsa();V.subtitleqoescore=N.j.fp.vSb(ca);V.metrics=JSON.stringify(N.j.fp.Ysa(ca));}catch(sa){N.log.error("error getting subtitle qoe data",sa);}N.Fc(A.bd.aac,!1,F.Le | F.bG | F.ou,V);};this.transition=function(Q){N.HE(N.j,Q);N.WX(N.j,Q);N.Fc(A.bd.transition,!1,0,Q);};this.tI=function(Q){var V,ca,sa,Ha,Ja,Na,Oa;ca=N.QZ();N.Y8(ca,"endplay");ca.prstate=N.ZA();ca.paustate=N.j.paused.value;ca.muted=N.j.muted.value;N.j.qC && "downloaded" === N.j.qC.WO() && (ca.trickplay_ms=N.j.M0.offset,ca.trickplay_res=N.j.M0.gfb);N.config().Dkb && (ca.rtinfo=N.j.ZRb());N.config().Gza && (null === (V=N.j.Ga) || void 0 === V?0:V.gD) && N.q$(ca);ca.endreason=Q?"error":N.j.Db.value === x.lb.hs?"ended":"stopped";(V=N.Jr) && (0,n.ve)(ca,V,{prefix:"pi_"});try{(0,n.ve)(ca,N.j.qd,{prefix:"sm_"});}catch(sb){}N.j.Vta && (ca.inactivityTime=N.j.Vta);N.Wta(ca,Q);N.W6a(ca);if(N.j.Y6){V=N.j.Y6;sa=N.config().zN;Ha=N.j.loadTime;Ja={iv:sa,seg:[]};Na=function(sb,kb,Bb){return 0 === kb || void 0 === Bb[kb - 1]?sb:sb - Bb[kb - 1];};Oa=V.jV.map(Na);Na=V.a1.map(Na);for(var Ua,$a=0;$a < Oa.length;$a++){if(Oa[$a] || Na[$a])Ua?(Ua.ams.push(Oa[$a]),Ua.vms.push(Na[$a])):Ua={ams:[V.jV[$a]],vms:[V.a1[$a]],soffms:V.startTime + $a * sa - Ha};$a !== Oa.length - 1 && Oa[$a] && Na[$a] || !Ua || (Ja.seg.push(Ua),Ua=void 0);}ca.bt=JSON.stringify(Ja);}Q && (N.Zta(ca),N.aua(ca));N.fib("endplay");N.config().fw && N.dua(ca);N.zc.jP(ca,!1,N.j.Jg.value,N.xa);N.T6a(N.j,ca);N.aJ(N.j,ca);N.bJ(N.j,ca);N.HE(N.j,ca,N.Bma);N.WX(N.j,ca);N.$ta(ca);N.cua(ca);N.zc.iP(ca);N.FUb(ca);N.S6a(ca);N.HUb(ca);N.GUb(ca);N.JUb(ca);N.bua(ca);N.KUb(ca);N.Fc(A.bd.tI,Q,F.Le | F.ou | F.aj | F.bG | F.pu | F.eG | F.Cq,ca);};this.$Kb=function(Q){N.hO.push(N.b8.mGb(Q.response));};this.Upa=function(Q){var V,ca,sa,Ha,Ja,Na;Q=Q.response;V=Q.request;ca=Q.request.AB;sa=V.track;if(sa){Ha=!Q.ca && Q.wa != q.R.MC;Ja=sa.type;Na=Q.dm;if(Ha || N.xa.Iva){ca={dltype:Ja,url1:V.url,url2:Q.url || "",cdnid:V.wc && V.wc.id,tresp:(0,n.hg)(Na.Vi - Na.Qr),brecv:(0,n.U2a)(Na.SV),trecv:(0,n.hg)(Na.pq - Na.Vi),sbr:ca && ca.bitrate};Q.Ht && (ca.range=Q.Ht);switch(Ja){case f.cj.audio:ca.adlid=V.stream.Yb;break;case f.cj.video:ca.vdlid=V.stream.Yb;break;case f.cj.tea:ca.ttdlid=sa.Yb;}(V=(0,B.Asa)(Q.wa)) && (ca.nwerr=V);Q.pl && (ca.httperr=Q.pl);N.Fc(A.bd.Upa,Ha,F.aj,ca);}}};this.Ji=function(){N.Fc(A.bd.QXa,!1,F.Le | F.bG | F.Cq,{});};this.GFb=function(Q){var V,ca;V=Q.response.dm;Q=(0,p.tc)(V.Vi);ca=(0,p.tc)(V.pq);V=(0,r.aa)(V.SV || 0);V.r8a() || V.Gua() || (Q=new u.$ia(Q,ca),N.RK.uAb(new v.PGa(Q,V)));};this.eca=function(Q){var V;V=Q.newValue;Q.bn && Q.bn.fxa && V || V == N.lJ || (N.IBa(N.lJ,V),N.lJ=V);};this.qA=function(Q){function V(ca){var sa;if(N.j.Ub && N.j.Ub.sourceBuffers){sa=N.j.Ub.sourceBuffers.filter(function(Ha){return Ha.type === ca;}).pop();if(sa)return {busy:sa.ei(),updating:sa.updating(),ranges:sa.f9()};}}Q={cause:Q.cause};Q.cause && Q.cause === h.Dia && (Q.mediaTime=N.j.mediaTime.value,Q.buf_audio=V(g.m3),Q.buf_video=V(g.ZS));N.rua(N.B0[x.lb.Jc] || 0,N.B0[x.lb.Eh] || 0,Q);};this.ijb=function(Q){var V;Q=Q.oldValue;V=N.getTime();Q === x.lb.ag?N.B0=[]:N.B0[Q]=(N.B0[Q] || 0) + (V - N.ZWb);N.ZWb=V;};this.Rm=function(Q){N.dva=N.getTime();N.nB=Q.oldValue;};this.um=function(Q){N.pva=N.getTime();N.qva=Q.oldValue;};this.nV=function(Q){N.cva=Q.oldValue;};this.GY=function(Q){function V(ca,sa){var Ha;if(!ca || ca.Dva !== sa.location){Ha={Dva:sa.location,u9a:sa.locationlv,n8b:sa.serverid,vK:sa.servername};N.tEb(ca,sa);return Ha;}}if("audio" === Q.mediatype){if(Q=V(N.TWb,Q))N.TWb=Q;}else if(Q=V(N.rY,Q))N.rY=Q;};this.S_=function(Q){var V,ca;V=Q.mediatype;ca=Q.reason;"video" === V?"serverswitchaway" === ca?(N.dk.summary.glb++,N.dk.laa=N.Aa.xf.da(p.ma)):"serverswitchback" === ca && (N.dk.summary.hlb++,N.dk.laa && (N.dk.summary.ilb.push(N.Aa.xf.da(p.ma) - N.dk.laa),N.dk.laa=void 0)):"audio" === V && ("serverswitchaway" === ca?(N.dk.summary.iXa++,N.dk.haa=N.Aa.xf.da(p.ma)):"serverswitchback" === ca && (N.dk.summary.jXa++,N.dk.haa && (N.dk.summary.kXa.push(N.Aa.xf.da(p.ma) - N.dk.haa),N.dk.haa=void 0)));N.Fc(A.bd.p8b,!1,F.Le | F.aj,{mediatype:Q.mediatype,server:Q.server,selreason:Q.reason,location:Q.location,bitrate:Q.bitrate,confidence:Q.confidence,throughput:Q.throughput,oldserver:Q.oldserver});};this.pN=function(Q){N.Fc(A.bd.SBb,!1,F.aj,{strmsel:Q.strmsel});};this.uR=function(Q){Q=Object.assign({},Q);Q.details && (Q.details=JSON.stringify(Q.details));N.Fc(A.bd.$$b,!0,F.Le | F.ou | F.I1,Q);};this.Bma=ia.gDa || ia.Sea || ia.S2a;this.RK=I();this.log=(0,l.Qi)(G,"LogblobBuilder");this.lJ=G.paused.value;this.ga=this.xa.ga;this.dk={summary:{glb:0,hlb:0,ilb:[],iXa:0,jXa:0,kXa:[]},laa:void 0,haa:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.VS=void 0;k=a(31);g=a(16);h=a(64);d=a(43);f=a(89);l=a(8);m=a(23);n=a(25);p=a(5);q=a(3);r=a(51);u=a(501);v=a(1242);w=a(13);x=a(17);y=a(15);z=a(1243);A=a(275);B=a(191);C=a(133);D=a(103);c.prototype.Y6a=function(G,E){var I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za;if(this.config().fw)try{I={};L=this.Fd.getStats(void 0,void 0,G.I);K=G.FI();H=L.QK.QFb || [];I.attempts=L.zca || 0;I.num_completed_tasks=H.length;R=this.Be.ANb;O={};J=C.cl.vR;M=C.cl.kv;P=C.cl.coa;L.$l && (O.scheduled=L.$l - K);S=G.ea;S && (0,y.Ja)(S.hK) && (O.preauthsent=S.hK - G.loadTime,O.preauthreceived=S.MQ - G.loadTime);U=H.filter(function(Ca){return "manifest" === Ca.type;});I.mf_succ=U.filter(R("status",J)).length;I.mf_fail=U.filter(R("status",M)).length;T=G.qd;(0,y.pd)(T.lg) && 0 > T.lg && G.loadTime && (O.ldlsent=T.lc,O.ldlreceived=T.lr);W=H.filter(function(Ca){return "ldl" === Ca.type;});I.ldl_succ=W.filter(R("status",J)).length;I.ldl_fail=W.filter(R("status",M)).length;L=!0;K=[];"notcached" === G.WH && (L=!1,K.push("Missing cached manifest"));this.config().AW || (L=!1,K.push("LDL prefetch disabled"));ia=W.filter(R("status",P)).length;this.config().AW && 0 === ia && (!O.ldlreceived || 0 <= O.ldlreceived) && (L=!1,K.push("LDL received after start"));if(this.config().z1a)if(E.isPrefetchItem){pa=E.prefetchedAudioMs / E.bcABufferLevelMs;if(1 > E.prefetchedVideoMs / E.bcVBufferLevelMs || 1 > pa)(L=!1,K.push("Insufficient media fetched"));}else (L=!1,K.push("aseStats not initialized"));wa=H.filter(function(Ca){return "getHeaders" === Ca.type;});I.header_succ=wa.filter(R("status",J)).length;I.header_fail=wa.filter(R("status",M)).length;za=H.filter(function(Ca){return "getMedia" === Ca.type;});I.media_succ=za.filter(R("status",J)).length;I.media_fail=za.filter(R("status",M)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,n.ve)(E,I,{prefix:"pr_"});this.rv.BW && (E.eventlist_version=1,E.eventlist=this.yJ.e5a(G));(E.prefetchCompleted=L) || (E.prefetchFailed=K,(0,n.ve)(E,O,{prefix:"pe_"}));this.dua(E);}catch(Ca){this.log.warn("error in collecting video prepare data",Ca);}};c.prototype.eSb=function(G,E){if(G=G.cX())if(E=G[E])return E.qa;};c.prototype.T6a=function(G,E){G.gb.Ph && (E.isBranching=!0);};c.prototype.aJ=function(G,E){var I,L;L=(null === (I=G.ea) || void 0 === I?void 0:I.Dua) || "videopreparer" === G.VH;E.cachedManifest=G.WH;E.cachedLicense=G.VH;E.usedldl=this.config().AW?L.toString():"not_capable";};c.prototype.bJ=function(G,E){var I,L;if(this.config().IUb){I=G.Esa();L=G.la.ea;I && L && (E.segment=I,L=G.vE(),E.segmenttime=L,G=this.eSb(G,I),null !== L && void 0 !== G && (E.segmentoffset=L - G));}};c.prototype.HE=function(G,E,I){E.pxid=G.vca;(void 0 === I?0:I) && (E.playgraph_trace=G.adb);};c.prototype.WX=function(G,E){E.hasContentPlaygraph=G.X9();};c.prototype.EUb=function(G,E){var I,L;if(G.X9()){I=G.bE;L=G.ea.ab.xo.fa;E.auxViewables=Object.keys(L.N).map(function(K){return L.N[K].K;}).filter(function(K,H,R){return K !== I && R.indexOf(K) === H;});}};c.prototype.W6a=function(G){var E,I;E=this.j.vmc;I=E && E.yoc;E && E.lUb && (G.htwbr=E.lUb,G.pbtwbr=E.Yxa,G.hptwbr=E.ymc);E && E.r7b && (G.rr=E.r7b,G.ra=E.soc);E && I && 0 < (I.length || 0) && (G.qe=JSON.stringify(I));};c.prototype.Zta=function(G){var E,I,L;try{E=this.Be.createElement("canvas");I=E.getContext("webgl") || E.getContext("experimental-webgl");if(I){L=I.getExtension("WEBGL_debug_renderer_info");L && (G.WebGLRenderer=I.getParameter(L.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=I.getParameter(L.UNMASKED_VENDOR_WEBGL));}}catch(K){}};c.prototype.JUb=function(G){G.switchAwaySummary={vsa:this.dk.summary.glb,vsb:this.dk.summary.hlb,vsbt:this.dk.summary.ilb,asa:this.dk.summary.iXa,asb:this.dk.summary.jXa,asbt:this.dk.summary.kXa};};c.prototype.Fvb=function(G){var E;E=[];return G?Object.keys(G).map(function(I){return +I;}):E;};c.prototype.JA=function(){var G,E;G=this;if(this.j.xC && this.j.fj){E=[];this.j.xC.concat(this.j.fj).forEach(function(I){I.streams.forEach(function(L){E.push({dlid:L.Yb,type:L.type,bitrate:L.bitrate,vmaf:L.cb,cdn_ids:G.Fvb(L.cv)});});});return JSON.stringify(E);}};c.prototype.sEb=function(){var E,I,L;function G(K,H){var R,O,J;R=K.cdnId + "$" + K.correlationId;O=L[R];O || (O={cdnid:K.cdnId,pbcid:K.correlationId,dls:[]},L[R]=O,I.push(O));(0,m.$N)(K.bitrate);(0,m.$N)(K.duration);R={bitrate:K.bitrate,tm:(0,w.op)(K.duration)};J=K.vmaf;J && ((0,m.$N)(K.vmaf),R.vf=J);R[H]=(0,n.Xj)(K.downloadableId);O.dls.push(R);}E=this.j.im.pPb();I=[];L={};E.audio.forEach(function(K){G(K,"adlid");});E.video.forEach(function(K){G(K,"dlid");});return JSON.stringify(I);};c.prototype.QZ=function(){var G,E,I,L,K,H,R,O,J,M,P,S,U;G=this.j.im;E={totaltime:(0,n.ln)(G.Zs("content")),totalcontenttime:(0,n.ln)(G.FX("content")),totaladtime:(0,n.ln)(G.Zs("ads")),totalothertime:(0,n.ln)(G.Zs("other")),cdndldist:this.sEb(),reposcount:this.w_,intrplaycount:this.KE};try{I={numskip:0,numlowqual:0};L=this.j.Uf;K=L.WA();(0,y.Ja)(K) && (E.totfr=K,I.numren=K);K=L.II();(0,y.Ja)(K) && (E.totdfr=K,I.numrendrop=K);K=L.fX();(0,y.Ja)(K) && (E.totcfr=K,I.numrenerr=K);E.playqualvideo=JSON.stringify(I);H=this.j.nf.value;H && (E.videofr=H.framerate.toFixed(3));R=G.Kra();R && (E.abrdel=R);O=G.e$() && G.y3a();O && (E.tw_vmaf=O);J=G.w3a();J && (0,n.ve)(E,J);E.rbfrs=this.KE;E.maxbitrate=this.maxBitrate;E.maxresheight=this.y$a;M=this.j.yE();for(G=0;G < M.length;G++){P=M[G];S=this.xa.PP.gC(P);if(S){(0,m.ib)(U);E.maxbitrate=U?U.bitrate:0;E.maxresheight=U?U.height:0;E.bitratefilters=S.join("|");break;}U=P;}this.j.qC && (E.trickplay=this.j.qC.WO());null !== this.j.fp.EXa && (E.avg_subt_delay=this.j.fp.EXa);}catch(T){this.log.error("Exception reading some of the endplay fields",T);}(0,n.ve)(E,this.j.N9(),{prefix:"vd_"});return E;};c.prototype.getTime=function(){return this.Ea.Tb().da(p.ma);};c.prototype.Rsa=function(){return this.getTime() - this.xa.oj.da(p.ma);};c.prototype.dua=function(G){var E;try{E=this.Fd.getStats();G.pr_cache_size=JSON.stringify(E.cache);G.pr_stats=JSON.stringify(E.TOb);}catch(I){}};c.prototype.$ta=function(G){this.log.debug("httpstats",this.lf.Wb);(0,n.ve)(G,this.lf.Wb,{prefix:"http_"});};c.prototype.Wta=function(G,E){var I,L,K;I=this.config().Z_a && !(this.ga % this.config().Z_a);L=this.j.Ga;K=null === L || void 0 === L?void 0:L.Ei;I && K && (G.ASEstats=JSON.stringify(L.D$(E)));};c.prototype.q$=function(G){Object.assign(G,this.j.Ga.Vb.BSb());};c.prototype.cua=function(G){var E;try{E=w.Tw.memory;(0,y.p8a)(E) && (G.totalJSHeapSize=E.totalJSHeapSize,G.usedJSHeapSize=E.usedJSHeapSize,G.jsHeapSizeLimit=E.jsHeapSizeLimit);}catch(I){}};c.prototype.S6a=function(G){var E;try{if(this.config().GV){E=this.j.xPb();G.battery=E;this.log.trace("batterystatuses",E);}}catch(I){}};c.prototype.FUb=function(G){this.j.H7 && (G.dqec=this.j.H7);};c.prototype.bua=function(G){var E,I,L;(null === (E=this.j.Ve) || void 0 === E?0:E.oX)?G.keysys=this.j.Ve.oX():(null === (L=null === (I=this.j.Ve) || void 0 === I?void 0:I.mediaKeys) || void 0 === L?0:L.keySystem)?G.keysys=this.j.Ve.mediaKeys.keySystem:this.MP.H8a && (G.keysys=this.MP.H8a);};c.prototype.aua=function(G){var E;if(null === (E=this.j.Ve) || void 0 === E?0:E.y4a)G.keystatus=this.j.Ve.bva;};c.prototype.GUb=function(G){this.Lqa && (G.externaldisplay=this.Lqa.BO);};c.prototype.HUb=function(G){var E,I;if(this.lDa){E=this.lDa.map(function(L){return L.Kc;}).filter(function(L){return void 0 !== L;});I=(0,z.jwa)(E,function(L){return L.height;});I && (G.media_capabilities_smooth=I.smooth,G.media_capabilities_efficient=I.powerEfficient,G.media_capabilities_bitrate=I.bitrate,G.media_capabilities_height=I.height,G.media_capabilities_width=I.width);G.media_capabilities=E.map(function(L){return {smooth:L.smooth,efficient:L.powerEfficient,bitrate:L.bitrate,height:L.height,width:L.width};});}};c.prototype.KUb=function(G){G.didHydrateTracks=this.j.V7;};c.prototype.NWb=function(){void 0 === this.Lqa && (this.Lqa=this.Mqa.sNb());};c.prototype.OWb=function(G){var E;E=this;void 0 === this.lDa && void 0 !== G && (this.lDa=G.map(function(I){return E.vwa.Rqa(I);}));};c.prototype.Y8=function(G,E){(E=this.j.YA(E)) && Object.entries(E).forEach(function(I){var L;L=na(I);I=L.next().value;L=L.next().value;G[I]=L;});};c.prototype.Fc=function(G,E,I,L){var K,H;H=E?"error":"info";E && this.j.Oi && (0,q.Iga)(this.j.Oi.errorCode,this.j.Oi.wa,this.Rsa(),null === (K=this.j.Uf) || void 0 === K?void 0:K.WA()) && (H="info");this.pma(L,this.j,E,I);G=this.rB.Xu(G,H,L,this.xa);this.og.Fc(G);};c.prototype.r$=function(G,E){var I,L;L=null === (I=E.Ga) || void 0 === I?void 0:I.gJb;L && (null === L || void 0 === L?void 0:L.K) !== E.bE && (G.auxMid=L.K,G.auxPlaybackcontextid=E.Ho(L.K).li);};c.prototype.pma=function(G,E,I,L){var K,H,R,O,J;this.zc.r$(G,E);this.r$(G,E);L & F.Le && ((0,m.ib)(!G || void 0 === G.moff),this.zc.X6a(G,E,E.X9()));L & F.ou && this.zc.Z6a(G,E);L & F.aj && (null === (K=E.Ga) || void 0 === K?0:K.Ei) && (G.abuflbytes=null !== (H=G.abuflbytes) && void 0 !== H?H:E.ena(),G.abuflmsec=null !== (R=G.abuflmsec) && void 0 !== R?R:E.hV(),G.vbuflbytes=null !== (O=G.vbuflbytes) && void 0 !== O?O:E.jDa(),G.vbuflmsec=null !== (J=G.vbuflmsec) && void 0 !== J?J:E.Z0());L & F.pu && this.zc.$6a(G,E.Zo);L & F.bG && (K=w.Me.hardwareConcurrency,0 <= K && (G.numcores=K),K=this.xa.cqa) && (H=K.Lra(),G.droppedFrames=JSON.stringify(H),K=K.OI(this.config().tLb),(0,n.Wg)(K,function(M,P){G["droppedFramesP" + M]=JSON.stringify(P);}));if(L & F.I1)try{E.Ag && (G.cdninfo=JSON.stringify(E.Ag.map(function(M){return {id:M.id,nm:M.name,rk:M.Zb,wt:M.location.weight,lv:M.location.level};})));}catch(M){}I && L & F.eG && ((0,m.ib)(E.Oi),this.zc.V6a(G,E,E.Oi));L & F.Cq && this.zc.Yta(G);};Va.Object.defineProperties(c.prototype,{ukb:{configurable:!0,enumerable:!0,get:function(){return this.j.MA || this.j.mO;}}});b.VS=c;(function(G){G[G.Le=1]="MOFF";G[G.ou=2]="PRESENTEDSTREAMS";G[G.aj=4]="BUFFER";G[G.pu=8]="SCREEN";G[G.bG=16]="CPU";G[G.I1=32]="CDN";G[G.eG=64]="FATALERROR";G[G.Cq=128]="BROWSERINFO";})(F || (F={}));},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RGa="DownloadReportBuilderSymbol";},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;t=a(0);k=a(191);g=a(89);h=a(25);d=a(3);f=a(23);l=a(13);m=a(15);n=a(1);a=a(12);c.prototype.construct=function(q,r){var u,v,w;u=this;v={};q.forEach(function(x){var y;y=x.url;v[y] || (v[y]=[]);v[y].push(x);});w=[];(0,h.Wg)(v,function(x,y){w.push(u.LSb(y,r));});return {urls:w};};c.prototype.LSb=function(q,r){var u,v,w,x;u=this;v=q[0];w={url:v.url,bitrate:v.bitrate,cdnid:(0,m.Mj)(v.wc)?v.wc.id:v.wc,dltype:v.VKb,id:v.Yb};x={};q.forEach(function(y){var z;z=u.IVb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,h.Wg)(x,function(y,z){"fail" === y?w.failures=u.pQb(z,r):"success" === y && (w.downloads=u.hQb(z,r));});return w;};c.prototype.hQb=function(q,r){var u,v,w;u=this;v={};q.forEach(function(x){var y;y=x.uFb;v[y] || (v[y]=[]);v[y].push(x);});w=[];(0,h.Wg)(v,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);u.sVb(A) && (w.push(u.X3a(z,r,x)),z=[]);});0 < z.length && w.push(u.X3a(z,r,x));});return w;};c.prototype.X3a=function(q,r,u){var v,w,x,y,A;v=q.sort(function(B,C){return B.dm.Vi < C.dm.Vi?-1:B.dm.Vi > C.dm.Vi?1:0;});w=v[0].dm;x=w.Qr;y=w.Vi;w=w.pq;for(var z=1;z < q.length;z++){A=q[z].dm;A.Qr < x && (x=A.Qr);A.Vi < y && (y=A.Vi);A.pq > w && (w=A.pq);}z=this.QRb(v);A=v[v.length - 1];return {time:x - r,tcpid:u?parseInt(u):-1,tresp:y - x,first:z,ranges:this.RRb(v,z),dur:w - y,trace:this.xE(q),status:this.WO(A)};};c.prototype.QRb=function(q){var r;r=0;q.forEach(function(u){u.Ht && (r=(0,l.rz)(r,u.Ht[0]));});return r;};c.prototype.RRb=function(q,r){var u;u=[];q.forEach(function(v){v.Ht?u.push([v.Ht[0] - r,v.Ht[1] - r]):u.push([0,-1]);});return u;};c.prototype.xE=function(q){var r,u;r=[];q.forEach(function(v){var w;v=v.dm;if(u){w=v.Qr - u.pq;0 < w && r.push([w,-2]);w=(0,l.ku)(u.pq,v.Qr);w=v.Vi - w;0 < w && r.push([w,-3]);}r.push([v.pq - v.Vi,v.SV || 0]);u=v;});return r;};c.prototype.sVb=function(q){if(q.wa === d.R.MC || q.wa === d.R.jG)return !0;};c.prototype.WO=function(q){if(q.ca)return "complete";if(q.wa === d.R.MC)return "abort";if(q.wa === d.R.jG)return "stall";(0,f.ib)(!1,"download status should never be: other");return "other";};c.prototype.pQb=function(q,r){var u,v;u=this;v=[];q.forEach(function(w){var x;x=w.dm;w={time:x.Vi - r,tresp:x.Vi - x.Qr,dur:x.pq - x.Vi,range:w.Ht,reason:u.TRb(w),httpcode:w.pl,nwerr:(0,k.Asa)(w.wa)};v.push(w);});return v;};c.prototype.TRb=function(q){return q.pl || q.wa === d.R.JS?"http":q.wa === d.R.LS?"timeout":"network";};c.prototype.IVb=function(q){return q.ca || void 0 === q.ca || q.wa === d.R.MC || q.wa === d.R.jG?!1:!0;};c.prototype.mGb=function(q){var r,u,v,w,x,y;r=q.request;u=r.stream;v=r.track;w=r.url;x=this.eQb(v,w);switch(x){case g.cj.audio:case g.cj.video:y=r.stream.Yb;break;case g.cj.tea:case g.cj.BCa:y=v.Yb;}q={bitrate:u && u.bitrate,VKb:x,Yb:y,dm:q.dm,wc:r.wc,url:w,Ef:q.Ef,pl:q.pl,wa:q.wa,ca:q.ca,uFb:this.eNb(q)};void 0 !== r.offset && void 0 != r.length && (q.Ht=[r.offset,r.offset + r.length - 1]);return q;};c.prototype.eQb=function(q,r){if(q)return q.type;if(0 <= r.indexOf("netflix.com")){if(0 <= r.indexOf("nccp"))return "nccp";if(0 <= r.indexOf("api"))return "api";}return "other";};c.prototype.eNb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(r){return 0 == r.indexOf("port=");}).map(function(r){return r.split("=")[1];})[0])?(0,h.Xj)(q):q;};p=c;p=t.__decorate([(0,n.X)(),t.__param(0,(0,n.l)(a.Ic))],p);b.QGa=p;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XS="LogblobMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zSa="XhrFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tMa="NetworkMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sMa="NetworkMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cIa="FtlDataParserSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJa="HttpRequesterSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mNa="PboAcquireLicenseCommandSymbol";},function(t,b,a){var d,f,l,m,n,p;function c(q){var r;q=new l.zS(q);if(1481462272 != q.Or())throw Error("Invalid header");r={XMR:{Version:q.Or(),RightsID:q.Cy(16)}};k(q,r.XMR,q.buffer.length);return r;}function k(q,r,u){var v,w,x,y,z;for(;q.position < u;){v=q.Sh();w=q.Or();w-=8;switch(v){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:g(v)};z=r[x];z?(0,p.isArray)(z)?z.push(y):(r[x]=[],r[x].push(z),r[x].push(y)):r[x]=y;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:k(q,y,q.position + w);break;case 5:y.Reserved1=q.Sh();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Sh();y.MinimumAnalogVideoOutputProtectionLevel=q.Sh();y.Reserved2=q.Sh();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Sh();break;case 10:y.Reserved=q.Cy(16);y.SymmetricCipherType=q.Sh();y.AsymmetricCipherType=q.Sh();w=q.Sh();y.EncryptedKeyLength=w;v=q.Cy(w);y.EncryptedKeyData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:y.SignatureType=q.Cy(2);w=q.Sh();v=q.Cy(w);y.SignatureData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:y.Reserved=q.Sh();break;case 18:y.BeginDate=q.Or();y.EndDate=q.Or();break;case 42:y.CurveType=q.Cy(2);w=q.Sh();v=q.Cy(w);y.Key=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:y.ExpireAfterFirstPlay=q.Or();break;case 50:y.Sequence=q.Or();break;case 51:y.LicenseProcessingIndicator=q.Sh();break;case 52:y.MinimumSecurityLevel=q.Sh();break;case 57:y.PlayEnablerType=h(q.Cy(16));break;case 85:break;default:y.OtherData=q.Cy(w);}}}function g(q){return "0x" + q.toString(16);}function h(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.yJb=b.zJb=b.xJb=b.wJb=b.vJb=void 0;d=a(16);f=a(8);l=a(167);m=a(193);n=a(520);p=a(15);b.vJb=function(q,r,u){switch(r){case d.g2:q && (q=(0,f.IXa)(q),(0,n.xlb)(q,function(v){v.ca && (v=v.object) && (v=(0,m.U3a)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,m.ncb)(v)) && (v=(0,f.Ms)(v)) && (v=c(v)) && u(v);}));}};b.wJb=c;b.xJb=k;b.zJb=g;b.yJb=h;},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.xlb=void 0;c=a(8);k=a(3);g=a(521);h=a(522);d=a(59);b.xlb=function(f,l){var m,n;try{n=(0,g.ylb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.fg)(function(){if(n && n.documentElement)try{m=(0,h.zlb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.fg)(function(){m?l({ca:!0,object:m}):l({ca:!1,wa:k.R.qpb});});});};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ylb=void 0;c=a(8);k=a(15);b.ylb=function(g){var h,d;if((0,k.wP)(g)){h=new DOMParser().parseFromString(g,"text/xml");d=h.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(f){}throw Error("xml parser error");}return h;}throw Error("bad xml text");};},function(t,b,a){var k;function c(g){var h,d,f,l,m,n,p;d={};d[k.ADa]=g.localName;f={};d[k.m1]=f;l=[];d[k.ulb]=l;m=g.attributes;n=m.length;for(h=0;h < n;h++){p=m[h];f[p.localName]=p.value;}g=g.childNodes;n=g.length;f={};for(h=0;h < n;h++){switch((m=g[h],m.nodeType)){case b.Clb:m=c(m);p=m[k.ADa];m[k.vlb]=d;l.push(m);d[p]?f[p][k.wlb]=m:d[p]=m;f[p]=m;break;case b.Dlb:case b.Alb:(m=m.text || m.nodeValue,l.push(m),d[k.$y] || (d[k.$y]=m));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Blb=b.Alb=b.Dlb=b.eec=b.Clb=b.fec=b.zlb=void 0;k=a(193);b.zlb=function(g){return c(g.nodeType == b.Blb?g.documentElement:g);};b.fec=c;b.Clb=1;b.eec=2;b.Dlb=3;b.Alb=4;b.Blb=9;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Na="PboReleaseLicenseCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CNa="PboLicenseRequestTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sNa="PboCachedPlaydataSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IOa="PlaydataConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ria={pY:"keepAlive",splice:"splice"};b.yNa="PboEventSenderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.TNa="PboPlaydataPlaybackMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eHa="DxDisplaySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hHa="DxManagerSymbol";b.gHa="DxManagerProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FKa="LogDisplayConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wSa="WindowUtilsSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lOa="PlayPredictionDeserializerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vPa="PreparerManifestFetcherSymbol";b.uPa="PreparerLicenseFetcherSymbol";b.tPa="PreparerLegacyLicenseFetcherSymbol";},function(t,b,a){var k,g,h,d;function c(f){this.Gn=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Qia=b.iPa=void 0;t=a(0);k=a(18);g=a(1);h=a(117);d=a(39);c.prototype.Y9a=function(f){var l,m;l=this;if(f.fe.key.fa)return Promise.resolve(f.fe.key.fa);m=f.fe.key.K;return f.fe.bh.am(m).jp.then(function(n){n=n.ea;return n.so?(0,d.wA)(n.so,{config:k.config}):(0,d.AF)(m,l.Gn.Ys(m));});};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(h.NL))],a);b.iPa=a;b.Qia="PlaygraphResolverSymbol";},function(t,b){function a(c){this.Gx=void 0 === c?function(){}:c;this.TF=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Jja=void 0;a.prototype.store=function(c,k){c=this.generateKey(c);this.TF.has(c) && this.bbb(this.TF.get(c),!0);this.TF.set(c,k);};a.prototype.am=function(c,k){var g,h;h=null === (g=null === k || void 0 === k?void 0:k.qo) || void 0 === g?void 0:g.Ee;g={K:c,Ee:h};this.has(g) || this.Gx(c,k);return this.get(g);};a.prototype.has=function(c){c=this.generateKey(c);return this.TF.has(c) && !this.TF.get(c).ur;};a.prototype.clear=function(){var c;c=this;this.TF.forEach(function(k){c.bbb(k,!1);});this.TF.clear();};a.prototype.get=function(c){return this.TF.get(this.generateKey(c));};a.prototype.generateKey=function(c){var k;k=c.Ee;return c.K.toString() + (k?":" + k:"");};a.prototype.bbb=function(c,k){var g;null === (g=c.events) || void 0 === g?void 0:g.emit("viewableEvicted",{type:"viewableEvicted"});c.bCa=k;};b.Jja=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GLa="MediaHttpSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MMa="OpenConnectSideChannelSymbol";b.QLa="MediaRequestDownloaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OLa="MediaRequestConstructorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wNa="PboDispatcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IRa="TransportFactorySymbol";b.hMa="MslTransportSymbol";b.QQa="SslTransportSymbol";},function(t,b,a){var l,m;function c(n){return !(!n || !n.jF && !n.pboc || !n.code && !n.code);}function k(n){return !(!n || !n.Cc);}function g(n){return ! !(n instanceof Error);}function h(n){switch(n){case "ACCOUNT_ON_HOLD":return m.R.Mrb;case "STREAM_QUOTA_EXCEEDED":return m.R.Qrb;case "INSUFFICICENT_MATURITY":return m.R.Vrb;case "TITLE_OUT_OF_WINDOW":return m.R.csb;case "CHOICE_MAP_ERROR":return m.R.Prb;case "BadRequest":return m.R.Xrb;case "Invalid_SemVer_Format":return m.R.Wrb;case "RESTRICTED_TO_TESTERS":return m.R.$rb;case "AGE_VERIFICATION_REQUIRED":return m.R.Nrb;case "BLACKLISTED_IP":return m.R.Orb;case "DEVICE_EOL_WARNING":return m.R.gia;case "DEVICE_EOL_FINAL":return m.R.OMa;case "INCORRECT_PIN":return m.R.SMa;case "MOBILE_ONLY":return m.R.Zrb;case "MDX_CONTROLLER_CTICKET_INVALID":return m.R.Yrb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return m.R.dsb;case "RESET_DEVICE":return m.R.RMa;case "RELOAD_DEVICE":return m.R.QMa;case "EXIT_DEVICE":return m.R.PMa;case "FREE_PREVIEW_ENDED":return m.R.Urb;case "STREAMING_LOCATION_DISALLOWED":return m.R.bsb;case "EXTRA_MEMBER_STREAM_HOLD":return m.R.Trb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return m.R.Srb;default:return m.R.iIa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new l.jd(n,h(p.code),"BadRequest" === p.code?m.f3.Jmb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new l.jd(n,p.Cc,p.Td,void 0,p.DB,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.lYa=b.mYa=b.IOb=b.NOb=b.Fo=b.MOb=b.gY=b.BVb=b.Z7a=void 0;l=a(37);m=a(3);b.Z7a=c;b.BVb=k;b.gY=g;b.MOb=h;b.Fo=function(n,p){return k(p)?f(n,p):c(p)?d(n,p):g(p)?l.jd.yra(n,p):new l.jd(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.NOb=d;b.IOb=f;b.mYa=function(n,p,q,r,u){var v,w,x,y;v=p.ggb[q];if(void 0 === v)throw {jF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {jF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=v.service;if(void 0 === x)throw {jF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=v.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {jF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isPlayApiDirect?n.BRb(r) + "/" + y + "/" + x + "/" + w:n.rRb(r) + "/" + y + "/" + x + "/" + w + "/" + (void 0 === u?"router":u);};b.lYa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.AWa && p && (q["X-Esn"]=p.ql);return q;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bOa="PboRequestFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NRa="TrickPlayManagerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kq=void 0;t=b.Kq || (b.Kq={});t[t.x3=0]="NOT_LOADED";t[t.LOADING=1]="LOADING";t[t.oG=2]="LOADED";t[t.RS=3]="LOAD_FAILED";t[t.NMa=4]="PARSE_FAILED";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NEa="BandwidthMeterFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AOa="PlaybackInfoPanelFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VPa="RepositionTraceSymbol";b.TPa="RepositionTraceFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ODa="AdManagerFactorySymbol";},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca;function c(N,Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa,eb,lb,ub,Cb,Ib,Pb,ec,Fb,Qb,ac,ad,Qd,Df,Ef,Ff,Gf,Hf,Rd){var wb,If;function Ze(ob){ob.newValue && ob.newValue.stream && (wb.we.removeListener(Ze),wb.B$=ob.newValue.stream.bitrate);}function $e(ob){ob.newValue !== S.lb.ag && ob.newValue !== S.lb.Eh && (wb.Db.removeListener($e),wb.cJ=wb.Aa.$Q,wb.Sb.Wc(S.ja.Yv));}function af(ob){ob.newValue !== S.lb.ag && (wb.Db.removeListener(af),wb.En=!0,wb.RZ=wb.Aa.xf.da(F.ma),wb.Sb.Wc(S.ja.En));}wb=this;this.rb=sa;this.Yk=Ha;this.fB=Ja;this.Ea=Oa;this.FD=Ua;this.Aa=$a;this.OY=sb;this.$va=Pa;this.EP=Xa;this.Fd=eb;this.mi=lb;this.pj=ub;this.xN=Cb;this.SZ=Ib;this.Sj=Pb;this.ACa=ec;this.og=Fb;this.Be=Qb;this.kya=ac;this.Dn=ad;this.Web=Qd;this.$ma=Df;this.yJ=Ef;this.Wxa=Ff;this.oma=Gf;this.oN=Hf;this.adb=[];this.Kr=new Map();this.yc=new r.Xb(null);this.Jg=new r.Xb(null);this.kc=new r.Xb(null);this.ej=new r.Xb(null);this.uw=new r.Xb(void 0);this.nf=new r.Xb(null);this.Gh=new r.Xb(null);this.mediaTime=new r.Xb(void 0);this.playbackRate=new wa.EOa(1,u.config.owa);this.OCa=function(ob){return wb.yc.set(ob.newValue);};this.Ecc=function(ob){return wb.Jg.set(ob.newValue);};this.Ccc=function(ob){return wb.kc.set(ob.newValue);};this.$bc=function(ob){return wb.ej.set(ob.newValue);};this.Bcc=function(ob){return wb.uw.set(ob.newValue);};this.Dcc=function(ob){return wb.nf.set(ob.newValue);};this.acc=function(ob){return wb.Gh.set(ob.newValue);};this.tcc=function(ob){return wb.we.set(ob.newValue);};this.scc=function(ob){return wb.Hf.set(ob.newValue);};this.pcc=function(ob){return wb.mediaTime.set(ob.newValue);};this.Mea=function(ob){return wb.playbackRate.set(ob.newValue);};this.Kk={};this.Uza=this.uCa=0;this.Sb=new v.$k();this.Zea={};this.i0=this.Pcb=this.En=!1;this.SF=new r.Xb(void 0);this.state=new r.Xb(S.$b.IL);this.Zj=new r.Xb(!1);this.paused=new r.Xb(!1);this.muted=new r.Xb(!1);this.volume=new r.Xb(u.config.RJb / 100);this.Db=new r.Xb(S.lb.ag);this.wf=new r.Xb(S.Mf.sd);this.Ls=new r.Xb(S.Mf.sd);this.Sn=new r.Xb(S.Mf.sd);this.Hf=new r.Xb(null);this.we=new r.Xb(null);this.Qna=new r.Xb(null);this.l$=(0,p.fJa)(this);this.wc=[new r.Xb(null),new r.Xb(null)];this.wna={};this.mO=!1;this.Na=this.Qk=-1;this.Osa=function(ob,Sb){var Hc;ob=void 0 === ob?null:ob;return (0,H.Ja)(ob)?Sb && !wb.Hk(Sb).ea?ob:(null === (Hc=wb.Ga) || void 0 === Hc?0:Hc.Ei)?wb.Ga.Vu(ob):ob:null;};this.xbb=function(){wb.BBa();};this.bE=N;this.addEventListener=this.Sb.addListener;this.removeEventListener=this.Sb.removeListener;this.fireEvent=this.Sb.Wc;this.yma({K:N,Y:ca,gb:V || ({})},u.config.fw?this.Fd.$A(N):void 0,Q);this.log=(0,D.Qi)(this);this.T7=Na(this);this.LCb=kb(this);this.Zo=(0,M.createElement)("DIV",q.Zia,void 0,{id:this.I});this.TUb();If=Bb((0,F.si)(1));this.ed=this.log.x7("Playback");(0,d.iOa)(this);y.WC.tab=this;y.WC.lra || (y.WC.lra=this);this.ed.info("Playback created",this.xh);this.Iva?this.ed.info("Playback selected for trace playback info logging"):this.ed.trace("Playback not selected for trace playback info logging");u.config.fw && (this.Fd.kTb(this.I),this.addEventListener(S.ja.Yv,function(){var ob;wb.Fd.mTb(wb.I);wb.kc.addListener(function(){wb.Fd.Z5a();});wb.yc.addListener(function(){wb.Fd.Z5a();});null === (ob=wb.Pm) || void 0 === ob?void 0:ob.CD.addListener(function(){wb.Fd.$Sb();});}),this.addEventListener(S.ja.ph,function(){wb.Fd.jTb(wb.I);}));this.state.addListener(function(ob){wb.ed.info("Playback state changed",{From:ob.oldValue,To:ob.newValue});(0,E.ib)(ob.newValue > ob.oldValue);});x.kf.addListener(x.Ko,this.xbb,q.C3);this.mediaTime.addListener(function(){wb.aOb();If.pm(function(){return wb.F2a();});});this.Db.addListener(function(ob){wb.ed.info("PresentingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:(0,I.wj)(wb.mediaTime.value)},wb.Qv());});this.Db.addListener(function(){wb.Zj.set(wb.Db.value === S.lb.Jc);});this.wf.addListener(function(ob){wb.ed.info("BufferingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:(0,I.wj)(wb.mediaTime.value)},wb.Qv());});this.Ls.addListener(function(ob){wb.ed.info("AV BufferingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:(0,I.wj)(wb.mediaTime.value)},wb.Qv());});this.Sn.addListener(function(ob){wb.ed.info("Text BufferingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:(0,I.wj)(wb.mediaTime.value)},wb.Qv());});this.yc.addListener(function(ob){(0,E.ib)(ob.newValue && ob.newValue.Si);wb.ed.info("AudioTrack changed",ob.newValue && ({ToBcp47:ob.newValue.uf,To:ob.newValue.trackId}),ob.oldValue && ({FromBcp47:ob.oldValue.uf,From:ob.oldValue.trackId}),{MediaTime:(0,I.wj)(wb.mediaTime.value)});});this.kc.addListener(function(ob){(0,E.ib)(!ob.newValue || ob.newValue.Si);wb.ed.info("TimedTextTrack changed",ob.newValue?{ToBcp47:ob.newValue.uf,To:ob.newValue.trackId}:{To:"none"},ob.oldValue?{FromBcp47:ob.oldValue.uf,From:ob.oldValue.trackId}:{From:"none"},{MediaTime:(0,I.wj)(wb.mediaTime.value)});});this.Db.addListener(af,q.KL);this.Db.addListener($e);this.addEventListener(S.ja.Yv,function(){wb.i0=!0;wb.Bhb=wb.DV();wb.He("start");});this.we.addListener(Ze);(0,C.uOa)(this);y.qp.push(this);u.config.t_ && (this.kca=this.kya(this),this.nca=new A.GOa(this));y.Hia.forEach(function(ob){ob(wb);});this.LAb=function(){wb.addEventListener(S.ja.fK,function(ob){var Sb;ob=ob.cause;ob !== S.ff.oz && ob !== S.ff.SL && (null === (Sb=wb.Ga) || void 0 === Sb?void 0:Sb.stop());});wb.addEventListener(S.ja.Pk,function(ob){var Sb,Hc,bf,Jf,zc,Sd,Kf,Td,cf,Lf;wb.Web.Pk(ob);bf=ob.cause;Jf=ob.skip;zc=ob.wba;Sd=ob.rxa;Kf=ob.I;Td=ob.Bk;wb.la.im.jxa(Sd,zc);if(bf !== S.ff.SL && bf !== S.ff.oz)if(Jf){if(null !== (Sb=wb.Ga) && void 0 !== Sb && Sb.Tg(zc)){wb.ed.trace("Repositioned. Skipping from " + Sd + " to " + zc);ob=function(Tb){wb.log.error("streamingSession.skipped threw an exception",Tb);Tb=U.jd.yra(G.V.Qlb,Tb);wb.Et(Tb.code,Tb);};try{wb.Ga.Jl(zc).then(function(Tb){var Ic;Tb.oP || (null === (Ic=wb.Ga) || void 0 === Ic?void 0:Ic.play());}).catch(ob);}catch(Tb){ob(Tb);}}else wb.log.error("can skip returned false");}else {wb.ed.trace("Repositioned. Seeking from " + Sd + " to " + zc);try{cf=wb.rb.C9(wb.la);Lf=Object.keys(cf.N).find(function(Tb){var Ic;Tb=cf.N[Tb];return Tb.K === Kf && Tb.qa <= Td && (null !== (Ic=Tb.sa) && void 0 !== Ic?Ic:Infinity) > Td;});null === (Hc=wb.Ga) || void 0 === Hc?void 0:Hc.Ot(Td,Lf);}catch(Tb){wb.log.error("streamingSession.seekByContentPts threw an exception",Tb);zc=U.jd.yra(G.V.Olb,Tb);wb.Et(zc.code,zc);}}});};this.playbackRate.addListener(function(){var ob,Sb;if(null === (ob=wb.Ga) || void 0 === ob?0:ob.Ei)null === (Sb=wb.Ga) || void 0 === Sb?void 0:Sb.mya();});this.addEventListener(S.ja.qA,function(ob){var Sb;ob.cause == y.Eia && (wb.wf.set(S.Mf.sd),null === (Sb=wb.Ga) || void 0 === Sb?void 0:Sb.gp(wb.Uf.c4a()));});Rd && (this.la.ea=Rd,this.Sj.l0(N,Rd));}Object.defineProperty(b,"__esModule",{value:!0});b.zOa=void 0;k=a(0);g=a(31);h=a(298);d=a(300);f=a(163);l=a(555);m=a(1317);n=a(1318);p=a(558);q=a(16);r=a(69);u=a(18);v=a(75);w=a(559);x=a(65);y=a(64);z=a(134);A=a(561);B=a(1321);C=a(565);D=a(8);F=a(5);G=a(3);E=a(23);I=a(91);L=a(25);K=a(59);H=a(15);R=a(566);O=a(103);J=a(304);M=a(43);P=a(102);S=a(17);U=a(37);T=a(301);W=a(568);ia=a(131);pa=a(1325);wa=a(1326);za=a(39);Ca=a(60);c.prototype.He=function(N,Q){var V;Q=void 0 === Q?this.bE:Q;null === (V=this.Kr.get(Q)) || void 0 === V?void 0:V.He(N);};c.prototype.gB=function(N){this.la.gB(N);};c.prototype.X9=function(){var N;return !(null === (N=this.ea) || void 0 === N || !N.ab.xo);};c.prototype.$5a=function(){var N,Q,V;return !(null === (V=null === (Q=null === (N=this.ea) || void 0 === N?void 0:N.ab.LH) || void 0 === Q?void 0:Q.Ii.length) || void 0 === V || !V);};c.prototype.TUb=function(){var N;N=this;this.yc.addListener(function(Q){return N.la.yc.set(Q.newValue);});this.Jg.addListener(function(Q){return N.la.Jg.set(Q.newValue);});this.kc.addListener(function(Q){return N.la.kc.set(Q.newValue);});this.ej.addListener(function(Q){return N.la.ej.set(Q.newValue);});this.uw.addListener(function(Q){return N.la.uw.set(Q.newValue);});this.nf.addListener(function(Q){return N.la.nf.set(Q.newValue);});this.Gh.addListener(function(Q){return N.la.Gh.set(Q.newValue);});this.we.addListener(function(Q){return N.la.we.set(Q.newValue);});this.Hf.addListener(function(Q){return N.la.Hf.set(Q.newValue);});this.wc[g.Nb.$a.cc].addListener(function(Q){return N.la.wc[g.Nb.$a.cc].set(Q.newValue);});this.wc[g.Nb.$a.Jb].addListener(function(Q){return N.la.wc[g.Nb.$a.Jb].set(Q.newValue);});this.mediaTime.addListener(function(Q){return N.la.mediaTime.set(Q.newValue);});this.playbackRate.addListener(function(Q){return N.la.playbackRate.set(Q.newValue);});this.xfb();};c.prototype.xfb=function(){var N;N=this;this.la !== this.yAa && (this.la.mediaTime.set(this.mediaTime.value),this.la.playbackRate.set(this.playbackRate.value),this.ds(function(Q){return Q.yc;},this.OCa),this.ds(function(Q){return Q.Jg;},this.Ecc),this.ds(function(Q){return Q.uw;},this.Bcc),this.ds(function(Q){return Q.kc;},this.Ccc),this.ds(function(Q){return Q.ej;},this.$bc),this.ds(function(Q){return Q.nf;},this.Dcc),this.ds(function(Q){return Q.Gh;},this.acc),this.ds(function(Q){return Q.Hf;},this.scc),this.ds(function(Q){return Q.we;},this.tcc),this.ds(function(Q){return Q.wc[g.Nb.$a.cc];},function(Q){return N.wc[g.Nb.$a.cc].set(Q.newValue);}),this.ds(function(Q){return Q.wc[g.Nb.$a.Jb];},function(Q){return N.wc[g.Nb.$a.Jb].set(Q.newValue);}),this.ds(function(Q){return Q.mediaTime;},this.pcc),this.ds(function(Q){return Q.playbackRate;},this.Mea),this.kc.set(this.la.kc.value),this.yc.set(this.la.yc.value,{MWa:!0}),this.Jg.set(this.la.Jg.value),this.ej.set(this.la.ej.value),this.uw.set(this.la.uw.value),this.nf.set(this.la.nf.value),this.Gh.set(this.la.Gh.value),this.yAa=this.la);};c.prototype.ds=function(N,Q){this.yAa && N(this.yAa).removeListener(Q);N(this.la).addListener(Q);};c.prototype.load=function(N){var Q,V;Q=this;this.load=function(){};this.edb=N;if(this.state.value == S.$b.IL){this.ed.info("Playback loading",this);this.W_b();this.He("asl_load_start");V=this.FD;N=V.startTime;V=V.endTime;(0,H.pd)(N)?(0,H.pd)(V)?this.He("asl_ended"):this.He("asl_in_progress"):this.He("asl_not_started");this.FD.EY(function(ca){Q.He("asl_load_complete");ca.ca?Q.eIb():Q.Et(ca.errorCode || G.V.fha,ca);});}};c.prototype.F3b=function(){!1;try{this.state.value === S.$b.LOADING && (this.ikb(),this.Ax=this.Oc?this.Uu.da(F.ma):this.xN.hBb({bL:(0,F.tc)(this.ba),I:this.I,jca:this.Uu,gb:this.gb,hF:this.Oc?u.config.Vba:this.gb.Ph?u.config.Hxa:u.config.hF}).da(F.ma),this.Xma(),this.$Ib());}catch(N){this.Et(G.V.gqb,{wa:G.R.Bm,Ob:(0,L.We)(N)});}};c.prototype.ikb=function(){var N,Q,V;V={width:1,height:1};this.yE({skb:!0}).forEach(function(ca){V.width * V.height < ca.width * ca.height && (V={width:ca.width,height:ca.height});});V.height === (null === (N=this.SF.value) || void 0 === N?void 0:N.height) && V.width === (null === (Q=this.SF.value) || void 0 === Q?void 0:Q.width) || this.SF.set(V);};c.prototype.py=function(){var N,Q;!1;Q=this.rb.C9(this);this.t_a(Q);null === (N=this.Ga) || void 0 === N?void 0:N.zw(Q);};c.prototype.IJ=function(N){var Q,V;!1;(0,E.ib)(this.Ga,"ASE should be initialized");V=this.rb.vX(N);V?N === this.rb.Ih?this.Ga.Qs(V,!0,!0) || this.KX(V,{}):null === (Q=this.Ga) || void 0 === Q?void 0:Q.Yi(N,V,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.KX=function(N,Q,V){var ca,sa,Ha,Ja,Na;ca=this;V=void 0 === V?!0:V;!1;Ja=this.rb.Ye(N);if(this.pj.Sea && this.rb.la.K === Ja.K)return Promise.resolve(this.Uf.seek(Ja.qa,S.ff.HG,void 0));Ja=this.Yk.bP(Ja.K);Q=(0,O.Yaa)(Ja.Cb,Q);if(null === (sa=this.Ga) || void 0 === sa || !sa.Ei)throw (!1,Error("No streaming session"));!1;this.IH("Transition " + this.rb.Ih + "->" + N);Na=this.Hk(N);Na.Un=this.Ea.Tb().da(F.ma);Na.gb=Q;return "seamless" !== (null !== (Ha=this.rb.Ye(N).oe) && void 0 !== Ha?Ha:"seamless") || V?(this.Ga.SO(N).AN?this.WSb(N,Na.I):this.M_(N,Na.I)).then(function(){ca.vOb(Na.I);}):Promise.resolve();};c.prototype.M_=function(N,Q){var V;V=this.rb.Cl.N[N].qa;!1;this.IH("NO DATA " + N + ", SEEKING " + V + ", viewableId: " + Q);return Promise.resolve(this.Uf.seek(V,S.ff.HG,N,!0));};c.prototype.WSb=function(N,Q){var V,ca,sa,Ha,Ja;V=this;!1;ca=this.Ga;if(null === ca || void 0 === ca || !ca.Ei)throw Error("No streaming session");sa=new Promise(function(Na){function Oa(){!1;ca.removeEventListener("stop",Oa);Na();}ca.addEventListener("stop",Oa);});Ha=!1;Ja=new Promise(function(Na){function Oa($a){!1;V.removeEventListener(S.ja.Pk,Oa);Ha=$a.skip;Na();}function Ua(){!1;V.removeEventListener(S.ja.fK,Ua);ca.stop();}V.addEventListener(S.ja.fK,Ua);V.addEventListener(S.ja.Pk,Oa);});sa=Promise.all([sa,Ja]).then(function(){var Na;Na=!1;Ha && (Na=ca.Qs(N,!1,!0));if(!Na)return (V.IH("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),V.M_(N,Q));});Ja=ca.RN(N,this.rb.Cl.N[N].qa);!1;this.Uf.seek(Ja,S.ff.SL,N,!0);return sa;};c.prototype.yma=function(N,Q,V){var ca,sa,Ha,Ja,Na,Oa,Ua;Q=void 0 === Q?this.fB.DA():Q;V=void 0 === V?this.Ea.Tb():V;Ha=! !u.config.Qkb && !(Q % u.config.Qkb);Ja=N.K;Na=N.Y;Oa=N.gb;N=N.Ki;if(this.Kr.has(Ja))Q=this.Kr.get(Ja);else {Q=this.SZ(y.WC.index++,Ja,Na,Oa,Q,V,Ha,this.la,this.Osa,N);this.Kr.set(Ja,Q);1 < this.Kr.size && (Q.HY=this.EP.create(this,Q,!1));Q.PP=new z.TLa(this,Q);Ua=null === N || void 0 === N?void 0:N.Ee;(V=null === (sa=null === (ca=this.la.ea) || void 0 === ca?void 0:ca.Ou) || void 0 === sa?void 0:sa.find(function($a){return $a.ab.I === Ja && (void 0 === Ua || $a.ab.Ee === Ua);})) && this.Gca(V,Q);1 < this.Kr.size && this.Sj.V9(Q.I) && this.Kca(Q);}};c.prototype.s_a=function(N,Q,V){var ca,sa,Ha,Ja,Na,Oa,Ua,$a;ca=this;!1;Oa={V$:!0,Ph:!1,IR:Date.now()};(0,E.ib)(Q.qo,"Auxiliary viewable config request options must have auxiliary options");Ua=Q.qo;Q=Ua.Ee;Ua=Ua.lq;$a=null === (sa=this.Ho(Ua).ea) || void 0 === sa?void 0:sa.ab;sa={Ee:Q,Jxa:this.li,lq:Ua,JZ:$a};(0,E.ib)(null === (Ha=this.Ga) || void 0 === Ha?void 0:Ha.Gj,"If we have auxiliary viewables combined playgraph must exist");Ha=Object.keys(null === (Na=null === (Ja=this.Ga) || void 0 === Ja?void 0:Ja.Gj) || void 0 === Na?void 0:Na.N).find(function(sb){var kb,Bb;return (null === (Bb=null === (kb=ca.Ga) || void 0 === kb?void 0:kb.Gj) || void 0 === Bb?void 0:Bb.N[sb].K) === N;});(0,E.ib)(! !Ha,"Segment for the auxiliary viewable should exist in the combined playgraph");this.yma({Ki:sa,gb:Oa,Y:Ha,K:N},V);};c.prototype.uta=function(N){return ! !this.Kr.has(N);};c.prototype.GTb=function(N){try{return (this.Hk(N),!0);}catch(Q){return !1;}};c.prototype.Ho=function(N){if(N === za.qs)return this.la;if(!this.Kr.has(N))throw Error("Playback segment not found: " + N);return this.Kr.get(N);};c.prototype.Hk=function(N){var V,ca,sa,Ha,Ja,Na;function Q(Oa){for(var Ua=na(V.rQ),$a=Ua.next();!$a.done;$a=Ua.next()){if(($a=$a.value,$a.Y === Oa))return $a;}}V=this;Na=Q(N);return Na?Na:(null === (sa=null === (ca=this.Ga) || void 0 === ca?void 0:ca.Gj) || void 0 === sa?0:sa.N[N]) && (ca=null === (Ha=this.Ga) || void 0 === Ha?void 0:Ha.Gj.N[N].oc) && this.rb.Hy(ca)?(Ha=this.rb.Ye(ca).K,N=null === (Ja=this.Ga) || void 0 === Ja?void 0:Ja.Gj.N[N].K,Ha === N && (Na=Q(ca)),null !== Na && void 0 !== Na?Na:this.Ho(N)):this.la;};c.prototype.ERb=function(N){for(var Q,V,ca=na(this.rQ),sa=ca.next();!sa.done;sa=ca.next()){if((sa=sa.value,(null === (V=null === (Q=sa.Ve) || void 0 === Q?void 0:Q.Ib) || void 0 === V?void 0:V.sessionId) === N))return sa;}return this.la;};c.prototype.Kca=function(N){var Q,V;Q=this;!1;V=N.I;this.Yk.H8b(V);return this.R_(N).then(function(ca){Q.Gca(ca,N);ca=N.iJ?Q.Ub.cm.Xeb(N):Promise.resolve();Q.R3b(N);return ca.then(function(){return Q.Yk.sgb(V);});}).catch(function(ca){Q.log.error("queueManifest failed",ca);Q.Yk.G8b(V,ca);throw Q.mi(ca.code,ca);});};c.prototype.rPb=function(){if((0,H.Ja)(this.qd.ats) && (0,H.Ja)(this.qd.at))return this.qd.at - this.qd.ats;};c.prototype.C3a=function(){var N,Q;N=this.Z0();Q=this.hV();return Math.min(N,Q);};c.prototype.oR=function(){this.background || (this.ed.info("Starting inactivity monitor for movie " + this.I),new w.NJa(this));};c.prototype.close=function(N){N && (this.state.value == S.$b.CLOSED?N():this.addEventListener(S.ja.closed,function(){N();}));this.BBa();};c.prototype.Sd=function(N,Q,V){N=this.mi(N,Q,V);this.bI(N,void 0);};c.prototype.bI=function(N,Q){var V,ca,sa,Ha;V=this;!1;N.Fgb(this.En);if(this.state.value == S.$b.IL)this.Oi || (this.Oi=N,this.load());else {Q && (this.state.value == S.$b.CLOSED?Q():this.addEventListener(S.ja.closed,function(){Q();}));ca=function(){V.BBa(N);};sa=u.config.r0a && N && u.config.r0a[N.errorCode];Ha=-1;(0,H.wP)(sa) && (Ha=(0,L.Xj)(sa));this.ed.error("Fatal playback error",{Error:"" + N,HandleDelay:"" + sa});0 <= Ha?setTimeout(ca,Ha):ca();}};c.prototype.IH=function(N){var Q;Q=void 0 === Q?this.Y:Q;N=this.Ea.Tb().da(F.ma) + "-" + Q + "-" + N;!1;this.adb.push(N);};c.prototype.mOb=function(){this.F2a();};c.prototype.Esa=function(){var N;if(null === (N=this.Ga) || void 0 === N?0:N.Ei)if((N=this.Ga.Ik().id,void 0 !== N))return N;return null;};c.prototype.vE=function(){var N,Q;Q=null === (N=this.Ga) || void 0 === N?void 0:N.Ei;return void 0 === this.la.TV || Q?this.Osa(this.mediaTime.value):this.la.TV;};c.prototype.Dsa=function(){var N;N=this.Osa(this.Uf.c4a());return null === N?null:Math.min(this.Uu.da(F.ma),Math.max(0,N));};c.prototype.cX=function(){var N,Q;return null === (Q=null === (N=this.ea) || void 0 === N?void 0:N.ab.so) || void 0 === Q?void 0:Q.N;};c.prototype.Lea=function(N){!1;this.gb=(0,O.Yaa)(this.gb,N);this.Xma();};c.prototype.Q5a=function(N){return (null === N || void 0 === N?0:N.K)?N.K:(null === N || void 0 === N?0:N.skb) && this.cI?this.cI.K === za.qs?(N=this.cI.Rb) && this.Ga && this.Ga.Gj?this.Ga.Gj.N[N].K:this.I:this.cI.K:this.I;};c.prototype.mPb=function(){var N;N=this.Ho(this.Q5a(void 0)).yc;return N.value?N.value.streams:[];};c.prototype.yE=function(N){return (N=this.Ho(this.Q5a(N)).Jg) && N.value?N.value.streams:[];};c.prototype.d6a=function(N){for(var Q=na(this.rQ),V=Q.next();!V.done;V=Q.next()){if(V=(V=V.value.Ag) && V.find(function(ca){return ca.id === N;}))return V;}!1;};c.prototype.R3b=function(N){N=void 0 === N?this.la:N;!1;N.kc.value?this.fp.O3b(N.kc.value):Promise.resolve();};c.prototype.a6a=function(N){for(var Q=na(this.rQ),V=Q.next();!V.done;V=Q.next()){V=na(V.value.fj);for(var ca=V.next();!ca.done;ca=V.next()){if(ca=ca.value.streams.find(function(sa){return sa.Yb === N;}))return ca;}}!1;};c.prototype.p6a=function(N){for(var Q=na(this.rQ),V=Q.next();!V.done;V=Q.next()){V=na(V.value.xC);for(var ca=V.next();!ca.done;ca=V.next()){if(ca=(ca=ca.value) && ca.streams.find(function(sa){return sa.Yb === N;}))return ca;}}!1;};c.prototype.Wu=function(){var N,Q,V;return null !== (V=null === (Q=null === (N=this.nca) || void 0 === N?void 0:N.WV) || void 0 === Q?void 0:Q.call(N)) && void 0 !== V?V:this.oIb().qE;};c.prototype.Ogb=function(N){var Q,V;null !== (Q=this.Ga) && void 0 !== Q && Q.Ei && this.Kr.has(N) && ((null === (V=this.nca) || void 0 === V?0:V.WV)?this.nca.Pjb():(Q=this.mpa(N),this.Ga.Ur(Q,N)));};c.prototype.oWb=function(){return "trailer" === this.Ed;};c.prototype.xVb=function(){return ! !this.Ed && 0 <= this.Ed.indexOf("billboard");};c.prototype.vWb=function(){return ! !this.Ed && 0 <= this.Ed.indexOf("video-merch");};c.prototype.VVb=function(){return ! !this.Ed && 0 <= this.Ed.indexOf("mini-modal");};c.prototype.uP=function(){return this.oWb() || this.xVb() || this.vWb() || this.VVb();};c.prototype.k9=function(){var N;if(this.xC){this.yE({skb:!0}).forEach(function(Q){var V,ca;if((0,H.Ja)(Q.npa) && (0,H.Ja)(Q.M_a) && (0,H.Ja)(Q.L_a) && (0,H.Ja)(Q.K_a) && (0 < Q.npa || 0 < Q.M_a)){V=1;ca=1;(0,H.Ja)(Q.Gcb) && (0,H.Ja)(Q.Hcb) && (V=Q.Gcb,ca=Q.Hcb);V=Q.K_a * ca / (Q.L_a * V);N=(0,H.Ja)(N)?0 < Q.npa?Math.max(N,V):Math.min(N,V):V;}});return N;}};c.prototype.ZRb=function(){return {tr:this.uCa,rt:this.Uza};};c.prototype.YA=function(N){return this.Kk[N];};c.prototype.Vna=function(){return this.Un?this.Ea.Tb().da(F.ma) - this.Un:this.Aa.xf.da(F.ma) - this.FI();};c.prototype.DV=function(){var N;if(this.Un)return this.Ea.Tb().da(F.ma) - this.Un;N=this.Ea.pB;return this.RZ - (this.oj.da(F.ma) + N.da(F.ma));};c.prototype.Xna=function(){return this.Un?this.Ea.Tb().da(F.ma) - this.Un:this.RZ - this.FI();};c.prototype.xPb=function(){var N,Q;N=this.loadTime;Q={};(0,L.Wg)(this.wna,function(V,ca){Q[V]=ca.map(function(sa){return sa - N;});});return l.zx?{level:l.zx.D4a(),charging:l.zx.Rra(),statuses:Q}:null;};c.prototype.N9=function(){this.E2a();return this.Zea;};c.prototype.FI=function(){var N;N=this.gb.IR;N=(0,H.Ja)(N)?N:this.oj.da(F.ma) + this.Ea.pB.da(F.ma);(0,E.ib)((0,H.OE)(N));return N;};c.prototype.p5a=function(){return this.Ea.Tb().da(F.ma) - this.oj.da(F.ma);};c.prototype.Gdc=function(){this.I9b=!0;};c.prototype.Dba=function(){this.Beb();};c.prototype.Z0=function(){var N;N=this.E6();return N && N.vbuflmsec || 0;};c.prototype.hV=function(){var N;N=this.E6();return N && N.abuflmsec || 0;};c.prototype.jDa=function(){var N;N=this.E6();return N && N.vbuflbytes || 0;};c.prototype.ena=function(){var N;N=this.E6();return N && N.abuflbytes || 0;};c.prototype.R_=function(N,Q,V){var ca,sa,Ha,Ja;ca=this;N=void 0 === N?this.la:N;V=void 0 === V?!0:V;!1;sa=! !Q;Ha=!sa && N !== this.la;Ja=u.config.Ica.enabled?P.Zn.Rsb:Ha?P.Zn.AG:this.uP()?P.Zn.Z3:P.Zn.Iq;sa=this.uP() || sa || Ha?void 0:this.Ub.cm.u9(Ha);return this.Sj.LI({ga:N.ga,gb:N.gb,K:N.I,pv:Ja,ng:sa,Aea:Q,Ki:N.Ki},N.Ki?!1:V).then(function(Na){Na.Cua && ca.fireEvent(S.ja.DY,{I:N.I});return Na;});};c.prototype.Gca=function(N,Q,V){var ca,sa,Ha;Q=void 0 === Q?this.la:Q;V=void 0 === V?!1:V;!1;if(Q.gb.Ph && !N.ab.so)this.Sd(G.V.Cmb);else {ca=this.OY.create(this);sa=! !(Q.Ki && Q.Ki.Ee && Q.Ki.JZ);if(V){Ha=ca.oUb(Q.ea,Q.Pc,N);N=Ha.ea;Ha=Ha.Pc;}else (N=sa?ca.C7b(N,null === (Ha=Q.Ki) || void 0 === Ha?void 0:Ha.JZ):N,Ha=ca.mcb(N));Q.ea=N;Q.Pc=Ha;V || (Q.Jg.set(Ha.O7),Q.yc.set(Ha.eW),Q.kc.set(Ha.gW));}};c.prototype.vOb=function(N){var Q;Q=void 0 === Q?!1:Q;!1;this.rK({K:N,fJ:Q});};c.prototype.f6a=function(N,Q){if(!this.pj.gDa)return !0;N=this.Bt.da(F.ma) - N;return 0 > N || N > Q;};c.prototype.g7b=function(){!1;this.Uf.seek(this.vE() || 0,S.ff.k2);};c.prototype.J6a=function(N,Q){var V,ca;V=this;!1;ca=this.la;ca.V7=!0;return this.R_(ca,{Jxa:ca.li,Q6b:N,T6b:Q},!1).then(function(sa){var Ha;V.Gca(sa,ca,!0);V.Sj.l0(ca.I,ca.ea);return null === (Ha=V.Ga) || void 0 === Ha?void 0:Ha.Uy(V.$cb);}).then(function(){var sa,Ha;sa=ca.fj.find(function(Ja){return Ja.trackId === N;});Ha=ca.vi.find(function(Ja){return Ja.trackId === Q;});if(!(sa && sa.Si && Ha && Ha.Si))throw Error("Track hydration failed: requiredAudioTrackId=" + N + " requiredTextTrackId=" + Q);V.fireEvent(S.ja.ljb);return {yc:sa,y0:Ha};});};c.prototype.sv=function(){return this.Pm;};c.prototype.rK=function(N){var Q,V,ca;Q=N.K;V=N.fJ;N=N.cI;!1;N !== this.cI && (this.cI=N,this.ikb());if(this.wQ){if(Q === this.bE){this.wQ=Q;return;}N=this.Ho(Q);ca=N.ea;ca && (0,H.pd)(ca.hK) && (0,H.pd)(ca.MQ) && N.gB({pr_ats:ca.hK,pr_at:ca.MQ});this.fireEvent(S.ja.Zva,{I:this.bE});this.bE=Q;this.Xma();V || this.xfb();this.cJ=this.Aa.$Q;this.la.Un || (this.la.Un=this.Ea.Tb().da(F.ma));}("boolean" === typeof this.gb.sO?this.gb.sO:u.config.sO) && !V && this.ACa.sO(this);V={I:Q,fJ:V,wQ:this.wQ};this.wQ=Q;this.fireEvent(S.ja.pJ,V);};c.prototype.eIb=function(){!1;try{this.Ub=new m.DLa(this);this.q7=new T.cGa(this);this.HY=this.EP.create(this,this.la,!0);u.config.oEb && new W.SHa(this,this.og,this.log);u.config.GV && this.GV(this);this.hdc();}catch(N){this.Et(G.V.fqb,{wa:G.R.Bm,Ob:(0,L.We)(N)});}};c.prototype.hdc=function(){!1;this.Oi?this.bI(this.Oi):(0,H.Lua)(this.I)?this.QEb():this.Et(G.V.cqb,{Ob:"" + this.I});};c.prototype.QEb=function(){var N;!1;N=h.IK.kgb;N?N.ca?this.Joa():this.Et(G.V.GJa,N):((0,E.ib)(!u.config.k8),this.jma());};c.prototype.Joa=function(){var N;N=this;!this.background && u.config.Joa?(0,y.Gia)(function(){N.jma();},this):this.jma();};c.prototype.jma=function(){var N;N=this;!1;this.state.value == S.$b.LOADING && (u.config.sqa && !this.uP()?h.IK.ux(y.tOa,function(Q){Q.ca?(N.uaa=Q.uaa,N.yXa()):N.Et(G.V.FJa);},!0):this.yXa());};c.prototype.yXa=function(){var N,Q,V;N=this;if(this.state.value == S.$b.LOADING){this.log.info("Authorizing",this);Q=this.Ea.Tb().da(F.ma);this.He("ats");(0,E.$N)(this.I);(0,E.$N)(this.Xk);V=this.E4b.bind(this,Q);Promise.all([this.ea,u.config.fw && this.Sj.V9(this.I)?this.Sj.g9(this.I).catch(function(){}):void 0]).then(function(ca){var sa,Ha;sa=na(ca);ca=sa.next().value;sa=sa.next().value;ca && sa?Ha=sa.ab.expiration > ca.ab.expiration?sa:ca:ca?Ha=ca:sa && (Ha=sa);Ha && 18E5 > Ha.ab.expiration - (0,Ca.k7)() && (Ha=void 0);return Ha?(N.WH=Ha === ca?"ui":"videopreparer",Ha):N.R_();}).then(function(ca){try{N.Gca(ca);V(q.Lg);N.Pcb || (N.Pcb=!0,N.Wxa.tq(N));}catch(sa){N.log.error("Exception processing authorization response",sa);V({ca:!1,wa:G.R.Csb});}}).catch(V);}};c.prototype.E4b=function(N,Q){var V,ca;V=this;!1;if(this.state.value == S.$b.LOADING){this.He("at");ca=this.ea;this.gB({pr_ats:ca && (0,H.pd)(ca.hK)?ca.hK:N,pr_at:ca && (0,H.pd)(ca.MQ)?ca.MQ:this.Ea.Tb().da(F.ma)});Q.ca?0 < this.Pc.Ag.length && this.Pc.eW && this.Pc.O7 && this.Pc.gW?this.edb?(this.log.info("Processing post-authorize",this),this.edb(this,function(sa){sa.ca?V.Tjb():V.Et(G.V.jqb,sa);})):this.Tjb():this.Et(G.V.WKa,this.$va(this.Pc)):this.Et(G.V.CL,Q);}};c.prototype.Tjb=function(){var N,Q;k.__awaiter(this,void 0,void 0,function ca(){var sa;sa=this;return Ga(ca,function(Ha){!1;if(sa.state.value != S.$b.LOADING)return Ha.return();(null === (N=sa.la.ea) || void 0 === N?0:N.ab.so) && sa.rb.reset((0,za.wA)(null === (Q=sa.la.ea) || void 0 === Q?void 0:Q.ab.so,{config:u.config}));sa.Ga=sa.$ma(sa.rb,sa);sa.Ga.k9b({Zq:f.Zq,config:u.config,Be:sa.Be,ed:sa.ed,Qv:sa.Qv.bind(sa),Jj:D.Jj,U_:sa.U_.bind(sa),rK:sa.rK.bind(sa)});sa.F3b();Ha.eF=0;});});};c.prototype.$Ib=function(){var N,Q,V,ca,sa,Ha,Ja;N=this;!1;try{if(this.state.value === S.$b.LOADING){this.Ub.open();Q=new Promise(function(Na){N.Ub.addEventListener(J.hk.uhb,Na);});this.Uf=new R.MLa(this);V=this.Pc.eW.wi === ia.Jq.NONE;ca={RF:this.Pc.eW.Br || V};sa={ga:this.ga,Xo:this.Rf,MA:this.MA};try{if(this.state.value !== S.$b.LOADING)return;Ha=this.Ga;Ha.C$({flags:ca,Hx:sa,Y:this.$cb,mpa:this.mpa.bind(this)});Ja=this.rb.C9(this);this.t_a(Ja);Ha.zw(Ja);this.LAb();Ha.XCb({Kk:this.Kk,loadTime:this.loadTime});this.Pm=this.oma(Ha,this);this.Pm.CD.addListener(function(Na){Na.newValue?N.fp.STb():N.fp.K9b();});}catch(Na){throw (this.log.error("Failed to initialize ASE streaming",{error:Na,startPts:this.ba,flags:ca}),Na);}Q.then(function(){var Na;N.state.value !== S.$b.CLOSING && N.state.value !== S.$b.CLOSED && (null === (Na=N.Ga) || void 0 === Na?void 0:Na.open());});this.mediaTime.set(this.ba);this.fp=new n.zRa(this);if("boolean" === typeof this.gb.Zca?this.gb.Zca:u.config.Zca)this.C0=new B.ARa(this);this.oR();y.Iia.forEach(function(Na){Na(N);});this.V_b();}}catch(Na){this.Et(G.V.hqb,{wa:G.R.Bm,Ob:(0,L.We)(Na)});}};c.prototype.W_b=function(){(0,E.ib)(this.state.value == S.$b.IL);this.loadTime=this.Ea.Tb().da(F.ma);this.state.set(S.$b.LOADING);};c.prototype.Et=function(N,Q){this.done || (this.done=!0,Q instanceof U.jd?this.Sd(Q.code,Q):this.Sd(N,Q));};c.prototype.GV=function(N){var V,ca;function Q(){var sa,Ha;sa=l.zx.Rra() + "";Ha=N.wna[sa];Ha || (Ha=N.wna[sa]=[]);Ha.push(V.Ea.Tb().da(F.ma));V.log.trace("charging change event",{level:l.zx.D4a(),charging:l.zx.Rra()});}V=this;ca=l.zx.inb;l.zx.addEventListener(ca,Q);N.addEventListener(S.ja.ph,function(){l.zx.removeEventListener(ca,Q);});};c.prototype.BBa=function(N){var Q,V;Q=this;if(this.state.value == S.$b.IL || this.state.value == S.$b.LOADING || this.state.value == S.$b.Ce){this.ed.info("Playback closing",this,N?{ErrorCode:N.Y7}:void 0);this.IH("Closing");x.kf.removeListener(x.Ko,this.xbb);this.Oi=N;this.la.TV=this.vE();this.E2a();(null === (V=this.Ga) || void 0 === V?0:V.Ei) && this.Ga.flush();try{this.Sb.Wc(S.ja.ph,{movieId:this.bE});}catch(ca){this.ed.error("Unable to fire playback closing event",ca);}this.state.set(S.$b.CLOSING);this.Nlb();this.I9b || (0,K.fg)(function(){return Q.Beb();});}};c.prototype.aOb=function(){this.Sb.Wc(S.ja.Njb);};c.prototype.F2a=function(){var N;N=this.mediaTime.value;this.dXb != N && (!1,this.dXb=N,this.Sb.Wc(S.ja.lCa));};c.prototype.Beb=function(){var N,Q;N=this;(0,E.ib)(this.state.value == S.$b.CLOSING);Q=this.uaa;this.uaa=void 0;Q?h.IK.release(Q,function(V){(0,E.ib)(V.ca);N.Qoa();}):this.Qoa();};c.prototype.Nlb=function(){var N;null === (N=this.Ga) || void 0 === N?void 0:N.Yc();delete this.Ga;};c.prototype.Qoa=function(){var N;this.Qoa=q.Vw;(0,E.ib)(this.state.value == S.$b.CLOSING);N=y.qp.indexOf(this);(0,E.ib)(0 <= N);y.qp.splice(N,1);this.state.set(S.$b.CLOSED);this.Sb.Wc(S.ja.closed,void 0,!0);this.Sb.di();delete this.Ve;this.la.Dba();};c.prototype.Xma=function(){this.gb.playbackState && ("number" === typeof this.gb.playbackState.volume && this.volume.set((0,I.VC)(this.gb.playbackState.volume,0,1)),"boolean" === typeof this.gb.playbackState.muted && this.muted.set(this.gb.playbackState.muted),"number" === typeof this.gb.playbackState.playbackRate && this.playbackRate.set(this.gb.playbackState.playbackRate));};c.prototype.E2a=function(){this.Sb.Wc(S.ja.bhb,{Zea:this.Zea});};c.prototype.U_=function(N,Q,V){Q=this.d6a(Q);N=this.Hk(N);Q && N.wc[V].set(Q);};c.prototype.Qv=function(){return {AudioBufferLength:this.hV(),VideoBufferLength:this.Z0()};};c.prototype.E6=function(){var N;if(null === (N=this.Ga) || void 0 === N?0:N.Ei)return this.Ga.D$(!1);};c.prototype.V_b=function(){this.state.value == S.$b.LOADING && this.state.set(S.$b.Ce);};c.prototype.oIb=function(){var N,Q,V;N=void 0 === N?this.I:N;Q=this.yE({K:N});V=this.Ho(N);return (0,pa.Wu)(Q,function(ca){return V.PP.gC(ca);});};c.prototype.mpa=function(N){var Q,V;N=void 0 === N?this.I:N;Q=this.yE({K:N});V=this.Ho(N);return (0,pa.O5a)(Q,function(ca){return V.PP.gC(ca);});};c.prototype.t_a=function(N){var Q;Q=this;Object.keys(N.N).filter(function(V){return !Q.Kr.has(N.N[V].K);}).forEach(function(V){var ca,sa,Ha;sa=N.N[V];Ha=sa.K;sa=Object.assign(null !== (ca=Q.Yk.bP(Ha).Cb) && void 0 !== ca?ca:{},{ba:sa.qa,Ma:sa.sa,Ph:!1,IR:Date.now(),V$:!0});Q.yma({K:Ha,Y:V,gb:sa});});};Va.Object.defineProperties(c.prototype,{rQ:{configurable:!0,enumerable:!0,get:function(){return this.Kr.values();}},la:{configurable:!0,enumerable:!0,get:function(){return this.Kr.get(this.bE);}},ba:{configurable:!0,enumerable:!0,get:function(){var N,Q;return void 0 !== this.Ax?this.Ax:null !== (Q=null === (N=this.rQ.next()) || void 0 === N?void 0:N.value.gb.ba) && void 0 !== Q?Q:0;}},Pc:{configurable:!0,enumerable:!0,get:function(){return this.la.Pc;},set:function(N){this.la.Pc=N;}},M8:{configurable:!0,enumerable:!0,get:function(){return this.la.gb.M8;}},N8:{configurable:!0,enumerable:!0,get:function(){return this.la.gb.N8;}},index:{configurable:!0,enumerable:!0,get:function(){return this.la.index;}},Y:{configurable:!0,enumerable:!0,get:function(){return this.la.Y;}},$cb:{configurable:!0,enumerable:!0,get:function(){return this.rb.hDa?this.rb.Ih:this.la.Y;}},Ve:{configurable:!0,enumerable:!0,get:function(){return this.la.Ve;},set:function(N){this.la.Ve=N;}},Un:{configurable:!0,enumerable:!0,get:function(){return this.la.Un;},set:function(N){this.la.Un=N;}},WH:{configurable:!0,enumerable:!0,get:function(){return this.la.WH;},set:function(N){this.la.WH=N;}},VH:{configurable:!0,enumerable:!0,get:function(){return this.la.VH;},set:function(N){this.la.VH=N;}},B$:{configurable:!0,enumerable:!0,get:function(){return this.la.B$;},set:function(N){this.la.B$=N;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.la.ea;},set:function(N){this.la.ea=N;}},Ax:{configurable:!0,enumerable:!0,get:function(){return this.la.Ax;},set:function(N){this.la.Ax=N;}},u0:{configurable:!0,enumerable:!0,get:function(){return this.la.u0;},set:function(N){this.la.u0=N;}},gb:{configurable:!0,enumerable:!0,get:function(){return this.la.gb;},set:function(N){this.la.gb=N;}},HY:{configurable:!0,enumerable:!0,get:function(){return this.la.HY;},set:function(N){this.la.HY=N;}},im:{configurable:!0,enumerable:!0,get:function(){return this.la.im;}},I:{configurable:!0,enumerable:!0,get:function(){return this.la.I;}},Ed:{configurable:!0,enumerable:!0,get:function(){return this.la.Ed;}},fj:{configurable:!0,enumerable:!0,get:function(){return this.la.fj;}},xC:{configurable:!0,enumerable:!0,get:function(){return this.la.xC;}},rC:{configurable:!0,enumerable:!0,get:function(){return this.la.rC;}},vi:{configurable:!0,enumerable:!0,get:function(){return this.la.vi;}},li:{configurable:!0,enumerable:!0,get:function(){return this.la.li;}},iJ:{configurable:!0,enumerable:!0,get:function(){return this.la.iJ;}},iw:{configurable:!0,enumerable:!0,get:function(){return this.la.iw;}},Yl:{configurable:!0,enumerable:!0,get:function(){return this.la.Yl;}},Ag:{configurable:!0,enumerable:!0,get:function(){return this.la.Ag;}},Uu:{configurable:!0,enumerable:!0,get:function(){return this.la.Uu;},set:function(N){this.la.Uu=N;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.la.ga;}},Xk:{configurable:!0,enumerable:!0,get:function(){return this.la.Xk;}},oj:{configurable:!0,enumerable:!0,get:function(){return this.la.oj;}},cJ:{configurable:!0,enumerable:!0,get:function(){return this.la.cJ;},set:function(N){this.la.cJ=N;}},Rf:{configurable:!0,enumerable:!0,get:function(){return this.la.Rf;}},wK:{configurable:!0,enumerable:!0,get:function(){return this.la.wK;}},background:{configurable:!0,enumerable:!0,get:function(){return this.la.background;},set:function(N){this.la.background=N;}},B7:{configurable:!0,enumerable:!0,get:function(){return this.la.B7;}},qd:{configurable:!0,enumerable:!0,get:function(){return this.la.qd;}},cr:{configurable:!0,enumerable:!0,get:function(){return this.la.cr;}},cqa:{configurable:!0,enumerable:!0,get:function(){return this.la.cqa;}},PP:{configurable:!0,enumerable:!0,get:function(){return this.la.PP;}},MA:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.c8 && 0 === this.la.ga % u.config.c8;}},V7:{configurable:!0,enumerable:!0,get:function(){return this.la.V7;}},Oc:{configurable:!0,enumerable:!0,get:function(){return this.la.Oc;}},xh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.I,TrackingId:this.Xk,Xid:this.ga};}},vca:{configurable:!0,enumerable:!0,get:function(){return this.rb.vca;}}});b.zOa=c;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Nhb=void 0;c=a(16);k=a(8);g=a(3);a(25);b.Nhb=function(h){var d;(0,k.Jj)("Storage");d={};h({ca:!0,storage:{load:function(f,l){var m;if(d.hasOwnProperty(f)){m=d[f];!1;l({ca:!0,data:m,dea:f});}else (!1,l({wa:g.R.ZC}));},save:function(f,l,m,n){m && d.hasOwnProperty(f)?n({ca:!1}):(d[f]=l,!1,n && n({ca:!0,dea:f}));},remove:function(f,l){delete d[f];!1;l && l(c.Lg);}}});};},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.Lhb=void 0;c=a(8);k=a(94);g=a(32);h=a(553);b.Lhb=function(d){c.ya.get(k.DC).create().then(function(f){d({ca:!0,storage:new h.vha(f,c.ya.get(g.$h))});}).catch(function(f){d(f);});};},function(t,b){function a(c,k){this.xx=c;this.Be=k;}Object.defineProperty(b,"__esModule",{value:!0});b.vha=void 0;a.prototype.load=function(c,k){var g;g=this;this.xx.load(c).then(function(h){k && k(a.hib(h));}).catch(function(h){k && k(g.yqa(c,h));});};a.prototype.save=function(c,k,g,h){var d;d=this;this.xx.save(c,k,g).then(function(){h && h(a.hib({key:c,value:k}));}).catch(function(f){h && h(d.yqa(c,f));});};a.prototype.remove=function(c,k){var g;g=this;this.xx.remove(c).then(function(){k && k({ca:!0,dea:c});}).catch(function(h){k && k(g.yqa(c,h));});};a.hib=function(c){return {ca:!0,data:c.value,dea:c.key};};a.prototype.yqa=function(c,k){return {ca:!1,dea:c,wa:k.wa,Ob:k.cause?this.Be.We(k.cause):void 0};};b.vha=a;},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.Mhb=void 0;c=a(553);k=a(8);g=a(483);h=a(32);b.Mhb=function(d){d({ca:!0,storage:new c.vha(k.ya.get(g.zKa),k.ya.get(h.$h))});};},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.zx=void 0;c=a(16);k=a(18);t=a(3);g=a(8);h=a(13);d=a(36);f=a(15);l=a(68);m=a(5);a=g.ya.get(d.$i);n=g.ya.get(l.GG);a.register(t.V.rJa,function(p){var v,w;function q(){p(c.Lg);q=c.Vw;}function r(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,f.fd)(x[y]))throw y + " is not a function";});}function u(){return Promise.resolve().then(function(){var x;x=h.Me.getBattery();if(!(0,f.fd)(x.then))throw "getBattery did not return a promise";return x;});}v=(0,g.Jj)("BatteryManager");b.zx={inb:"chargingchange",D4a:function(){return w?w.level:null;},Rra:function(){return w?w.charging:null;},addEventListener:function(x,y){w && w.addEventListener(x,y);},removeEventListener:function(x,y){w && w.removeEventListener(x,y);}};k.config.GV && (0,f.fd)(h.Me.getBattery)?n.Lt((0,m.tc)(k.config.wPb),u()).then(function(x){r(x);w=x;}).catch(function(x){v.error("getBattery failed",x);}).then(q):q();});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tKa="LicenseBrokerFactorySymbol";},function(t,b){function a(c,k){var g;g=this;this.P4a=c;this.vbb=k;this.sCa=!1;this.jQ=function(){g.wq=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.BRa=void 0;a.prototype.update=function(c){var k,g,h,d,f;h=this.P4a();if(this.lkb !== h){d=null === (g=null === (k=this.gq) || void 0 === k?void 0:k.NO(h)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= h && h <= d.endTime){f=d;this.Zjb(d.endTime - h);}else this.Zjb(d.startTime - h);this.lkb=h;this.lma !== f && (this.lma=f,!c && this.vbb && this.vbb());}};a.prototype.start=function(){this.sCa=!0;this.update();};a.prototype.Bgb=function(c){this.gq=c;this.lma=this.lkb=void 0;c || this.stop();};a.prototype.stop=function(){this.sCa=!1;this.Ut();};a.prototype.dPb=function(){this.update(!0);return this.lma;};a.prototype.Zjb=function(c){this.Ut();this.sCa && 0 < c && (this.wq=setTimeout(this.jQ,c + a.prb));};a.prototype.Ut=function(){this.wq && (clearTimeout(this.wq),this.wq=void 0);};b.BRa=a;a.prb=10;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;c=a(17);k=a(104);b.fJa=function(g){function h(d){g.fireEvent(c.ja.iE,{response:d,I:g.la.I});}return {download:function(d,f){d.j=g;d=k.lf.download(d,f);d.i6(h);return d;}};};},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;c=a(18);k=a(60);g=a(3);h=a(560);d=a(13);f=a(15);l=a(17);m=a(8);n=a(217);b.NJa=function(p){var r,u,v,w;function q(){p.state.value !== l.$b.Ce || p.Db.value !== l.lb.Eh && p.Db.value !== l.lb.hs?u.Ut():u.uI();}r=c.config.D2b;if(!p.uP() && r){u=m.ya.get(n.h4)(r,function(){p.fireEvent(l.ja.hP,g.V.D3);});p.Db.addListener(q);p.state.addListener(q);if(c.config.Uta){v=(0,k.uo)();w=new h.MPa(c.config.Uta,function(){var x,y;x=(0,k.uo)();y=x - v;y > r && (p.fireEvent(l.ja.hP,g.V.h3),w.eZa());y > 2 * c.config.Uta && (p.Vta=(0,d.ku)(y,p.Vta || 0));v=x;});w.d9b();}p.addEventListener(l.ja.ph,function(){u.Ut();(0,f.pd)(w) && w.eZa();});}};},function(t,b){function a(c,k){this.rCa=c;this.Vx=k;}Object.defineProperty(b,"__esModule",{value:!0});b.MPa=void 0;a.prototype.d9b=function(){this.Y5 || (this.Y5=setInterval(this.Vx,this.rCa));};a.prototype.eZa=function(){this.Y5 && (clearInterval(this.Y5),this.Y5=void 0);};b.MPa=a;},function(t,b,a){var k,g,h,d,f,l,m;function c(n){var p,q,r,u;p=this;this.j=n;this.WV=void 0;this.xka=(0,h.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.kka=(0,h.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.aka=(0,h.createElement)("DIV","width:100%;text-align:center");this.zub=this.mka("Audio Bitrate");this.ema=this.mka("Video Bitrate");this.dka=this.mka("CDN");this.oU={};this.IX=d.ya.get(f.mp);this.xka.appendChild(this.kka);this.kka.appendChild(this.aka);q=(0,h.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.tub.bind(this),!1);this.aka.appendChild(q);q=(0,h.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Tyb.bind(this),!1);this.aka.appendChild(q);r=this.ayb.bind(this);g.kf.addListener(g.BE,r);n.addEventListener(m.ja.pJ,function(){p.oU={};});n.addEventListener(m.ja.ph,function(){g.kf.removeListener(g.BE,r);});u=this.Gyb.bind(this);n.wc.forEach(function(v){v.addListener(u);});n.yc.addListener(u);n.Jg.addListener(u);}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;k=a(31);g=a(65);h=a(43);d=a(8);f=a(40);l=a(194);m=a(17);c.prototype.show=function(){this.NU || (this.jVa(),document.body.appendChild(this.xka),this.NU=!0);};c.prototype.Wx=function(){this.NU && (document.body.removeChild(this.xka),this.NU=!1);};c.prototype.toggle=function(){this.NU?this.Wx():this.show();};c.prototype.Pjb=function(){var q,r,u,v;function n(w,x,y){var z,A,B;A=[];x.filter(function(C){return C.Te === w;}).forEach(function(C){0 <= y.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,x,y){var z;z=[];x.filter(function(A){return A.Te === w;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}r=this.j.Wu();u=this.j.yE().sort(function(w,x){return w.bitrate - x.bitrate;});v=u.reduce(function(w,x){0 > w.indexOf(x.Te) && w.push(x.Te);return w;},[]).map(function(w){return {profile:w,ranges:n(w,u,r),disallowed:p(w,u,r)};});!1;null === (q=this.j.Ga) || void 0 === q?void 0:q.Ur(v,this.j.I);};c.prototype.tub=function(){var q,r;this.oU={};for(var n=this.ema.options,p=n.length;p--;){q=n[p];q.selected && (this.oU[q.value]=1);}this.WV=this.Yub.bind(this);this.Pjb();if(n=this.j.Ag){r=this.dka.value;n=n.filter(function(u){return u.id == r;})[0];p=this.j.wc[k.Nb.$a.Jb].value;n && n != p && (n.GYa={testreason:"streammanager",selreason:"userselection"},this.j.wc[k.Nb.$a.Jb].set(n));}this.Wx();};c.prototype.Tyb=function(){this.WV=void 0;this.j.Ogb(this.j.I);this.Wx();};c.prototype.Yub=function(){var n;n=this;return this.j.yE().filter(function(p){return n.oU[p.bitrate];});};c.prototype.jVa=function(){var n,p,q,r;n=this;p=this.j.yc.value;q=this.j.Jg.value;r=this.j.Ag;p && (r=r.slice(),r.sort(function(u,v){return u.Zb - v.Zb;}),this.Qla(this.zub,p.streams.map(function(u){return {value:u.bitrate,caption:u.bitrate,selected:u == n.j.Gh.value};})));q && (this.Qla(this.ema,q.streams.map(function(u){var v,w;v=n.j.PP.gC(u);u=u.bitrate;w="" + u;v && (w+=" (" + v.join("|") + ")");return {value:u,caption:w,selected:n.WV?n.oU[u]:!v};})),this.ema.removeAttribute("disabled"));r && (this.Qla(this.dka,r.map(function(u){return {value:u.id,caption:"[" + u.id + "] " + u.name,selected:u == n.j.wc[k.Nb.$a.Jb].value};})),this.dka.removeAttribute("disabled"));};c.prototype.Gyb=function(){this.NU && this.jVa();};c.prototype.mka=function(n){var p,q;p=(0,h.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,h.createElement)("DIV",void 0,n);q=(0,h.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.kka.appendChild(p);return q;};c.prototype.Qla=function(n,p){n.innerHTML="";p.forEach(function(q){var r;r={title:q.caption};q.selected && (r.selected="selected");r=(0,h.createElement)("option",void 0,q.caption,r);r.value=q.value;n.appendChild(r);});};c.prototype.ayb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == l.PC.$sb && this.IX.Sua && this.toggle();};b.GOa=c;},function(t,b,a){var k,g,h,d,f;function c(l,m){this.J8=l;this.rI={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,k.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.tgb(m);this.ora=this.l4a(this.J8);}Object.defineProperty(b,"__esModule",{value:!0});b.yRa=void 0;k=a(43);g=a(563);h=a(564);d=a(13);f=a(25);c.prototype.Go=function(){return this.element;};c.prototype.s8b=function(l){this.gV=l;};c.prototype.D8b=function(l){this.entry=l;this.IQ();};c.prototype.K8b=function(l){this.tgb(l);this.IQ();};c.prototype.IQ=function(){var l,m,n,p,q,r,u,v,w,x,y,A,B,C;l=this;m=this.Go();n=m.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;r=n=0;u={width:p,height:q};if(0 < p && 0 < q && this.entry){this.gV && (u=(0,k.I8)(p,q,this.gV),n=Math.round((p - u.width) / 2),r=Math.round((q - u.height) / 2));w=this.$Db(u);x=(0,k.I8)(w.width,w.height,this.gV);w=(v=this.entry.blocks) && v.map(function(D){var F;F=(0,h.uqa)(D,x,l.J8,l.ora);D=(0,h.N1a)(D) + ";position:absolute";return (0,k.createElement)("div",D,F,c.kga);});}Object.assign(this.rI,{left:n + "px",right:n + "px",top:r + "px",bottom:r + "px"});m.style.display="none";m.style.direction=this.rI.direction;m.innerHTML="";if(w && w.length){p=u.width;n=u.height;y=u;this.xV && (y=this.$zb(u,this.xV,q,r));this.rI.margin=this.xt?this.c7(u,"top") + "px " + this.c7(u,"right") + "px " + this.c7(u,"bottom") + "px " + this.c7(u,"left") + "px ":void 0;w.forEach(function(D){return m.appendChild(D);});q=(0,k.VV)(this.rI);m.style.cssText=q + ";visibility:hidden;z-index:-1";r=[];for(var z=w.length - 1;0 <= z;z--){A=w[z];B=v[z];C=this.Uab(A,B,p,n);C.width > p && (A.innerHTML=(0,h.uqa)(B,u,this.J8,this.ora,p / C.width),C=this.Uab(A,B,p,n));r[z]=C;}r=(0,g.Gjb)(r,y);if(z=v && v[0] && v[0].textNodes && v[0].textNodes[0] && v[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),u=(0,h.P1a)(v,r,A,y,u),u=(0,k.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,u,c.kga),m.insertBefore(u,m.firstChild)));m.style.display="none";for(u=r.length - 1;0 <= u;u--){z=r[u];y=w[u].style;A=v[u].region;z=(0,h.O1a)(A,z,p,n,0);Object.assign(y,z);}m.style.cssText=q;}};c.prototype.aBa=function(l){this.xV=l;this.IQ();};c.prototype.bta=function(){return this.xV;};c.prototype.bBa=function(l){this.xt=l;this.IQ();};c.prototype.cta=function(){return this.xt;};c.prototype.fta=function(){return "block" === this.rI.display;};c.prototype.cBa=function(l){var m;m=l?"block":"none";this.element.style.display=m;this.rI.display=m;l && this.IQ();};c.prototype.gcc=function(l){this.J8=l;this.ora=this.l4a(l);};c.prototype.l4a=function(l){var m,n;m=this;n={};(0,f.Wg)(l,function(p,q){n[p]=m.rZb(q);});return n;};c.prototype.tgb=function(l){this.rI.direction="boolean" === typeof l?l?"ltr":"rtl":"inherit";};c.prototype.c7=function(l,m){if(this.xt){if("left" === m || "right" === m)return l.width * (this.xt[m] || 0);if("top" === m || "bottom" === m)return l.height * (this.xt[m] || 0);}return 0;};c.prototype.$Db=function(l){return this.xt?{height:l.height * (1 - (this.xt.top || 0) - (this.xt.bottom || 0)),width:l.width * (1 - (this.xt.left || 0) - (this.xt.right || 0))}:l;};c.prototype.rZb=function(l){var m;l="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + l + ";";l=(0,k.createElement)("DIV",l,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.kga);d.Dh.body.appendChild(l);m={fontSize:1E3,height:l.clientHeight,width:l.clientWidth / 52,lineHeight:l.clientHeight / 1E3};d.Dh.body.removeChild(l);return m;};c.prototype.Uab=function(l,m,n,p){var q,r,u,v,w;q=m.region;r=(q.marginTop || 0) * p;u=(q.marginBottom || 0) * p;v=(q.marginLeft || 0) * n;w=(q.marginRight || 0) * n;m=l.clientWidth || 1;l=l.clientHeight || 1;switch(q.verticalAlignment){case "top":p=r;break;case "center":p=(r + p - u - l) / 2;break;default:p=p - u - l;}switch(q.horizontalAlignment){case "left":n=v;break;case "right":n=n - w - m;break;default:n=(v + n - w - m) / 2;}return {top:p,left:n,width:m,height:l};};c.prototype.$zb=function(l,m,n,p){return {height:n - Math.max(p,m.bottom || 0) - Math.max(p,m.top || 0),width:l.width};};b.yRa=c;c.kga={"class":"player-timedtext-text-container"};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Gjb=void 0;c=a(13);b.Gjb=function(k,g){function h(l,m,n){var u,w,x,y,z;if(l && 1 < l.length){for(var p=[],q=[],r=0;r < l.length;r++){p[r]=0;q[r]=0;}u=!1;for(r=0;r < l.length;r++){for(var v=r + 1;v < l.length;v++){w=l[r];x=l[v];if(0 > w.width || 0 > x.width || x.left > w.left + w.width || x.left + x.width < w.left || x.top > w.top + w.height?0:x.top + x.height >= w.top){y=(0,c.ku)(w.left,x.left);z=(0,c.ku)(w.top,x.top);y={width:(0,c.ku)((0,c.rz)(w.left + w.width,x.left + x.width) - y,0),height:(0,c.ku)((0,c.rz)(w.top + w.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,w=d(l[r]),x=d(l[v]),z && m || !z && !m))(y=(0,c.ku)(y.width / 2,.25),w.x <= x.x?(q[r]-=y,q[v]+=y):(q[v]-=y,q[r]+=y));else if(z && !m || !z && m)(w=(0,c.ku)(y.height / 2,.25),p[r]-=w,p[v]+=w);}}for(r=0;r < l.length;r++){if(-.25 > q[r] && 0 <= l[r].left + q[r] || .25 < q[r] && l[r].left + l[r].width + q[r] <= n.width)(l[r].left+=q[r],u=!0);if(-.25 > p[r] && 0 <= l[r].top + p[r] || .25 < p[r] && l[r].top + l[r].height + p[r] <= n.height)(l[r].top+=p[r],u=!0);}return u;}}function d(l){return {x:l.left + l.width / 2,y:l.top + l.height / 2};}k=k.map(function(l){return {top:l.top,left:l.left,width:l.width,height:l.height};});(function(l,m){l.forEach(function(n){0 > n.left && n.left + n.width < m.width?n.left+=(0,c.rz)(-n.left,m.width - (n.left + n.width)):n.left + n.width > m.width && 0 < n.left && (n.left-=(0,c.rz)(n.left + n.width - m.width,n.left));0 > n.top && n.top + n.height < m.height?n.top+=(0,c.rz)(-n.top,m.height - (n.top + n.height)):n.top + n.height > m.height && 0 < n.top && (n.top-=(0,c.rz)(n.top + n.height - m.height,n.top));});})(k,g);for(var f=0;50 > f && h(k,!0,g);f++){;}for(f=0;50 > f && h(k,!1,g);f++){;}return k;};},function(t,b,a){var f,l,m;function c(n,p,q,r,u){var v;v={};"right" == n.horizontalAlignment?v.right=100 * (q - p.left - p.width - u) / q + "%":v.left=100 * (p.left - u) / q + "%";"bottom" == n.verticalAlignment?v.bottom=100 * (r - p.top - p.height - u) / r + "%":v.top=100 * (p.top - u) / r + "%";return v;}function k(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function g(n,p,q,r,u){var v,w;v=n.style;w=(0,l.Jta)(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return h(w,v,p,q,r,u);}function h(n,p,q,r,u,v){var w;w=p.characterStyle;u=u[w];w=0 <= w.indexOf("MONOSPACE")?k(u,p.cellResolution) || u.lineHeight:u.lineHeight;r=p.characterSize * r.height / (w || 1);r=0 < v?(0,m.EL)(r * v):(0,m.op)(r);v={"font-size":r + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (v["font-style"]="italic");p.characterUnderline && (v["text-decoration"]="underline");p.characterColor && (v.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (v["background-color"]=d(p.backgroundColor,p.backgroundOpacity));r=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":v["text-shadow"]=r + " 0px 0px 7px";break;case "UNIFORM":v["text-shadow"]="-1px 0px " + r + ",0px 1px " + r + ",1px 0px " + r + ",0px -1px " + r;break;case "RAISED":v["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":v["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}v=(0,f.VV)(v);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (v+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + v + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.N1a=b.GMb=b.EMb=b.HMb=b.FMb=b.O1a=b.P1a=b.uqa=void 0;f=a(43);l=a(25);m=a(13);b.uqa=function(n,p,q,r,u){var v;v="";n.textNodes.forEach(function(w){v+=g(w,q,p,r,u);});n.region && n.region.multiRowAlignment && (v='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + v + "</span>");return v;};b.P1a=function(n,p,q,r,u){var v,w,y,z,A;v="";w=u.width;u=u.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + r + ";width:" + (0,m.op)(y.width + 2 * q) + "px;height:" + (0,m.op)(y.height + 2 * q) + "px;";y=c(z,y,w,u,q);(0,l.Wg)(y,function(B,C){A+=B + ":" + C + ";";});v+='<div style="' + A + '"></div>';}return v;};b.O1a=c;b.FMb=k;b.HMb=g;b.EMb=h;b.GMb=d;b.N1a=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.VV)(p);};},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;c=a(16);k=a(18);g=a(60);h=a(91);d=a(13);f=a(59);l=a(15);m=a(17);b.uOa=function(n){var u,v,w,x,y,z;function p(){return n.state.value === m.$b.LOADING || n.state.value === m.$b.Ce && n.Db.value === m.lb.ag;}function q(){p()?z || (z=setInterval(r,100)):z && (clearInterval(z),z=void 0,(0,f.fg)(r));}function r(){var A,B,C,D,F,G,E,I;A=(0,g.uo)();B=u.value;C=B?B.progress:0;D=n.state.value == m.$b.LOADING || p() && A - v > k.config.yDb;if(D && n.state.value == m.$b.Ce){if(n.wf.value === m.Mf.hQa)(F=C,G=!0);else {E=A;w=w || A;x=x || w + k.config.TZb + 1;(0,l.Ja)(E) && (E=(0,d.ku)(E,x),F=(0,d.op)(1E3 * (0,h.VC)((A - w) / (E - w),0,.99)) / 1E3);}if(F < C)if(C - F < k.config.M4b / 100)(F=C,y=void 0);else if(y){if(A - y > k.config.L4b){I=!0;y=void 0;}else F=C;}else (y=A,F=C);}else y=x=w=void 0;A=D?{Tt:G,progress:F,N4b:I}:null;(!A || !u || !B || (0,l.Ja)(A.progress) && !(0,l.Ja)(B.progress) || (0,l.Ja)(A.progress) && (0,l.Ja)(B.progress) && .01 < (0,d.p3)(A.progress - B.progress) || A.Tt !== B.Tt) && u.set(A);}u=n.Qna;v=0;n.state.addListener(function(){q();r();},c.C3);n.Db.addListener(function(A){if(A.oldValue !== m.lb.ag || A.newValue !== m.lb.ag)v=(0,g.uo)();q();});n.wf.addListener(function(){q();});n.Ls.addListener(function(){q();});n.Sn.addListener(function(){q();});z || (z=setInterval(r,100));};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K;function c(H){var R;R=this;this.j=H;this.Ub=this.j.Ub;this.log=(0,n.Qi)(this.j,"MediaPresenterASE");this.tba=this.G7=0;this.$=this.Ub.$;this.thb=this.Jcb=this.Acb=this.X$=this.lya=!1;this.qaa=new Set();this.sac=n.ya.get(C.VL)((0,B.tc)(z.X3));this.oN=void 0;this.qm=n.ya.get(F.sQa)(this.j);this.Xy={};this.N$a={};this.JX={};this.Yg=new E.uLa(this.j,this.qm);this.qac=function(){var O,J,M;R.j.u0=(0,m.uo)();if(!R.Jk() && R.Gv){O=R.Ub.w5a();O || (R.O2b(),R.Yg.wjb(R.mediaTime));R.j.paused.value || !R.Yg.Bpa(R.mediaTime) || !R.Mna() || O || R.qm.U$?R.$za():R.lya || R.aAa();R.N2b();if(!R.Ub.w5a() && !R.X$){O=R.Ub.hX(!0);J=R.j.Db.value;M=R.RFb();J !== M && !1;M === x.lb.hs?(R.mediaTime=R.j.Bt.da(B.ma),R.$za()):M !== x.lb.ag && R.qcc(O);R.ckb();R.Yg.loa(R.mediaTime);R.j.Db.set(M);M !== x.lb.ag || J !== x.lb.Jc && J !== x.lb.Eh || R.s1b();}}};this.sm=(0,G.Idb)(this.qac);this.mediaTime=H.ba;this.j.Ji=!1;this.Ub.addEventListener(A.hk.shb,function(){R.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");R.thb=!0;try{R.za();}catch(O){R.log.error("Exception while initializing",O);R.Sd(p.V.isb);}});this.Ub.addEventListener(A.hk.c9a,function(O){O=O.K;R.thb?R.Bbb(O):R.qaa.add(O);});}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;k=a(31);g=a(16);h=a(18);d=a(64);f=a(65);l=a(43);m=a(60);n=a(8);a(101);p=a(3);q=a(348);r=a(23);u=a(91);v=a(25);w=a(59);x=a(17);y=a(15);z=a(171);A=a(304);B=a(5);C=a(111);D=a(217);F=a(567);G=a(1322);E=a(1323);I=a(62);L=a(215);K=a(13);c.prototype.c4a=function(){return this.Ub.hX(!1);};c.prototype.m9=function(){return this.Ub.m9();};c.prototype.WA=function(){return this.Ub.WA();};c.prototype.II=function(){return this.Ub.II();};c.prototype.fX=function(){return this.Ub.fX();};c.prototype.za=function(){var H;H=this;this.log.trace("Video element initializing");this.Ub.sourceBuffers.forEach(function(R){return H.Yg.Z8b(R);});this.UUb(this.j.iJ);};c.prototype.UUb=function(H){var R,O;R=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.I}),null === (O=this.j.Ga) || void 0 === O?void 0:O.LA(this.j.I));0 < this.qaa.size && setTimeout(function(){R.log.trace("Notifying about licenses that were added before source buffers created");Array.from(R.qaa).forEach(function(J){R.qaa.delete(J);R.Bbb(J);});},0);this.log.trace("Waiting for loadedmetadata");(0,l.wWa)(this.$,"loadedmetadata",function(){R.log.trace("Video element event: loadedmetadata");R.j.He("md");});f.kf.addListener(f.Ko,this.JX[f.Ko]=function(){return R.close();},g.KL);this.j.addEventListener(x.ja.ph,function(){return R.close();},g.KL);this.j.addEventListener(x.ja.Ffb,function(){return R.aAa();});this.j.addEventListener(x.ja.pJ,function(){return R.a1b();});this.j.paused.addListener(function(){return R.sm();});this.j.muted.addListener(function(){return R.XCa();});this.j.volume.addListener(function(){return R.XCa();});this.j.playbackRate.addListener(function(){return R.Mea();});this.j.Ls.addListener(function(){return R.sm();});this.j.Sn.addListener(function(){return R.sm();});this.XCa();this.Mea();this.Yg.Ida(function(){return R.Raa();});this.Raa();this.Ebc();};c.prototype.Bbb=function(H){var R;this.j.He("ld",H);null === (R=this.j.Ga) || void 0 === R?void 0:R.LA(H);this.j.fireEvent(x.ja.$8a);};c.prototype.w6=function(H){var R;R=this;!1;this.Yg.DBb(H);this.yEb(H).then(function(){R.Raa();R.j.fireEvent(x.ja.Qaa);}).catch(function(O){R.Sd(p.V.msb,{Ob:(0,v.We)(O)});});};c.prototype.Sma=function(H,R,O){O=void 0 === O?{}:O;R=this.ALb(H,R);this.Yg.CBb(H,R,O);this.Raa();this.Acb || H.type !== k.Nb.al.Jb || (this.qm.U$ || this.seek(this.j.ba,x.ff.oz),this.Acb=!0);};c.prototype.Ebc=function(){var H;H=this;this.Ub.addEventListener(A.hk.N_,this.Xy[A.hk.N_]=function(){return H.w1b();});this.Ub.addEventListener(A.hk.jr,this.Xy[A.hk.jr]=function(){return H.Iba();});this.$.addEventListener("ended",this.Xy.ended=function(){return H.V0b();});this.$.addEventListener("play",this.Xy.play=function(){return H.j1b();});this.$.addEventListener("pause",this.Xy.pause=function(){return H.h1b();});this.$.addEventListener("playing",this.Xy.playing=function(){return H.p1b();});this.Gv=!0;this.Yg.wjb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.He("vi");h.config.s0a?setTimeout(function(){H.qxa=!0;H.sm();},h.config.s0a):this.qxa=!0;this.j$b();(0,w.fg)(function(){return H.sm();});};c.prototype.j$b=function(){var O;function H(){var J;O.j.Db.value !== x.lb.Jc || 0 !== (null === (J=O.j.Uf) || void 0 === J?void 0:J.m9()) || K.Dh.hidden?(O.Tab.Ut(),J="stopTimer"):(O.Tab.uI(),J="ensureTimer");O.log.trace("No render timer update: " + J,{presentingState:x.lb[O.j.Db.value],hidden:K.Dh.hidden});}function R(J){var M,P;J=void 0 === J?!0:J;M=O.j.Ga;P=(null === M || void 0 === M?void 0:M.Ei) && M.c$();O.j.Db.value == x.lb.ag && O.j.state.value == x.$b.Ce && O.j.Ls.value == x.Mf.Ce && O.j.Sn.value == x.Mf.Ce && !O.j.Ji && P?(J && O.I7.Ut(),O.I7.uI(),M="ensureTimer"):(O.I7.Ut(),M="stopTimer");O.log.trace("Timer update: " + M,{presentingState:x.lb[O.j.Db.value],playbackState:x.$b[O.j.state.value],avBufferingState:x.Mf[O.j.Ls.value],textBufferingState:x.Mf[O.j.Sn.value],autoplayWasBlocked:O.j.Ji,hasLicense:P,restartTimer:J});}O=this;h.config.e0a && ((0,r.ib)(!this.I7),this.I7=n.ya.get(D.h4)(h.config.e0a,function(){var J;J=n.ya.get(q.wga).C0a(O.j);O.Sd(J.code,J);}),this.j.Db.addListener(function(){return R();}),this.j.Ls.addListener(function(){return R();}),this.j.Sn.addListener(function(){return R();}),this.j.state.addListener(function(){return R();}),this.j.addEventListener(x.ja.$8a,function(){return R();}),this.j.addEventListener(x.ja.Ji,function(){return R();}),this.j.addEventListener(x.ja.mna,function(){return R();}),this.j.addEventListener(x.ja.fK,function(){return R(!0);}),R());h.config.Sab && (this.Tab=n.ya.get(D.h4)(h.config.Sab,function(){var J;0 === (null === (J=O.j.Uf) || void 0 === J?void 0:J.WA()) && (J=n.ya.get(q.wga).C0a(O.j),O.Sd(J.code,J));O.j.Db.removeListener(H);f.kf.removeListener(f.$s,O.JX[f.$s]);}),this.j.Db.addListener(H),f.kf.addListener(f.$s,this.JX[f.$s]=H),H());};c.prototype.ALb=function(H,R){var O;O=this.j.Ve;(O=(0,L.uua)(O)?O.PO():void 0) && H.type === k.Nb.al.Jb && ((H=new I.qha(this.log,{mediaType:I.$n.Jb,url:"http://some-url"},R).Ca(O))?R=H:!1);return R;};c.prototype.Raa=function(){this.Gv && this.sm();this.Yg.OYa();};c.prototype.r$b=function(){!1;this.j.Db.set(x.lb.ag);this.X$=!0;this.sm();};c.prototype.OFb=function(){var H;H=this;this.X$ && (!1,this.X$=!1,(0,w.fg)(function(){return H.g0b();}));};c.prototype.e9=function(){return this.Yg.e9();};c.prototype.g0b=function(){var H,R;H=this.j.vE() || 0;if(this.j.gb.Ph){if(h.config.iDb){H=H - (this.Ub.vAa + 1) - h.config.uAa;R=this.j.Ga.Ik().Zc;H=Math.max(H,R);}}else (H-=h.config.R7b,H=Math.max(H,this.qm.kva));this.seek(H,x.ff.f4);};c.prototype.oZ=function(H){var R;R=this;this.Yg.a9b(H);(0,w.fg)(function(){return R.sm();});};c.prototype.HQb=function(){return {G7:this.G7,tba:this.tba};};c.prototype.yEb=function(H){var R;R=this.Ub && this.Ub.O4a();(0,r.ib)(this.j.Bt,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Bt && R && Infinity !== H.Rfb && (H=H.Rfb + H.jw,H > this.j.Bt.kdb(B.ma) && (this.j.Bt=(0,B.tc)(H)));return Promise.resolve();};c.prototype.N2b=function(){var H;H=this;this.qm.fca && (!1,this.Mna() && this.Yg.Bpa(this.mediaTime) && (this.Ub.seek(this.mediaTime),this.qm.fca=!1,(0,w.fg)(function(){return H.sm();})));};c.prototype.qcc=function(H){var R;if(H < this.mediaTime){R=this.mediaTime - H;h.config.P2b && H && R > z.X3 && (H={ElementTime:(0,u.wj)(H),MediaTime:(0,u.wj)(this.mediaTime)},R > z.IPa?this.Sd(p.V.xsb,{Ob:Object.assign({Trace:this.Ub.xE()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,u.VC)(H,0,this.j.Bt.da(B.ma));};c.prototype.Mna=function(){return this.j.Ls.value === x.Mf.Ce && this.j.Sn.value === x.Mf.Ce;};c.prototype.RFb=function(){var H,R,O;H=this;R=this.j.Db.value;O=R;this.qm.U$?O=x.lb.ag:this.$ && this.$.ended?R === x.lb.Jc && (O=x.lb.hs):this.Mna() && this.Yg.Bpa(this.mediaTime)?this.Ub.BKb()?O=this.$ && this.$.paused?x.lb.Eh:x.lb.Jc:this.sac.pm(function(){return H.rac();}):O=this.j.Bt?this.j.f6a(this.mediaTime,this.Yg.F7())?x.lb.ag:x.lb.hs:x.lb.ag;return O;};c.prototype.s1b=function(){var H;if(this.j.Db.value === x.lb.ag){H=this.Yg.Zac() > this.Yg.F7();this.j.Sn.value !== x.Mf.Ce?this.j.ej.value?(this.j.fireEvent(x.ja.qA,{cause:d.rOa}),this.log.warn("rebuffer due to timed text",this.j.ej.value.xh)):this.j.fireEvent(x.ja.zR):H?(this.G7++,this.j.fireEvent(x.ja.qA,{cause:d.Dia})):(this.tba++,this.j.fireEvent(x.ja.qA,{cause:d.Eia}));}};c.prototype.rac=function(){this.Jk() || (h.config.k0b && this.Yg.j0b(),this.sm());};c.prototype.w1b=function(){this.sm();};c.prototype.Iba=function(){this.sm();this.j.fireEvent(x.ja.jr);};c.prototype.V0b=function(){this.log.trace("Video element event: ended");this.sm();};c.prototype.j1b=function(){this.log.trace("Video element event: play");this.sm();};c.prototype.h1b=function(){this.log.trace("Video element event: pause");this.sm();};c.prototype.p1b=function(){this.log.trace("Video element event: playing");this.sm();};c.prototype.XCa=function(){this.Jk() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.Mea=function(){!this.Jk() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.aAa=function(){var H;H=this;this.Jk() || !(0,y.pd)(this.$) || this.$.ended || !this.qxa || !this.PR && void 0 !== this.PR || (this.log.trace("Calling play on element"),Promise.resolve(this.$.play()).then(function(){H.closed || (H.PR=!1,H.lya=!1,H.$.style.display=null,H.j.Ji=!1,H.j.fireEvent(x.ja.mna));}).catch(function(R){"NotAllowedError" === R.name?(H.log.warn("Playback is blocked by the browser settings",R),H.j.Ji=!0,H.closed || (H.lya=!0,H.$.style.display="none",H.j.fireEvent(x.ja.Ji,{player:{play:function(){return H.aAa();}}}))):H.closed || (H.PR=!1,H.Jcb || (H.Jcb=!0,H.log.error("Play promise rejected",R)));}));};c.prototype.a1b=function(){this.qm.kva=this.j.vE() || 0;};c.prototype.$za=function(){this.Jk() || !(0,y.pd)(this.$) || this.$.ended || !this.qxa || this.PR && void 0 !== this.PR || (this.log.trace("Calling pause on element"),this.$.pause(),this.PR=!0);};c.prototype.ckb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.mOb();};c.prototype.seek=function(H,R,O,J){var M,P;O=void 0 === O?this.j.Y:O;J=void 0 === J?!1:J;P=null === (M=this.j.Ga) || void 0 === M?void 0:M.Ei;!this.Jk() && P && (this.j.fireEvent(x.ja.fK,{cause:R}),this.qm.NZ={time:H,cause:R,Y:O,tOb:J},this.j.Db.set(x.lb.ag),this.sm());};c.prototype.O2b=function(){var H,R,O,J,M,P,S,U;if(this.qm.NZ){H=this.qm.NZ;R=H.time;O=H.cause;J=H.Y;M=H.tOb;if(!this.Yg.ei() || O === x.ff.oz){H=this.j.Hk(J).I;P=this.Yg.ei()?void 0:this.Yg.BPb();P=this.qm.lRb(R,O,J,M,P);J=P.wba;M=P.Bk;S=P.q3b;P=P.Tg;this.Yg.loa(this.mediaTime);U=this.mediaTime;R=(0,u.wj)(R);this.j.IH("SEEKING: Requested: (" + H + ":" + O + ":" + R + ") - Actual: (contentPts: " + M + ",playerPts: " + (S + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:R,Actual:(0,u.wj)(J),Cause:O,Skip:P});O === x.ff.oz || P || (this.Yg.jfb(),this.Yg.V8b());this.mediaTime=J;this.qm.kva=M;R=this.j.Hf.value;S=this.j.we.value;this.j.Hf.set(null);this.j.we.set(null);this.ckb(!0);this.qm.NZ=void 0;this.qm.fca=!0;this.j.fireEvent(x.ja.Pk,{rxa:U,wba:J,Bk:M,cause:O,skip:P,Hf:R,we:S,I:H});P && this.Yg.skip(J);}}};c.prototype.Sd=function(H,R,O){this.closed || this.j.Sd(H,R,O);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Yg.close();this.Ub.removeEventListener(A.hk.N_,this.N$a[A.hk.N_]);this.Ub.removeEventListener(A.hk.jr,this.N$a[A.hk.jr]);this.$.removeEventListener("ended",this.Xy.ended);this.$.removeEventListener("play",this.Xy.play);this.$.removeEventListener("pause",this.Xy.pause);this.$.removeEventListener("playing",this.Xy.playing);f.kf.removeListener(f.Ko,this.JX[f.Ko]);f.kf.removeListener(f.$s,this.JX[f.$s]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.$za();this.Ub.close();}catch(H){}this.$=void 0;this.Yg.jfb();}};c.prototype.Jk=function(){return this.closed?!0:(0,y.pd)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.MLa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sQa="SeekManagerFactorySymbol";},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;c=a(18);k=a(65);g=a(25);h=a(3);d=a(17);b.SHa=function(f,l,m){function n(q){var r,u;r=q.error || q;u=(0,g.We)(r);m.error("uncaught exception",r,u);(r=(r=r && r.stack) && c.config.Ijb && c.config.Sbc?0 <= r.indexOf(c.config.Ijb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Sd(h.V.TRa));}function p(){k.kf.removeListener(k.Q9,n);f.removeEventListener(d.ja.ph,p);f.removeEventListener(d.ja.Yv,p);}try{k.kf.addListener(k.Q9,n);f.addEventListener(d.ja.ph,p);c.config.zUb && f.addEventListener(d.ja.Yv,p);}catch(q){m.error("exception in exception handler ",q);}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mia="PlayedSegmentsTrackerFactorySymbol";},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.K9a=void 0;c=a(18);k=a(16);g=a(60);t=a(3);h=a(13);d=a(15);f=a(8);a=a(36);f.ya.get(a.$i).register(t.V.vJa,function(l){var p,q,r,u,v;function m(){return (0,h.EL)((0,g.uo)() / r);}function n(){var w;w=m();if(w != v){for(var x=(0,h.rz)(w - v,30);x--;){u.push(0);}(x=(0,h.ku)(u.length - 31,0)) && u.splice(0,x);v=w;}u[u.length - 1]++;}p=c.config.lYb;q=-6 / (p - 2 - 2);r=k.ju;u=[];v=m();(0,d.Lua)(p) && (setInterval(n,1E3 / p),b.K9a={BQb:function(){var y;for(var w=[],x=u.length - 1;x--;){y=u[x];w.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,h.op)((y - 2) * q + 7));}return w;}});l(k.Lg);});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jia="PlaybackMilestoneStoreSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kmb={Wjc:"adStart",cWa:"adProgress",Ujc:"adComplete"};b.KDa="AdImpressionLoggerrFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KNa="PboManifestRequestTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oNa="PboBindCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.naa=void 0;b.naa=function(a,c,k){var g;if(k.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=k.get;k.get=function(){var h,d;h=g.apply(this,arguments);d={enumerable:k.enumerable,value:h};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return h;};};},function(t,b,a){var k,g,h,d,f;function c(l,m){this.Ub=l;this.j=m;this.zY=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jS=void 0;t=a(0);k=a(3);g=a(1);h=a(15);d=a(25);f=a(8);c.prototype.G8=function(l){this.zY.forEach(function(m){return m(l);});};c.prototype.Sd=function(l,m,n){this.j.Sd(l,m,n);};c.prototype.DAb=function(l){-1 === this.zY.indexOf(l) && this.zY.push(l);};c.prototype.h6b=function(l){l=this.zY.indexOf(l);0 <= l && this.zY.splice(l,1);};c.prototype.N5a=function(l){var m,n;m={};(0,h.pd)(l.code)?m.wa=(0,k.PHa)(l.code):m.wa=k.R.Bm;try{n=l.message.match(/\((\d*)\)/)[1];m.Ef=(0,f.vna)(n,4);}catch(p){}m.Ob=(0,d.We)(l);return m;};a=c;a=t.__decorate([(0,g.X)()],a);b.jS=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gPa="PlaygraphPlaybackStrategyFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kPa="PlaygraphStateFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qKa="LegacyPostPlayShimFactorySymbol";},function(t,b,a){var k;function c(g,h,d,f,l){var m;m=this;this.rb=g;this.Yk=h;this.qw=d;this.Sb=f;this.Gn=l;this.Aca=new Map();this.m9b();this.Sb.addListener(k.Ia.loaded,function(){return m.qdb();});}Object.defineProperty(b,"__esModule",{value:!0});b.wG=void 0;k=a(17);c.prototype.zWa=function(g){var h,d;h=this;d=Object.keys(this.rb.Cl.N).find(function(f){return h.rb.Cl.N[f].K === g.I;});g.id || (g.id=null !== d && void 0 !== d?d:this.Gn.Ys(g.I));d || (this.rb.Cl=this.Gn.FBb(this.rb.Cl,g));d=this.XJ(g.id);g.Rj && this.rb.wcc(g.id,g.Rj);return d;};c.prototype.Ajb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.lta=function(g,h){var d;d=this;h=void 0 === h?{}:h;return this.qw.transition(g,h).then(function(){d.rb.Ih=g;});};c.prototype.close=function(g){return this.qw.close(g);};c.prototype.isReady=function(){return this.qw.SRb();};c.prototype.Go=function(){return this.qw.Go();};c.prototype.QI=function(){return this.qw.QI();};c.prototype.XJ=function(g){this.Aca.has(g) || this.Aca.set(g,this.qw.dg(this.xDb(g)));return this.Aca.get(g);};c.prototype.m9b=function(){var g;g=this;this.qw.addListener(k.EG.P_,function(){return g.Sb.Wc(k.EG.P_);});Object.values(k.Ia).forEach(function(h){g.qw.addListener(h,function(d){return g.Sb.Wc(h,d);});});};c.prototype.py=function(){this.qdb();};c.prototype.Axa=function(g){this.qw.ucc({id:g,I:this.rb.Ye(g).K,Rj:this.rb.kSb(g)});};c.prototype.IJ=function(){};c.prototype.qdb=function(){var g,h;if(this.isReady()){g=this.rb.Ih;h=this.rb.vX(g);h && !this.Aca.has(h) && (this.Axa(g),this.XJ(h));}};c.prototype.xDb=function(g){var h,d,f,l;d=this.rb.Ye(g);f=this.Yk.bP(d.K);l=null === f || void 0 === f?void 0:f.Cb;f=null === f || void 0 === f?void 0:f.ea;return {id:g,I:d.K,ba:d.qa,Rj:null !== (h=null === l || void 0 === l?void 0:l.Rj) && void 0 !== h?h:d.sa,Cb:l,ea:f};};b.wG=c;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Kia=void 0;a.prototype.awa=function(c){c=void 0 === c?{}:c;return {Xk:c.trackingId,N6:c.authParams,Nn:c.sessionParams,Ed:c.uiLabel,Uea:c.uxLabels,Spa:c.disableTrackStickiness,IR:c.uiPlayStartTime,M8:c.forceAudioTrackId,N8:c.forceTimedTextTrackId,Ph:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,sO:c.enableTrickPlay,zta:c.heartbeatCooldown,V$:c.isPlaygraph,raa:c.loadImmediately || !1,Ccb:c.pin,VZ:c.preciseSeeking,ba:c.startPts,Ma:c.endPts,Rj:c.logicalEnd,Zca:c.renderTimedText,b2a:c.extraManifestParams,cna:c.assetId,qCb:c.audioLanguages,Eac:c.textLanguages,Tkb:c.videoLanguage,Wo:c.packageId,y0a:c.desiredDownloadables,Kza:c.requestReference,aBb:c.additionalAudioAssets,eBb:c.additionalTextAssets};};b.Kia=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;b.hIa=function(a){var g,h,d,f;function c(){if(d)for(var l;l=g.pop();){l(f);}}function k(l){d=!0;f=l;c();}g=[];return function(l){g.push(l);h || (h=!0,a(k));c();};};},function(t,b,a){var k,g,h,d;function c(f){var l;(0,k.Jj)("MediaSourceASE").trace("Inside MediaSourceASE");l=f.sX();this.readyState=d.Rc.CLOSED;this.sourceBuffers=l.sourceBuffers;this.addSourceBuffer=function(m){return l.addSourceBuffer(m);};this.l6=function(m){return l.l6(m);};this.removeSourceBuffer=function(m){return l.removeSourceBuffer(m);};this.kr=function(m){return l.kr(m);};this.duration=void 0;this.readyState=d.Rc.OPEN;this.Kc=g.ya.get(h.$h).AJ(d.Kc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;k=a(8);g=a(8);h=a(32);Object.defineProperty(c.prototype,"duration",{get:function(){return this.kk;},set:function(f){var l;this.kk=f || Infinity;l=Math.floor(1E3 * f) || Infinity;this.sourceBuffers.forEach(function(m){m.kk=l;});}});d={Rc:{CLOSED:0,OPEN:1,hs:2,name:["CLOSED","OPEN","ENDED"]},Kc:{lZa:!0,zab:!0,gac:!0}};b.RLa=Object.assign(c,d);},function(t,b,a){var l,m,n,p,q,r,u,v;function c(w){return w.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function k(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function g(w,x,y){var z;if("string" === typeof w)return g.call(this,c(w),x,y);z=0;Object.keys(w).forEach(function(A){var B,C,D;B=q[A];C=w[A];if(B){if(D=r[A] || v[typeof l[B]])try{C=D(C);}catch(F){y && y.error("Failed to convert value '" + C + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=C;p[B] !== D && (y && y.debug("Config changed for '" + A + "' from " + k(D) + " (" + typeof D + ") to " + k(C) + " (" + typeof C + ")"),++z);}else x?(B=(B=u[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,C]),u[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function h(){return Object.keys(q).reduce(function(w,x){var y,z;y=q[x];z=w[y];z?(z.push(x),w[y]=z.sort(function(A,B){return B.length - A.length;})):w[y]=[x];return w;},{});}function d(w,x){return w.hasOwnProperty(x)?k(w[x]):void 0;}function f(w,x){return "undefined" === typeof w?x:w;}b=a(86);a=a(1410).EventEmitter;l={};m=Object.create(l);n=Object.create(m);p=Object.create(n);q={};r={};u={};p.declare=function(w){Object.keys(w).forEach(function(x){var y,z,A,B;y=w[x];z=y[0];A=y[1];B=y[2];if(l.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");l.hasOwnProperty(x) || ("function" === typeof A && (A=A()),l[x]=A);q[C]=x;"function" === typeof B && (r[C]=B);if(D=u[C])(D.forEach(function(F){var G,E;G=F[0];E={};E[C]=F[1];g.call(G,E,!1);}),delete u[C]);});});return p;};v={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=g.bind(m);p.GZ=g.bind(n);p.dump=function(w,x){var z,A,B,C;function y(){C && w && w.log("===========================================");}z=Object.keys(u).sort();A={};B=h();x=f(x,!0);Object.keys(q).sort().forEach(function(D){var F,G,E;D=q[D];if(!A[D]){A[D]=!0;F=d(m,D);G=d(n,D);if(x || "undefined" !== typeof F || "undefined" !== typeof G){E=B[D].join(",");E+=" = " + k(p[D]) + " (" + typeof p[D] + ") [";E+=f(G,"<unset>") + ",";E+=f(F,"<unset>") + ",";E+=d(l,D) + "]";C || (C=!0,w && w.log("Current config values"),y());w && w.log(E);}}});(x || z.length) && w && w.log("<undeclared> :",z);y();};p.qh=function(w){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});w && g.call(x,w);return x;};p.Bcb=function(){var w;w=h();return Object.getOwnPropertyNames(m).reduce(function(x,y){x[w[y][0]]=m[y];return x;},{});};p.reset=function(){Object.keys(m).forEach(function(w){delete m[w];});};p.Gd={};b(a,p);t.exports=Object.freeze(p);},function(t,b,a){var k;function c(g){for(var h="",d=0;d < g.length;d++){h+=g[d].K + "|";}return h;}k=a(310);t.exports={assert:function(g,h){if(!g)throw Error("PlayPredictionModel assertion failed" + (h?" : " + h:""));},Imc:function(g,h,d){Array.prototype.splice.apply(g,[h,0].concat(d));},RPb:function(g){for(var h=[],d=0;d < g.length;d++){if(g[d].context === k.QS.znb){h=g[d].list;break;}}return h;},yPb:function(g){for(var h=[],d=0;d < g.length;d++){if(g[d].context === k.QS.tmb){h=g[d].list;break;}}return h;},xKb:function(g,h){for(var d=0,f,l,m,n=0,p=g.length - 1;n < p;n++){f=c(g[n].list || []);m=!1;for(var q=0,r=h.length;q < r;q++){if((l=c(h[q].list || []),l == f)){m=!0;break;}}if(!1 === m){d=n;break;}}return d;},A0b:function(g,h,d){for(var f=[],l,m=0;m < Math.min(h,g.length);m++){l=g[m].list || [];f=f.concat(l.slice(0,d));}return f;},z0b:function(g,h){for(var d=[],f,l=0;l < g.length && (f=g[l].list || [],f=f.slice(0,Math.min(f.length,h)),h-=f.length,d=d.concat(f),0 !== h);l++){;}return d;},y0b:function(g,h,d){var f;h < g.length && 0 <= h && (g=g[h].list || [],d < g.length && (f=g[d]));return f;},A2a:function(g){for(var h={},d=g.length,f,l=0;l < d;l++){f=g[l].list || [];for(var m=0;m < f.length;m++){if(f[m].property === k.yL.jT || f[m].property === k.yL.jGa){h.Sk=l;h.Wm=m;break;}}}void 0 === h.Sk && void 0 === h.Wm && (h.Sk=0,h.Wm=0);return h;}};},function(t,b,a){var h;function c(d,f,l,m,n,p,q){this.Y0=m;this.Elb=d;this.Qab=f;this.Owa=l;this.xWb=p;this.qq=q;this.split=n;}function k(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,f,l,m,n,p){this.mda=n;this.l7=p;}b=a(584);h=a(309);a={};a.kCb=new (function(){this.Lvb=h();this.Pa=0;this.update=function(){this.Pa=h() - this.Lvb;};this.type="num";})();a.pXb=new (function(){this.type="cat";})();a.qXb=new (function(){this.type="cat";})();a.sXb=new (function(){this.type="cat";})();a.tXb=new (function(){this.type="cat";})();a.rXb=new (function(){this.type="cat";})();a.uXb=new (function(){this.type="cat";})();a.vXb=new (function(){this.type="cat";})();a.wXb=new (function(){this.type="cat";})();a.xXb=new (function(){this.type="cat";})();a.yXb=new (function(){this.type="cat";})();a.zXb=new (function(){this.type="cat";})();a.AXb=new (function(){this.type="cat";})();a.CXb=new (function(){this.type="cat";})();a.DXb=new (function(){this.type="cat";})();a.EXb=new (function(){this.type="cat";})();a.BXb=new (function(){this.type="cat";})();a.RCb=new (function(){this.update=function(d){for(var f in d.Kb){if("becauseYouAdded" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.SCb=new (function(){this.update=function(d){for(var f in d.Kb){if("becauseYouLiked" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.VCb=new (function(){this.update=function(d){for(var f in d.Kb){if("billboard" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.jGb=new (function(){this.update=function(d){for(var f in d.Kb){if("continueWatching" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.UCb=new (function(){this.update=function(d){for(var f in d.Kb){if("bigRow" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.aPb=new (function(){this.update=function(d){for(var f in d.Kb){if("genre" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.B_b=new (function(){this.update=function(d){for(var f in d.Kb){if("netflixOriginals" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.F_b=new (function(){this.update=function(d){for(var f in d.Kb){if("newRelease" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.D3b=new (function(){this.update=function(d){for(var f in d.Kb){if("popularTitles" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Gt=new (function(){this.update=function(d){for(var f in d.Kb){if("queue" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.t5b=new (function(){this.update=function(d){for(var f in d.Kb){if("recentlyAdded" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.P9b=new (function(){this.update=function(d){for(var f in d.Kb){if("similars" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.vbc=new (function(){this.update=function(d){for(var f in d.Kb){if("trendingNow" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Qbc=new (function(){this.update=function(d){for(var f in d.Kb){if("ultraHD" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.Mdc=new (function(){this.update=function(d){for(var f in d.Kb){if("watchAgain" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.hbc=new (function(){this.update=function(d){for(var f in d.Kb){if("topTen" === d.Kb[f].context){this.Pa=Math.max(d.Kb[f].list.length,this.Pa);break;}}};this.type="num";this.Pa=0;})();a.tGb=new (function(){this.type="cat";})();a.uGb=new (function(){this.type="cat";})();a.vGb=new (function(){this.type="cat";})();a.wGb=new (function(){this.type="cat";})();a.xGb=new (function(){this.type="cat";})();a.yGb=new (function(){this.type="cat";})();a.zGb=new (function(){this.type="cat";})();a.AGb=new (function(){this.type="cat";})();a.BGb=new (function(){this.type="cat";})();a.CGb=new (function(){this.type="cat";})();a.DGb=new (function(){this.type="cat";})();a.EGb=new (function(){this.type="cat";})();a.FGb=new (function(){this.type="cat";})();a.GGb=new (function(){this.type="cat";})();a.HGb=new (function(){this.type="cat";})();a.IGb=new (function(){this.type="cat";})();a.JGb=new (function(){this.type="cat";})();a.KGb=new (function(){this.type="cat";})();a.LGb=new (function(){this.type="cat";})();a.MGb=new (function(){this.type="cat";})();a.NGb=new (function(){this.type="cat";})();a.OGb=new (function(){this.type="cat";})();a.PGb=new (function(){this.type="cat";})();a.QGb=new (function(){this.type="cat";})();a.RGb=new (function(){this.type="cat";})();a.SGb=new (function(){this.type="cat";})();a.TGb=new (function(){this.type="cat";})();a.UGb=new (function(){this.type="cat";})();a.VGb=new (function(){this.type="cat";})();a.WGb=new (function(){this.type="cat";})();a.XGb=new (function(){this.type="cat";})();a.YGb=new (function(){this.type="cat";})();a.ZGb=new (function(){this.type="cat";})();a.$Gb=new (function(){this.type="cat";})();a.aHb=new (function(){this.type="cat";})();a.bHb=new (function(){this.type="cat";})();a.cHb=new (function(){this.type="cat";})();a.dHb=new (function(){this.type="cat";})();a.eHb=new (function(){this.type="cat";})();a.fHb=new (function(){this.type="cat";})();a.gHb=new (function(){this.type="cat";})();a.hHb=new (function(){this.type="cat";})();a.iHb=new (function(){this.type="cat";})();a.jHb=new (function(){this.type="cat";})();a.kHb=new (function(){this.type="cat";})();a.lHb=new (function(){this.type="cat";})();a.mHb=new (function(){this.type="cat";})();a.nHb=new (function(){this.type="cat";})();a.oHb=new (function(){this.type="cat";})();a.pHb=new (function(){this.type="cat";})();a.qHb=new (function(){this.type="cat";})();a.rHb=new (function(){this.type="cat";})();a.sHb=new (function(){this.type="cat";})();a.tHb=new (function(){this.type="cat";})();a.uHb=new (function(){this.type="cat";})();a.vHb=new (function(){this.type="cat";})();a.wHb=new (function(){this.type="cat";})();a.xHb=new (function(){this.type="cat";})();a.yHb=new (function(){this.type="cat";})();a.zHb=new (function(){this.type="cat";})();a.AHb=new (function(){this.type="cat";})();a.BHb=new (function(){this.type="cat";})();a.CHb=new (function(){this.type="cat";})();a.DHb=new (function(){this.type="cat";})();a.EHb=new (function(){this.type="cat";})();a.FHb=new (function(){this.type="cat";})();a.GHb=new (function(){this.type="cat";})();a.HHb=new (function(){this.type="cat";})();a.IHb=new (function(){this.type="cat";})();a.JHb=new (function(){this.type="cat";})();a.KHb=new (function(){this.type="cat";})();a.LHb=new (function(){this.type="cat";})();a.MHb=new (function(){this.type="cat";})();a.NHb=new (function(){this.type="cat";})();a.OHb=new (function(){this.type="cat";})();a.PHb=new (function(){this.type="cat";})();a.QHb=new (function(){this.type="cat";})();a.RHb=new (function(){this.type="cat";})();a.SHb=new (function(){this.type="cat";})();a.v5b=new (function(){this.type="cat";})();a.w5b=new (function(){this.type="cat";})();a.x5b=new (function(){this.type="cat";})();a.y5b=new (function(){this.type="cat";})();a.z5b=new (function(){this.type="cat";})();a.A5b=new (function(){this.type="cat";})();a.B5b=new (function(){this.type="cat";})();a.C5b=new (function(){this.type="cat";})();a.D5b=new (function(){this.type="cat";})();a.E5b=new (function(){this.type="cat";})();a.F5b=new (function(){this.type="cat";})();a.G5b=new (function(){this.type="cat";})();a.H5b=new (function(){this.type="cat";})();a.I5b=new (function(){this.type="cat";})();a.J5b=new (function(){this.type="cat";})();a.K5b=new (function(){this.type="cat";})();a.L5b=new (function(){this.type="cat";})();a.M5b=new (function(){this.type="cat";})();a.N5b=new (function(){this.type="cat";})();a.O5b=new (function(){this.type="cat";})();a.P5b=new (function(){this.type="cat";})();a.Q5b=new (function(){this.type="cat";})();a.R5b=new (function(){this.type="cat";})();a.bac=new (function(){this.update=function(d){"down" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.dac=new (function(){this.update=function(d){"right" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.cac=new (function(){this.update=function(d){"left" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.eac=new (function(){this.update=function(d){"up" === d.direction && this.Pa++;};this.type="num";this.Pa=0;})();a.jZb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.rowIndex);};this.type="num";})();a.kZb=new (function(){this.Pa=0;this.update=function(d){this.Pa=Math.max(this.Pa,d.oZa);};this.type="num";})();a.pZb=new (function(){this.WG=this.Pa=0;this.update=function(d){this.WG++;this.Pa=1 * (this.Pa + d.rowIndex) / this.WG;};this.type="num";})();a.qZb=new (function(){this.WG=this.Pa=0;this.update=function(d){this.WG++;return this.Pa=1 * (this.Pa + d.oZa) / this.WG;};this.type="num";})();a.k4b=new (function(){this.type="num";})();a.l4b=new (function(){this.type="num";})();k.prototype.qq=function(d){return this.sVa(this.P["0"].Lfb(d),d);};k.prototype.sVa=function(d,f){return "string" == typeof d?this.sVa(this.P[d].Lfb(f),f):d;};c.prototype.Lfb=function(d){switch(this.xWb){case 0:switch(d.features[this.Y0].type){case "cat":return null === d.features[this.Y0].value?this.Qab:"missing" == d.features[this.Y0].value?this.Owa:this.Elb;case "num":return null === d.features[this.Y0].value?this.Owa:d.features[this.Y0].value < this.split?this.Elb:this.Qab;default:return this.Owa;}case 1:return this.qq;default:return this.qq;}};b.declare({hZ:["modelSelector","modelone"],FFb:["colEpisodeList",5],$Tb:["holdDuration",15E3],yfb:["rowFirst",2],nZa:["colFirst",5],zfb:["rowScroll",2],pZa:["colScroll",6],q7b:["rowScrollHorizontal",6],P7b:["searchTop",3],T_a:["cwFirst",2],QX:["horizontalItemsFocusedMode",3],zWb:["itemsPerRank",1],ZYb:["maxNumberPayloadsStored",10],t$a:["maxNumberTitlesScheduled",5],Alc:["enableDetailedLogging",!0],Goc:["rowStep",20],Mkc:["colStep",15],aoc:["pageRows",100],$nc:["pageColumns",75],ewa:["maskParamsList",new (function(){var d,f;this.ewa=[];this.km={};this.mda=20;this.l7=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.mda) + "_" + Math.floor(f / this.l7) in this.km) || (this.km[Math.floor(d / this.mda) + "_" + Math.floor(f / this.l7)]=1,this.ewa.push(new g("grid",10,5,5,Math.floor(d / this.mda),Math.floor(f / this.l7))));}}})().ewa],P:["nodes",new k().P],mapping:["mapping",{kZb:"0",qZb:"1",jZb:"2",pZb:"3",kCb:"4",eac:"5",cac:"6",dac:"7",bac:"8",l4b:"9",k4b:"10",pXb:"11",qXb:"12",sXb:"13",tXb:"14",rXb:"15",uXb:"16",vXb:"17",wXb:"18",xXb:"19",yXb:"20",zXb:"21",AXb:"22",BXb:"23",CXb:"24",DXb:"25",EXb:"26",v5b:"27",w5b:"28",x5b:"29",y5b:"30",z5b:"31",A5b:"32",B5b:"33",C5b:"34",D5b:"35",E5b:"36",F5b:"37",G5b:"38",H5b:"39",I5b:"40",J5b:"41",K5b:"42",L5b:"43",M5b:"44",N5b:"45",O5b:"46",P5b:"47",Q5b:"48",R5b:"49",tGb:"50",uGb:"51",vGb:"52",wGb:"53",xGb:"54",yGb:"55",zGb:"56",AGb:"57",BGb:"58",CGb:"59",DGb:"60",EGb:"61",FGb:"62",GGb:"63",HGb:"64",IGb:"65",JGb:"66",KGb:"67",LGb:"68",MGb:"69",NGb:"70",OGb:"71",PGb:"72",QGb:"73",RGb:"74",SGb:"75",TGb:"76",UGb:"77",VGb:"78",WGb:"79",XGb:"80",YGb:"81",ZGb:"82",$Gb:"83",aHb:"84",bHb:"85",cHb:"86",dHb:"87",eHb:"88",fHb:"89",gHb:"90",hHb:"91",iHb:"92",jHb:"93",kHb:"94",lHb:"95",mHb:"96",nHb:"97",oHb:"98",pHb:"99",qHb:"100",rHb:"101",sHb:"102",tHb:"103",uHb:"104",vHb:"105",wHb:"106",xHb:"107",yHb:"108",zHb:"109",AHb:"110",BHb:"111",CHb:"112",DHb:"113",EHb:"114",FHb:"115",GHb:"116",HHb:"117",IHb:"118",JHb:"119",KHb:"120",LHb:"121",MHb:"122",NHb:"123",OHb:"124",PHb:"125",QHb:"126",RHb:"127",SHb:"128",Mdc:"129",t5b:"130",P9b:"131",Gt:"132",jGb:"133",aPb:"134",vbc:"135",hbc:"136",VCb:"137",F_b:"138",Qbc:"139",D3b:"140",RCb:"141",UCb:"142",SCb:"143",B_b:"144"}],features:["features",a],Jjc:["_modelName","tree"],Ejc:["_format","xgboost"],Ijc:["_itemsToKeep",5],Hjc:["_itemsThreshold",null],vkc:["cacheLimit",20]});t.exports={config:b,hnc:g,Vkc:c};},function(t,b,a){t.exports=a(588);},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(589);a(590)();a(615)();mb._cad_global={};mb.DEBUG=!1;a(16);a(13);a(15);a(25);a(43);a(91);a(1396);a(582);a(59);a(60);a(23);a(75);a(65);a(1397);a(303);a(352);a(1398);a(560);a(1399);a(557);a(564);a(562);a(563);a(551);a(552);a(554);a(299);a(298);a(1400);a(18);a(570);a(1401);a(198);a(104);a(558);a(193);a(521);a(522);a(520);a(1402);a(1403);a(519);a(1404);a(511);a(301);a(509);a(300);a(550);a(1405);a(302);a(566);a(196);a(583);a(163);a(1406);a(134);a(1413);a(1414);a(1416);a(1418);a(565);a(64);a(561);a(492);a(559);a(568);a(1419);a(308);a(135);a(1420);a(1421);a(1422);a(1424);a(1425);a(555);},function(t,b,a){(function(c){var k;(function(g){var G,E,I,L,K,H,R,O,J;function h(M,P,S){var U;U=J.get(M);if(!U){if(!S)return;U=new R();J.set(M,U);}M=U.get(P);if(!M){if(!S)return;M=new R();U.set(P,M);}return M;}function d(M,P,S){if(f(M,P,S))return !0;P=w(P);return null !== P?d(M,P,S):!1;}function f(M,P,S){P=h(P,S,!1);return void 0 !== P && ! !P.has(M);}function l(M,P,S){if(f(M,P,S))return m(M,P,S);P=w(P);return null !== P?l(M,P,S):void 0;}function m(M,P,S){P=h(P,S,!1);return void 0 === P?void 0:P.get(M);}function n(M,P){var S,T;S=p(M,P);M=w(M);if(null === M)return S;P=n(M,P);if(0 >= P.length)return S;if(0 >= S.length)return P;M=new O();for(var U=0;U < S.length;U++){T=S[U];M.add(T);}for(S=0;S < P.length;S++){T=P[S];M.add(T);}return z(M);}function p(M,P){var S;M=h(M,P,!1);S=[];M && y(M,function(U,T){return S.push(T);});return S;}function q(M){return void 0 === M;}function r(M){return Array.isArray?Array.isArray(M):M instanceof Array || "[object Array]" === Object.prototype.toString.call(M);}function u(M){return "object" === typeof M?null !== M:"function" === typeof M;}function v(M){return "symbol" === typeof M?M:String(M);}function w(M){var P,S;P=Object.getPrototypeOf(M);if("function" !== typeof M || M === H || P !== H)return P;S=M.prototype;S=S && Object.getPrototypeOf(S);if(null == S || S === Object.prototype)return P;S=S.constructor;return "function" !== typeof S || S === M?P:S;}function x(M){M=M.next();return M.done?void 0:M;}function y(M,P,S){var U,T,W;U=M.entries;if("function" === typeof U){U=U.call(M);try{for(;T=x(U);){W=T.value;P.call(S,W[1],W[0],M);}}finally{T && (M=U["return"]) && M.call(U);}}else (U=M.forEach,"function" === typeof U && U.call(M,P,S));}function z(M){var P;P=[];y(M,function(S,U){P.push(U);});return P;}function A(M,P,S){var U;U=0;return {next:function(){var T;if((M || P) && U < (M || P).length){T=U++;switch(S){case "key":return {value:M[T],done:!1};case "value":return {value:P[T],done:!1};case "key+value":return {value:[M[T],P[T]],done:!1};}}P=M=void 0;return {value:void 0,done:!0};},"throw":function(T){if(M || P)P=M=void 0;throw T;},"return":function(T){if(M || P)P=M=void 0;return {value:T,done:!0};}};}function B(){var M;M={};return (function(){function P(){this.rf=[];this.Pf=[];this.cx=M;this.uu=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.rf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(S){return 0 <= this.Nz(S,!1);};P.prototype.get=function(S){S=this.Nz(S,!1);return 0 <= S?this.Pf[S]:void 0;};P.prototype.set=function(S,U){S=this.Nz(S,!0);this.Pf[S]=U;return this;};P.prototype.delete=function(S){var U;U=this.Nz(S,!1);if(0 <= U){S=this.rf.length;for(U+=1;U < S;U++){this.rf[U - 1]=this.rf[U];this.Pf[U - 1]=this.Pf[U];}this.rf.length--;this.Pf.length--;this.cx=M;this.uu=-2;return !0;}return !1;};P.prototype.clear=function(){this.rf.length=0;this.Pf.length=0;this.cx=M;this.uu=-2;};P.prototype.keys=function(){return A(this.rf,void 0,"key");};P.prototype.values=function(){return A(void 0,this.Pf,"value");};P.prototype.entries=function(){return A(this.rf,this.Pf,"key+value");};P.prototype.Nz=function(S,U){var T;if(this.cx === S)return this.uu;T=this.rf.indexOf(S);0 > T && U && (T=this.rf.length,this.rf.push(S),this.Pf.push(void 0));return (this.cx=S,this.uu=T);};return P;})();}function C(){return (function(){function M(){this.kh=new R();}Object.defineProperty(M.prototype,"size",{get:function(){return this.kh.size;},enumerable:!0,configurable:!0});M.prototype.has=function(P){return this.kh.has(P);};M.prototype.add=function(P){return (this.kh.set(P,P),this);};M.prototype.delete=function(P){return this.kh.delete(P);};M.prototype.clear=function(){this.kh.clear();};M.prototype.keys=function(){return this.kh.keys();};M.prototype.values=function(){return this.kh.values();};M.prototype.entries=function(){return this.kh.entries();};return M;})();}function D(){var U,T;function M(W,ia){for(var pa=0;pa < ia;++pa){W[pa]=255 * Math.random() | 0;}return W;}function P(){var W,wa;do {W="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):M(new Uint8Array(16),16):M(Array(16),16);W[6]=W[6] & 79 | 64;W[8]=W[8] & 191 | 128;for(var ia="",pa=0;16 > pa;++pa){wa=W[pa];if(4 === pa || 6 === pa || 8 === pa)ia+="-";16 > wa && (ia+="0");ia+=wa.toString(16).toLowerCase();}W="@@WeakMap@@" + ia;}while(K.has(U,W));U[W]=!0;return W;}function S(W,ia){if(!G.call(W,T)){if(!ia)return;Object.defineProperty(W,T,{value:L()});}return W[T];}U=L();T=P();return (function(){function W(){this.Au=P();}W.prototype.has=function(ia){ia=S(ia,!1);return void 0 !== ia?K.has(ia,this.Au):!1;};W.prototype.get=function(ia){ia=S(ia,!1);return void 0 !== ia?K.get(ia,this.Au):void 0;};W.prototype.set=function(ia,pa){S(ia,!0)[this.Au]=pa;return this;};W.prototype.delete=function(ia){ia=S(ia,!1);return void 0 !== ia?delete ia[this.Au]:!1;};W.prototype.clear=function(){this.Au=P();};return W;})();}function F(M){M.Ajc=1;delete M.Bjc;return M;}G=Object.prototype.hasOwnProperty;E="function" === typeof Object.create;I=(function(){var P;function M(){}P={};M.prototype=P;return new M().__proto__ === P;})();L=E?function(){return F(Object.create(null));}:I?function(){return F({__proto__:null});}:function(){return F({});};(function(M){var P;P=!E && !I;M.has=P?function(S,U){return G.call(S,U);}:function(S,U){return (U in S);};M.get=P?function(S,U){return G.call(S,U)?S[U]:void 0;}:function(S,U){return S[U];};})(K || (K={}));H=Object.getPrototypeOf(Function);R="function" === typeof Map?Map:B();O="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();g.Qp=function(M,P,S,U){var W;if(q(U)){if(q(S)){if(!r(M))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(S=M.length - 1;0 <= S;--S){if((U=(0,M[S])(P),!q(U))){if("function" !== typeof U)throw new TypeError();P=U;}}return P;}if(!r(M))throw new TypeError();if(!u(P))throw new TypeError();S=v(S);for(U=M.length - 1;0 <= U;--U){(0,M[U])(P,S);}}else {if(!r(M))throw new TypeError();if(!u(P))throw new TypeError();if(q(S))throw new TypeError();if(!u(U))throw new TypeError();S=v(S);for(var T=M.length - 1;0 <= T;--T){W=(0,M[T])(P,S,U);if(!q(W)){if(!u(W))throw new TypeError();U=W;}}return U;}};g.Ac=function(M,P){return function(S,U){if(q(U)){if("function" !== typeof S)throw new TypeError();h(S,void 0,!0).set(M,P);}else {if(!u(S))throw new TypeError();U=v(U);h(S,U,!0).set(M,P);}};};g.P7=function(M,P,S,U){if(!u(S))throw new TypeError();q(U) || (U=v(U));h(S,U,!0).set(M,P);};g.zTb=function(M,P){var S;if(!u(P))throw new TypeError();q(S) || (S=v(S));return d(M,P,S);};g.tta=function(M,P){var S;if(!u(P))throw new TypeError();q(S) || (S=v(S));return f(M,P,S);};g.getMetadata=function(M,P,S){if(!u(P))throw new TypeError();q(S) || (S=v(S));return l(M,P,S);};g.a5a=function(M,P,S){if(!u(P))throw new TypeError();q(S) || (S=v(S));return m(M,P,S);};g.dmc=function(M,P){if(!u(M))throw new TypeError();q(P) || (P=v(P));return n(M,P);};g.fmc=function(M,P){if(!u(M))throw new TypeError();q(P) || (P=v(P));return p(M,P);};g.hlc=function(M,P,S){var U;if(!u(P))throw new TypeError();q(S) || (S=v(S));U=h(P,S,!1);if(q(U) || !U.delete(M))return !1;if(0 < U.size)return !0;M=J.get(P);M.delete(S);if(0 < M.size)return !0;J.delete(P);return !0;};(function(M){if("undefined" !== typeof M.Reflect){if(M.Reflect !== g)for(var P in g){G.call(g,P) && (M.Reflect[P]=g[P]);}}else M.Reflect=g;})("undefined" !== typeof mb?mb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(k || (k={}));}).call(this,a(199));},function(t,b,a){var c,k;c=a(311);k=a(594);t.exports=function(){var g;g=k();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},function(t,b,a){var c,k,g,h,d;c=Array.prototype.slice;k=a(312);g=Object.keys;h=g?function(f){return g(f);}:a(592);d=Object.keys;h.rm=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return k(f)?d(c.call(f)):d(f);}):Object.keys=h;return Object.keys || h;};t.exports=h;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;k=Object.prototype.toString;g=a(312);b=Object.prototype.propertyIsEnumerable;h=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");l=function(q){var r;r=q.constructor;return r && r.prototype === q;};m={gec:!0,hec:!0,iec:!0,jec:!0,kec:!0,lec:!0,mec:!0,nec:!0,oec:!0,pec:!0,qec:!0,rec:!0,sec:!0,tec:!0,uec:!0,vec:!0,wec:!0,xec:!0,yec:!0,zec:!0,Aec:!0,Bec:!0,Cec:!0};n=(function(){if("undefined" === typeof mb)return !1;for(var q in mb){try{if(!m["$" + q] && c.call(mb,q) && null !== mb[q] && "object" === typeof mb[q])try{l(mb[q]);}catch(r){return !0;}}catch(r){return !0;}}return !1;})();p=function(q){var r,u,v,w,x,z;r=null !== q && "object" === typeof q;u="[object Function]" === k.call(q);v=g(q);w=r && "[object String]" === k.call(q);x=[];if(!r && !u && !v)throw new TypeError("Object.keys called on a non-object");r=d && u;if(w && 0 < q.length && !c.call(q,0))for(w=0;w < q.length;++w){x.push(String(w));}if(v && 0 < q.length)for(v=0;v < q.length;++v){x.push(String(v));}else for(var y in q){r && "prototype" === y || !c.call(q,y) || x.push(String(y));}if(h){if("undefined" !== typeof mb && n)try{z=l(q);}catch(A){z=!1;}else z=l(q);for(v=0;v < f.length;++v){z && "constructor" === f[v] || !c.call(q,f[v]) || x.push(f[v]);}}return x;};}t.exports=p;},function(t){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;t.exports=function(c){var k;k=this;if("function" !== typeof k || "[object Function]" !== a.call(k))throw new TypeError("Function.prototype.bind called on incompatible " + k);for(var g=b.call(arguments,1),h,d=Math.max(0,k.length - g.length),f=[],l=0;l < d;l++){f.push("$" + l);}h=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var m;if(this instanceof h){m=k.apply(this,g.concat(b.call(arguments)));return Object(m) === m?m:this;}return k.apply(c,g.concat(b.call(arguments)));});k.prototype && (d=function(){},d.prototype=k.prototype,h.prototype=new d(),d.prototype=null);return h;};},function(t,b,a){var c;c=a(595);t.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;c=a(316);k=a(608);g=a(610);h=a(613);d=a(165);f=a(319);b=a(44);l=a(136);m=a(614);n=l("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");t.exports=function(r){var u,v,w;u=1 < arguments.length?c(arguments[1]):0;if(p && !d(r) && f(u) && "undefined" !== typeof r)return -1 < p.apply(this,arguments);v=g(this);w=k(v.length);if(0 === w)return !1;for(u=0 <= u?u:q(0,w + u);u < w;){if(h(r,m(v)?n(v,u):v[u]))return !0;u+=1;}return !1;};},function(t,b,a){var c;c=a(44)("%Math.abs%");t.exports=function(k){return c(k);};},function(t){var b;b=Math.floor;t.exports=function(a){return b(a);};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v;c=a(44);k=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");h=c("%parseInt%");c=a(136);d=a(600);f=a(601);l=c("String.prototype.slice");m=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);r=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;u=c("String.prototype.replace");v=a(602);t.exports=function y(x){var z;x=f(x)?x:v(x,g);if("symbol" === typeof x)throw new k("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new k("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(m(x))return y(h(l(x,2),2));if(n(x))return y(h(l(x,2),8));if(q(x) || p(x))return NaN;z=u(x,r,"");if(z !== x)return y(z);}return g(x);};},function(t,b,a){var k,g,h,d,f,l,m;function c(){return d(k,g,arguments);}k=a(200);b=a(44);g=b("%Function.prototype.apply%");h=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || k.call(h,g);f=b("%Object.getOwnPropertyDescriptor%",!0);l=b("%Object.defineProperty%",!0);m=b("%Math.max%");if(l)try{l({},"a",{value:1});}catch(n){l=null;}t.exports=function(n){var p;p=d(k,h,arguments);f && l && f(p,"length").configurable && l(p,"length",{value:1 + m(0,n.length - (arguments.length - 1))});return p;};l?l(t.exports,"apply",{value:c}):t.exports.apply=c;},function(t,b,a){var c;c=a(136)("RegExp.prototype.exec");t.exports=function(k){return function(g){return null !== c(k,g);};};},function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(t,b,a){var c;c=a(603);t.exports=function(k){return 1 < arguments.length?c(k,arguments[1]):c(k);};},function(t,b,a){var c,k,g,h,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;k=a(604);g=a(317);h=a(605);d=a(606);t.exports=function(f){var l,m,n;if(k(f))return f;l="default";1 < arguments.length && (arguments[1] === String?l="string":arguments[1] === Number && (l="number"));if(c)if(Symbol.toPrimitive){m=Symbol.toPrimitive;n=f[m];if(null !== n && "undefined" !== typeof n){if(!g(n))throw new TypeError(n + " returned for property " + m + " of object " + f + " is not a function");m=n;}else m=void 0;}else d(f) && (m=Symbol.prototype.valueOf);if("undefined" !== typeof m){l=m.call(f,l);if(k(l))return l;throw new TypeError("unable to convert exotic object to primitive");}"default" === l && (h(f) || d(f)) && (l="string");a:{l="default" === l?"number":l;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof l || "number" !== l && "string" !== l)throw new TypeError('hint must be "string" or "number"');l="string" === l?["toString","valueOf"]:["valueOf","toString"];for(m=0;m < l.length;++m){if((n=f[l[m]],g(n) && (n=n.call(f),k(n))))break a;}throw new TypeError("No default value");}return n;};},function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(t,b,a){var c,k,g;c=Date.prototype.getDay;k=Object.prototype.toString;g=a(318)();t.exports=function(h){if("object" !== typeof h || null === h)h=!1;else if(g)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object Date]" === k.call(h);return h;};},function(t,b,a){var c,k,g;c=Object.prototype.toString;if(a(314)()){k=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;t.exports=function(h){if("symbol" === typeof h)return !0;if("[object Symbol]" !== c.call(h))return !1;try{return "symbol" !== typeof h.valueOf()?!1:g.test(k.call(h));}catch(d){return !1;}};}else t.exports=function(){return !1;};},function(t){t.exports=function(b){return 0 <= b?1:-1;};},function(t,b,a){var c,k;c=a(609);k=a(316);t.exports=function(g){g=k(g);return 0 >= g?0:g > c?c:g;};},function(t,b,a){a=a(44);b=a("%Math%");a=a("%Number%");t.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(t,b,a){var c,k;c=a(44)("%Object%");k=a(611);t.exports=function(g){k(g);return c(g);};},function(t,b,a){t.exports=a(612);},function(t,b,a){var c;c=a(44)("%TypeError%");t.exports=function(k,g){if(null == k)throw new c(g || "Cannot call method on " + k);return k;};},function(t,b,a){var c;c=a(165);t.exports=function(k,g){return k === g || c(k) && c(g);};},function(t,b,a){var c,k,g;c=String.prototype.valueOf;k=Object.prototype.toString;g=a(318)();t.exports=function(h){if("string" === typeof h)h=!0;else if("object" !== typeof h)h=!1;else if(g)try{c.call(h);h=!0;}catch(d){h=!1;}else h="[object String]" === k.call(h);return h;};},function(t,b,a){var c,k,g;c=a(201);k=a(616);g=a(311);t.exports=function(){var h;c();h=k();g(Promise.prototype,{"finally":h},{"finally":function(){return Promise.prototype["finally"] !== h;}});return h;};},function(t,b,a){var c,k;c=a(201);k=a(617);t.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:k;};},function(t,b,a){var d,f,l,m;function c(n){var p,q,r;if("Object" !== l(this))throw new TypeError("receiver is not an Object");p=f(this,m);q=n;r=n;d(n) && (q=g(p,n),r=k(p,n));return this.then(q,r);}function k(n,p){return function(q){var r;r=p();return h(n,r).then(function(){throw q;});};}function g(n,p){return function(q){var r;r=p();return h(n,r).then(function(){return q;});};}function h(n,p){return new n(function(q){q(p);});}a(201)();d=a(320);f=a(618);l=a(106);m=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});t.exports=c;},function(t,b,a){var c,k,g,h;b=a(44);c=b("%Symbol.species%",!0);k=b("%TypeError%");g=a(619);h=a(106);t.exports=function(d,f){if("Object" !== h(d))throw new k("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== h(d))throw new k("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(g(d))return d;throw new k("no constructor found");};},function(t,b,a){var c,k,g;c=a(620)("%Reflect.construct%",!0);b=a(621);try{b({},"",{"[[Get]]":function(){}});}catch(h){b=null;}if(b && c){k={};g={};b(g,"length",{"[[Get]]":function(){throw k;},"[[Enumerable]]":!0});t.exports=function(h){try{c(h,g);}catch(d){return d === k;}};}else t.exports=function(h){return "function" === typeof h && ! !h.prototype;};},function(t,b,a){t.exports=a(44);},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;c=a(44)("%TypeError%");k=a(622);g=a(623);h=a(625);d=a(629);f=a(630);l=a(631);m=a(632);n=a(633);p=a(106);t.exports=function(q,r,u){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!l(r))throw new c("Assertion failed: IsPropertyKey(P) is not true");u=k({RRa:p,aKa:f,$Ja:d},u)?u:n(u);if(!k({RRa:p,aKa:f,$Ja:d},u))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(f,m,h,q,r,u);};},function(t,b,a){var c,k;b=a(44);c=a(105);k=b("%TypeError%");t.exports=function(g,h){var d,f;if("Object" !== g.RRa(h))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in h){if(c(h,f) && !d[f])return !1;}if(g.aKa(h) && g.$Ja(h))throw new k("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(t,b,a){var c,k,g,h,d;b=a(313);c=a(44);k=b() && c("%Object.defineProperty%",!0);g=b.rTb();h=g && a(624);d=a(136)("Object.prototype.propertyIsEnumerable");t.exports=function(f,l,m,n,p,q){if(!k){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== ! !q["[[Enumerable]]"])return !1;f=q["[[Value]]"];n[p]=f;return l(n[p],f);}if(g && "length" === p && ("[[Value]]" in q) && h(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);k(n,p,m(q));return !0;};},function(t,b,a){var c;b=a(44)("%Array%");c=!b.isArray && a(136)("Object.prototype.toString");t.exports=b.isArray || (function(k){return "[object Array]" === c(k);});},function(t,b,a){var c,k,g;c=a(202);k=a(627);g=a(106);t.exports=function(h){"undefined" !== typeof h && c(g,"Property Descriptor","Desc",h);return k(h);};},function(t,b,a){var c;c=a(105);t.exports=function(k){return c(k,"[[StartIndex]]") && c(k,"[[EndIndex]]") && 0 <= k["[[StartIndex]]"] && k["[[EndIndex]]"] >= k["[[StartIndex]]"] && String(parseInt(k["[[StartIndex]]"],10)) === String(k["[[StartIndex]]"]) && String(parseInt(k["[[EndIndex]]"],10)) === String(k["[[EndIndex]]"]);};},function(t){t.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=! !b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=! !b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=! !b["[[Configurable]]"]);return a;};},function(t){t.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(t,b,a){var c,k,g;c=a(105);k=a(202);g=a(106);t.exports=function(h){if("undefined" === typeof h)return !1;k(g,"Property Descriptor","Desc",h);return c(h,"[[Get]]") || c(h,"[[Set]]")?!0:!1;};},function(t,b,a){var c,k,g;c=a(105);k=a(202);g=a(106);t.exports=function(h){if("undefined" === typeof h)return !1;k(g,"Property Descriptor","Desc",h);return c(h,"[[Value]]") || c(h,"[[Writable]]")?!0:!1;};},function(t){t.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(t,b,a){var c;c=a(165);t.exports=function(k,g){return k === g?0 === k?1 / k === 1 / g:!0:c(k) && c(g);};},function(t,b,a){var c,k,g,h,d;c=a(105);k=a(44)("%TypeError%");g=a(106);h=a(634);d=a(320);t.exports=function(f){var l,m;if("Object" !== g(f))throw new k("ToPropertyDescriptor requires an object");l={};c(f,"enumerable") && (l["[[Enumerable]]"]=h(f.enumerable));c(f,"configurable") && (l["[[Configurable]]"]=h(f.configurable));c(f,"value") && (l["[[Value]]"]=f.value);c(f,"writable") && (l["[[Writable]]"]=h(f.writable));if(c(f,"get")){m=f.get;if("undefined" !== typeof m && !d(m))throw new k("getter must be a function");l["[[Get]]"]=m;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new k("setter must be a function");l["[[Set]]"]=f;}if((c(l,"[[Get]]") || c(l,"[[Set]]")) && (c(l,"[[Value]]") || c(l,"[[Writable]]")))throw new k("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l;};},function(t){t.exports=function(b){return ! !b;};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u;c=this && this.__awaiter || (function(v,w,x,y){return new (x || (x=Promise))(function(z,A){function B(F){try{D(y.next(F));}catch(G){A(G);}}function C(F){try{D(y["throw"](F));}catch(G){A(G);}}function D(F){F.done?z(F.value):new x(function(G){G(F.value);}).then(B,C);}D((y=y.apply(v,w || [])).next());});});k=this && this.__generator || (function(v,w){var z,A,B,C,D;function x(F){return function(G){return y([F,G]);};}function y(F){if(A)throw new TypeError("Generator is already executing.");for(;z;){try{if((A=1,B && (C=B[F[0] & 2?"return":F[0]?"throw":"next"]) && !(C=C.call(B,F[1])).done))return C;if((B=0,C))F=[0,C.value];switch(F[0]){case 0:case 1:C=F;break;case 4:return (z.label++,{value:F[1],done:!1});case 5:z.label++;B=F[1];F=[0];continue;case 7:F=z.Nk.pop();z.Wh.pop();continue;default:if(!(C=z.Wh,C=0 < C.length && C[C.length - 1]) && (6 === F[0] || 2 === F[0])){z=0;continue;}if(3 === F[0] && (!C || F[1] > C[0] && F[1] < C[3]))z.label=F[1];else if(6 === F[0] && z.label < C[1])(z.label=C[1],C=F);else if(C && z.label < C[2])(z.label=C[2],z.Nk.push(F));else {C[2] && z.Nk.pop();z.Wh.pop();continue;}}F=w.call(v,z);}catch(G){F=[6,G];B=0;}finally{A=C=0;}}if(F[0] & 5)throw F[1];return {value:F[0]?F[1]:void 0,done:!0};}z={label:0,Eb:function(){if(C[0] & 1)throw C[1];return C[1];},Wh:[],Nk:[]};return (D={next:x(0),"throw":x(1),"return":x(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});g=a(636);h=a(56);d=a(77);a(41);f=a(321);l=a(637);m=a(644);n=a(646);p=a(107);q=a(137);r=a(649);u=a(650);t=(function(){function v(w){w=w || ({});if("object" !== typeof w)throw Error("" + h.ynb);if(void 0 === w.kI)w.kI=d.fu.j4;else if(w.kI !== d.fu.oja && w.kI !== d.fu.j4 && w.kI !== d.fu.Request)throw Error("" + h.wnb);if(void 0 === w.tV)w.tV=!1;else if("boolean" !== typeof w.tV)throw Error("" + h.vnb);if(void 0 === w.CK)w.CK=!1;else if("boolean" !== typeof w.CK)throw Error("" + h.xnb);this.options={tV:w.tV,kI:w.kI,CK:w.CK};this.id=p.id();this.SG=new u.Jqb();this.AVa=[];this.parent=this.s5=null;this.Vwb=new f.Sha();}v.prototype.load=function(){var z,A;for(var w=[],x=0;x < arguments.length;x++){w[x]=arguments[x];}x=this.ETa();for(var y=0;y < w.length;y++){z=w[y];A=x(z.id);z.qza(A.LXa,A.Fjb,A.s8a,A.jeb);}};v.prototype.EY=function(){for(var w=[],x=0;x < arguments.length;x++){w[x]=arguments[x];}c(this,void 0,void 0,function(){var y,z,A,B,C;return k(this,function(D){switch(D.label){case 0:(y=this.ETa(),z=0,A=w,D.label=1);case 1:if(!(z < A.length))return [3,4];B=A[z];C=y(B.id);return [4,B.qza(C.LXa,C.Fjb,C.s8a,C.jeb)];case 2:(D.Eb(),D.label=3);case 3:return (z++,[3,1]);case 4:return [2];}});});};v.prototype.bind=function(w){var x;x=new g.Lmb(w,this.options.kI || d.fu.j4);this.SG.add(w,x);return new n.Nmb(x);};v.prototype.p5b=function(w){this.Ejb(w);return this.bind(w);};v.prototype.Ejb=function(w){try{this.SG.remove(w);}catch(x){throw Error(h.gnb + " " + q.VO(w));}};v.prototype.H7a=function(w){var x;x=this.SG.g6a(w);!x && this.parent && (x=this.parent.H7a(w));return x;};v.prototype.zBa=function(){this.AVa.push(r.Fnb.of(this.SG.clone(),this.s5));};v.prototype.restore=function(){var w;w=this.AVa.pop();if(void 0 === w)throw Error(h.wrb);this.SG=w.wV;this.s5=w.OZb;};v.prototype.aIb=function(){var w;w=new v(this.options);w.parent=this;return w;};v.prototype.get=function(w){return this.DTa(!1,!1,d.Dz.Hja,w);};v.prototype.getAll=function(w){return this.DTa(!0,!0,d.Dz.Hja,w);};v.prototype.resolve=function(w){var x;x=this.aIb();x.bind(w).ajb();return x.get(w);};v.prototype.ETa=function(){var A;function w(B){return function(C){C=A.p5b.bind(A)(C);C.Dc.m_b=B;return C;};}function x(){return function(B){return A.H7a.bind(A)(B);};}function y(){return function(B){A.Ejb.bind(A)(B);};}function z(B){return function(C){C=A.bind.bind(A)(C);C.Dc.m_b=B;return C;};}A=this;return function(B){return {LXa:z(B),s8a:x(B),jeb:w(B),Fjb:y(B)};};};v.prototype.DTa=function(w,x,y,z){var A;A=null;w={HCb:w,iGb:function(B){return B;},WVb:x,key:void 0,ah:z,zac:y,value:void 0};if(this.s5){if((A=this.s5(w),void 0 === A || null === A))throw Error(h.pqb);}else A=this.myb()(w);return A;};v.prototype.myb=function(){var w;w=this;return function(x){var y;y=l.qQ(w.Vwb,w,x.WVb,x.zac,x.ah,x.key,x.value,x.HCb);y=x.iGb(y);return m.resolve(y);};};return v;})();b.N1=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);k=a(107);t=(function(){function g(h,d){this.id=k.id();this.kma=!1;this.ah=h;this.scope=d;this.type=c.fk.Bqb;this.fI=function(){return !0;};this.kO=this.oy=this.TB=this.CO=this.cache=this.tn=null;}g.prototype.clone=function(){var h;h=new g(this.ah,this.scope);h.kma=!1;h.tn=this.tn;h.kO=this.kO;h.scope=this.scope;h.type=this.type;h.CO=this.CO;h.TB=this.TB;h.fI=this.fI;h.oy=this.oy;h.cache=this.cache;return h;};return g;})();b.Lmb=t;},function(t,b,a){var d,f,l,m,n,p,q,r,u,v,w,x;function c(y,z,A,B,C){var D,F;D=h(A.ub,C.ah);F=[];D.length === d.Vfa.uMa && A.ub.options.tV && "function" === typeof C.ah && y.P3a(C.ah).yZa && (A.ub.bind(C.ah).ajb(),D=h(A.ub,C.ah));F=z?D:D.filter(function(G){var E;E=new w.Request(G.ah,A,B,G,C);return G.fI(E);});k(C.ah,F,C,A.ub);return F;}function k(y,z,A,B){switch(z.length){case d.Vfa.uMa:if(A.Y7a())return z;y=p.VO(y);z=f.urb;z+=p.oXb(y,A);z+=p.h9a(B,y,h);throw Error(z);case d.Vfa.Krb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.VO(y);z=f.Jlb + " " + y;z+=p.h9a(B,y,h);throw Error(z);}}function g(y,z,A,B,C,D){var F;if(null === C){z=c(y,z,B,null,D);F=new w.Request(A,B,null,z,D);A=new u.Hsb(B,F);B.KAb(A);}else (z=c(y,z,B,C,D),F=C.eWa(D.ah,z,D));z.forEach(function(G){var E,I,L;E=null;if(D.isArray())E=F.eWa(G.ah,G,D);else {if(G.cache)return;E=F;}if(G.type === l.fk.Instance && null !== G.tn){I=v.XPb(y,G.tn);if(!B.ub.options.CK){L=v.uPb(y,G.tn);if(I.length < L)throw (G=f.Llb(v.getFunctionName(G.tn)),Error(G));}I.forEach(function(K){g(y,!1,K.ah,B,E,K);});}});}function h(y,z){var A,B;A=[];B=y.SG;B.g6a(z)?A=B.get(z):null !== y.parent && (A=h(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(638);f=a(56);l=a(77);m=a(41);n=a(322);p=a(137);q=a(639);r=a(66);u=a(640);v=a(641);w=a(643);x=a(324);b.Xlc=function(y){return y.SG;};b.qQ=function(y,z,A,B,C,D,F,G){void 0 === G && (G=!1);z=new q.aGa(z);A=new r.Metadata(A?m.sG:m.NS,C);B=new x.g4(B,"",C,A);void 0 !== D && (D=new r.Metadata(D,F),B.Ac.push(D));try{return (g(y,G,C,z,null,B),z);}catch(E){throw (n.h8a(E) && z.qQ && p.bFb(z.qQ.Yza),E);}};b.Rkc=function(y,z,A,B){A=new x.g4(l.Dz.Hja,"",z,new r.Metadata(A,B));y=new q.aGa(y);return new w.Request(z,y,null,[],A);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vfa={ohc:2,uMa:0,Krb:1};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);t=(function(){function k(g){this.id=c.id();this.ub=g;}k.prototype.KAb=function(g){this.qQ=g;};return k;})();b.aGa=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hsb=(function(){return function(a,c){this.kQ=a;this.Yza=c;};})();},function(t,b,a){var d,f,l,m,n,p;function c(q,r,u,v){var w,x,y,z,B,C,D,F,G,E,I,L;w=q.P3a(u);x=w.yZa;if(void 0 === x)throw Error(f.Tqb + " " + r + ".");w=w.adc;y=Object.keys(w);z=0 === u.length && 0 < y.length?y.length:u.length;y=[];for(var A=0;A < z;A++){B=A;C=v;D=r;F=x;G=w[B.toString()] || [];E=h(G);I=!0 !== E.hp;F=F[B];L=E.l || E.DJ;F=L?L:F;F instanceof d.tha && (F=F.Zbc());if(I){I=F === Function;I=F === Object || I || void 0 === F;if(!C && I)throw Error(f.Uqb + " argument " + B + " in class " + D + ".");B=new p.g4(l.Dz.YFa,E.x0,F);B.Ac=G;G=B;}else G=null;null !== G && y.push(G);}q=k(q,u);return y.concat(q);}function k(q,r){var y,z,A;for(var u=q.NRb(r),v=[],w=0,x=Object.keys(u);w < x.length;w++){y=x[w];z=u[y];A=h(u[y]);y=new p.g4(l.Dz.MFa,A.x0 || y,A.l || A.DJ);y.Ac=z;v.push(y);}r=Object.getPrototypeOf(r.prototype).constructor;r !== Object && (q=k(q,r),v=v.concat(q));return v;}function g(q,r){var u,v;r=Object.getPrototypeOf(r.prototype).constructor;if(r !== Object){u=n.getFunctionName(r);u=c(q,u,r,!0);v=u.map(function(w){return w.Ac.filter(function(x){return x.key === m.zT;});});v=[].concat.apply([],v).length;u=u.length - v;return 0 < u?u:g(q,r);}return 0;}function h(q){var r;r={};q.forEach(function(u){r[u.key.toString()]=u.value;});return {l:r[m.NS],DJ:r[m.sG],x0:r[m.s3],hp:r[m.zT]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(323);f=a(56);l=a(77);m=a(41);n=a(137);b.getFunctionName=n.getFunctionName;p=a(324);b.XPb=function(q,r){var u;u=n.getFunctionName(r);return c(q,u,r,!1);};b.uPb=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.sR=c;}a.prototype.startsWith=function(c){return 0 === this.sR.indexOf(c);};a.prototype.endsWith=function(c){var k;k=c.split("").reverse().join("");c=this.sR.split("").reverse().join("");return this.startsWith.call({sR:c},k);};a.prototype.contains=function(c){return -1 !== this.sR.indexOf(c);};a.prototype.equals=function(c){return this.sR === c;};a.prototype.value=function(){return this.sR;};return a;})();b.Ssb=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);t=(function(){function k(g,h,d,f,l){this.id=c.id();this.ah=g;this.kQ=h;this.LB=d;this.target=l;this.soa=[];this.wV=Array.isArray(f)?f:[f];this.L6b=null === d?new Map():null;}k.prototype.eWa=function(g,h,d){g=new k(g,this.kQ,this,h,d);this.soa.push(g);return g;};return k;})();b.Request=t;},function(t,b,a){var g,h,d,f,l;function c(m){return function(n){var p,q,r,u,v;p=n.wV;q=n.soa;r=n.target && n.target.isArray();u=!n.LB || !n.LB.target || !n.target || !n.LB.target.MYb(n.target.ah);if(r && u)return q.map(function(w){return c(m)(w);});r=null;if(!n.target.Y7a() || 0 !== p.length){v=p[0];p=v.scope === h.fu.oja;u=v.scope === h.fu.Request;if(p && v.kma)return v.cache;if(u && null !== m && m.has(v.id))return m.get(v.id);if(v.type === h.fk.WFa)r=v.cache;else if(v.type === h.fk.Function)r=v.cache;else if(v.type === h.fk.XFa)r=v.tn;else if(v.type === h.fk.iHa && null !== v.kO)r=k("toDynamicValue",v.ah,function(){return v.kO(n.kQ);});else if(v.type === h.fk.Nga && null !== v.CO)r=k("toFactory",v.ah,function(){return v.CO(n.kQ);});else if(v.type === h.fk.DPa && null !== v.TB)r=k("toProvider",v.ah,function(){return v.TB(n.kQ);});else if(v.type === h.fk.Instance && null !== v.tn)r=l.Z6b(v.tn,q,c(m));else throw (q=f.VO(n.ah),Error(g.lqb + " " + q));"function" === typeof v.oy && (r=v.oy(n.kQ,r));p && (v.cache=r,v.kma=!0);u && null !== m && !m.has(v.id) && m.set(v.id,r);return r;}};}function k(m,n,p){try{return p();}catch(q){if(d.h8a(q))throw Error(g.knb(m,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(56);h=a(77);d=a(322);f=a(137);l=a(645);b.resolve=function(m){return c(m.qQ.Yza.L6b)(m.qQ.Yza);};},function(t,b,a){var g,h,d;function c(f,l,m){var n;l=l.filter(function(p){return null !== p.target && p.target.type === h.Dz.MFa;});n=l.map(m);l.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function k(f,l){var m;if(Reflect.zTb(d.lT,f)){m=Reflect.getMetadata(d.lT,f);try{l[m.value]();}catch(n){throw Error(g.Asb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(56);h=a(77);d=a(41);b.Z6b=function(f,l,m){var n;n=null;0 < l.length?(n=l.filter(function(p){return null !== p.target && p.target.type === h.Dz.YFa;}).map(m),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,l,m)):n=new f();k(f,n);return n;};},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);k=a(77);g=a(647);h=a(325);t=(function(){function d(f){this.Dc=f;}d.prototype.to=function(f){this.Dc.type=k.fk.Instance;this.Dc.tn=f;return new g.PEa(this.Dc);};d.prototype.ajb=function(){if("function" !== typeof this.Dc.ah)throw Error("" + c.rqb);this.to(this.Dc.ah);};d.prototype.vm=function(f){this.Dc.type=k.fk.WFa;this.Dc.cache=f;this.Dc.kO=null;this.Dc.tn=null;new h.ZF(this.Dc);};d.prototype.LF=function(f){this.Dc.type=k.fk.iHa;this.Dc.cache=null;this.Dc.kO=f;this.Dc.tn=null;return new g.PEa(this.Dc);};d.prototype.cbc=function(f){this.Dc.type=k.fk.XFa;this.Dc.tn=f;new h.ZF(this.Dc);};d.prototype.ef=function(f){this.Dc.type=k.fk.Nga;this.Dc.CO=f;new h.ZF(this.Dc);};d.prototype.dbc=function(f){if("function" !== typeof f)throw Error(c.oqb);this.vm(f);this.Dc.type=k.fk.Function;};d.prototype.Zib=function(f){this.Dc.type=k.fk.Nga;this.Dc.CO=function(l){return function(){return l.ub.get(f);};};new h.ZF(this.Dc);};d.prototype.H0=function(f){this.Dc.type=k.fk.DPa;this.Dc.TB=f;new h.ZF(this.Dc);};d.prototype.ebc=function(f){this.LF(function(l){return l.ub.get(f);});};return d;})();b.Nmb=t;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(648);k=a(205);g=a(206);t=(function(){function h(d){this.Dc=d;this.IT=new g.Wfa(this.Dc);this.Xja=new k.F1(this.Dc);this.PSa=new c.Mmb(d);}h.prototype.ha=function(){return this.PSa.ha();};h.prototype.Tta=function(){return this.PSa.Tta();};h.prototype.when=function(d){return this.IT.when(d);};h.prototype.h1=function(){return this.IT.h1();};h.prototype.oy=function(d){return this.Xja.oy(d);};return h;})();b.PEa=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);k=a(325);t=(function(){function g(h){this.Dc=h;}g.prototype.ha=function(){this.Dc.scope=c.fu.oja;return new k.ZF(this.Dc);};g.prototype.Tta=function(){this.Dc.scope=c.fu.j4;return new k.ZF(this.Dc);};return g;})();b.Mmb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fnb=(function(){function a(){}a.of=function(c,k){var g;g=new a();g.wV=c;g.OZb=k;return g;};return a;})();},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);t=(function(){function k(){this.kh=new Map();}k.prototype.add=function(g,h){var d;if(null === g || void 0 === g)throw Error(c.hT);if(null === h || void 0 === h)throw Error(c.hT);d=this.kh.get(g);void 0 !== d?(d.push(h),this.kh.set(g,d)):this.kh.set(g,[h]);};k.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.hT);g=this.kh.get(g);if(void 0 !== g)return g;throw Error(c.eKa);};k.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.hT);if(!this.kh.delete(g))throw Error(c.eKa);};k.prototype.g6a=function(g){if(null === g || void 0 === g)throw Error(c.hT);return this.kh.has(g);};k.prototype.clone=function(){var g;g=new k();this.kh.forEach(function(h,d){h.forEach(function(f){return g.add(d,f.clone());});});return g;};return k;})();b.Jqb=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);b.vd=(function(){return function(k){this.id=c.id();this.qza=k;};})();b.BEa=(function(){return function(k){this.id=c.id();this.qza=k;};})();},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);k=a(41);b.X=function(){return function(g){var h;if(Reflect.tta(k.fia,g))throw Error(c.Eob);h=Reflect.getMetadata(k.bob,g) || [];Reflect.P7(k.fia,h,g);return g;};};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(66);k=a(92);b.wib=function(g,h){return function(d,f,l){var m;m=new c.Metadata(g,h);"number" === typeof l?k.OK(d,f,l,m):k.w0(d,f,m);};};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);k=a(66);g=a(92);b.Cab=function(h){return function(d,f,l){var m;m=new k.Metadata(c.RC,h);"number" === typeof l?g.OK(d,f,l,m):g.w0(d,f,m);};};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);k=a(66);g=a(92);b.optional=function(){return function(h,d,f){var l;l=new k.Metadata(c.FMa,!0);"number" === typeof f?g.OK(h,d,f,l):g.w0(h,d,l);};};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);k=a(66);g=a(92);b.hp=function(){return function(h,d,f){var l;l=new k.Metadata(c.zT,!0);g.OK(h,d,f,l);};};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);k=a(66);g=a(92);b.DJ=function(h){return function(d,f,l){var m;m=new k.Metadata(c.sG,h);"number" === typeof l?g.OK(d,f,l,m):g.w0(d,f,m);};};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);k=a(66);g=a(92);b.x0=function(h){return function(d,f,l){var m;m=new k.Metadata(c.s3,h);g.OK(d,f,l,m);};};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);k=a(41);g=a(66);b.gdb=function(){return function(h,d){d=new g.Metadata(k.lT,d);if(Reflect.tta(k.lT,h.constructor))throw Error(c.grb);Reflect.P7(k.lT,d,h.constructor);};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yab=function(a){return function(c){return function(){for(var k=[],g=0;g < arguments.length;g++){k[g]=arguments[g];}return k.forEach(function(h){return a.bind(h).ebc(c);});};};};},function(t,b,a){var d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C;function c(){}function k(D){this.ke=D;}function g(D){var F;F=m.Bia.call(this) || this;D.qP?Object.assign(F,(0,x.v4a)(D)):D.O$?Object.assign(F,(0,w.h4a)(D)):D.Iua?Object.assign(F,(0,v.X4a)()):D.lB || D.fY?Object.assign(F,(0,u.$3a)()):D.mY?Object.assign(F,(0,x.s5a)(D)):Object.assign(F,(0,r.K3a)(D));return F;}function h(D){this.data=D.O$?(0,w.j4a)(D):D.Iua?(0,v.Z4a)(D):D.lB || D.fY?(0,u.b4a)(D):D.mY?(0,x.u5a)(D):(0,r.M3a)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.dnb=b.cnb=b.bnb=b.anb=void 0;t=a(0);d=a(1);f=a(48);l=a(108);m=a(662);n=a(166);p=a(328);q=a(207);r=a(663);u=a(664);v=a(665);w=a(666);x=a(667);y=a(668);z=a(669);Va.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},oba:{configurable:!0,enumerable:!0,get:function(){return this.data.oba;}},Xs:{configurable:!0,enumerable:!0,get:function(){return this.data.Xs;}},Tp:{configurable:!0,enumerable:!0,get:function(){return this.data.Tp;}},JO:{configurable:!0,enumerable:!0,get:function(){return this.data.JO;}},dE:{configurable:!0,enumerable:!0,get:function(){return this.data.dE;}},Npa:{configurable:!0,enumerable:!0,get:function(){return this.data.Npa;}},l0a:{configurable:!0,enumerable:!0,get:function(){return this.data.l0a;}},Jva:{configurable:!0,enumerable:!0,get:function(){return this.data.Jva;}},jW:{configurable:!0,enumerable:!0,get:function(){return this.data.jW;}},Kkb:{configurable:!0,enumerable:!0,get:function(){return this.data.Kkb;}},q6:{configurable:!0,enumerable:!0,get:function(){return this.data.q6;}}});A=h;A=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(n.aG))],A);b.anb=A;ka(g,m.Bia);B=g;B=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(n.aG))],B);b.bnb=B;k.prototype.apply=function(){this.ke.O$?Object.assign(this,(0,w.i4a)(this.ke)):this.ke.Iua?Object.assign(this,(0,v.Y4a)(this.ke)):this.ke.lB || this.ke.fY?Object.assign(this,(0,u.a4a)(this.ke)):this.ke.mY?Object.assign(this,(0,x.t5a)(this.ke)):Object.assign(this,(0,r.L3a)(this.ke));return this;};C=k;C=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(n.aG))],C);b.cnb=C;c=t.__decorate([(0,d.X)()],c);b.dnb=c;b.platform=new d.vd(function(D){D(f.Hq).to(A).ha();D(l.BG).to(B).ha();D(p.gOa).to(C).ha();D(f.I3).to(c).ha();D(q.Cia).ef(function(F){return function(){var G;G=F.ub.get(n.aG);return G.lB || G.fY?{bc:function(E,I,L){return new z.Mja(E,I,L);},request:y.xSa}:G.mY?{bc:function(E,I,L){return new (a(670))(E,I,L);},request:a(671)}:{};};});});},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.Bia=void 0;c=a(5);k=a(51);g=a(42);h={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Bia=function(){this.HAa=!0;this.PH=[];this.Wn=[];this.nO=!1;this.vw=[g.Em.lga,g.Em.ktb,g.Em.HL,g.Em.nJa];this.yn=void 0;this.sqa=!0;this.k8=!1;this.C6=(0,k.aa)(288E4);this.F6=(0,k.aa)(335544320);this.vB=(0,c.tc)(15E3);this.VYb=(0,k.aa)(6291456);this.DP=1E3;this.aoa=!0;this.sea=h;this.AR=(0,k.aa)(0);this.gP=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.paa=["th"];this.wea=(0,c.tc)(0);this.TX=!0;this.Rea=!1;this.qO=this.xwa=this.W8=!0;this.dL=this.lE=this.Ex=!1;this.gI=["start"];};},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.L3a=b.K3a=b.M3a=void 0;c=a(26);k=a(42);g=a(118);h=a(138);b.M3a=function(d){return Object.assign(Object.assign({},(0,h.MO)()),{Xs:d.l8a?"T":d.eY?"C":"M",Tp:d.l8a?"NFCDTS-01-":d.PE?"NFCDCH-02-":d.rP?"NFCDCH-MC-":d.eY?"NFCDCH-01-":d.G$?"NFCDCH-AP-":d.dY?"NFCDCH-AT-":d.qP?"NFCDCH-PH-":"NFCDCH-LX-",dE:d.eY?"chromeos-cadmium":"chrome-cadmium"});};b.K3a=function(d){var f,l;f=(0,h.LO)();l=Object.assign(Object.assign({},f),{nO:!0,Ex:!0,lE:!0,dL:!0});d.PE && (l.Wn=[].concat(ha(f.Wn),ha((0,g.Yo)([k.H.AC,k.H.BC],{minimumCores:5}))));d.rP && (l.Wn=[].concat(ha(f.Wn),ha((0,g.Yo)([k.H.AC,k.H.BC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.eY && (l.Wn=(0,g.Yo)([].concat(ha(k.Pd.J1),ha(k.Pd.q1),ha(k.Pd.p1),ha(k.Pd.rfa),ha(k.Pd.ega),ha(k.Pd.fga),ha(k.Pd.dga),ha(k.Pd.bga),ha(k.Pd.cga),ha(k.Pd.aga))));return l;};b.L3a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Gm.mL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.dr && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.dY && (f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL1:!0}));d.eY && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.dr && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.dr && d.PE && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));d.PE && 99 <= d.dr && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(t,b,a){var k,g,h,d,f,l;function c(){var m,n,p;p=null === (m=mb.MSMediaKeys) || void 0 === m?void 0:m.isTypeSupported(g.zb.he,f.Od.Gwa);m=p || (null === (n=mb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(g.zb.CG,f.Od.Gwa));return {a8a:p,$7a:m};}Object.defineProperty(b,"__esModule",{value:!0});b.a4a=b.iQb=b.$3a=b.b4a=void 0;k=a(26);g=a(93);h=a(42);d=a(138);f=a(120);l=a(118);b.b4a=function(m){return Object.assign(Object.assign({},(0,d.MO)()),{Xs:m.lB?"D":"H",Tp:m.lB?m.rP?"NFCDIE-04-":m.SVb?"NFCDIE-LX-":m.G$?"NFCDIE-AP-":m.dY?"NFCDIE-AT-":m.qP?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",dE:"edge-cadmium",q6:!1});};b.$3a=function(){var m,n,p;m=Object.assign(Object.assign({},(0,d.LO)()),{PH:(0,l.Yo)([h.Xd.hG,h.Xd.iG,h.Xd.wS,h.Xd.xS]),Wn:(0,l.Yo)([].concat(ha(h.Pd.J1),ha(h.Pd.q1),ha(h.Pd.p1),ha(h.Pd.rfa),ha(h.Pd.ega),ha(h.Pd.fga),ha(h.Pd.dga),ha(h.Pd.bga),ha(h.Pd.cga),ha(h.Pd.aga),ha(h.Pd.oFa),ha(h.Pd.pFa),ha(h.Pd.hnb))),yn:void 0,TX:!1});n=c();p=n.a8a;n.$7a || (m.Ex=!0,m.lE=!0,m.dL=!0);m.gI=p?[]:["start"];return m;};b.iQb=c;b.a4a=function(m){var n,p,q,r,u,v,w;n=m.fY;p=m.lB;q=m.PE;r=c();u=r.$7a;v=r.a8a;r={nudgeSourceBuffer:!0,audioCapabilityDetectorType:k.Gw.vz,videoCapabilityDetectorType:k.Gm.vz,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:v?!1:!0,enableAdPlaygraphs:v?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};v={prepareCadmium:!0,enableLdlPrefetch:!u || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};w={audioCapabilityDetectorType:k.Gw.gz,videoCapabilityDetectorType:k.Gm.mL,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.zb.sSa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,l.Yo)([h.Xd.hG,h.Xd.iG]),videoProfiles:(0,l.Yo)([h.H.fG,h.H.gG,h.H.o2,h.H.q2,h.H.p2,h.H.r2]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= m.dr && (r=Object.assign(Object.assign(Object.assign({},r),v),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= m.dr && (r=Object.assign(Object.assign({},r),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= m.dr && (r=Object.assign(Object.assign({},r),{microsoftHwdrmRequiresHevc:!1})),17 <= m.dr && (r=Object.assign(Object.assign({},r),{enableDDPlusAtmos:!0})));p && (r=Object.assign(Object.assign(Object.assign({},r),v),{useEncryptedEvent:!1}),q && (r=Object.assign(Object.assign({},r),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),u?(r=Object.assign(Object.assign({},r),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.zb.nOa,g.zb.oOa]}),94 === m.dr && (r=Object.assign(Object.assign({},r),{enableHWDRM:!1})),102 <= m.dr && (r=Object.assign(Object.assign({},r),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0}))):r=Object.assign(Object.assign({},r),w));return r;};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Y4a=b.X4a=b.Z4a=void 0;c=a(26);k=a(138);b.Z4a=function(g){return Object.assign(Object.assign({},(0,k.MO)()),{Xs:"O",Tp:g.G$?"NFCDOP-AP-":g.dY?"NFCDOP-AT-":g.qP?"NFCDOP-PH-":"NFCDOP-01-",dE:"opera-cadmium"});};b.X4a=function(){return Object.assign(Object.assign({},(0,k.LO)()),{nO:!0,Ex:!0,lE:!0,dL:!0});};b.Y4a=function(g){var h;h={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Gm.mL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= g.dr && (h=Object.assign(Object.assign({},h),{enableVP9:!0}));return h;};},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.i4a=b.h4a=b.j4a=void 0;c=a(26);k=a(42);g=a(118);h=a(138);b.j4a=function(d){return Object.assign(Object.assign({},(0,h.MO)()),{Xs:"F",Tp:d.rP?"NFCDFF-MC-":d.PE?"NFCDFF-02-":d.G$?"NFCDFF-AP-":d.dY?"NFCDFF-AT-":d.qP?"NFCDFF-PH-":"NFCDFF-LX-",dE:"firefox-cadmium"});};b.h4a=function(d){var f,l;f=(0,h.LO)();l=Object.assign(Object.assign({},f),{nO:!0,Ex:!0,lE:!0,dL:!0});d.PE && (l.Wn=[].concat(ha(f.Wn),ha((0,g.Yo)([k.H.AC,k.H.BC],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.rP && (l.Wn=[].concat(ha(f.Wn),ha((0,g.Yo)([k.H.AC,k.H.BC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return l;};b.i4a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.Gm.mL,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(d.PE || d.rP) && 95 <= d.dr && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(t,b,a){var k,g,h,d,f,l;function c(m){var n;n=Object.assign(Object.assign({},(0,l.LO)()),{PH:(0,f.Yo)([d.Xd.hG,d.Xd.iG,d.Xd.Fz]),Wn:(0,f.Yo)([].concat(ha(d.Pd.J1),ha(d.Pd.q1),ha(d.Pd.p1),ha(d.Pd.ega),ha(d.Pd.fga),ha(d.Pd.dga),ha(d.Pd.bga),ha(d.Pd.cga),ha(d.Pd.aga),ha(d.Pd.oFa),ha(d.Pd.pFa))),yn:h.zb.tpb,vB:(0,k.tc)(7E3),gI:[]});(0,l.J$)(m,14) && (n.gI=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.t5a=b.s5a=b.v4a=b.u5a=void 0;k=a(5);g=a(26);h=a(93);d=a(42);f=a(118);l=a(138);b.u5a=function(m){return Object.assign(Object.assign({},(0,l.MO)()),{Xs:"S",Tp:m.qP?"NFCDSF-PH-":"NFCDSF-01-",dE:"safari-cadmium"});};b.v4a=function(m){return Object.assign(Object.assign({},c(m)),{Rea:!0,qO:!1,vw:[d.Em.p4]});};b.s5a=c;b.t5a=function(m){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.Gm.gz,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,l.J$)(m,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,l.iY)(m,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,l.iY)(m,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,l.iY)(m,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,l.iY)(m,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,l.J$)(m,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};},function(t,b,a){var k;function c(g,h,d,f){this.log=g;this.KI=h;this.YB=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.xSa=void 0;k=a(3);c.prototype.vh=function(g){var h;h=this;(this.context.Ff || this.context.sl) && this.log.trace("Requesting license",{drmType:g.Bo});return this.KI(g).catch(function(d){h.log.error("Unable to get the Playready license",d);if(h.context.Opc)throw d;throw {ca:!1,code:k.V.zL,Cc:d.Cc,Td:d.Td,Co:d.Co,Gk:d.message || d.Gk,vI:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Gk)};});};c.prototype.release=function(g){var h;h=this;this.log.trace("Requesting stop data");return this.YB(g).catch(function(d){h.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Cc,extCode:d.Td,edgeCode:d.Co,message:d.message || d.Gk});throw {ca:!1,code:k.V.Yia,Cc:d.Cc,Td:d.Td,Co:d.Co,Gk:d.message || d.Gk,message:"Unable to release the PlayReady license. " + (d.message || d.Gk)};});};b.xSa=c;mb._cad_global.WindowsDrmRequests=c;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Mja=void 0;c=a(3);k=a(204);g=a(208);h=a(32);d=a(79);f=a(33);l=a(26);m=a(61);(function(){var z;function n(A,B,C){var D;D=this;this.log=A;this.Uo=B || y.bind(this);this.context=C;this.LZ=this.challenge=this.keySystem=this.keySessionId=this.Ib=this.mediaKeys=void 0;this.qd={};this.yva=this.NBa=!1;this.wZ=u.bind(this);this.LZ=void 0;this.rDa=new Promise(function(F,G){D.Rza=F;D.rza=G;});this.rDa.catch(function(F){D.log.error("wait for license rejected",F);});k.ic.get(l.hz).n9().then(function(F){(D.context.Ff || D.context.sl) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.Cn=function(F,G){D.rza(F,G);D.context.onerror(F,G);};this.wxa=function(){D.Rza();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return k.ic.get(f.zi);}function q(){return k.ic.get(h.$h);}function r(A){var B,C;B=k.ic.get(g.vja);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Yhb(A));(this.context.Ff || this.context.sl) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function u(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ib.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.sg.rs,z.$C.hu,B);this.Ib=void 0;}function v(A,B,C){var F,G,E;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (D+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > D.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function w(A,B,C,D){var F,G;F=A.target && A.target.sessionId;G=p().decode(v(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(C.context.Ff || C.context.sl || C.context.vC) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=F;A={ng:B,messageType:"license-request",Bo:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",yk:[{data:G,sessionId:F}]};12 === C.state && (C.Uo("lc"),G={data:G,Bo:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.RJ || (C.LZ=G));C.context.mm.vh(A).then(function(E){if(12 === C.state && (C.Uo("lr"),C.wxa(),!C.context.RJ))(C.MZ=E.Oj[0].data,C.state=13,D({ca:!0,state:C.state}));else if(C.Ib)return x(C,E.Oj[0].data,C.Ib).then(function(){C.state=30;D({ca:!0,state:C.state});});}).catch(function(E){D(q().AJ(E,{state:C.state}));});}function x(A,B,C){A.L$() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Ib.update(B);D(void 0);A.L$() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){F({ca:!1,code:z.sg.E3,message:"Unable to update the EME.",Ob:q().We(G)});}});}function y(A){this.context.Aa && (this.qd[A]=this.context.Aa.getTime(),this.log.trace("Milestone: " + A + ", " + this.qd[A]));}z={sg:c.V,$C:c.R};n.prototype.oX=function(){return this.keySystem;};n.prototype.dkb=function(A,B){A.log && (this.log=A.log);A.Uo && (this.Uo=A.Uo);B.mm && (this.context.mm=B.mm);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):k.ic.get(l.hz).JI()).then(function(C){B.Uo("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.g_)C=Promise.reject({ca:!1,code:z.sg.BS,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new mb.MSMediaKeys(C);}catch(D){C=Promise.reject({ca:!1,code:z.sg.WMa,message:"create MSMediaKeys(" + C + ") failed",Ob:q().We(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ca:!1,code:z.sg.LL,message:"set MSMediaKeys failed",Ob:q().We(D)});break a;}C=Promise.resolve({ca:!0,mediaKeys:B.mediaKeys});}return C;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Ib){this.log.info("Closing the session",{sessionId:this.Ib.sessionId});this.Ib.removeEventListener("mskeyerror",this.wZ);try{this.Ib.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ib=void 0;}};n.prototype.vh=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.sg.$Ma});if(0 === B.length)return Promise.reject({code:z.sg.ZMa});B=B[0];D=this;D.context.Ff && D.log.trace("LICENSE: Setting license");return D.context.g_?Promise.reject({ca:!1,code:z.sg.pHa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,I,L,K,H,R,O;try{I=function(J){D.Ib && (D.Ib.removeEventListener("mskeymessage",K),D.Ib.removeEventListener("mskeyadded",H),D.Ib.removeEventListener("mskeyerror",R),D.Ib.addEventListener("mskeyerror",D.wZ));J.state=11;J.ca?F(J):(D.close(),G(J));};L=function(J){var M,P;M=[];P=Array.prototype.map.call(J,function(U){return U?String.fromCharCode(U):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)M.push(P[1]);else {J=v(J,"KIDS");P=/VALUE="(.+?)">/g;for(var S=P.exec(J);null != S;){M.push(S[1]);S=P.exec(J);}}return M;};K=function(J){E && clearTimeout(E);w(J,A,D,I);};H=function(J){(D.context.Ff || D.context.sl) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({ca:!0});};R=function(J){var M,P;E && clearTimeout(E);if(J.target && J.target.error)(M=J.target.error.systemCode,P=J.target.error.code);M={code:z.sg.rs,Cc:z.$C.hu,Td:M?k.ic.get(d.cz).EI(M,4):P,details:q().We(J),cause:J.target && J.target.error,oea:M,t8:P};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Ib && D.Ib.sessionId,keySystem:J.target.keySystem,systemCode:M.oea,code:M.t8});D.Uo("le");D.Cn && D.Cn(z.sg.rs,M);I({ca:!1,code:z.sg.rs,Cc:z.$C.hu,Td:M.Td,message:"Received a key error.",Ob:M.details,cause:M.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.Ff || D.context.sl) && D.log.debug("LICENSE: PSSH",p().encode(B));D.by || (D.by=L(B));if(C){O=r.call(D,D.by);D.Ib=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),O);}else D.Ib=D.mediaKeys.createSession("video/mp4",B,null);(D.context.Ff || D.context.sl) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Ib.keySystem,sessionId:D.Ib.sessionId});D.Ib.addEventListener("mskeymessage",K);D.Ib.addEventListener("mskeyadded",H);D.Ib.addEventListener("mskeyerror",R);D.context.vva && (E=setTimeout(function(){I({ca:!1,code:z.sg.kT,Cc:z.$C.hpb});},D.context.vva));}catch(J){G({code:z.sg.kT,Cc:z.$C.Bm});}});})();};n.prototype.bK=function(){var A;(this.context.Ff || this.context.sl) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.vh(m.lp.sha.Iq,A,!0);};n.prototype.y6=function(A){this.MZ || this.log.error("pending license must exist at this point");this.context.RJ=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ca:!1,code:z.sg.LL,message:"setMediaKeys failed",Ob:q().We(B)});}return x(this,this.MZ,this.Ib);};n.prototype.a2a=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={ga:A.ga,Ge:A.Ge};return new Promise(function(D,F){(function(){B.context.mm.release.call(B.context.mm,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ca:!0};B.close();G.ca?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Cc,extCode:G.Td,edgeCode:G.Co,message:G.Gk});B.close();G.ca?D(G):F(G);});})();});};n.prototype.L$=function(){return this.context.Ff || this.context.sl;};b.Mja=n;mb._cad_global.WindowsEmeSession=b.Mja;})();},function(t,b,a){var w,x,y,z,A,B,C,D,F,G,E,I;function c(L,K,H){var R;R=this;this.log=L;this.Uo=K || v.bind(this);this.context=H;this.LZ=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.qd={};this.Tj=void 0;this.url="";this.yva=this.NBa=!1;this.wZ=m.bind(this);this.Zo=this.LZ=void 0;this.rDa=new Promise(function(O,J){R.Rza=O;R.rza=J;});this.Cn=function(O,J){R.rza(O,J);R.context.onerror(O,J);};this.wxa=function(){R.Rza();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function k(){return w.ya.get(A.tu);}function g(){return w.ya.get(z.zi);}function h(){return w.ya.get(x.$h);}function d(L){return (/com.apple.fps/).test(L) && !(/com.apple.fps.2_0/).test(L);}function f(L){var K;L=(function(H){var O,J;function R(M,P,S,U){var T,W;T=new Uint8Array("piff" == P?88:72);W=new G.zS(T);W.zC(12);W.yC("frma");W.yC(M);W.zC(20);W.yC("schm");W.k1(0);W.k1(0);W.yC(P);W.zC(S);"piff" == P?(W.zC(56),W.yC("schi"),W.zC(48),W.yC("uuid"),W.j1([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(W.zC(40),W.yC("schi"),W.zC(32),W.yC("tenc"));W.k1(0);W.k1(0);W.zC(264);W.j1(U);return T;}O=R("avc1","piff",65537,H);O=k().decode(g().encode(O));H=R("avc1",E.Iw,65536,H);H=k().decode(g().encode(H));J=new Uint8Array(7 + O.length + 8 + H.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(O,7);J.set([34,44,10,32,32,32,32,34],7 + O.length);J.set(H,7 + O.length + 8);J.set([34,10,32,32,93],7 + O.length + 8 + H.length);return J;})(L);K=new Uint8Array(13 + L.length + 2);K.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);K.set(L,13);K.set([10,125],13 + L.length);return K;}function l(L){var K;L=L.subarray(14,30);L=String.fromCharCode.apply(null,L);L=g().decode(L);L=L.subarray(4);K=new Uint8Array(16);K.set(L);return K;}function m(L){var K;K=n(L);this.log.error("LICENSE Error: Received event: " + L.type,{sessionId:this.Ib?this.Ib.sessionId:void 0,keySystem:L.target.keySystem,systemCode:K.oea,code:K.t8});this.Cn && this.Cn(I.sg.rs,K);this.Ib=void 0;}function n(L){var K,H;if(L.target.error)(K=L.target.error.systemCode,H=L.target.error.code);return {code:I.sg.rs,Cc:I.$C.hu,Td:K?w.ya.get(y.cz).EI(K,4):H,details:h().We(L),cause:L.target.error,oea:K,t8:H};}function p(L,K,H,R){var O,J,M;O=L.target.sessionId;J=L.message;M=h().UD(J,k().decode("certificate"));H.yva=K === F.lp.sha.np;H.state=M?2:12;H.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:O});(H.context.Ff || H.context.sl || H.context.vC) && H.log.debug("LICENSE: License challenge",g().encode(J));H.keySessionId=O;L={cq:H.cq,ng:K,messageType:"license-request",Bo:(/clearkey/i).test(H.keySystem)?"clearkey":"fps",yk:[{data:J,sessionId:O}]};12 === H.state && (H.Uo("lc"),J={data:J,Bo:(/clearkey/i).test(H.keySystem)?"clearkey":"fps"},H.context.RJ || (H.LZ=J));H.context.mm.vh(L).then(function(P){if(12 === H.state && (H.Uo("lr"),H.wxa(),!H.context.RJ))(H.MZ=P.Oj[0].data,H.state=13,R({ca:!0,state:H.state}));else if(H.Ib)return (P=u(H,M,P.Oj[0].data,H.Ib),2 === H.state?P:P.then(function(){H.state=30;R({ca:!0,state:H.state});}));}).catch(function(P){R(h().AJ(P,{state:H.state}));});}function q(L,K,H){K.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:L.target.sessionId});H({ca:!0});}function r(L,K,H){var R;R=n(L);K.Cn && K.Cn(I.sg.rs,R);K.log.error("LICENSE Error: Received event: " + L.type,{sessionId:K.Ib?K.Ib.sessionId:void 0,keySystem:L.target.keySystem,systemCode:R.oea,code:R.t8});H({ca:!1,code:I.sg.rs,Cc:I.$C.hu,Td:R.Td,message:"Received a key error.",Ob:R.details,cause:R.cause});}function u(L,K,H,R){R={sessionId:R.sessionId};L.L$() && (R.license=g().encode(H));L.log.trace("calling keysession update",R);return new Promise(function(O,J){function M(){L.Ib.removeEventListener("webkitkeyadded",M);O(void 0);}try{K || L.Ib.addEventListener("webkitkeyadded",M);L.Ib.update(H);K && O(void 0);}catch(P){J({ca:!1,code:I.sg.E3,message:"Unable to update the EME.",e:P});}});}function v(L){this.qd[L]=w.ya.get(B.$c).Tb().da(C.ma);this.log.trace("Milestone: " + L + ", " + this.qd[L]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(8);b=a(3);x=a(32);y=a(79);z=a(33);A=a(72);B=a(19);C=a(5);D=a(13);F=a(61);G=a(167);E=a(49);I={sg:b.V,$C:b.R};c.prototype.oX=function(){return this.keySystem;};c.prototype.dkb=function(L,K){L.log && (this.log=L.log);L.Uo && (this.Uo=L.Uo);K.mm && (this.context.mm=K.mm);K.onerror && (this.context.onerror=K.onerror);};c.prototype.create=function(L){var K;K=this;K.Uo("lg");K.log.trace("CREATE: Creating the media keys",{keySystem:L});K.keySystem=L;return K.context.g_?Promise.reject({ca:!1,code:I.sg.BS,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function H(){var R,O;R=h().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");O=R.lastChild;K.Zo=R;K.context.$=D.Dh.createElement("VIDEO");O?K.Zo.insertBefore(K.context.$,O):K.Zo.appendChild(K.context.$);}return new Promise(function(R,O){function J(M){(K.context.Ff || K.context.sl || K.context.vC) && K.log.trace("CREATE: Received event: " + M.type,{readyState:M.target.readyState,duration:M.target.duration});try{K.mediaKeys=new mb.WebKitMediaKeys(L);K.context.$.webkitSetMediaKeys(K.mediaKeys);R({ca:!0,mediaKeys:K.mediaKeys});}catch(P){K.log.error("CREATE: Exception on webkitSetMediaKeys",P);O({ca:!1,code:I.sg.kT,Ob:h().We(P)});}}if(d(K.keySystem))try{K.mediaKeys=new mb.WebKitMediaKeys(L);K.context.$ && (K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.$.webkitSetMediaKeys(K.mediaKeys));R({ca:!0,mediaKeys:K.mediaKeys});}catch(M){O({ca:!1,code:I.sg.kT,Ob:h().We(M)});}else (K.mediaKeys=new mb.WebKitMediaKeys(L),K.context.$?(K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.$.webkitSetMediaKeys(K.mediaKeys)):(H(),K.Tj=new D.SC(),K.Tj.addEventListener("sourceopen",J),K.url=URL.createObjectURL(K.Tj),K.context.$.src=K.url),R({ca:!0,mediaKeys:K.mediaKeys}));});})();};c.prototype.close=function(){this.Ib && (this.log.info("Closing the session",{sessionId:this.Ib.sessionId}),this.Ib.removeEventListener("webkitkeyerror",this.wZ),this.Ib.close(),this.Ib=void 0);};c.prototype.vh=function(L,K){var H;if(1 < K.length)return Promise.reject({code:I.sg.$Ma});if(0 === K.length)return Promise.reject({code:I.sg.ZMa});K=K[0];H=this;H.context.Ff && H.log.trace("LICENSE: Setting license",{initData:g().encode(K)});return H.context.g_?Promise.reject({ca:!1,code:I.sg.pHa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(R,O){var M,P,S;function J(U){H.Ib && (H.Ib.removeEventListener("webkitkeymessage",M),H.Ib.removeEventListener("webkitkeyadded",P),H.Ib.removeEventListener("webkitkeyerror",S),H.Ib.addEventListener("webkitkeyerror",H.wZ));U.ca?R(U):(H.close(),O(U));}M=function(U){p(U,L,H,J);};P=function(U){q(U,H,J);};S=function(U){r(U,H,J);};d(H.keySystem) && (H.cq=l(K),K=f(H.cq));H.log.trace("LICENSE: Executing prefix based EME");H.context.Ff | H.context.sl && H.log.debug("LICENSE: PSSH",g().encode(K));H.Ib=H.mediaKeys.createSession("video/mp4",K,null);(H.context.Ff || H.context.sl) && H.log.debug("LICENSE: Created the media keys sessions",{keySystem:H.Ib.keySystem,sessionId:H.Ib.sessionId});H.Ib.addEventListener("webkitkeymessage",M);H.Ib.addEventListener("webkitkeyadded",P);H.Ib.addEventListener("webkitkeyerror",S);});})();};c.prototype.bK=function(){var L;L=this;return L.NBa?Promise.resolve({ca:!0}):new Promise(function(K,H){var O,J,M;function R(P){L.Ib && (L.Ib.removeEventListener("webkitkeymessage",O),L.Ib.removeEventListener("webkitkeyadded",J),L.Ib.removeEventListener("webkitkeyerror",M));P.ca?K(P):(H(P),L.close());}O=function(P){p(P,F.lp.sha.Iq,L,R);};J=function(P){q(P,L,R);K({ca:!0});};M=function(P){r(P,L,R);};L.yva=!1;L.Ib.addEventListener("webkitkeymessage",O);L.Ib.addEventListener("webkitkeyadded",J);L.Ib.addEventListener("webkitkeyerror",M);L.Ib.update(k().decode("renew"));});};c.prototype.y6=function(L){this.MZ || this.log.error("pending license must exist at this point");this.context.RJ=!0;try{L && (this.context.$=L,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(K){return new Promise(function(H,R){R({ca:!1,code:I.sg.LL,message:"setMediaKeys failed",Ob:h().We(K)});});}return u(this,!1,this.MZ,this.Ib);};c.prototype.a2a=function(L){var K,H;K=this;K.log.trace("Releasing the license of the current session",JSON.stringify(L));K.NBa=!0;H={ga:L.ga,Ge:L.Ge};return new Promise(function(R,O){(function(){K.context.mm.release.call(K.context.mm,H).then(function(){var J;K.log.trace("successfully released the license",JSON.stringify(L));J={ca:!0};J.ca?R(J):(K.close(),O(J));}).catch(function(J){K.log.error("RELEASE: Unable to get the release the license",{sessionId:K.Ib?K.Ib.sessionId:void 0,code:J.code,subCode:J.Cc,extCode:J.Td,edgeCode:J.Co,message:J.Gk});J.ca?R(J):(K.close(),O(J));});})();});};c.prototype.L$=function(){return this.context.Ff || this.context.sl;};t.exports=c;},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p,q){this.log=m;this.KI=n;this.YB=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});k=a(3);g=a(8);h=a(32);d=a(72);f=a(33);l=a(49);c.prototype.vh=function(m){var n,p;n=this;(this.context.Ff || this.context.sl) && this.log.debug("Requesting a license",m);if(g.ya.get(h.$h).UD(g.ya.get(d.tu).decode("certificate"),m.yk[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Oj:[{sessionId:m.yk[0].sessionId,data:g.ya.get(f.zi).decode(l.j2)}]});}else p=g.ya.get(h.$h).UD(g.ya.get(d.tu).decode("content"),m.yk[0].data)?Promise.resolve({Oj:[{sessionId:m.yk[0].sessionId,data:m.cq}]}):(function(){n.log.trace("Requesting license",{drmType:m.Bo});return n.KI(m).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:k.V.zL,Cc:q.Cc,Td:q.Td,Co:q.Co,Gk:q.message || q.Gk,vI:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Gk),cause:q};});})();return p;};c.prototype.release=function(m){var n;n=this;this.log.trace("Requesting stop data");return this.YB(m).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Cc,extCode:p.Td,edgeCode:p.Co,message:p.message || p.Gk});throw {ca:!1,code:k.V.Yia,Cc:p.Cc,Td:p.Td,Co:p.Co,Gk:p.message || p.Gk,message:"Unable to release the FairPlay license. " + (p.message || p.Gk),cause:p};});};t.exports=c;},function(t,b,a){var h,d,f,l,m,n,p,q;function c(r,u,v){var w;w=this;this.is=r;this.uq=u;this.config=v;this.xw=function(){return {version:w.version,drmData:w.e8.map(function(x){return x.xw();})};};this.Ara=function(x){var y;w.is.lo(x) && (x=k(x));1 === x.version && (x=g(w.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.e2(z);});}catch(z){throw new m.jd(f.V.xL,f.R.HC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !w.is.ko(x.version))throw new m.jd(f.V.xL,f.R.HC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new m.jd(f.V.xL,f.R.jFa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.Hl=new n.jha(2,this.config.sW,this.is.lo(this.config.sW),this.uq,this.xw);}function k(r){r=JSON.parse(r);r={xid:r.xid,movieId:r.movieId,keySessionIds:r.keySessionIds,licenseContextId:r.licenseContextId};if(!r.licenseContextId || !r.xid || !r.movieId)throw new m.jd(f.V.xL,f.R.HC);return {version:1,drmData:[r]};}function g(r,u){if(r.ED(u.drmData))return {version:2,drmData:u.drmData.map(function(v){var w;w=v.keySessionIds;return new q.e2({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(x){return {id:x,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).xw();})};throw new m.jd(f.V.xL,f.R.HC);}Object.defineProperty(b,"__esModule",{value:!0});b.BFa=void 0;t=a(0);h=a(1);d=a(67);f=a(3);l=a(27);m=a(37);n=a(330);p=a(94);q=a(210);c.prototype.beb=function(){return this.p$b();};c.prototype.hWa=function(r){return this.Hl.add(r);};c.prototype.s_=function(r){return this.Hl.remove(r,function(u,v){return u.ga === v.ga;});};c.prototype.toString=function(){return JSON.stringify(this.xw(),null,"  ");};c.prototype.p$b=function(){var r;r=this;this.feb || (this.feb=new Promise(function(u,v){r.Hl.load(r.Ara).then(function(){u();}).catch(function(w){w.wa && w.cause?v(new m.jd(f.V.xL,w.wa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):v(w);});}));return this.feb;};Va.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Hl.version;}},e8:{configurable:!0,enumerable:!0,get:function(){return this.Hl.Sm;}}});a=c;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(l.Kg)),t.__param(1,(0,h.l)(p.DC)),t.__param(2,(0,h.l)(d.iu))],a);b.BFa=a;},function(t,b,a){var k,g;function c(h,d,f,l,m){this.version=h;this.QJ=d;this.OBa=f;this.uq=l;this.xw=m;}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;k=a(3);g=a(37);c.prototype.load=function(h){return this.IXb(h);};c.prototype.set=function(h){this.Sm=h;return this.S2b();};c.prototype.IXb=function(h){var d;d=this;this.l9a || (this.l9a=new Promise(function(f,l){function m(n){d.dKb().then(function(){l(n);}).catch(function(){l(n);});}d.Usa().then(function(n){d.storage=n;return d.storage.load(d.QJ);}).then(function(n){var p;n=n.value;try{p=h(n);d.version=p.version;d.Sm=p.data;f();}catch(q){m(q);}}).catch(function(n){n.wa !== k.R.ZC?l(n):f();});}));return this.l9a;};c.prototype.S2b=function(){var h,d,f,l,m;h=this;if(!this.OBa)return Promise.resolve();if(this.eea){l=new Promise(function(n,p){d=n;f=p;});m=function(){h.eea=l;h.Phb().then(function(){d();}).catch(function(n){f(n);});};this.eea.then(m).catch(m);return l;}return this.eea=this.Phb();};c.prototype.Phb=function(){var h,d;h=this;d=this.xw();return new Promise(function(f,l){h.Usa().then(function(m){return m.save(h.QJ,d,!1);}).then(function(){f();}).catch(function(m){l(c.bbc(k.V.fsb,m));});});};c.prototype.dKb=function(){var h;h=this;return this.OBa?new Promise(function(d,f){h.Usa().then(function(l){return l.remove(h.QJ);}).then(function(){d();}).catch(function(l){f(l);});}):Promise.resolve();};c.prototype.Usa=function(){return this.storage?Promise.resolve(this.storage):this.uq.create();};c.bbc=function(h,d){var f;if(d.wa && d.cause)return new g.jd(h,d.wa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Cc){f=d.message?d.message + " ":"";d.code=h;d.message="" === f?void 0:f;return d;}return d instanceof Error?new g.jd(h,k.R.Bm,void 0,void 0,void 0,void 0,d.stack,d):new g.jd(h,k.R.co,void 0,void 0,void 0,void 0,void 0,d);};b.LJa=c;},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Jdb=void 0;c=a(3);k=a(95);g=a(121);h=a(209);b.Jdb=function(f){h.lO.parent=f.ub;return function(){d || (d=new Promise(function(l,m){try{l(h.lO.get(g.aHa));}catch(n){m(new k.Ch(c.V.dqb,c.R.nqb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;a.prototype.i6a=function(){return void 0 !== this.mediaKeys;};a.prototype.oWa=function(c){this.mediaKeys=c;};a.prototype.i6b=function(){this.i6a() && (this.mediaKeys=void 0);};b.LLa=a;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u,v){this.qI=p;this.pc=q;this.NP=u;this.iq=v;this.log=r.mb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;t=a(0);k=a(1);g=a(121);h=a(33);d=a(6);f=a(139);l=a(96);m=a(119);n=a(331);c.prototype.Qsa=function(p){var q;q=this;return Promise.all([this.qI(),this.jsa()]).then(function(r){var u;u=na(r);r=u.next().value;u=u.next().value;return r.VOb({type:p,initData:u},q.NP());}).then(function(r){var u;u=na(r);r=u.next().value;u=u.next().value;u=q.pc.encode(u.data[0]);q.log.trace("Challenge generated",u);return {bc:r,goa:u};});};c.prototype.jsa=function(){var p;p=this;return this.iq.tE().then(function(q){return q.tv();}).then(function(q){switch(q){case m.Am.pE:return n.$Ha;case m.Am.PB:return n.mOa;default:return n.tSa;}}).then(function(q){return q.map(p.pc.decode);});};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.f2)),t.__param(1,(0,k.l)(h.zi)),t.__param(2,(0,k.l)(d.sb)),t.__param(3,(0,k.l)(f.aT)),t.__param(4,(0,k.l)(l.uz))],a);b.CFa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){this.Be=u;this.Xh=v;this.pc=w;this.is=x;this.jZ=y;this.Ek=z;}Object.defineProperty(b,"__esModule",{value:!0});b.AHa=void 0;t=a(0);k=a(1);g=a(33);h=a(27);d=a(38);f=a(72);l=a(32);m=a(119);n=a(67);p=a(678);q=a(680);r=a(213);c.prototype.create=function(u){switch(u){case m.Am.PB:return new q.oPa(this.jZ,this.is,this.pc,this.Be,this.Ek,this.Xh);case m.Am.pE:return new p.ZHa(this.jZ,this.is,this.pc,this.Be,this.Ek,this.Xh);default:return new r.Yw(this.jZ,this.is,this.pc,this.Be,this.Ek,this.Xh);}};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(l.$h)),t.__param(1,(0,k.l)(f.tu)),t.__param(2,(0,k.l)(g.zi)),t.__param(3,(0,k.l)(h.Kg)),t.__param(4,(0,k.l)(d.JL)),t.__param(5,(0,k.l)(n.iu))],a);b.AHa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){u=g.Yw.call(this,u,v,w,x,y,z) || this;u.pc=w;u.yi=x;u.Ek=y;u.Xh=z;u.A6a=new h.YHa(u.pc,u.yi,u.Xh);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;t=a(0);k=a(1);g=a(213);h=a(679);d=a(38);f=a(27);l=a(33);m=a(32);n=a(67);p=a(72);q=a(332);r=a(333);ka(c,g.Yw);c.prototype.generateRequest=function(u,v){var w,x,y;w=this;try{x=v.map(function(z){return w.A6a.MQb(z);});this.d7a=x.map(function(z){return w.pc.encode(z);});y=this.A6a.cGb(x);return g.Yw.prototype.generateRequest.call(this,u,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(u,v,w){var x,y,z,A,B;x=this;if(w)try{y=this.Xh.encode(u[0]);z=JSON.parse(y).RESPONSES.map(function(C){var D;D=r.a4.Zhb(C.ID);return {keyID:v === q.MG.NPa?x.d7a[x.d7a.length - 1]:w[D],payload:C.PAYLOAD};});if(v === q.MG.Request){A=z.map(function(C){return C.keyID;});w.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);u=[this.Xh.decode(B)];}catch(C){return Promise.reject(C);}return g.Yw.prototype.update.call(this,u,v);};c.prototype.bK=function(){return g.Yw.prototype.update.call(this,[this.Xh.decode("renew")],q.MG.Request);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(d.JL)),t.__param(1,(0,k.l)(f.Kg)),t.__param(2,(0,k.l)(l.zi)),t.__param(3,(0,k.l)(m.$h)),t.__param(4,(0,k.l)(n.iu)),t.__param(5,(0,k.l)(p.tu))],a);b.ZHa=a;},function(t,b){function a(c,k,g){var h;h=this;this.pc=c;this.yi=k;this.Xh=g;this.MQb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=h.pc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.vpb={Iw:1667591779,rfc:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;a.prototype.cGb=function(c){var k;k=this.vpb.Iw;c=c.map(function(g){return {Smc:"",MWb:g,cna:g,f$b:g,ndc:[1]};});return this.pYb(k,c);};a.prototype.oYb=function(c){var k;k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,c);return this.Wva("fpsi",[k]);};a.prototype.nYb=function(c,k,g,h){c=[this.Wva("fkri",[c])];k.byteLength && c.push(this.LY("fkai",[k]));g.byteLength && c.push(this.LY("fkcx",[g]));h.length && c.push(this.LY("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.LY("fpsk",c);};a.prototype.pYb=function(c,k){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.oYb(c)];for(var h in k){d=k[h];c.push(this.nYb(d.MWb,d.cna,d.f$b,d.ndc));}k=this.LY("fpsd",c);h=new Uint8Array(4);new DataView(h.buffer).setUint32(0,k.byteLength);return this.Wva("pssh",[g,h,k]);};a.prototype.Wva=function(c,k){var g,h,d;g=0;for(d in k){g+=k[d].byteLength;}g=new Uint8Array(12 + g);h=new DataView(g.buffer);d=0;h.setUint32(d,g.byteLength);d+=4;g.set(this.Xh.decode(c),d);d+=4;h.setUint32(d,0);d+=4;for(var f in k){c=k[f];g.set(c,d);d+=c.byteLength;}return g;};a.prototype.LY=function(c,k){var g,h;g=0;for(h in k){g+=k[h].byteLength;}g=new Uint8Array(8 + g);h=0;new DataView(g.buffer).setUint32(h,g.byteLength);h+=4;g.set(this.Xh.decode(c),h);h+=4;for(var d in k){c=k[d];g.set(c,h);h+=c.byteLength;}return g;};b.YHa=a;},function(t,b,a){var k,g,h,d;function c(){return g.Yw.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oPa=void 0;t=a(0);k=a(1);g=a(213);h=a(95);d=a(3);ka(c,g.Yw);c.prototype.z7=function(f,l,m,n,p){this.Jeb(m);this.Geb(n);this.Eeb(p);this.iUa=this.wb;this.wb=f.createSession(l);this.pWa(m);this.lWa(n);this.iWa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var l;function f(m){return m && m.sessionId?m.close():Promise.resolve();}l=this;this.Koa=void 0;return this.wb?Promise.all([f(this.wb),f(this.iUa)]).then(function(){}).finally(function(){l.wb=void 0;l.iUa=void 0;}):Promise.reject(new h.Ch(d.V.jHa,d.R.sL,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,l){this.initDataType=f;this.initData=l;return g.Yw.prototype.generateRequest.call(this,f,l);};a=c;a=t.__decorate([(0,k.X)()],a);b.oPa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){this.Xh=u;this.Fj=v;this.pc=w;this.config=x;this.Ek=y;this.ki=z;}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;t=a(0);k=a(1);g=a(79);h=a(33);d=a(72);f=a(12);l=a(80);m=a(119);n=a(67);p=a(682);q=a(683);r=a(684);c.prototype.create=function(u){switch(u){case m.Am.PB:return new q.zHa(this.Fj,this.pc);case m.Am.pE:return new r.nQa(this.Fj,this.pc,this.Xh,this.ki);default:return new p.KFa(this.Fj,this.pc,this.Ek,this.config);}};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(d.tu)),t.__param(1,(0,k.l)(g.cz)),t.__param(2,(0,k.l)(h.zi)),t.__param(3,(0,k.l)(f.Ic)),t.__param(4,(0,k.l)(n.iu)),t.__param(5,(0,k.l)(l.yz))],a);b.bHa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x){this.Fj=u;this.pc=v;this.Ek=w;this.config=x;}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;t=a(0);k=a(1);g=a(3);h=a(79);d=a(33);f=a(334);l=a(95);m=a(68);n=a(67);p=a(12);q=a(37);r=a(49);c.prototype.m7=function(){return !1;};c.prototype.lna=function(){return !0;};c.prototype.boa=function(){return !0;};c.prototype.nX=function(){return r.Iw;};c.prototype.h9=function(){return this.Ek.IAa?this.pc.decode(this.Ek.IAa):this.pc.decode(r.qSa);};c.prototype.Ksa=function(){var u;u=this;return [r.kG,r.ija,r.hja].map(function(v){return {initDataTypes:[u.nX()],persistentState:"required",videoCapabilities:[{contentType:f.o3,robustness:v}]};});};c.prototype.oua=function(){Promise.reject(new q.jd(g.V.Ega));};c.prototype.dpa=function(u){var v;return {type:u.type,sessionId:null === (v=u.target) || void 0 === v?void 0:v.sessionId,wJ:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.CA=function(u){var v,w,x;v=new l.Ch(g.V.rs);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),v.Cc=1 <= w && 9 >= w?g.R.hu + w:g.R.hu):v.Cc=u instanceof m.us?g.R.CS:g.R.Bm;try{x=u.message.match(/\((\d*)\)/)[1];v.Td=this.Fj.EI(x,4);}catch(y){}v.iW(u);return v;};c.prototype.PO=function(){};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.cz)),t.__param(1,(0,k.l)(d.zi)),t.__param(2,(0,k.l)(n.iu)),t.__param(3,(0,k.l)(p.Ic))],a);b.KFa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r){this.Fj=q;this.pc=r;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;t=a(0);k=a(1);g=a(3);h=a(79);d=a(33);f=a(334);l=a(95);m=a(68);n=a(37);p=a(49);c.prototype.m7=function(){return !0;};c.prototype.lna=function(){return !1;};c.prototype.boa=function(){return !1;};c.prototype.nX=function(){return p.Iw;};c.prototype.h9=function(){};c.prototype.Ksa=function(){return [{initDataTypes:[this.nX()],audioCapabilities:[{contentType:f.n3}],videoCapabilities:[{contentType:f.o3}],sessionTypes:[p.TEMPORARY]}];};c.prototype.oua=function(){Promise.reject(new n.jd(g.V.Ega));};c.prototype.dpa=function(q){var r;r=new Uint8Array(q.message);r=this.Nqa(r,"PlayReadyKeyMessage","Challenge");r=this.pc.decode(r);return {type:q.type,sessionId:q.target.sessionId,wJ:[r],messageType:q.messageType};};c.prototype.CA=function(q){var r,u,v;r=new l.Ch(g.V.rs);u=q.code;null != u && void 0 !== u?(u=parseInt(u,10),r.Cc=1 <= u && 9 >= u?g.R.hu + u:g.R.hu):r.Cc=q instanceof m.us?g.R.CS:g.R.Bm;try{v=(/\((\d+)\)/).exec(q.message);r.Td=this.Fj.EI(Number(v && v[1]),4);}catch(w){}r.iW(q);return r;};c.prototype.Nqa=function(q,r){var v,w,x;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=q.length;for(v=0;v < w;v++){x=q[v];0 < x && (u+=String.fromCharCode(x));}w="\\s*(.*)\\s*";for(v=arguments.length - 1;0 < v;v--){x=arguments[v];if(0 > u.search(x))return "";x="(?:[^:].*:|)" + x;w="[\\s\\S]*<" + x + "[^>]*>" + w + "</" + x + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.PO=function(){};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.cz)),t.__param(1,(0,k.l)(d.zi))],a);b.zHa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u;function c(v,w,x,y){this.Fj=v;this.pc=w;this.Xh=x;this.ki=y;}Object.defineProperty(b,"__esModule",{value:!0});b.nQa=void 0;t=a(0);k=a(1);g=a(3);h=a(79);d=a(72);f=a(95);l=a(68);m=a(33);n=a(49);p=a(335);q=a(37);r=a(80);u=a(333);c.prototype.m7=function(){return !1;};c.prototype.lna=function(){return !1;};c.prototype.boa=function(){return !0;};c.prototype.nX=function(){return n.Iw;};c.prototype.h9=function(){return this.pc.decode(n.j2);};c.prototype.Ksa=function(){return [{initDataTypes:[n.Iw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2"}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:[n.TEMPORARY]}];};c.prototype.oua=function(v){v.bK();};c.prototype.dpa=function(v){var w,x;w=[];if(v.messageType === p.Iha || v.messageType === p.Hha){if(v.messageType === p.Iha){x=this.Xh.encode(new Uint8Array(v.message));w=JSON.parse(x);x=w.map(function(y){return y.keyID;});w=w.map(function(y){return y.payload;});}else w=[this.pc.encode(new Uint8Array(v.message))];if(0 === w.length || !w.every(function(y){return y && y.length;}))throw new q.jd(g.V.oHa);w=this.abc(w);w=this.Xh.decode(JSON.stringify(w));}else w=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,wJ:[w],messageType:v.messageType,by:x};};c.prototype.CA=function(v){var w,x,y,z;x=null === (w=v.target) || void 0 === w?void 0:w.error;if(x)(y=x.systemCode,z=x.code);w=new f.Ch(g.V.rs,v instanceof l.us?g.R.CS:g.R.hu,y?this.Fj.EI(y,4):z,"",x);w.iW(v);return w;};c.prototype.abc=function(v){v=v.map(function(w,x){return {ID:u.a4.PUb(x),PAYLOAD:w};});return {VERSION:this.ki.Ex?3:1,CHALLENGES:v};};c.prototype.PO=function(v,w){var x,y;x=this;if(w && this.ki.Ex)try{y=this.Xh.encode(w[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=u.a4.Zhb(z.ID);z=x.pc.decode(z.DHB).subarray(4,12);A=x.pc.decode(v[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.Ch(g.V.nsb,void 0,void 0,void 0,z);}};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.cz)),t.__param(1,(0,k.l)(m.zi)),t.__param(2,(0,k.l)(d.tu)),t.__param(3,(0,k.l)(r.yz))],a);b.nQa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L3=void 0;b.L3=function(){var a;a=this;this.promise=new Promise(function(c,k){a.resolve=c;a.reject=k;});};},function(t,b,a){var k,g,h,d;function c(f,l){this.uW=f;this.wW=l;}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;t=a(0);k=a(1);g=a(214);h=a(212);d=a(687);c.prototype.create=function(f,l){return new d.JLa(this.uW,this.wW,f,l);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.Bga)),t.__param(1,(0,k.l)(h.Gga))],a);b.HLa=a;},function(t,b,a){var k,g;function c(h,d,f,l){this.uW=h;this.wW=d;this.CB=f;this.Bo=l;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;k=a(93);g=a(49);c.prototype.createMediaKeys=function(){return this.CB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.CB.getConfiguration();};c.prototype.tv=function(){return k.zb.jX(this.CB.keySystem);};c.prototype.m_a=function(){return this.wW.create(this.Bo);};c.prototype.l_a=function(){return this.uW.create(this.Bo);};Va.Object.defineProperties(c.prototype,{keySystem:{configurable:!0,enumerable:!0,get:function(){return this.CB.keySystem;}},gaa:{configurable:!0,enumerable:!0,get:function(){var h,d;h=this.keySystem;d=(0,g.w9)(this.CB);d && (h+="." + d);return h;}}});b.JLa=c;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;t=a(1);c=a(12);k=a(689);g=a(34);h=a(40);d=a(690);f=a(339);l=a(692);m=a(169);n=a(693);p=a(67);q=a(694);b.config=new t.vd(function(r){r(c.Ic).ef(function(){return function(){return mb._cad_global.config;};});r(g.jga).to(k.VFa).ha();r(g.Fm).to(k.cSa).ha();r(g.OS).to(k.UJa).ha();r(h.mp).to(d.kIa).ha();r(f.qMa).to(l.pMa).ha();r(m.eIa).to(n.dIa).ha();r(p.iu).to(q.BHa).ha();});},function(t,b,a){var h,d,f,l,m;function c(){this.FA={};this.wfb=0;}function k(n,p,q,r,u){this.debug=n;this.hB=p;this.qZ=q;this.pg=r;this.Jca=u;}function g(n,p,q){this.hB=n;this.qZ=p;this.Jca=q;}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=b.cSa=b.VFa=void 0;t=a(0);h=a(1);d=a(109);f=a(6);l=a(140);m=a(338);a=a(34);g=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(a.OS)),t.__param(1,(0,h.l)(l.e4)),t.__param(2,(0,h.l)(m.Wia))],g);b.VFa=g;k=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.fz)),t.__param(1,(0,h.l)(a.OS)),t.__param(2,(0,h.l)(l.e4)),t.__param(3,(0,h.l)(f.sb)),t.__param(4,(0,h.l)(m.Wia))],k);b.cSa=k;c.prototype.DZb=function(n){this.FA=Object.assign({},this.FA,n);this.wfb++;};Va.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.FA;}},lda:{configurable:!0,enumerable:!0,get:function(){return this.wfb;}}});a=c;a=t.__decorate([(0,h.X)()],a);b.UJa=a;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r){p=d.pf.call(this,p,void 0 === r?"GeneralConfigImpl":r) || this;p.sh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=b.wO=void 0;t=a(0);k=a(5);g=a(1);h=a(45);d=a(46);f=a(40);l=a(34);a=a(108);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.wO=function(p,q){return p.ceb(m[q] || q,f.lz);};ka(c,d.pf);Va.Object.defineProperties(c.prototype,{wO:{configurable:!0,enumerable:!0,get:function(){return f.lz.Qsb;}},Ohb:{configurable:!0,enumerable:!0,get:function(){return (0,k.si)(8);}},UI:{configurable:!0,enumerable:!0,get:function(){return "";}},HN:{configurable:!0,enumerable:!0,get:function(){return "";}},P0:{configurable:!0,enumerable:!0,get:function(){return "";}},z6:{configurable:!0,enumerable:!0,get:function(){return !0;}},TX:{configurable:!0,enumerable:!0,get:function(){return this.sh.TX;}},TMb:{configurable:!0,enumerable:!0,get:function(){return !1;}},ke:{configurable:!0,enumerable:!0,get:function(){return {};}},Sua:{configurable:!0,enumerable:!0,get:function(){return !1;}},$t:{configurable:!0,enumerable:!0,get:function(){return !1;}},BW:{configurable:!0,enumerable:!0,get:function(){return !0;}},FF:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},PA:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.lz.pRa,f.lz.YJa].indexOf(this.wO);}}});n=c;t.__decorate([h.config(b.wO,"environment")],n.prototype,"wO",null);t.__decorate([h.config(h.Lk,"storageTimeout")],n.prototype,"Ohb",null);t.__decorate([h.config(h.string,"groupName")],n.prototype,"UI",null);t.__decorate([h.config(h.string,"canaryGroupName",!0)],n.prototype,"HN",null);t.__decorate([h.config(h.string,"uiGroupName")],n.prototype,"P0",null);t.__decorate([h.config(h.xd,"applyIndexedDbOpenWorkaround")],n.prototype,"z6",null);t.__decorate([h.config(h.xd,"ignoreIdbOpenError")],n.prototype,"TX",null);t.__decorate([h.config(h.xd,"executeStorageMigration")],n.prototype,"TMb",null);t.__decorate([h.config(h.object(),"browserInfo")],n.prototype,"ke",null);t.__decorate([h.config(h.xd,"isTestAccount")],n.prototype,"Sua",null);t.__decorate([h.config(h.xd,"useRangeHeader")],n.prototype,"$t",null);t.__decorate([h.config(h.xd,"enableMilestoneEventList")],n.prototype,"BW",null);t.__decorate([h.config(h.object,"storageRules")],n.prototype,"FF",null);n=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(l.Fm)),t.__param(1,(0,g.l)(a.BG)),t.__param(2,(0,g.l)(l.M1)),t.__param(2,(0,g.optional)())],n);b.kIa=n;},function(t,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.eia=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.eia=a;},function(t,b,a){var k,g,h,d;function c(f,l){return h.pf.call(this,f,void 0 === l?"NetworkMonitorConfigImpl":l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pMa=void 0;t=a(0);k=a(1);g=a(45);h=a(46);a=a(34);ka(c,h.pf);Va.Object.defineProperties(c.prototype,{ykb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;t.__decorate([g.config(g.xd,"useNetworkMonitor")],d.prototype,"ykb",null);d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.Fm)),t.__param(1,(0,k.l)(a.M1)),t.__param(1,(0,k.optional)())],d);b.pMa=d;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u){p=d.pf.call(this,p,"FtlProbeConfigImpl") || this;p.ci=q;p.Aa=r;p.sh=u;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.dIa=void 0;t=a(0);k=a(30);g=a(1);h=a(5);d=a(46);f=a(170);l=a(45);m=a(34);a=a(108);ka(c,d.pf);Va.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.sh.W8;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Bra + (-1 === this.Bra.indexOf("?")?"?":"&") + "monotonic=" + this.Aa.sab + "&device=web";}},yhb:{configurable:!0,enumerable:!0,get:function(){return h.La;}},tra:{configurable:!0,enumerable:!0,get:function(){return "";}},Bra:{configurable:!0,enumerable:!0,get:function(){return this.ci.endpoint + "/ftl/probe" + (this.tra?"?force=" + this.tra:"");}}});n=c;t.__decorate([l.config(l.xd,"ftlEnabled")],n.prototype,"enabled",null);t.__decorate([l.config(l.Lk,"ftlStartDelay")],n.prototype,"yhb",null);t.__decorate([l.config(l.string,"ftlEndpointForceParam")],n.prototype,"tra",null);t.__decorate([l.config(l.url,"ftlEndpoint")],n.prototype,"Bra",null);n=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(m.Fm)),t.__param(1,(0,g.l)(f.y1)),t.__param(2,(0,g.l)(k.Bh)),t.__param(3,(0,g.l)(a.BG))],n);b.dIa=n;},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){m=g.pf.call(this,m,void 0 === p?"EmeConfigImpl":p) || this;m.ke=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);d=a(5);f=a(45);a=a(166);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{n7a:{configurable:!0,enumerable:!0,get:function(){return this.ke.K7a || this.ke.O$ || this.ke.mY?!0:!1;}},SE:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(5);}},dya:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(10);}},sW:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},VW:{configurable:!0,enumerable:!0,get:function(){return !1;}},Rpa:{configurable:!0,enumerable:!0,get:function(){return !1;}},fw:{configurable:!0,enumerable:!0,get:function(){return !0;}},RWa:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(30);}},SWa:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(30);}},UWa:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(30);}},v6:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(30);}},VWa:{configurable:!0,enumerable:!0,get:function(){return (0,d.si)(30);}},IAa:{configurable:!0,enumerable:!0,get:function(){return "";}},Ubb:{configurable:!0,enumerable:!0,get:function(){return this.ke.lB?!1:!0;}},Vbb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});l=c;t.__decorate([f.config(f.xd,"initializeKeySystemAtStartup")],l.prototype,"n7a",null);t.__decorate([f.config(f.Lk,"licenseRenewalRequestDelay")],l.prototype,"SE",null);t.__decorate([f.config(f.Lk,"persistedReleaseDelay")],l.prototype,"dya",null);t.__decorate([f.config(f.string,"drmPersistKey")],l.prototype,"sW",null);t.__decorate([f.config(f.xd,"forceLimitedDurationLicense")],l.prototype,"VW",null);t.__decorate([f.config(f.xd,"disableLicenseRenewal")],l.prototype,"Rpa",null);t.__decorate([f.config(f.xd,"prepareCadmium")],l.prototype,"fw",null);t.__decorate([f.config(f.Lk,"apiCloseTimeout")],l.prototype,"RWa",null);t.__decorate([f.config(f.Lk,"apiCreateMediaKeysTimeout")],l.prototype,"SWa",null);t.__decorate([f.config(f.Lk,"apiSetServerCertificateTimeout")],l.prototype,"UWa",null);t.__decorate([f.config(f.Lk,"apiGenerateRequestTimeout")],l.prototype,"v6",null);t.__decorate([f.config(f.Lk,"apiUpdateTimeout")],l.prototype,"VWa",null);t.__decorate([f.config(f.string,"serverCertificate")],l.prototype,"IAa",null);t.__decorate([f.config(f.xd,"outputRestrictedIsFatal")],l.prototype,"Ubb",null);t.__decorate([f.config(f.xd,"outputRestrictedIsFatalForUhd")],l.prototype,"Vbb",null);l=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm)),t.__param(1,(0,k.l)(a.aG)),t.__param(2,(0,k.l)(h.M1)),t.__param(2,(0,k.optional)())],l);b.BHa=l;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.m1a=void 0;t=a(1);c=a(121);k=a(696);g=a(96);h=a(697);d=a(341);f=a(698);b.m1a=new t.vd(function(l){l(c.aHa).to(k.$Ga).ha();l(g.uz).to(h.KLa).ha();l(d.DHa).to(f.CHa);});},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v;function c(w,x,y,z,A,B,C,D,F){var G;G=this;this.Mc=x;this.TB=y;this.config=z;this.rv=A;this.FLb=B;this.GN=C;this.NP=D;this.Dn=F;this.T$b=function(E,I){var L;G.Dn.mark(v.Oa.m2,E.Yj.ga,"generate-challenge");L=!1;I.L8b(function(K){L || (L=!0,G.Dn.mark(v.Oa.l2,E.Yj.ga,"generate-challenge"));G.KI(E,I,K).then(function(H){I.mWa(H);G.FDb(I);}).catch(function(H){return I.EAb(H);});});};this.log=w.mb("DrmServices");this.rv().au && this.GN.beb().then(function(){G.X5b();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.n7a && this.ZD(D(),l.Bi.Iq).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;t=a(0);k=a(1);g=a(6);h=a(47);d=a(340);f=a(81);l=a(57);m=a(67);n=a(211);p=a(210);q=a(341);r=a(12);u=a(139);v=a(61);c.prototype.VOb=function(w,x){return this.ZD(x,w.type,w.context).then(function(y){return y.YOb(w.initData).then(function(z){return [y,{Bo:y.tv(),data:z.yk}];});});};c.prototype.vh=function(w,x){var y;y=this;this.log.info("Requesting challenges",this.E4a(w,w.type));return this.ZD(x,w.type,w.context).then(function(z){y.pab(w,z);return z.ZOb(w.initData).then(function(){return z;});});};c.prototype.pab=function(w,x){x.S8b(w.Yj);this.T$b(w,x);};c.prototype.release=function(w,x){var y;y=this;this.log.info("Releasing server license",this.z5a(w));return this.URb(w).then(function(){var z;z=Object.assign({active:!1,Ge:[]},w.Yj);y.GN.s_(z);x.i6b();return w;});};c.prototype.E4a=function(w,x){return {movieId:w.Yj.I,xid:w.Yj.ga,type:(0,l.wva)(x)};};c.prototype.z5a=function(w){return {movieId:w.Yj?w.Yj.I:void 0,xid:w.Yj?w.Yj.ga:void 0,keySessionId:w.XA()};};c.prototype.KI=function(w,x,y){this.log.info("Sending license request",this.E4a(w,y.ng));return this.TB.vh({ga:w.Yj.ga,li:w.Yj.li,d8:[w.Yj.Yl],yk:[{sessionId:x.XA() || "session",data:y.yk}],ng:y.ng,Bo:x.tv(),IYa:y.IYa,Pj:w.Yj.Pj});};c.prototype.URb=function(w){this.log.info("Sending release request",this.z5a(w));return this.TB.release({ga:w.Yj.ga,Ge:w.Ge});};c.prototype.ZD=function(w,x,y){return this.FLb.create().then(function(z){return z.createSession(w,x,y).then(function(){return z;});});};c.prototype.W5b=function(w){var x;x=this;return this.TB.release({ga:w.ga,Ge:w.Ge}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.X5b=function(){var w;w=this;this.Mc.Uk(this.config.dya,function(){w.log.trace("Removing cached sessions",{"count:":w.GN.e8.length});w.GN.e8.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return w.W5b(y);}).then(function(){return w.GN.s_(y);});},Promise.resolve(void 0));});};c.prototype.FDb=function(w){var x;if(w.XA() && w.Yj){x=new p.e2();x.Ge=w.Ge;x.ga=w.Yj.ga;x.I=w.Yj.I;this.GN.hWa(x);}};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.zj)),t.__param(2,(0,k.l)(d.ZGa)),t.__param(3,(0,k.l)(m.iu)),t.__param(4,(0,k.l)(r.Ic)),t.__param(5,(0,k.l)(q.DHa)),t.__param(6,(0,k.l)(n.iga)),t.__param(7,(0,k.l)(u.aT)),t.__param(8,(0,k.l)(f.eT))],a);b.$Ga=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y,z,A,B,C){this.vt=x;this.pc=y;this.config=z;this.i_b=A;this.uW=B;this.wW=C;this.log=this.vt.mb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;t=a(0);k=a(1);g=a(3);h=a(6);d=a(95);f=a(119);l=a(33);m=a(12);n=a(93);p=a(49);q=a(331);r=a(55);u=a(337);v=a(214);a=a(212);c.prototype.tE=function(){this.promise || (this.promise=this.t7b());return this.promise;};c.prototype.tIb=function(x,y){var z;z=this;return new Promise(function(A,B){var C;C=n.zb.jX(x);z.wW.create(C).F6b(x,[y]).then(function(D){z.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.i_b.create(D,C);z.gaa=D.gaa;A(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:x,error:D.message});B(new d.Ch(g.V.kHa,g.R.Bm,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.jQb=function(){var x;x=this.config().I8a || [this.config().yn];if(1 < x.length)return (x=x.map(function(y){return n.zb.$ra(n.zb.jX(y));}),1 === new Set(x).size?Promise.resolve(x[0]):this.tE().then(function(y){return y.tv();}).then(function(y){return n.zb.$ra(y);}));x=n.zb.jX(x[0]);return Promise.resolve(n.zb.$ra(x));};c.prototype.iDa=function(x){var y,z,A,B;y=this;z=x.tv();A=x.m_a();B=x.l_a();return x.createMediaKeys().then(function(C){A.createSession(C,p.TEMPORARY);return A.setServerCertificate(C,B.h9());}).then(function(){return A.generateRequest(p.Iw,y.jsa(z));}).then(function(){return A.close();}).then(function(){return x;}).catch(function(C){y.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.jsa=function(x){switch(x){case f.Am.pE:x=q.$Ha;break;case f.Am.PB:x=q.mOa;break;default:x=q.tSa;}return x.map(this.pc.decode);};c.prototype.t7b=function(){var y,z,A,B;function x(C){var D,F,G,E;D=C.config;C=n.zb.Lpb.includes(C.keySystem) || p.jJa.includes(null !== (E=null === (G=null === (F=D.videoCapabilities) || void 0 === F?void 0:F[0]) || void 0 === G?void 0:G.robustness) && void 0 !== E?E:"");return y.config().v1a || !C;}y=this;try{z=(this.config().I8a || [this.config().yn]).map(function(C){var D;D=n.zb.jX(C);return y.uW.create(D).Ksa().map(function(F){return {keySystem:C,config:F};});});A=(0,r.flatten)(z).filter(x);B=A.map(function(C,D){var F,G;F=C.keySystem;G=C.config;return function(){var E,I;E=D === A.length - 1;I=y.config().iDa && !E;return y.tIb(F,G).then(function(L){return I?y.iDa(L):Promise.resolve(L);});};});return this.u7b(B);}catch(C){return Promise.reject(C);}};c.prototype.u7b=function(x){return x.reduce(function(y,z){return y.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Va.Object.defineProperties(c.prototype,{H8a:{configurable:!0,enumerable:!0,get:function(){return this.gaa;}}});w=c;w=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.sb)),t.__param(1,(0,k.l)(l.zi)),t.__param(2,(0,k.l)(m.Ic)),t.__param(3,(0,k.l)(u.ILa)),t.__param(4,(0,k.l)(v.Bga)),t.__param(5,(0,k.l)(a.Gga))],w);b.KLa=w;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u,v,w){this.vt=p;this.Ea=q;this.pc=r;this.config=u;this.Ft=v;this.iq=w;}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;t=a(0);k=a(1);g=a(6);h=a(19);d=a(33);f=a(67);l=a(68);m=a(335);a=a(96);c.prototype.create=function(){var p;p=this;return this.iq.tE().then(function(q){return new m.EHa(p.vt,p.Ea,p.pc,p.config,p.Ft,q);});};n=c;n=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.$c)),t.__param(2,(0,k.l)(d.zi)),t.__param(3,(0,k.l)(f.iu)),t.__param(4,(0,k.l)(l.GG)),t.__param(5,(0,k.l)(a.uz))],n);b.CHa=n;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M;Object.defineProperty(b,"__esModule",{value:!0});b.j9a=void 0;c=a(700);k=a(725);g=a(734);h=a(737);d=a(1120);f=a(1153);l=a(1167);m=a(1170);n=a(1182);p=a(1191);q=a(1195);r=a(1197);u=a(1226);v=a(1228);w=a(1232);x=a(1247);y=a(1255);z=a(1261);A=a(1264);B=a(1271);C=a(209);D=a(1277);F=a(1284);G=a(1298);E=a(1304);I=a(1306);L=a(1313);K=a(1346);H=a(1367);R=a(1371);O=a(1375);J=a(1389);M=a(1392);b.j9a=function(P){P.load(c.zA,l.RK,k.z9a,m.zo,g.oab,h.N,d.Vkb,f.F6a,n.storage,p.xN,q.pYa,r.U9a,u.cF,v.Ck,w.y9a,x.Hab,y.l3a,z.Kdb,A.TJ,B.f1a,C.l1a,D.Be,F.Fd,G.Ga,E.xab,I.vcb,L.j,K.uZa,H.transports,R.cm,O.yh,J.pXa,M.ea);};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,N,Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa,eb,lb,ub,Cb,Ib,Pb,ec;Object.defineProperty(b,"__esModule",{value:!0});b.zA=void 0;t=a(1);c=a(38);k=a(30);g=a(47);h=a(82);d=a(141);f=a(701);l=a(702);m=a(703);n=a(704);p=a(72);q=a(79);r=a(33);u=a(32);v=a(27);w=a(110);x=a(68);y=a(343);z=a(705);A=a(344);B=a(345);C=a(706);D=a(707);F=a(203);G=a(346);E=a(708);I=a(208);L=a(122);K=a(709);H=a(19);R=a(347);O=a(710);J=a(711);M=a(109);P=a(712);S=a(6);U=a(342);T=a(713);W=a(81);ia=a(714);pa=a(348);wa=a(715);za=a(716);Ca=a(111);N=a(13);Q=a(717);V=a(350);ca=a(351);sa=a(718);Ha=a(352);Ja=a(12);Na=a(48);Oa=a(142);Ua=a(353);$a=a(166);sb=a(719);kb=a(354);Bb=a(355);Pa=a(217);Xa=a(720);eb=a(356);lb=a(721);ub=a(218);Cb=a(722);Ib=a(723);Pb=a(216);ec=a(724);b.zA=new t.vd(function(Fb){Fb(c.H3).LF(function(){return {};}).ha();Fb(c.nG).vm(JSON);Fb(c.uSa).vm(mb);Fb(d.iRa).vm(Math);Fb(c.AKa).vm(N.v3);Fb(c.xia).vm(N.Tw);Fb(c.YRa).vm(N.xG);Fb(c.sGa).vm(Date);Fb(c.JL).vm(N.Me);Fb(c.jrb).vm(N.SC);Fb(U.QFa).to(T.PFa).ha();Fb(H.$c).to(K.bEa).ha();Fb(k.Bh).to(n.RFa).ha();Fb(g.zj).to(f.oQa).ha();Fb(h.pz).to(l.KJa).ha();Fb(x.GG).to(D.CPa).ha();Fb(d.T3).to(m.KPa).ha();Fb(Ua.Pha).to(Ib.CLa).ha();Fb(M.fz).to(J.yGa).ha();Fb(M.wGa).to(P.vGa).ha();Fb(p.tu).to(z.ZRa).ha();Fb(q.cz).to(A.Tfa).ha();Fb(r.zi).to(B.Ufa).ha();Fb(u.$h).to(C.$Ra).ha();Fb(v.Kg).vm(F.mG);Fb(kb.DS).to(Bb.RHa).ha();Fb(w.Lga).to(G.$k).Tta();Fb(w.b2).to(G.$k).ha();Fb(w.LGa).to(G.$k).ha();Fb(w.Oga).to(G.$k).ha();Fb(I.vja).to(L.JG).ha();Fb(R.fGa).to(O.eGa).ha();Fb(W.XL).to(ia.Bja).ha();Fb(W.eT).to(ia.Bja).ha();Fb("Factory<LoggerFactory>").Zib(S.sb);Fb(pa.wga).to(wa.AGa).ha();Fb(Ca.VL).ef(function(Qb){return function(ac){return new za.rRa(Qb.ub.get(H.$c),Qb.ub.get(g.zj),ac);};});Fb(eb.tGa).ef(function(Qb){return function(ac){return new lb.uGa(Qb.ub.get(g.zj),ac);};});Fb(Q.Uia).cbc(V.Tia);Fb(Q.Osb).ef(function(Qb){var ac;ac=Qb.ub.get(Q.Uia);return function(){return new ac(!1);};});Fb(Q.Psb).ef(function(Qb){var ac;ac=Qb.ub.get(Q.Uia);return function(){return new ac(!0);};});Fb(ca.VRa).ef(function(){return function(Qb){return new sa.WRa(Qb);};});Fb(Oa.oT).ef(function(Qb){return function(ac,ad,Qd){return new Ha.OOa(Qb.ub.get(M.fz),Qb.ub.get(Ja.Ic),Qb.ub.get(Na.Hq),Qb.ub.get(Ua.Pha),ac,ad,Qd);};});Fb(y.JMa).ef(function(){return function(Qb){return new E.KMa(Qb);};});Fb($a.aG).to(sb.cFa);Fb(Pb.Fja).to(ec.XRa).ha();Fb(Pa.h4).ef(function(Qb){return function(ac,ad){return new Xa.CRa(Qb.ub.get(g.zj),ac,ad);};});Fb(ub.KHa).to(Cb.JHa).ha();});},function(t,b,a){var g,h,d,f;function c(l){this.CR=l;(0,h.fq)(this,"timers");}function k(l,m){this.CR=l;this.mEb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oQa=void 0;t=a(0);g=a(1);h=a(55);d=a(38);f=a(5);k.prototype.cancel=function(){this.mEb(this.CR);};c.prototype.pm=function(l){return this.Uk(f.La,l);};c.prototype.Uk=function(l,m){var n;n=this.CR.setTimeout(m,l.da(f.ma));return new k(this.CR,function(p){p.clearTimeout(n);});};c.prototype.L_=function(l,m){var n;n=this.CR.setInterval(m,l.da(f.ma));return new k(this.CR,function(p){p.clearInterval(n);});};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(d.uSa))],a);b.oQa=a;},function(t,b,a){var k,g,h,d,f;function c(l,m){this.Aa=l;this.random=m;}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;t=a(0);g=a(1);h=a(5);d=a(30);a=a(141);c.prototype.DA=function(){return this.Aa.xf.da(h.rp) * k.xFa + Math.floor(this.random.random() * k.xFa);};f=k=c;f.xFa=1E8;f=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(d.Bh)),t.__param(1,(0,g.l)(a.T3))],f);b.KJa=f;},function(t,b,a){var k,g;function c(h){this.uac=h;}Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;t=a(0);k=a(1);a=a(141);c.prototype.random=function(){return this.uac.random();};c.prototype.Udb=function(h,d){if("number" !== typeof h)(d=h.end,h=h.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(h + this.random() * (d - h));};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.iRa))],g);b.KPa=g;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r){var u;u=this;this.config=n;this.kJb=p;this.Sb=q;this.performance=r;this.y1b=function(v){u.JAa=v.Ba(u.xf);};(0,k.fq)(this,"date");(0,k.fq)(this,"performance");this.yBb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.JAa=g.La;this.Sb.addListener(m.lha.egb,this.y1b);}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;t=a(0);k=a(55);g=a(5);h=a(1);d=a(38);f=a(342);l=a(110);m=a(17);c.prototype.gBb=function(n){return n.add(this.JAa);};Va.Object.defineProperties(c.prototype,{xf:{configurable:!0,enumerable:!0,get:function(){return this.sab?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.tc)(this.kJb.now());}},$Q:{configurable:!0,enumerable:!0,get:function(){return this.xf.add(this.JAa);}},sab:{configurable:!0,enumerable:!0,get:function(){return this.config.Bkb && this.yBb;}}});a=c;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(f.QFa)),t.__param(1,(0,h.l)(d.sGa)),t.__param(2,(0,h.l)(l.Oga)),t.__param(3,(0,h.l)(d.xia)),t.__param(3,(0,h.optional)())],a);b.RFa=a;},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZRa=void 0;t=a(0);a=a(1);c.prototype.encode=function(h){return k.oqa(h);};c.prototype.decode=function(h){return k.Apa(h);};c.oqa=function(h){if(!h)throw new TypeError("Invalid byte array");for(var d=0,f,l=h.length,m="";d < l;){f=h[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (h[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((h[d++] & 63) << 6) + (h[d++] & 63);else throw Error("unsupported utf8 character");m+=String.fromCharCode(f);}return m;};c.Apa=function(h){var d,f,l,m,n;d=h.length;f=0;m=0;if(!(0 <= d))throw Error("bad string");for(l=d;l--;){n=h.charCodeAt(l);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(l=0;l < d;l++){n=h.charCodeAt(l);128 > n?f[m++]=n:(2048 > n?f[m++]=192 | n >>> 6:(f[m++]=224 | n >>> 12,f[m++]=128 | n >>> 6 & 63),f[m++]=128 | n & 63);}return f;};g=k=c;g=k=t.__decorate([(0,a.X)()],g);b.ZRa=g;},function(t,b,a){var k,g,h,d;function c(f,l){this.is=f;this.Fj=l;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ra=void 0;t=a(0);k=a(1);a(3);g=a(27);h=a(79);d=a(13);c.prototype.AJ=function(f,l,m){var n,p,q,r;n=this;if(l)if(m){p=m.MY;q=m.prefix;r=m.Rba;this.nE(l,function(u,v){if(!r || n.is.Vg(v))f[(q || "") + (p?u.toLowerCase():u)]=v;});}else this.nE(l,function(u,v){f[u]=v;});return f;};c.prototype.nE=function(f,l){for(var m in f){f.hasOwnProperty(m) && l(m,f[m]);}};c.prototype.UD=function(f,l){if(f.length == l.length){for(var m=f.length;m--;){if(f[m] != l[m])return !1;}return !0;}return !1;};c.prototype.SZa=function(f,l){if(f.length != l.length)return !1;f.sort();l.sort();for(var m=f.length;m--;){if(f[m] !== l[m])return !1;}return !0;};c.prototype.We=function(f){var l,m,n;if(f){l=f.stack;m=f.number;n=f.message;n || (n="" + f);l?(f="" + l,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;m && (f+="\nnumber:" + m);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Sra=function(f){return this.getFunctionName(f.constructor);};c.prototype.pxa=function(f){var l,m;l=this;m="";this.is.ED(f) || this.is.OWa(f)?m=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Hu(f)?m=f:this.nE(f,function(n,p){m+=(m?", ":"") + "{" + n + ": " + (l.is.g6(p)?l.getFunctionName(p) || "function":p) + "}";});return "[" + this.Sra(f) + " " + m + "]";};c.prototype.createElement=function(f,l,m,n){var p;p=d.Dh.createElement(f);l && (p.style.cssText=l);m && (p.innerHTML=m);n && this.nE(n,function(q,r){p.setAttribute(q,r);});return p;};c.prototype.ANb=function(f,l){return function(m){return m[f] === l;};};c.prototype.KZ=function(f){var l;l={};(f || "").split("&").forEach(function(m){var n,p;m=m.trim();n=m.indexOf("=");if(0 <= n){p=decodeURIComponent(m.substr(0,n)).toLowerCase();l[p]=decodeURIComponent(m.substr(n + 1));}else l[m.toLowerCase()]=void 0;});return l;};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.Kg)),t.__param(1,(0,k.l)(h.cz))],a);b.$Ra=a;},function(t,b,a){var k,g,h;function c(d){this.Mc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.CPa=void 0;t=a(0);k=a(1);g=a(47);h=a(68);c.prototype.Lt=function(d,f){var l;l=this;return new Promise(function(m,n){var p;p=l.Mc.Uk(d,function(){n(new h.us(d));});f.then(function(q){m(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.zj))],a);b.CPa=a;},function(t,b,a){var k;function c(g){this.ePb=g;this.Y9=!1;this.n$=this.rg=this.xR=0;this.UX=!1;this.o$=0;}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;k=a(15);c.prototype.zma=function(g){g < this.xR && (this.rg+=this.xR);this.xR=g;this.Y9=!0;};c.prototype.SPb=function(){if(this.Y9)return this.UX?this.o$ - this.n$:this.rg + this.xR - this.n$;};c.prototype.refresh=function(){var g;g=this.ePb();(0,k.Ja)(g) && this.zma(g);};c.prototype.h$b=function(){this.UX || (this.Y9 && (this.o$=this.rg + this.xR),this.UX=!0);};c.prototype.x$b=function(){this.UX && (this.Y9 && (this.n$+=this.rg + this.xR - this.o$),this.o$=0,this.UX=!1);};b.KMa=c;},function(t,b,a){var k,g,h,d;function c(f,l){this.Aa=f;this.X8=this.Aa.xf.da(h.ma) - 1;this.aYb=this.kaa=0;this.id="" + l.DA();}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;t=a(0);k=a(1);g=a(30);h=a(5);a=a(82);c.prototype.Tb=function(){var f,l;f=this.Aa.xf.da(h.ma) - this.X8;if(f < this.kaa){l=this.kaa + 1;this.X8-=l - f;f=l;}this.kaa=f;return (0,h.tc)(this.kaa);};c.prototype.YQb=function(){return this.aYb++;};Va.Object.defineProperties(c.prototype,{pB:{configurable:!0,enumerable:!0,get:function(){return (0,h.tc)(this.X8);}}});d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.Bh)),t.__param(1,(0,k.l)(a.pz))],d);b.bEa=d;},function(t,b,a){var k,g,h,d;function c(f,l){this.is=f;this.Be=l;}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;t=a(0);g=a(1);h=a(27);a=a(32);c.prototype.encode=function(f){var l,m;l=this;m="";this.Be.nE(f,function(n,p){n=l.G1a(n) + "=" + l.G1a(p);m=m?m + ("," + n):n;});return m;};c.prototype.G1a=function(f){return this.is.lI(f)?this.is.ko(f)?"" + f:this.is.Hu(f)?(f=f.replace(k.oza,this.bwa.bind(this)),!k.b5b.test(f) && k.x_b.test(f) && (f='"' + f + '"'),f):this.is.e6(f)?"" + f:this.is.gma(f)?"NaN":"":"";};c.prototype.bwa=function(f){return k.map[f];};d=k=c;d.map={'"':'""',"\r":"","\n":" "};d.oza=/(?!^.+)["\r\n](?=.+$)/g;d.b5b=/["].*["]/g;d.x_b=/[", ]/;d=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(h.Kg)),t.__param(1,(0,g.l)(a.$h))],d);b.eGa=d;},function(t,b,a){var k,g,h,d;function c(f,l,m){this.config=f;this.Bb=l;this.Da=m.mb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;t=a(0);k=a(1);g=a(27);h=a(109);a=a(6);c.prototype.assert=function(){};c.prototype.VBb=function(f,l){this.assert(this.Bb.lI(f),l);};c.prototype.WBb=function(f,l){this.assert(this.Bb.Vg(f),l);};c.prototype.G6=function(f,l){this.assert(this.Bb.Hu(f),l);};c.prototype.bCb=function(f,l){this.assert(this.Bb.lo(f),l);};c.prototype.$Bb=function(f,l){this.assert(this.Bb.Hu(f) || null === f || void 0 === f,l);};c.prototype.bna=function(f,l){this.assert(this.Bb.ko(f),l);};c.prototype.YBb=function(f,l){this.assert(this.Bb.Oma(f),l);};c.prototype.aCb=function(f,l){this.assert(this.Bb.cV(f),l);};c.prototype.ZBb=function(f,l){this.assert(this.Bb.OU(f),l);};c.prototype.UBb=function(f,l){this.assert(this.Bb.e6(f),l);};c.prototype.XBb=function(f,l){this.assert(this.Bb.g6(f),l);};c.prototype.pVb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.wGa)),t.__param(1,(0,k.l)(g.Kg)),t.__param(2,(0,k.l)(a.sb))],d);b.yGa=d;},function(t,b,a){var k,g,h,d;function c(f){f=g.iS.call(this,f,"DebugConfigImpl") || this;f.Xkc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;t=a(0);k=a(45);g=a(46);h=a(1);a=a(34);ka(c,g.iS);Va.Object.defineProperties(c.prototype,{jDb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([k.config(k.xd,"breakOnError")],d.prototype,"jDb",null);d=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(a.jga))],d);b.vGa=d;},function(t,b,a){var k,g,h,d;function c(f){return g.iS.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;t=a(0);k=a(45);g=a(46);h=a(1);a=a(34);ka(c,g.iS);Va.Object.defineProperties(c.prototype,{Bkb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([k.config(k.xd,"usePerformanceApi")],d.prototype,"Bkb",null);d=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(a.jga))],d);b.PFa=d;},function(t,b,a){var k,g,h,d;function c(f,l){this.Ea=f;this.entries=new Set();this.Da=l.mb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Bja=void 0;t=a(0);k=a(1);g=a(19);h=a(5);a=a(6);c.prototype.mark=function(f,l,m){f={name:f,Wt:this.Ea.Tb()};l && (f.ga=l);m && (f.Rf=m);this.entries.add(f);return f;};c.prototype.rsa=function(){var f;f=[];this.entries.forEach(function(l){return f.push(l);});return f;};c.prototype.J4a=function(f){return this.rsa().filter(function(l){return l.ga === f;});};c.prototype.aRb=function(){var f;f={};try{f=this.rsa().filter(function(l){return !l.ga;}).reduce(function(l,m){l[m.name]=m.Wt.da(h.ma);return l;},{});}catch(l){this.Da.error(" getMapOfCommonMarks exception",l);}return f;};c.prototype.Ieb=function(f){var l;l=this;this.rsa().forEach(function(m){m.ga === f && l.entries.delete(m);});};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$c)),t.__param(1,(0,k.l)(a.sb))],d);b.Bja=d;},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r){this.Ea=q;this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;t=a(0);g=a(1);h=a(19);d=a(37);f=a(3);l=a(17);m=a(5);n=a(13);a=a(349);c.prototype.C0a=function(q){var r,u,v,w,x,y,z,A,B,C;r=this;w=q.mediaTime.value;x=q.Ls.value;y=q.Db.value;z=q.state.value;A={segmentId:q.Esa(),mediaTime:w,segmentTime:q.vE(),bufferingState:k.tDb[x],presentingState:k.m4b[y],playbackState:k.j3b[z],mseBuffersBusy:this.lSb(q),intBuffersBusy:this.GQb(q),tabVisible:this.vac(),decodedFrameCount:this.FJb(q),videoElementInDom:this.wdc(q),lastVideoSync:this.Ea.Tb().Ba((0,m.tc)(q.u0)).da(m.ma)};B=y === l.lb.ag?q.gb.Ph?this.config.Obb:this.config.Nbb:this.config.lab;if(x !== l.Mf.Ce){if((x=f.R.Lnb,this.VXa(A.mseBuffersBusy,A.intBuffersBusy)))C=k.MEa;}else (y !== l.lb.Jc?x=f.R.Nnb:(x=f.R.Mnb,(y=q.Uf) && 0 === y.m9() && (C=k.dub)),(y=q.Uf) && y.Ub.sourceBuffers.forEach(function(D){var F,G;F=k.zd[D.mediaType];A[F + "Ranges"]=D.f9();try{G=D.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - w,A[F + "Undecoded"]=D,1 < G.length && (C=k.Emb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?C=k.Fmb:D < B.da(m.ma)?C=k.Gmb:r.VXa(A.mseBuffersBusy,A.intBuffersBusy) && (C=k.MEa)):(A[F + "Undecoded"]=0,C=k.Dmb);}));y=q.Web.E5a();z=w === (null === (u=y.repositionTrace) || void 0 === u?void 0:u[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (v=q.Ga) || void 0 === v?void 0:v.ZK;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.jd(f.V.XMa,x,C,void 0,void 0,void 0,q,void 0);};c.prototype.lSb=function(q){var r;if(q.Ub){r={};q.Ub.sourceBuffers.forEach(function(u){r[0 === u.type?"audio":"video"]={updating:u.updating()};});return r;}};c.prototype.GQb=function(q){var r;if(q.Ub){r={};q.Ub.sourceBuffers.forEach(function(u){r[0 === u.type?"audio":"video"]={updating:u.ei()};});return r;}};c.prototype.vac=function(){return !n.Dh.hidden;};c.prototype.FJb=function(q){return (q=q.Uf) && (q=q.Ub.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.wdc=function(q){if(q=q.Uf)if(q=q.Ub.$)return n.Dh.body.contains(q);return !1;};c.prototype.VXa=function(q,r){var u,v,w,x;return !((null === (u=q.audio) || void 0 === u?void 0:u.updating) === (null === (v=r.audio) || void 0 === v?void 0:v.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (x=r.video) || void 0 === x?void 0:x.updating));};p=k=c;p.Dmb="1";p.Emb="2";p.Fmb="3";p.MEa="4";p.Gmb="5";p.dub="6";p.zd=["Audio","Video"];p.tDb=["","NORMAL","BUFFERING","STALLED"];p.m4b=["","WAITING","PLAYING ","PAUSED","ENDED"];p.j3b=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(h.$c)),t.__param(1,(0,g.l)(a.Vha))],p);b.AGa=p;},function(t,b,a){var k,g,h,d;function c(f,l,m){var n;n=this;this.xg=f;this.Mc=l;this.r7=m;this.jQ=function(p){n.$j=void 0;n.Gbc(p || n.r7);};this.L8a=(0,h.tc)(-this.r7.da(h.ma));}Object.defineProperty(b,"__esModule",{value:!0});b.rRa=void 0;t=a(0);k=a(1);g=a(19);h=a(5);a=a(47);c.prototype.pm=function(f){this.oAa=f;this.$j=this.$j || this.fg(this.jQ);};c.prototype.di=function(){this.$j && this.$j.cancel();this.$j=void 0;};c.prototype.Gbc=function(f){var l,m;l=this.xg.Tb();if(this.oAa){m=f.Ba(l.Ba(this.L8a));0 >= m.Wl(h.La)?(f=this.oAa,this.oAa=void 0,this.L8a=l,f()):this.$j=this.$j || this.Mc.Uk(m,this.jQ.bind(this,f));}};c.prototype.fg=function(f){return this.Mc.Uk(h.La,f);};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$c)),t.__param(1,(0,k.l)(a.zj))],d);b.rRa=d;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uia="PrioritizedSetOfListsSymbol";b.Osb="PrioritizedSetOfListsFactorySymbol";b.Psb="PrioritizedSetOfSetsFactorySymbol";},function(t,b){function a(){this.searchParams={};}function c(k){this.ar=k;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.WRa=void 0;c.prototype.toString=function(){return this.href;};Va.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.ar + this.searchParams.toString();}}});b.WRa=c;a.prototype.get=function(k){return this.searchParams[k];};a.prototype.set=function(k,g){this.searchParams[k]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(k,g,h){var d;d=na(g);g=d.next().value;d=d.next().value;return "" + k + (0 == h?"?":"&") + g + "=" + d;},"");};},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){this.userAgentData=p;this.ke=this.dNb(m,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.dSa=b.cFa=void 0;t=a(0);k=a(1);g=a(12);h=a(34);d=a(38);a=a(216);c.prototype.M9=function(m,n){var p;if(n=this.NSb(n))switch(m){case l.uB:p=0 < n.length?Number(n[0]):0;break;case l.UP:p=1 < n.length?Number(n[1]):0;break;case l.lQ:p=2 < n.length?Number(n[2]):0;break;case l.lda:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.NSb=function(m){return null === m || void 0 === m?void 0:m.split(".");};c.prototype.eJ=function(m){return this.ke.name === m;};c.prototype.gJ=function(m){return this.ke.Wba.name === m;};c.prototype.NVb=function(m){return this.ke.qTb === m;};c.prototype.dNb=function(m,n){return Object.assign(Object.assign({qTb:this.fNb(m,n)},this.cNb(m,n)),{Wba:this.gNb(m,n)});};c.prototype.fNb=function(m,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(m)?g.e3.phone:(/Android/).test(m)?g.e3.wac:g.e3.TFb;};c.prototype.cNb=function(m,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(m)?{name:g.Xn.opera,version:""}:(/Tesla/).test(m)?{name:g.Xn.Bib,version:""}:(n=m.match(/Edge\/(\d*)\./))?{name:g.Xn.mr,version:n[1]}:(n=m.match(/Edg\/(\d*)\./))?{name:g.Xn.h1a,version:n[1]}:(n=m.match(/Chrome\/(\d*)\./))?{name:g.Xn.voa,version:n[1]}:(n=m.match(/Firefox\/(\d*)\./))?{name:g.Xn.I2a,version:n[1]}:(m=m.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.Xn.Dfb,version:m[1]}:{name:g.Xn.voa,version:""};};c.prototype.gNb=function(m,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(m)?{name:g.pp.XYa,version:""}:(n=m.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.pp.J9a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(m)?{name:g.pp.ifa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(m) || (/Android.*Chrome\/[.0-9]* /).test(m)?{name:g.pp.t6,version:""}:(/Linux/).test(m)?{name:g.pp.g9a,version:""}:(/iPhone/).test(m)?{name:g.pp.B7a,version:""}:{name:g.pp.ifa,version:""};};Va.Object.defineProperties(c.prototype,{K7a:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.voa);}},fY:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.mr);}},lB:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.h1a);}},O$:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.I2a);}},Iua:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.opera);}},mY:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.Dfb);}},l8a:{configurable:!0,enumerable:!0,get:function(){return this.eJ(g.Xn.Bib);}},dY:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.t6);}},qP:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.B7a);}},G$:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.t6) && this.NVb(g.e3.phone);}},eY:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.XYa);}},SVb:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.g9a);}},rP:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.J9a);}},PE:{configurable:!0,enumerable:!0,get:function(){return this.gJ(g.pp.ifa);}},dr:{configurable:!0,enumerable:!0,get:function(){return this.M9(l.uB,this.ke.version);}},U1b:{configurable:!0,enumerable:!0,get:function(){return this.M9(l.uB,this.ke.Wba.version);}},V1b:{configurable:!0,enumerable:!0,get:function(){return this.M9(l.UP,this.ke.Wba.version);}},W1b:{configurable:!0,enumerable:!0,get:function(){return this.M9(l.lQ,this.ke.Wba.version);}}});f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(d.YRa)),t.__param(1,(0,k.l)(h.OS)),t.__param(2,(0,k.l)(a.Fja))],f);b.cFa=f;(function(m){m[m.uB=0]="major";m[m.UP=1]="minor";m[m.lQ=2]="patch";m[m.lda=3]="revision";})(l=b.dSa || (b.dSa={}));},function(t,b,a){var k,g,h;function c(d,f,l){this.Mc=d;this.rCa=f;this.Vx=l;}Object.defineProperty(b,"__esModule",{value:!0});b.CRa=void 0;t=a(0);k=a(47);g=a(1);h=a(5);c.prototype.uI=function(){this.$j || (this.$j=this.Mc.Uk((0,h.tc)(this.rCa),this.Vx));};c.prototype.Ut=function(){this.$j && this.$j.cancel();this.$j=void 0;};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(k.zj))],a);b.CRa=a;},function(t,b,a){var k,g;function c(h,d){this.Mc=h;this.r7=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;t=a(0);k=a(1);a=a(47);c.prototype.pm=function(h){this.di();this.$j=this.Mc.Uk(this.r7,h);};c.prototype.di=function(){this.$j && this.$j.cancel();this.$j=void 0;};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.zj))],g);b.uGa=g;},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;t=a(0);k=a(1);g=a(218);c.prototype.uO=function(h,d){var f;f=this;h && Object.entries(d).forEach(function(l){var m,n,p;m=na(l);l=m.next().value;m=m.next().value;if(f.DVb(m)){n=na(m);m=n.next().value;p=n.next().value;n=h[m];Array.isArray(n)?(f.Hpa(h,l,m),n.forEach(function(q){f.uO(q,p);})):m === g.jk?Object.values(h).forEach(function(q){f.uO(q,p);}):(f.Hpa(h,l,m),"object" === typeof n && f.uO(n,p));}else f.Hpa(h,l,m);});};c.prototype.DVb=function(h){return Array.isArray(h);};c.prototype.Hpa=function(h,d,f){h.hasOwnProperty(d) || d === f || Object.defineProperty(h,d,{get:function(){return h[f];},set:function(l){return h[f]=l;},enumerable:!0});};a=c;a=t.__decorate([(0,k.X)()],a);b.JHa=a;},function(t,b,a){var k,g,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;t=a(0);k=a(12);g=a(16);a=a(1);c.prototype.tv=function(){return this.CVb()?g.cHa:(/widevine/i).test(this.config().yn)?g.Cga:(/fps/i).test(this.config().yn)?"fairplay":g.g2;};c.prototype.CVb=function(){return (/clearkey/i).test(this.config().yn);};h=c;h=t.__decorate([(0,a.X)(),t.__param(0,(0,a.l)(k.Ic))],h);b.CLa=h;},function(t,b,a){var k,g,h,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XRa=void 0;t=a(0);h=a(1);a=a(13);null === (g=null === (k=null === a.Me || void 0 === a.Me?void 0:a.Me.userAgentData) || void 0 === k?void 0:k.getHighEntropyValues) || void 0 === g?void 0:g.call(k,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?f:"undefined";}).catch(function(){d="exception";});Va.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});k=c;k=t.__decorate([(0,h.X)()],k);b.XRa=k;},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.z9a=void 0;c=a(726);k=a(727);t=a(1);g=a(112);h=a(6);d=a(732);b.z9a=new t.vd(function(f){f(h.sb).to(k.SKa).ha();f(g.BL).to(c.TKa).ha();f(h.zha).to(d.HKa).ha();});},function(t,b,a){var k;function c(){this.hhb={};this.ep=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;t=a(0);a=a(1);c.prototype.Vca=function(g,h){h && (this.hhb[g]=h,this.ep=Object.values(this.hhb));};k=c;k=t.__decorate([(0,a.X)()],k);b.TKa=k;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q){this.Ea=n;this.ep=p;this.Fva=q;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;t=a(0);k=a(219);g=a(1);h=a(729);d=a(19);f=a(112);l=a(6);m=a(730);c.prototype.mb=function(n,p,q,r,u){q=void 0 === q?this.ep:q;return p?new h.COa(this.Ea,this.Fva,q,p,n):u?new m.nEa(this.Ea,this.Fva,q,n,r || "",u):new k.AL(this.Ea,this.Fva,q,n);};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(d.$c)),t.__param(1,(0,g.l)(f.BL)),t.__param(2,(0,g.l)(l.zha))],a);b.SKa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jYa=void 0;b.jYa=function(a,c){var g;a=a.VQb();for(var k=0;k < c.length;++k){g=c[k];void 0 != g && null != g && (g.xh && (g=g.xh),g.constructor === Uint8Array?a.WAb(g):"MediaRequest" === g.constructor.name?a.GAb(g):"string" === typeof g?a.UAb(g):"function" === typeof g?a.AAb(g):g instanceof Error?a.xAb(g):g instanceof Object?a.HAb(g):a.XAb(g));}return a.Li();};},function(t,b,a){var k,g,h;function c(d,f,l,m,n){d=h.AL.call(this,d,f,l,n) || this;d.j=m;(0,k.fq)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.COa=void 0;k=a(55);g=a(357);h=a(219);ka(c,h.AL);c.prototype.x7=function(d){return new c(this.Ea,this.Z6,this.ep,this.j,d);};c.prototype.yD=function(d,f,l){d=new g.yha(d,this.Op,this.Ea.Tb(),f,l,this.j.index);f=na(this.ep.ep);for(l=f.next();!l.done;l=f.next()){l=l.value;l(d,this.j);}};b.COa=c;},function(t,b,a){var k,g;function c(h,d,f,l,m,n){h=k.AL.call(this,h,d,f,l) || this;h.groups=m;Array.isArray(n)?h.prefix=n:n && "string" === typeof n && (h.prefix=[],h.prefix.push(n));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;k=a(219);g=a(731);ka(c,k.AL);c.prototype.yD=function(h,d,f){h=new g.mEa(h,this.Op,this.Ea.Tb(),d,f,this.prefix);d=na(this.ep.ep);for(f=d.next();!f.done;f=d.next()){f=f.value;f(h);}};c.prototype.x7=function(h){return new c(this.Ea,this.Z6,this.ep,h,this.groups,this.prefix);};b.nEa=c;},function(t,b,a){var k,g;function c(h,d,f,l,m,n,p){this.level=h;this.Op=d;this.timestamp=f;this.message=l;this.Vc=m;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;k=a(5);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.uea=function(h,d){h=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.Q$b(! !h));return (this.timestamp.da(k.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.Op + "| " + h;};c.prototype.Q$b=function(h){var m;for(var d=this.Vc.length,f="",l=0;l < d;++l){m=this.Vc[l].kw;l && f.length && (f+=" ");if("object" === typeof m){if(null === m)f+="null";else if(m instanceof Error)f+=this.P$b(m,h);else try{f+=JSON.stringify(m);}catch(n){f+=this.O$b(m);}}else f+=m;}return f;};c.prototype.P$b=function(h,d){return h.toString() + (h.stack && !d?"\n" + h.stack:"") + "\n";};c.prototype.O$b=function(h){var d;d=[];return JSON.stringify(h,function(f,l){if("object" === typeof l && null !== l){if(-1 !== d.indexOf(l))return "<cycle>";d.push(l);}return l;});};b.mEa=c;},function(t,b,a){var k,g,h,d;function c(f,l){this.pc=f;this.Be=l;}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=void 0;t=a(0);k=a(1);g=a(733);h=a(33);a=a(32);c.prototype.VQb=function(){return new g.IKa(this.pc,this.Be);};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.zi)),t.__param(1,(0,k.l)(a.$h))],d);b.HKa=d;},function(t,b,a){var p,q,r;function c(u,v){this.pc=u;this.Be=v;this.Vc=[];}function k(u){return n.call(this,u,function(v){return {Details:v};}) || this;}function g(u){return n.call(this,u,function(v){return JSON.parse(v.toJSON());}) || this;}function h(u,v){v=n.call(this,v,function(w){return {Base64:u.encode(w)};}) || this;v.pc=u;return v;}function d(u,v){v=n.call(this,v,function(w){return w();}) || this;v.Be=u;return v;}function f(u){return n.call(this,u,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function l(u,v,w){v=n.call(this,v,w) || this;v.Be=u;return v;}function m(u){return n.call(this,u,function(v){return {Details:v};}) || this;}function n(u,v){this.kw=u;this.value=v?v(u):u;}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;t=a(0);p=a(1);q=a(32);a=a(33);n.prototype.GW=function(u){return this.kw === u;};ka(m,n);m.prototype.VK=function(u,v){return v?"":"\r\n" + this.kw;};ka(l,n);l.prototype.VK=function(){var u;u="";this.Be.nE(this.value,function(v,w){try{u+=", " + v + ": " + w;}catch(x){try{u+=", " + v + ": " + JSON.stringify(w);}catch(y){u+=", error stringifying " + v;}}});return u.replace(/[\r\n]+ */g," ");};ka(f,n);f.prototype.VK=function(u){var v;v="\r\n" + this.kw.message;u || (v+="\r\n" + this.kw.stack);return v;};ka(d,n);d.prototype.VK=function(){var u;u="";this.Be.nE(this.value,function(v,w){u+=", " + v + ": " + w;});return u.replace(/[\r\n]+ */g," ");};ka(h,n);h.prototype.VK=function(u,v){return this.kw && !v?"\r\n" + this.pc.encode(this.kw):"";};ka(g,n);g.prototype.VK=function(){return this.kw?this.kw.toJSON():"";};ka(k,n);k.prototype.VK=function(){return ", " + (this.kw.toString?"" + this.kw.toString():"");};c.prototype.UAb=function(u){this.Vc.push(new m(u));};c.prototype.HAb=function(u){this.Vc.push(new l(this.Be,u));};c.prototype.xAb=function(u){this.Vc.push(new f(u));};c.prototype.AAb=function(u){this.Vc.push(new d(this.Be,u));};c.prototype.WAb=function(u){this.Vc.push(new h(this.pc,u));};c.prototype.GAb=function(u){this.Vc.push(new g(u));};c.prototype.XAb=function(u){this.Vc.push(new k(u));};c.prototype.Li=function(){return this.Vc;};r=c;r=t.__decorate([(0,p.X)(),t.__param(0,(0,p.l)(a.zi)),t.__param(1,(0,p.l)(q.$h))],r);b.IKa=r;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.oab=void 0;t=a(1);c=a(358);k=a(735);b.oab=new t.vd(function(g){g(c.cMa).to(k.bMa).ha();});},function(t,b,a){var k,g,h;function c(d){this.Mc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;t=a(0);k=a(1);g=a(736);a=a(47);c.prototype.p_a=function(d,f){return new g.dMa(this.Mc,d,f);};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.zj))],h);b.bMa=h;},function(t,b){function a(c,k,g){this.Mc=c;this.config=k;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;a.prototype.observe=function(c,k){var g;g=this;this.cancel();this.$j=this.Mc.L_(this.config.k5a(),function(){g.getTime() >= c && (g.cancel(),k());});};a.prototype.cancel=function(){this.$j && (this.$j.cancel(),this.$j=void 0);};b.dMa=a;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.N=void 0;t=a(1);c=a(220);k=a(359);g=a(738);h=a(1118);d=a(449);f=a(1119);b.N=new t.vd(function(l){l(c.lja).to(g.zQa).ha();l(k.xQa).to(h.wQa).ha();l(d.FRa).to(f.ERa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v;function c(w,x,y,z,A,B,C,D,F,G){this.Ea=w;this.pg=x;this.VP=y;this.nDa=z;this.PZ=A;this.Mc=B;this.oN=C;this.mi=D;this.Fqa=F;this.yi=G;}Object.defineProperty(b,"__esModule",{value:!0});b.zQa=void 0;t=a(0);k=a(1);g=a(19);h=a(6);d=a(358);f=a(142);l=a(360);m=a(361);n=a(739);p=a(740);q=a(101);r=a(47);u=a(355);a=a(32);c.prototype.xIb=function(w,x,y){return new n.AQa(this.Ea,this.pg,this.VP,this.nDa,x,w,this.mi,this.PZ,this.yi,this.Fqa,y);};c.prototype.WHb=function(w,x){return new p.bFa(this.pg,w,x,this.VP,this.Mc,this.oN);};v=c;v=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$c)),t.__param(1,(0,k.l)(h.sb)),t.__param(2,(0,k.l)(d.cMa)),t.__param(3,(0,k.l)(m.hSa)),t.__param(4,(0,k.l)(l.yOa)),t.__param(5,(0,k.l)(r.zj)),t.__param(6,(0,k.l)(q.dS)),t.__param(7,(0,k.l)(f.oT)),t.__param(8,(0,k.l)(u.DS)),t.__param(9,(0,k.l)(a.$h))],v);b.zQa=v;},function(t,b,a){var d,f,l;function c(m,n,p,q,r,u,v,w,x,y,z){var A;A=this;this.Ea=m;this.VP=p;this.oya=q;this.config=r;this.rb=u;this.mi=v;this.PZ=w;this.yi=x;this.Yk=z;this.OMb=Object.values(d.Ia).map(function(B){return {event:B,Vx:function(C){return A.Sb.Wc(B,C);}};});this.Sb=y.create();this.sF=[];this.log=n.mb("SegmentManager");this.BI=!0;this.Zo=this.yi.createElement("div",l.Zia);}function k(m,n,p,q,r,u,v,w,x,y,z){var A;A=this;this.log=m;this.config=n;this.x0b=p;this.oya=q;this.mi=r;this.PZ=u;this.qw=v;this.u=w;this.Zo=x;this.rb=y;this.Yk=z;this.IN=function(){A.fF && (A.fF.cancel(),A.fF=void 0);};this.nta=function(B){A.log.trace("Received the transition event",{movieId:B.I});A.m5b();};this.zva=function(){};this.log.debug("Constructing session data",g(w));this.Yac=new Promise(function(B){A.m5b=B;});}function g(m){return {movieId:m.I};}function h(m){return JSON.stringify({movieId:m.I,startPts:m.ba,logicalEnd:m.Rj,params:m.Cb?{trackingId:m.Cb.Xk,authParams:m.Cb.N6,sessionParams:m.Cb.Nn,disableTrackStickiness:m.Cb.Spa,uiPlayStartTime:m.Cb.IR,loadImmediately:m.Cb.raa,playbackState:m.Cb.playbackState?{currentTime:m.Cb.playbackState.currentTime,volume:m.Cb.playbackState.volume,muted:m.Cb.playbackState.muted,playbackRate:m.Cb.playbackState.playbackRate}:void 0,pin:m.Cb.Ccb,heartbeatCooldown:m.Cb.zta,uiLabel:m.Cb.Ed,uxLabels:m.Cb.Uea}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.AQa=void 0;d=a(17);f=a(5);l=a(16);k.prototype.load=function(m){var n,p;n=this;this.log.trace("Loading new segment",g(this.u));this.S=this.oya.TN(this.config,this.PZ,this.mi,this.u,this.rb,this.Yk);this.S.addEventListener(d.Ia.hP,function(q){n.log.trace("Segment is inactive",g(n.u));n.qw.close(n.mi(q.errorCode));});this.S.addEventListener(d.Ia.closed,this.IN);if(m)(this.log.debug("Pausing background segment",g(this.u)),this.S.addEventListener(d.Ia.Pua,this.nta),this.S.pause());else {this.Zo.appendChild(this.S.Go());p=function(q){n.nta(q);n.S.removeEventListener(d.Ia.loaded,p);};this.S.addEventListener(d.Ia.loaded,p);}};k.prototype.observe=function(){var m,n,p;m=this;this.log.trace("Observing segment",h(this.u));if(this.fF)this.log.trace("Segment is currently observing",g(this.u));else if(this.u.Cb && this.u.Cb.raa)this.zva(this);else {n=this.x0b.p_a(this.config,function(){var q;if(m.S){q=m.S.vv();if(q)return q;}return 0;});p=this.QDb(this.u);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){m.log.trace("Segment has reached its loading point",g(m.u));m.zva(m);m.IN();});}};k.prototype.close=function(m){this.log.info("Closing segment",{segment:h(this.u),error:m});return this.S?(this.S.removeEventListener(d.Ia.Pua,this.nta),this.S.close(m)):Promise.resolve();};k.prototype.B1b=function(m){this.zva=m;};k.prototype.QDb=function(m){var n,p;n=m.Rj;m=m.Cb?m.Cb.raa:!1;p=0;n && !m && (p=n - this.config.G4a(),p < this.config.I4a() && (m=n - this.config.I4a(),p=n - m / 2));return p;};c.prototype.SRb=function(){return this.Hh && this.Hh.S?this.Hh.S.isReady():!1;};c.prototype.Go=function(){return this.Zo;};c.prototype.QI=function(){if(!this.Hh || !this.Hh.S)throw Error("Player not ready");return this.Hh.S;};c.prototype.ucc=function(m){var n,p;p=this.Zqa(m);p?this.ekb(p,m):this.rb.Ye(m.id) || this.log.error("Tried to update a non-existent segment",{segment:h(m),currentMovieId:this.Hh.u.I,queuedMovieIds:this.sF.map(function(q){return q.u.I;}),xid:null === (n=this.Hh.S) || void 0 === n?void 0:n.$A()});};c.prototype.dg=function(m){var n;this.log.info("Adding segment",h(m));if(this.BI){this.log.trace("First segment, loading",g(m));n=this.m9a(m);this.BI=!1;}else (this.log.trace("Subsequent segment, caching",g(m)),(n=this.Zqa(m))?this.ekb(n,m):(n=this.createSession(m),this.sF.push(n),this.Hh.observe()));return n?n.Yac:null;};c.prototype.transition=function(m,n){var p,q,r;q=this.GJ;r=null === q || void 0 === q?void 0:q.S;if(q && r)return (this.GJ=void 0,this.log.info("Transitioning segment",h(q.u)),r.dBa(this.Ea.Tb().da(f.ma)),this.pjb(q,n));n=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Hh.u.I,xid:null === (p=this.Hh.S) || void 0 === p?void 0:p.$A(),nextSegmentId:m,currentSegment:h(this.Hh.u),nextSegment:n?h(n):void 0,queuedMovieIds:this.sF.map(function(u){return u.u.I;})});return Promise.reject();};c.prototype.close=function(m){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.Hh.u)),nextSession:this.GJ?JSON.stringify(g(this.GJ.u)):void 0});m=[this.Hh.close(m)];this.GJ && m.push(this.GJ.close());return Promise.all(m).then(function(){n.GJ=void 0;n.sF=[];n.BI=!0;});};c.prototype.addListener=function(m,n,p){this.Sb.addListener(m,n,p);};c.prototype.removeListener=function(m,n){this.Sb.removeListener(m,n);};c.prototype.ekb=function(m,n){this.d2b(m.u,n);this.log.trace("Overwrote existing segment data",h(m.u));};c.prototype.m9a=function(m){var n,p;n=this;this.log.info("Loading the next episode",g(m));if(this.Hh){this.config.Mra()[m.I]=m.ba;p=this.Zqa(m);}else p=this.createSession(m);if(p)return (this.log.trace("Found the next session",g(m)),p.B1b(function(q){n.Nib(q);}),this.Hh?(this.log.trace("Subsequent playback, caching player and pausing",g(m)),this.GJ=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(m)),p.load(!1),this.pjb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(m));};c.prototype.pjb=function(m,n){var p,q,r,u,v;n=void 0 === n?{}:n;u=m.S?null === (p=m.S) || void 0 === p?void 0:p.getError():"missing player";if(u)return (null === (q=m.S) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Hh.u.I,mid:m.u.I,error:u,xid:null === (r=m.S) || void 0 === r?void 0:r.$A()}),Promise.reject());this.log.trace("Playing episode",g(m.u));p=this.Hh;this.Hh=m;m=this.Hh.S;m.NAa(!1);this.fL(m,p?p.S:void 0);if(p && p.S){v=p.S.Go();q=m.Go();v.style.display="none";p=p.close();this.Zo.appendChild(q);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});q.style.display="block";m.Lea(n);m.oR();m.play();}return Promise.resolve();};c.prototype.Nib=function(m){var n,p,q,r,u;if(this.sF.length && m.S){n=m.S.vv();p=this.sF[0];q=this.Hh.u.Rj;r=this.Hh.u.Cb?this.Hh.u.Cb.raa:!1;if(q || r){r?u=0:q && (u=q - this.config.G4a());null !== n && n >= u && (this.log.info("Got a time change, loading the next player",g(p.u)),this.m9a(p.u),this.sF.splice(0,1),this.Nib(m));}}};c.prototype.Zqa=function(m){return this.Hh.u.I === m.I?this.Hh:this.sF.find(function(n){return n.u.I === m.I;});};c.prototype.d2b=function(m,n){m.ba=n.ba || m.ba;m.Rj=n.Rj || m.Rj;m.Cb=n.Cb || m.Cb;m.ea=n.ea || m.ea;};c.prototype.createSession=function(m){return new k(this.log,this.config,this.VP,this.oya,this.mi,this.PZ,this,m,this.Zo,this.rb,this.Yk);};c.prototype.fL=function(m,n){this.OMb.forEach(function(p){n && n.removeEventListener(p.event,p.Vx);m.addEventListener(p.event,p.Vx);});this.Sb.Wc(d.EG.P_);};b.AQa=c;},function(t,b,a){var h,d,f,l,m;function c(n,p,q,r,u,v){var w;w=this;this.S=p;this.j=q;this.VP=r;this.Mc=u;this.oN=v;this.IN=function(){w.fF && (w.fF.cancel(),w.fF=void 0);};this.log=n.mb("SegmentManager",this.j);this.N=new Map();this.j.gb.Ph && (this.j.addEventListener(f.ja.qK,function(x){return w.gF(x);}),this.j.addEventListener(f.ja.closed,this.IN));}function k(n,p){this.id=n;this.uoa=p;}function g(n,p,q,r){return d.jd.call(this,n,q,void 0,void 0,void 0,p,void 0,r) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;h=a(3);d=a(37);f=a(17);l=a(5);m=a(18);ka(g,d.jd);g.prototype.toString=function(){return this.code + "-" + this.Cc + " : " + this.message + "\n" + JSON.stringify(this.data);};k.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.qa,contentEndPts:this.sa};};Va.Object.defineProperties(k.prototype,{qa:{configurable:!0,enumerable:!0,get:function(){return this.uoa.startTimeMs;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.uoa.endTimeMs;}},HB:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.uoa.next);}}});c.prototype.gF=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.N.size && Object.entries(this.j.cX()).forEach(function(q){var r;r=na(q);q=r.next().value;r=r.next().value;p.N.set(q,new k(q,r));});this.la=this.N.get(n);};c.prototype.play=function(n){this.BQ && (this.BQ=void 0);this.IN();this.log.trace("Playing segment",n);return this.W7a(n)?this.f3b(n):this.OZ(n);};c.prototype.Gt=function(n){this.log.trace("Queueing segment",n);return this.W7a(n)?this.Z4b(n):this.$4b(n);};c.prototype.tj=function(n,p){var q,r;q=this;r=this.j.Ga;if(null === r || void 0 === r || !r.Ei)return Promise.reject(this.getError(h.V.LEa,"ASE session manager is not yet initialized",h.R.Sfa,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(u,v){try{r.JR(n,p);q.j.fireEvent(f.ja.SCa,{Y:n,Gcc:p});u();}catch(w){v(q.getError(h.V.LEa,"updateNextSegmentWeights threw an exception",h.R.Bmb,{segmentId:n,updates:p,error:w}));}});};c.prototype.W7a=function(n){return this.la?void 0 !== this.j.cX()[this.la.id].next[n]:!1;};c.prototype.Gsa=function(){var n;n=this.j.Ga;if(null === n || void 0 === n?0:n.Ei)return n.Ik().$e;};c.prototype.KRb=function(){var n;n=this.j.Ga;if(null === n || void 0 === n?0:n.Ei)return n.Ik().id;};c.prototype.LPb=function(n){var p;p=this.j.Ga;if(null === p || void 0 === p?0:p.Ei)return (n=p.i9(n)) && n.Re;};c.prototype.f3b=function(n){var p,q;p=this;q=this.j.Ga;return null !== q && void 0 !== q && q.Ei?this.la && 1 === this.la.HB.length?this.OZ(n):this.j.Uf?void 0 === this.LPb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.OZ(n)):new Promise(function(r,u){var z,A,B,C,D,F;function v(){!B && A && z && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),q.Qs(n,!1,!0)?(r(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.OZ(n).then(r).catch(u)));}function w(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(f.ja.Pk,w);v();}function x(){p.j.removeEventListener(f.ja.fK,x);q.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",y);v();}z=!1;A=!1;B=!1;C=p.N.get(n);D=p.Gsa();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.OZ(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:p.la,nextSegment:C},null,"  "));p.j.fireEvent(f.ja.xba,{Ih:p.la && p.la.id,bQ:n});q.addEventListener("stop",y);p.j.addEventListener(f.ja.fK,x);p.j.addEventListener(f.ja.Pk,w);F=p.Mc.Uk((0,l.si)(10),function(){B=!0;F.cancel();u(p.getError(h.V.gS,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.R.xmb,{id:n,stopped:A,repositioned:z,completed:B}));});p.S.seek(D,f.ff.SL);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(h.V.gS,"MediaPresenter is not initialized",h.R.ymb,{id:n}))):Promise.reject(this.getError(h.V.gS,"ASE session manager is not yet initialized",h.R.Sfa,{id:n}));};c.prototype.OZ=function(n){var p;p=this.N.get(n);return p?this.M_(p,h.V.gS):Promise.reject(this.getError(h.V.gS,"Unable to find the separated segment",h.R.KEa,{id:n}));};c.prototype.Z4b=function(n){var p;p=this.j.Ga;if(null === p || void 0 === p || !p.Ei)return Promise.reject(this.getError(h.V.hS,"ASE session manager is not yet initialized",h.R.Sfa,{id:n}));this.j.fireEvent(f.ja.xba,{Ih:this.la && this.la.id,bQ:n});if(p.Qs(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.t0a(n);};c.prototype.$4b=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.I,srcsegment:this.KRb()});return this.t0a(n);};c.prototype.t0a=function(n){var p,q;p=this;if(this.BQ)return Promise.reject(this.getError(h.V.hS,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",h.R.Amb,{currentSegment:this.la?this.la.id:void 0,queuedSegment:this.BQ.id,failedSegment:n}));if(!this.la)return Promise.reject(this.getError(h.V.hS,"Unable to queue segment for delayed seek because there is no currently playing segment",h.R.wmb,{nextSegmentid:n}));q=this.N.get(n);if(!q)return Promise.reject(this.getError(h.V.hS,"Unable to find the separated segment",h.R.KEa,{nextSegmentid:n,currentSegmentId:this.la.id}));this.BQ={id:n,promise:new Promise(function(r,u){var v;p.fF=p.VP.p_a({k5a:function(){return (0,l.tc)(100);}},function(){return p.S.vv() || 0;});v=p.Gsa() - m.config.mab;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:v});p.fF.observe(v,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.la.id,playerEndPts:p.Gsa(),pts:v});p.BQ=void 0;p.IN();p.M_(q,h.V.hS).then(r).catch(u);});})};this.BQ.promise.catch(function(r){p.j.Sd(r.code,r);});return Promise.resolve();};c.prototype.M_=function(n,p){var q;q=this;return new Promise(function(r,u){var v;try{v=n.qa;!1;q.S.seek(v,f.ff.HG);r();}catch(w){u(q.getError(p,"Seek threw an exception",h.R.zmb,{id:n.id,error:w}));}});};c.prototype.getError=function(n,p,q,r){this.log.warn(p,r);return new g(n,p,q,r);};b.bFa=c;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Hc=b.aq=void 0;(function(c){c[c.xj=0]="STOPPED";c[c.sd=1]="BUFFERING";c[c.$f=2]="REBUFFERING";c[c.yj=3]="STREAMING";c[c.xT=4]="TRACK_SWITCH";})(a || (a={}));b.Hc=a;b.aq=function(c){return c === a.sd || c === a.$f || c === a.xT;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(753),b);t.__exportStar(a(754),b);t.__exportStar(a(755),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UC=void 0;t=b.UC || (b.UC={});t[t.HAVE_NOTHING=0]="HAVE_NOTHING";t[t.LC=1]="HAVE_SOMETHING";t[t.KC=2]="HAVE_MINIMUM";t[t.ES=3]="HAVE_ENOUGH";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.va=b.rca=void 0;c=a(31);(function(g){g[g.dh=0]="STARTING";g[g.sd=1]="BUFFERING";g[g.$f=2]="REBUFFERING";g[g.Jc=3]="PLAYING";g[g.ss=4]="STOPPING";g[g.xj=5]="STOPPED";g[g.Eh=6]="PAUSED";})(k || (k={}));b.va=k;b.rca=function(g){return g === c.Hc.sd?k.sd:g === c.Hc.$f?k.$f:g === c.Hc.xT?k.sd:g === c.Hc.yj?k.Jc:k.dh;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vS=void 0;t=b.vS || (b.vS={});t[t.Jl=0]="skipped";t[t.jBb=1]="adjustment";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(777),b);t.__exportStar(a(778),b);t.__exportStar(a(779),b);t.__exportStar(a(780),b);t.__exportStar(a(781),b);t.__exportStar(a(782),b);t.__exportStar(a(783),b);t.__exportStar(a(784),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(786),b);t.__exportStar(a(787),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.su=void 0;t=b.su || (b.su={});t[t.gsb=0]="PLAYGRAPH_CHANGED";t[t.hsb=1]="PLAYGRAPH_UNCHANGED";t[t.vrb=2]="NO_MATCHING_SEGMENT_FOUND";t[t.ftb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";t[t.mpb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";t[t.lpb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";t[t.gtb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";t[t.Klb=7]="APPENDED_PAST_TRUNCATION_POINT";t[t.Iqb=8]="LOSS_OF_POSITION";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xEa=void 0;c=a(14);t=(function(){function k(g){this.config=g;}k.prototype.hn=function(g,h){return this.config.n0 || h !== c.Hc.yj?g.filter(function(d){return d.ov;}):g;};return k;})();b.xEa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NG=void 0;t=a(0);c=a(10);k=t.__importDefault(a(4));g=a(363);a=(function(){function h(d){this.console=d;this.j0a=[];this.OXa={};this.D0a=!1;}h.prototype.Ur=function(d,f){this.j0a=d;void 0 !== f?this.OXa[f]=d:this.D0a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.D0a=!0);};h.prototype.hn=function(d){var f,l,m,n,p;f=this;if(0 === d.length)return d;n=d[0].K;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (l=k.default.Wu) || void 0 === l?void 0:l.call(k.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (m=this.OXa[n]) && void 0 !== m?m:this.j0a;c.W && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return g.Vma(q.profile,q.bitrate,p,f.console).inRange;});c.W && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return h;})();b.NG=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;t=(function(){function a(c){var k;k=this;c.tR && c.tR.enabled && c.tR.profiles && c.tR.profiles.length && "keepLowest" === c.tR.action && (this.G8a={},c.tR.profiles.forEach(function(g){return k.G8a[g]=!0;}));}a.prototype.hn=function(c){var k,g;k={};g=this.G8a;return void 0 === g?c:c.filter(function(h){return !g[h.profile] || (k[h.profile]?!1:k[h.profile]=!0);});};return a;})();b.yEa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vEa=void 0;t=(function(){function a(c){this.config=c;}a.prototype.hn=function(c){var k;k=this.config;return c.filter(function(g){return !(void 0 !== g.cb && (g.cb < k.zJ || g.cb > k.e$a) || (void 0 === g.cb || 0 >= k.zJ) && g.bitrate < k.Hwa || (void 0 === g.cb || Infinity === k.e$a) && g.bitrate > k.NYb);});};return a;})();b.vEa=t;},function(t,b,a){var k;function c(g,h){h=Math.max(g,h);return isNaN(h)?g || -Infinity:h;}Object.defineProperties(b,{__esModule:{value:!0}});b.iEa=void 0;k=a(14);t=(function(){function g(h){this.config=h;this.Sca=0;this.state=k.Hc.xj;this.nab=c(h.Hwa,h.$aa);this.Nwa=c(h.zJ,h.$Y);}g.prototype.hn=function(h,d){var f;f=this;if(d !== this.state){this.state=d;if(d === k.Hc.sd || d === k.Hc.xT)return h;d === k.Hc.$f && this.keb();}return h.filter(function(l){return !(void 0 !== l.cb && l.cb < f.Nwa || (void 0 === l.cb || 0 > f.Nwa) && l.bitrate < f.nab);});};g.prototype.keb=function(){++this.Sca;this.Nwa=c(this.config.zJ,this.config.$Y - this.config.PZb * this.Sca);this.nab=this.config.Hwa || -Infinity;};return g;})();b.iEa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uEa=void 0;c=a(22);t=(function(){function k(g){this.config=g;}k.prototype.u9b=function(g){return g % 100 + 1 <= this.config.bya;};k.prototype.hn=function(g){var h,d,f,l,m,n,p,q,r,u,v;p=Number(null === (h=g[0]) || void 0 === h?void 0:h.I);if(!(this.config.j8 && this.u9b(p) && 0 < this.config.ida.length))return g;h=g.length;q=null !== (d=g[h - 1].hda) && void 0 !== d?d:0;if(d=c.Xc(this.config.ida,function(w){return w.zoc >= q && w.qfb <= q;})){for(p=0;p < h;p++){r=g[Math.max(p - 1,0)];u=g[p];if(!((null !== (f=u.hda) && void 0 !== f?f:0) < d.qfb || (null !== (l=r.hda) && void 0 !== l?l:0) < d.qfb)){v=null !== (m=u.cb) && void 0 !== m?m:Infinity;r=null !== (n=r.cb) && void 0 !== n?n:Infinity;if(!(r < d.Hnc || r < d.Gnc && u.bitrate < d.maxBitrate || !v && u.bitrate < d.inc))break;}}return g.slice(0,p);}return g;};return k;})();b.uEa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cha=b.Ofa=void 0;c=a(22);b.Ofa={hn:function(k){return k.filter(function(g){return g.Iv && !g.dB;});}};b.Cha={hn:function(k){return (k=c.Xc(k,function(g){return ! !g.Iv && !g.dB;}))?[k]:[];}};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dha=void 0;b.Dha={hn:function(a){return a.length?[a[0]]:[];}};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YD=b.XD=void 0;c=a(365);k=a(97);b.XD=function(g,h){h && (null === g || void 0 === g?0:g.O6a) && (h=new k.qu(h).or(k.yG));return new k.qu(k.Ofa).and(null !== h && void 0 !== h?h:k.yG).or(k.Cha,c.TL.yI).or(k.Dha,c.TL.yI);};b.YD=function(g,h){h && g.O6a && (h=new k.qu(h).or(k.yG));return new k.qu(k.Ofa).and(new k.xEa(g)).and(new k.vEa(g)).and(new k.iEa(g)).and(new k.yEa(g)).and(g.j8?new k.uEa(g):k.yG).and(null !== h && void 0 !== h?h:k.yG).or(k.Cha,c.TL.yI).or(k.Dha,c.TL.yI);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(0);t.__exportStar(a(810),b);t.__exportStar(a(371),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var k;function c(g,h){var d;void 0 === h && (h=c);d="";g.zO && (d=null === g || void 0 === g?void 0:g.zO.map(h).reduce(function(f,l){return f + "," + l;}));return (null === g || void 0 === g?void 0:g.name) + "::" + (null === g || void 0 === g?void 0:g.message) + "::{" + (null === g || void 0 === g?void 0:g.stack) + "}[" + d + "]";}Object.defineProperties(b,{__esModule:{value:!0}});b.Bfa=void 0;k=a(0);t=(function(g){function h(d,f){d=g.call(this,h.WOb(d,f)) || this;d.zvb=f;d.name="AggregateError";return d;}k.__extends(h,g);h.WOb=function(d,f){return f.reduce(function(l,m){return l + "\n" + m;},d);};h.stringify=function(d){return c(d);};Object.defineProperties(h.prototype,{zO:{get:function(){return this.zvb;},enumerable:!1,configurable:!0}});return h;})(Error);b.Bfa=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YOa=void 0;b.YOa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Vd,segments:a.DJb(c.N)},void 0 !== c.oe?{transitionType:c.oe}:{});};a.encode=function(c){return Object.assign({Vd:c.initialSegment,N:a.wMb(c.segments)},void 0 !== c.transitionType?{oe:c.transitionType}:{});};a.wMb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.vMb(c[g]);return k;},{});};a.vMb=function(c){return Object.assign({K:c.viewableId,qa:c.startTimeMs},c.endTimeMs?{sa:c.endTimeMs}:{},c.defaultNext?{Rb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{oe:c.transitionType}:{},c.next?{next:a.tMb(c.next)}:{},c.exitZones?{Up:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{oc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{hv:c.fadeIn}:{},void 0 !== c.fadeOut?{jv:c.fadeOut}:{});};a.tMb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.uMb(c[g]);return k;},{});};a.uMb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{oe:c.transitionType}:{});};a.DJb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.CJb(c[g]);return k;},{});};a.CJb=function(c){return Object.assign({viewableId:c.K,startTimeMs:c.qa},c.sa?{endTimeMs:c.sa}:{},c.Rb?{defaultNext:c.Rb}:{},c.weight?{weight:c.weight}:{},c.oe?{transitionType:c.oe}:{},c.next?{next:a.AJb(c.next)}:{},c.Up?{exitZones:c.Up}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.oc?{uxSegment:c.oc}:{},c.type?{type:c.type}:{},void 0 !== c.hv?{fadeIn:c.hv}:{},void 0 !== c.jv?{fadeOut:c.jv}:{});};a.AJb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.BJb(c[g]);return k;},{});};a.BJb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.oe?{transitionType:c.oe}:{});};return a;})();},function(t,b,a){var f;function c(l){return Object.keys(l.segments).some(function(m){return void 0 !== d(l.segments[m]);});}function k(l){return "delayedSeamless" === l?"lazy":l;}function g(l){return Object.keys(l).reduce(function(m,n){var p,q;p=l[n];q=p.weight;p=p.transitionType || p.transitionHint;n=m[n]={};void 0 !== q && (n.weight=q);p && (n.oe=k(p));return m;},{});}function h(l){var m,n;m=Object.keys(l);n=m.length;return n?m.reduce(function(p,q){return p + (l[q].weight || 0);},0) / n:void 0;}function d(l){var m;if(l.ui){m=l.ui.interactionZones;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0] - l.startTimeMs;l=l.ui.interactionZonesV2;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0];}else if(void 0 !== l.earliestSkipRequestOffset)return l.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.wA=void 0;f=a(143);b.wA=function(l,m){var n,p,q,r,u,v;n=void 0 === m?{}:m;m=n.zd;p=n.Vd;q=n.N;n=n.config;r=!(!n || -1 === n.sra.indexOf(l.viewableId));u=c(l)?0:(null === n || void 0 === n?void 0:n.rra) || 0;n=new f.Ww();v=q || l.segments;n.xK(null !== p && void 0 !== p?p:l.initialSegment).Cgb(null !== m && void 0 !== m?m:l.mediaTypes).eBa(r?"immediate":k(l.transitionType)).ZAa(Object.keys(v).reduce(function(w,x){var y,z,A,B,C,D;y=v[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (r || (null === (B=y.exitZones) || void 0 === B?0:B.length))?h(y.next):void 0;}B=z;if(z=y.exitZones)C=void 0;else a:{if(r && y.endTimeMs){C=y.endTimeMs - y.startTimeMs;D=d(y);if(D && D < C){C=[[D,C]];break a;}if(u && C > u){C=[[C - u,C]];break a;}}C=void 0;}D=r?C?void 0:y.transitionHint || "lazy":y.transitionHint;B={K:l.viewableId,qa:y.startTimeMs,sa:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,oe:k(D),Up:z || C,weight:B};y.defaultNext && (B.Rb=y.defaultNext);y.next && (B.next=g(y.next));w[x]=B;return w;},{}));return n.Li();};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.AF=void 0;c=a(143);b.AF=function(k,g,h){var d;d=new c.Ww();d.xK(g).eBa("lazy").Cgb(h).dg(g,{K:k,qa:0,sa:Infinity});return d.Li();};},function(t,b,a){var f,l,m,n;function c(p){for(var q=p.Vd,r=[];q;){r.push(q);q=p.N[q].next;if(!q)break;q=Object.keys(q);if(q.length)(m.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return r;}function k(p){return n.fV(Object.keys(p.N).map(function(q){return p.N[q].K;}));}function g(p,q){return Object.keys(q.N).some(function(r){r=q.N[r];return p.K === r.K && p.qa > r.qa && (!r.sa || ! !p.sa && (Infinity === p.sa || p.sa < r.sa));});}function h(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === h(q.sa):p >= q.qa && p <= h(q.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.Awa=void 0;f=a(0);l=a(143);m=a(372);n=a(228);b.Awa=function(p,q){var r,u,v,w,x;r=c(q);u=k(p);v=k(q);u=n.fXa(u,v);m.assert(1 === u.length,"Source and content playgraphs should share one viewable");w=u[0];v=Object.keys(p.N).filter(function(y){return p.N[y].K === w;}).map(function(y){var E,I,L,K,H,R;for(var z,A=p.N[y],B=A.qa,C=h(A.sa),D=0 === B,F=[],G=0;G < r.length;++G){E=r[G];I=q.N[E];L=g(p.N[y],q);if(I.K !== w)D && F.push({id:y + ":" + E,u:f.__assign(f.__assign({},I),{oc:y})});else if(D){H=Math.max(A.qa,I.qa);K=(R=!Number.isFinite(C) && G == r.length - 1)?C:Math.min(C,h(I.sa));K > H && (L=Infinity !== C || !L && !R?Infinity === K?null:K:A.sa,F.push({id:y + ":" + E,u:f.__assign(f.__assign({},I),{qa:H,sa:L,oc:y})}));if(d(C,I)){if(C === h(I.sa))for(G+=1;G < r.length;++G){B=r[G];C=q.N[B];if(C.K === w)break;F.push({id:y + ":" + B,u:f.__assign(f.__assign({},C),{oc:y})});}break;}}else if(d(B,I))if((D=!0,C <= h(I.sa)))F.push({id:y,u:A});else {H=A.qa;R=!Number.isFinite(C) && G == r.length - 1;L=R && L?A.sa:Math.min(C,h(I.sa));F.push({id:y + ":" + E,u:f.__assign(f.__assign({},I),{qa:H,sa:L,oc:y})});}}F.length || F.push({id:y,u:f.__assign(f.__assign({},A),{oc:y})});for(G=0;G < F.length - 1;++G){B=F[G + 1].id;F[G].u=f.__assign(f.__assign({},F[G].u),{Rb:B,next:(z={},z[B]={},z)});}z=F[F.length - 1];z.u=f.__assign(f.__assign({},z.u),{Rb:A.Rb,next:A.next});return {id:y,u:A,eib:F};});x=v.reduce(function(y,z){return (y[z.id]=z.eib[0].id,y);},{});u=new l.Ww();v=v.reduce(function(y,z){z.eib.forEach(function(A){return y[A.id]=A.u;});return y;},{});return u.ZAa(v,function(){return !0;},x).vWa(p.N,function(y,z){return !x[z];},x,function(y,z){return f.__assign(f.__assign({},y),{oc:z});}).xK(x[p.Vd] || p.Vd).Li();};},function(t,b,a){var q,r,u,v,w;function c(x,y,z,A,B){var C,D,F;C=x.N[y];D=z.N[C.oc];A=A.oc;F=f(C.sa) - C.qa;F=void 0 === B?B=0:B + F;return C.K === (null === D || void 0 === D?void 0:D.K)?{X0:f(C.sa),LV:B}:C.oc === A && (y=q.__read(k(x,y),1)[0]) && x.N[y].oc === C.oc?c(x,y,z,C,F):{X0:D.qa,LV:F};}function k(x,y){return Object.keys(x.N).filter(function(z){return x.N[z].Rb === y;});}function g(x,y,z,A,B){var C,D,F;void 0 === B && (B=0);y=x.N[y];C=z.N[y.oc];A=A.oc;D=z.N[A];F=f(y.sa) - y.qa;return y.K === (null === C || void 0 === C?void 0:C.K)?{X0:y.qa,LV:B}:y.oc === A && y.Rb?g(x,y.Rb,z,y,B + F):{X0:f(D.sa),LV:B};}function h(x,y,z){var A,B,C,D,F,G,E,I,L,K,H,R,O;A=n(x,y,z);if(A)return A;A=x.N[z.u];B=z.offset;C=Object.keys(y.N).filter(function(J){return y.N[J].oc === z.u;});D=[];C.forEach(function(J){var P,S,U;function M(T){T=r.D8(y,T);null === T || void 0 === T?void 0:T.forEach(function(W){var ia,pa;if(y.N[W].oc !== z.u){ia=y.N[W];pa=ia.sa;U={u:W,offset:pa - ia.qa};(ia=pa?p(x,y,U):void 0) && D.push({yA:U,Zr:ia});ia || (U={u:W,offset:0},(ia=p(x,y,{u:W,offset:0})) && D.push({yA:U,Zr:ia}));M(W);}});}P=y.N[J];S=P.sa;U={u:J,offset:S - P.qa};(P=S?p(x,y,U):void 0) && D.push({yA:U,Zr:P});U={u:J,offset:0};(S=p(x,y,U)) && D.push({yA:U,Zr:S});S || P || M(J);});v.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");F=A.qa + B;E=Infinity;D.forEach(function(J){var M;M=J.Zr;M=F - (x.N[M.u].qa + M.offset);0 <= M && M < E && (E=M,G=J);});I=[];C.forEach(function(J){var P,S,U,T;function M(W){Object.keys(y.N[W].next || ({})).forEach(function(ia){var pa,wa,za;if(y.N[ia].oc !== z.u){pa=y.N[ia];wa=pa.qa;pa=pa.sa;T={u:ia,offset:0};za=p(x,y,T);za && I.push({yA:T,Zr:za});za || (T={u:ia,offset:pa - wa},(wa=pa?p(x,y,T):void 0) && I.push({yA:T,Zr:wa}));}M(ia);});}P=y.N[J];S=P.qa;U=P.sa;T={u:J,offset:0};(P=p(x,y,T)) && I.push({yA:T,Zr:P});T={u:J,offset:U - S};(S=U?p(x,y,T):void 0) && I.push({yA:T,Zr:S});P || S || M(J);});v.assert(0 < I.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");K=Infinity;I.forEach(function(J){var M;M=J.Zr;M=x.N[M.u].qa + M.offset - F;if(0 <= M && M < K || M > K && 0 > K || Infinity === K)(K=M,L=J);});v.assert(G);v.assert(L);B=G.yA;v.assert(B,"Segment not found in the combined playgraph");A=L.yA;v.assert(A,"Segment not found in the combined playgraph");H=y.N[B.u];C=y.N[A.u];B.offset === f(H.sa) - H.qa && y.N[H.Rb].oc === H.oc && (B.u === A.u && B.offset === A.offset && (A={u:C.Rb,offset:0},C=y.N[A.u]),B={u:H.Rb,offset:0},H=y.N[B.u]);R=x.N[G.Zr.u].qa + G.Zr.offset;O=x.N[L.Zr.u].qa + L.Zr.offset - R;R=0 === O?0:(F - R) / O;if(B.u === A.u)return (H=H.qa + B.offset,B=B.u,{u:B,offset:H + R * (C.qa + A.offset - H) - y.N[B].qa});O=d(y,B,A);H=O.path;O=O.nI;C=0 === A.offset?0:f(C.sa) - C.qa;return m(y,H,B.offset + R * (O - B.offset - (C - A.offset)));}function d(x,y,z){var A,B;if(y.u !== z.u){for(y=[y.u];y[y.length - 1] !== z.u;){A=x.N[y[y.length - 1]];v.assert(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.u])break;B=Object.keys(A.next);1 === B.length?y.push(B[0]):(v.assert(A.Rb,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(A.Rb));}0 !== z.offset && y.push(z.u);return {path:y,nI:l(x,y)};}return {path:[],nI:z.offset - y.offset};}function f(x){return null === x || void 0 === x?Infinity:x;}function l(x,y){return y.reduce(function(z,A){var B;A=x.N[A];B=A.qa;return z + f(A.sa) - B;},0);}function m(x,y,z){var B,C,D;for(var A=0;A < y.length;++A){B=y[A];C=x.N[B];D=C.qa;C=f(C.sa) - D;if(C > z)return {u:B,offset:z};z-=C;}v.assert(!1,"Invalid offset given for path");}function n(x,y,z){var A,B,C,D,F,G,E,I,L;B=x.N[z.u];v.assert(B,"Graph position " + z.u + " does not exist in UX playgraph");C=z.offset;v.assert(0 <= C,"Graph position offset " + C + " cannot be negative");v.assert(!B.sa || C <= B.sa - B.qa,"Graph position " + C + " offset outside segment");if(y.N[z.u])return z;D=Object.keys(y.N).filter(function(K){return y.N[K].oc === z.u;}).sort(function(K,H){if(K === H)return 0;for(K=y.N[K];K;){if(K.Rb === H)return -1;if(!K.Rb)break;K=y.N[K.Rb];if(K.oc !== z.u)break;}return 1;});v.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");F=B.qa + C;G=D.filter(function(K){return y.N[K].K === B.K;});E=q.__read(D,1)[0];G=G.map(function(K){return [K,y.N[K]];}).filter(function(K){var H;K=q.__read(K,2);H=K[0];return F >= K[1].qa || H === E;});if(G=u.Xc(G,function(K){var H;K=q.__read(K,2)[1];H=K.Rb?y.N[K.Rb]:void 0;return !K.sa || ! !K.sa && F < K.sa || (null === H || void 0 === H?void 0:H.oc) !== z.u && F >= K.qa;})){I=q.__read(G,2);G=I[0];I=I[1];L=(isFinite(F)?F:null !== (A=I.sa) && void 0 !== A?A:Infinity) - I.qa;v.assert(0 <= L,"Content playgrah graph position offset cannot be negative");A=!0;0 === L && (A=w.Yqa(y,G),A=!A || A.oc !== I.oc);if(A)return {u:G,offset:L};}D=D.filter(function(K){return y.N[K].K !== B.K;});if(0 === C && (C=w.Yqa(x,z.u),!C || C.oc !== z.u) && (C=u.Xc(D,function(K){return 0 === r.D8(y,K).length;}),void 0 !== C))return {u:C,offset:0};if(B.sa && Infinity !== B.sa && !(B.sa - B.qa !== z.offset || B.Rb && x.N[B.Rb]) && (C=u.Xc(D,function(K){return !y.N[K].next || 0 === Object.keys(y.N[K].next).length;}),void 0 !== C))return (D=y.N[C],x=D.qa,D=D.sa,v.assert(D,"Content playgraph segments from other viewables must have end time"),{u:C,offset:D - x});}function p(x,y,z){var A,B;A=y.N[z.u];v.assert(A,"Graph position does not exist in combined playgraph");B=z.offset;v.assert(0 <= B,"Graph position offset cannot be negative");v.assert(!A.sa || B <= A.sa - A.qa,"Graph position offset outside segment");if(void 0 === A.oc)return z;x=x.N[A.oc];v.assert(x,"Referenced ux playgraph segment must exist");if(A.K === x.K)return (B=A.qa + B - x.qa,x=f(x.sa) - x.qa,B=Math.max(Math.min(B,x),0),{u:A.oc,offset:B});if(0 === B && (z=r.D8(y,z.u).filter(function(C){return y.N[C].oc === A.oc;}),0 === B && 0 === z.length))return {u:A.oc,offset:0};B=A.Rb?y.N[A.Rb]:void 0;if((null === B || void 0 === B?void 0:B.oc) !== A.oc)return {u:A.oc,offset:x.sa?x.sa - x.qa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.N3a=b.Mkb=b.tZa=void 0;q=a(0);r=a(39);u=a(228);v=a(372);w=a(373);b.tZa=function(x,y,z){var A,B,C,D;A=y.N[z.u];B=p(x,y,z);if(B)return B;v.assert(A.oc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=x.N[A.oc];v.assert(C,"Referenced ux playgraph segment must exist");v.assert(A.sa,"Content playgraph segments from other viewables must have end time");if(!A.Rb || !y.N[A.Rb])return (v.assert(C.sa,"Must have definite end time to add terminal content playgraph segment"),{u:A.oc,offset:C.sa - C.qa});D=c(y,z.u,x,A);B=D.X0;D=D.LV;if(null === B || void 0 === B)return (v.assert(C.sa,"Experience playgraph segment must have end time"),{u:A.oc,offset:C.sa - C.qa});y=g(y,z.u,x,A);x=y.X0;y=y.LV;null !== x && void 0 !== x && isFinite(x) || v.assert(x,"Experience playgraph segment must have end time");return {u:A.oc,offset:B + (D + z.offset) / (D + y) * (x - B)};};b.Mkb=h;b.N3a=function(x,y,z){var A,B,C;return q.__generator(this,function(D){switch(D.label){case 0:(A=h(x,y,z),B=y.N[A.u],C=A.u,D.label=1);case 1:return [4,C];case 2:(D.Eb(),C=B.Rb,B=y.N[C],D.label=3);case 3:if((null === B || void 0 === B?void 0:B.oc) === z.u && C !== A.u)return [3,1];D.label=4;case 4:return [2];}});};},function(t,b,a){var k,g,h;function c(d,f,l){var m;if(!l)return !1;l=l[f];return "boolean" === typeof l?!0 === l:(null === l || void 0 === l?void 0:l.length) === (null === (m=d[f].Ul) || void 0 === m?void 0:m.length);}Object.defineProperty(b,"__esModule",{value:!0});b.d_a=b.qs=void 0;k=a(0);g=a(143);b.qs=-1;b.d_a=function(d,f,l,m,n){function p(v){var w,x,y,z,A;w=f.Ii[v];x=c(f.Ii,v,l);y=! !m && !x;z=0 === w.tt;w.tt > r && q.dg(d + "-" + v,{K:d,qa:r,sa:w.tt,type:"content"});!y || z && !n || q.dg("padstart-" + v,{K:b.qs,qa:0,sa:m,type:"padding"});r=w.tt;if(w.Ul && !x){A=null === l || void 0 === l?void 0:l[v];w.Ul.forEach(function(B,C){var D;D=!1;Array.isArray(A) && (D=-1 < A.indexOf(C));D || q.dg("ad-" + v + "-" + C,{K:B.id,qa:B.qa,sa:B.sa,type:"ad"});});y && q.dg("padend-" + v,{K:b.qs,qa:0,sa:m,type:"padding"});}}void 0 === m && (m=0);void 0 === n && (n=!1);for(var q=new h(),r=0,u=0;u < f.Ii.length;++u){p(u);}q.dg(d + "-" + f.Ii.length,{K:d,qa:r,sa:null,type:"content"});return q.Li();};h=(function(){function d(){this.ob=new g.Ww();}d.prototype.dg=function(f,l){var m,n,p;this.BI || (this.BI=f);if(this.c_){n=k.__read(this.c_,2);p=n[0];n=n[1];n.Rb=f;n.next=(m={},m[f]={},m);"content" === n.type && -1 < ["ad","padding"].indexOf(l.type) && (n.jv=!0);"content" === l.type && -1 < ["ad","padding"].indexOf(n.type) && (l.hv=!0);this.ob.dg(p,n);}this.c_=[f,l];};d.prototype.Li=function(){var f;if(this.c_){f=k.__read(this.c_,2);this.ob.dg(f[0],f[1]);}this.c_=void 0;this.BI && this.ob.xK(this.BI);return this.ob.Li();};return d;})();},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(229),b);},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.dEa=b.Ifa=b.E1=b.eEa=void 0;c=a(31);k=a(374);t=(function(){function d(f){var l,m;this.JSa=null !== (m=null === (l=f.Ul) || void 0 === l?void 0:l.map(function(n){return new k.cEa(n);})) && void 0 !== m?m:[];this.Hwb=f.tt;}Object.defineProperties(d.prototype,{tt:{get:function(){return this.Hwb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ul:{get:function(){return this.JSa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ul.reduce(function(f,l){return f.add(l.endTime.Ba(l.startTime));},c.M.La);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{e6a:{get:function(){return this.JSa.every(function(f){return f.vta;});},enumerable:!1,configurable:!0}});return d;})();b.eEa=t;(function(d){d[d.start=0]="start";d[d.end=1]="end";})(g=b.E1 || (b.E1={}));h=(function(){function d(f,l){this.aca=f;this.tvb=l;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.M.Ha(this.tvb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{lxa:{get:function(){return this.Pxb || (this.Pxb=new d(g.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{l0b:{get:function(){return this.Oxb || (this.Oxb=new d(g.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Ifa=h;t=(function(){function d(f,l,m){this.BD=f;this.BVa=l || h.lxa;this.xvb=m || h.lxa;}Object.defineProperties(d.prototype,{$da:{get:function(){return this.BVa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{EW:{get:function(){return this.xvb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ETb:{get:function(){return this.BVa !== h.lxa || this.EW !== h.l0b;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.BD.duration.add(this.$da.duration).add(this.EW.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zba:{get:function(){return this.$da.duration.add(this.EW.duration);},enumerable:!1,configurable:!0}});return d;})();b.dEa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gLa=void 0;c=a(0);k=a(11);g=a(230);h=a(369);t=c.__importDefault(a(4));d=a(912);t=new t.default.Console("ASEJS","media|asejs");t.trace.bind(t);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];t=(function(l){function m(n,p){var q;q=l.call(this) || this;q.J=n;q.gi=new d.oKa(n,p);n.rO && q.RZa(p);q.wh=new k.Zf();f.forEach(function(r){q.wh.on(q.gi,r,function(u){return q.emit(r,u);});q.rm && q.wh.on(q.rm,r,function(u){return q.emit(r,u);});});return q;}c.__extends(m,l);Object.defineProperties(m.prototype,{Vb:{get:function(){return this.gi.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qo:{get:function(){return this.gi.Qo;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rw:{get:function(){return this.gi.rw;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hC:{get:function(){return this.gi.hC;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Uua:{get:function(){return this.gi.Uua;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BF:{get:function(){return this.gi.BF;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sf:{get:function(){return this.gi.Sf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hi:{get:function(){return this.gi.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pta:{get:function(){return this.gi.Pta;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{IY:{get:function(){return this.gi.IY.bind(this.gi);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{b9:{get:function(){return this.gi.b9.bind(this.gi);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Una:{get:function(){var n;n=this;return function(){n.ofb();n.gi.Una();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{OD:{get:function(){var n;n=this;return function(){n.ofb();n.gi.OD();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yq:{get:function(){var n;n=this;return function(p,q,r){var u;null === (u=n.Sf) || void 0 === u?void 0:u.Yq(p,q,r);};},enumerable:!1,configurable:!0}});m.prototype.RZa=function(n){return this.rm=new (a(1022).EQa)(this.J,this.OD,this.Yq,n);};m.prototype.za=function(n,p,q,r,u,v,w,x){void 0 === w && (w=262144);void 0 === x && (x=1048576);this.gi.za(n,p,q,r,u,v);this.rm?this.rm.za(n,p,q,r,u,v,w,x):this.O8a={mCb:n,sdc:p,Hx:q,hC:r,BF:u,sZb:v,ina:w,mDa:x};};m.prototype.X_=function(n,p,q){this.gi.X_(n,p,q);this.rm?this.rm.X_(n,p,q):this.U8a={L$b:n,hC:p,BF:q};};m.prototype.createSession=function(n,p,q,r,u,v,w,x,y,z){var A,B,C,D,F;A=this;x || (x=this.gi.config);if(x.rO && !this.rm){B=this.RZa(this.gi.KF);f.forEach(function(G){A.wh.on(A.rm,G,function(E){return A.emit(G,E);});});if(this.O8a){C=this.O8a;D=C.hC;F=C.BF;B.za(C.mCb,C.sdc,C.Hx,D,F,C.sZb,C.ina,C.mDa);}this.U8a && (F=this.U8a,C=F.L$b,D=F.hC,F=F.BF,B.X_(C,D,F));}return this.rm && x && x.V0?(x.Js || x.FJ || this.gi.OD(),this.rm.createSession(n,p,q,r,u,v,w,x,y,z)):this.gi.createSession(n,p,q,r,u,v,w,x,y,z);};m.prototype.Uy=function(n,p,q){if(this.rm)return this.rm.Uy(n,p,q);throw Error("Update viewable not supported in legacy.");};m.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};m.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};m.prototype.xb=function(){var n;this.wh.clear();this.gi.xb();null === (n=this.rm) || void 0 === n?void 0:n.xb();g.nL.reset();};m.prototype.ofb=function(){var n,p;this.J.Js || this.J.FJ || (null === (n=this.rm) || void 0 === n?void 0:n.Ga.state) !== h.kp.OPEN || (null === (p=this.rm) || void 0 === p?void 0:p.Ga.ew.reset());};return m;})(k.EventEmitter);b.gLa=t;},function(t){function b(c,k,g,h){c.trace(":",g,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,k,g,h){g=h?g.bind(h):g;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addListener)c.addListener(k,g);else if("function" === typeof c.addEventListener)c.addEventListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,h;g=k[0];h=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,k):"function" === typeof g.removeListener && g.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){t.exports={Usb:a(827),ifc:a(828)};},function(t,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function k(f){this.sf=null;this.fo=f;this.size=0;}function g(f){return null !== f && f.red;}function h(f,l){var m;m=f.Mh(!l);f.Vr(!l,m.Mh(l));m.Vr(l,f);f.red=!0;m.red=!1;return m;}function d(f,l){f.Vr(!l,h(f.Mh(!l),!l));return h(f,l);}b=a(375);c.prototype.Mh=function(f){return f?this.right:this.left;};c.prototype.Vr=function(f,l){f?this.right=l:this.left=l;};k.prototype=new b();k.prototype.Ar=function(f){var l,m,n,p,q,r,u,v,w;l=!1;if(null === this.sf)(this.sf=new c(f),l=!0,this.size++);else {m=new c(void 0);n=0;p=0;q=null;r=m;u=null;v=this.sf;for(r.right=this.sf;;){null === v?(v=new c(f),u.Vr(n,v),l=!0,this.size++):g(v.left) && g(v.right) && (v.red=!0,v.left.red=!1,v.right.red=!1);if(g(v) && g(u)){w=r.right === q;v === u.Mh(p)?r.Vr(w,h(q,!p)):r.Vr(w,d(q,!p));}w=this.fo(v.data,f);if(0 === w)break;p=n;n=0 > w;null !== q && (r=q);q=u;u=v;v=v.Mh(n);}this.sf=m.right;}this.sf.red=!1;return l;};k.prototype.remove=function(f){var l,m,u,v,w;if(null === this.sf)return !1;l=new c(void 0);m=l;m.right=this.sf;for(var n=null,p,q=null,r=1;null !== m.Mh(r);){u=r;p=n;n=m;m=m.Mh(r);v=this.fo(f,m.data);r=0 < v;0 === v && (q=m);if(!g(m) && !g(m.Mh(r)))if(g(m.Mh(!r)))(p=h(m,r),n.Vr(u,p),n=p);else if(!g(m.Mh(!r)) && (v=n.Mh(!u),null !== v))if(g(v.Mh(!u)) || g(v.Mh(u))){w=p.right === n;g(v.Mh(u))?p.Vr(w,d(n,u)):g(v.Mh(!u)) && p.Vr(w,h(n,u));u=p.Mh(w);u.red=!0;m.red=!0;u.left.red=!1;u.right.red=!1;}else (n.red=!1,v.red=!0,m.red=!0);}null !== q && (q.data=m.data,n.Vr(n.right === m,m.Mh(null === m.left)),this.size--);this.sf=l.right;null !== this.sf && (this.sf.red=!1);return null !== q;};t.exports=k;},function(t,b,a){function c(g){this.data=g;this.right=this.left=null;}function k(g){this.sf=null;this.fo=g;this.size=0;}b=a(375);c.prototype.Mh=function(g){return g?this.right:this.left;};c.prototype.Vr=function(g,h){g?this.right=h:this.left=h;};k.prototype=new b();k.prototype.Ar=function(g){if(null === this.sf)return (this.sf=new c(g),this.size++,!0);for(var h=0,d=null,f=this.sf;;){if(null === f)return (f=new c(g),d.Vr(h,f),ret=!0,this.size++,!0);if(0 === this.fo(f.data,g))return !1;h=0 > this.fo(f.data,g);d=f;f=f.Mh(h);}};k.prototype.remove=function(g){var h,d,n;if(null === this.sf)return !1;h=new c(void 0);d=h;d.right=this.sf;for(var f=null,l=null,m=1;null !== d.Mh(m);){f=d;d=d.Mh(m);n=this.fo(g,d.data);m=0 < n;0 === n && (l=d);}return null !== l?(l.data=d.data,f.Vr(f.right === d,d.Mh(null === d.left)),this.sf=h.right,this.size--,!0):!1;};t.exports=k;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=void 0;c=a(22);k=a(2);t=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var h;h=this;return Object.keys(this.data).reduce(function(d,f){return d + h.data[f].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(h){var d;return null !== (d=this.data[h]) && void 0 !== d?d:[];};g.prototype.has=function(h,d){return (h=this.data[h])?void 0 === d?!0:-1 !== h.indexOf(d):!1;};g.prototype.count=function(h){return (h=this.data[h])?h.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var h;h=this;return c.flatten(this.keys().map(function(d){return h.data[d];}));};g.prototype.set=function(h,d){(this.data[h] || (this.data[h]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(h,d){var f,l;f=this.data[h];if(void 0 === f)return !1;if(void 0 === d)return (k.assert(1 === arguments.length),delete this.data[h],!0);l=f.indexOf(d);if(-1 === l)return !1;1 === f.length?delete this.data[h]:f.splice(l,1);return !0;};g.prototype.forEach=function(h,d){var f;f=this;h=void 0 !== d?h.bind(d):h;this.keys().forEach(function(l){return f.data[l].forEach(function(m){return h(m,l,f);});});};g.prototype.reduce=function(h,d,f){var l,m;l=this;h=void 0 !== f?h.bind(f):h;m=d;this.forEach(function(n,p){m=h(m,n,p,l);});return m;};g.prototype.map=function(h,d){var f;f=this;h=void 0 !== d?h.bind(d):h;return c.flatten(this.keys().map(function(l){return f.data[l].map(function(m){return h(m,l,f);});}));};g.prototype.filter=function(h,d){var f;f=this;h=void 0 !== d?h.bind(d):h;return c.flatten(this.keys().map(function(l){return f.data[l].filter(function(m){return h(m,l,f);});}));};return g;})();b.iMa=t;},function(t,b,a){var k,g;function c(h,d,f){var l;void 0 === f && (f={});l=k.__assign(k.__assign({},g),f);return h.filter(function(m){var n;n=m.Qc;m=m.rd;return ! !m && m.yY(d) && (!l.xZa || n.sn(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.t2a=b.bra=void 0;k=a(0);g={xZa:!1};b.bra=function(h,d,f){void 0 === f && (f={});return c(h,d,f).pop();};b.t2a=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.IQa=b.HQa=void 0;c=a(22);t=(function(){function k(g){this.Pa=g;this.listeners=[];this.CZ=[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});k.prototype.set=function(g){var h;this.Pa=g;h=this.CZ;this.CZ=[];this.listeners.forEach(function(d){return d(g);});h.forEach(function(d){return d(g);});};k.prototype.pfb=function(){this.Pa=void 0;};k.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Pa && g(this.Pa);};k.prototype.once=function(g){void 0 !== this.Pa?g(this.Pa):this.CZ.push(g);};k.prototype.IB=function(g){this.listeners=this.listeners.filter(function(h){return h !== g;});this.CZ=this.CZ.filter(function(h){return h !== g;});};return k;})();b.HQa=t;t=(function(){function k(){this.listeners=[];}k.prototype.on=function(g,h){this.listeners.push({signal:g,listener:h});g.on(h);};k.prototype.once=function(g,h){var d,f;d=this;if(void 0 === g.value){f=function(l){d.remove(g,h);h(l);};this.listeners.push({signal:g,listener:h,qlb:f});g.once(f);}else g.once(h);};k.prototype.IB=function(g,h){var d,f;f=c.Xc(this.listeners,function(l){return l.signal === g && l.listener === h;});void 0 !== f && g.IB(null !== (d=f.qlb) && void 0 !== d?d:f.listener);this.remove(g,h);};k.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var h,d;h=g.listener;d=g.qlb;return g.signal.IB(null !== d && void 0 !== d?d:h);});this.listeners=[];};k.prototype.remove=function(g,h){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== h;});};return k;})();b.IQa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JC=b.Oua=void 0;b.Oua=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};t=(function(){function a(){var c;c=this;this.pVa=!1;this.promise=new Promise(function(k){c.nVa=k;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sza:{get:function(){return this.pVa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var k;this.pVa=!0;null === (k=this.nVa) || void 0 === k?void 0:k.call(this,c);this.nVa=void 0;};return a;})();b.JC=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h0a=void 0;b.h0a=function(a){return JSON.parse(JSON.stringify(a));};},function(t,b,a){var k;function c(g,h,d){var f,m,n;if(g === h || !d.Qn && g == h)return !0;if(typeof g !== typeof h)return !1;if(g && "object" === typeof g){for(var l in g){if(!c(g[l],h[l],d))return !1;}if(!d.JEb){m=Object.keys(g);n=Object.keys(h).filter(function(u){return 0 > m.indexOf(u);});try{for(var p=k.__values(n),q=p.next();!q.done;q=p.next()){if((l=q.value,!c(g[l],h[l],d)))return !1;}}catch(u){var r;r={error:u};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(r)throw r.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.J7=void 0;k=a(0);b.J7=function(g,h,d){void 0 === d && (d={});d=k.__assign({Qn:!1,JEb:!1},d);return c(g,h,d);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vT=void 0;t=(function(){function a(){this.count=0;this.max=this.min=this.oa=NaN;}Object.defineProperties(a.prototype,{Ht:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.oa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.oa+=(c - this.oa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.oa};};return a;})();b.vT=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oja=void 0;c=a(0).__importDefault(a(4));t=(function(){function k(g){this.TQ=new Uint16Array(g.length);for(var h=0;h < g.length;++h){this.TQ[h]=g.charCodeAt(h);}}k.prototype.encrypt=function(g){for(var h=this.TQ.length,d="",f=0;f < g.length;++f){d+=String.fromCharCode(this.TQ[f % h] ^ g.charCodeAt(f));}return encodeURIComponent(d);};k.prototype.decrypt=function(g,h){var d,f;void 0 === h && (h=!1);d=this.TQ.length;f="";if(h)for((h=new Uint8Array(c.default.E7(g)),g=0);g < h.length;g++){f+=String.fromCharCode(this.TQ[g % d] ^ h[g]);}else for((h=decodeURIComponent(g),g=0);g < h.length;g++){f+=String.fromCharCode(this.TQ[g % d] ^ h.charCodeAt(g));}return f;};return k;})();b.Oja=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(376);t=(function(){function k(g,h){this.oa=g;this.ee=h;}k.prototype.DYa=function(g){return .5 * c.xO(-(g - this.oa) / Math.sqrt(2 * this.ee));};k.prototype.wy=function(g){return this.oa - Math.sqrt(2 * this.ee) * c.N6a(2 * g);};return k;})();b.default=t;},function(t,b,a){t.exports={Hlc:a(378),cpc:a(232),lfc:a(839),yga:a(233),kfc:a(380),mfc:a(381),upb:a(382)};},function(t,b,a){var g,h,d,f;function c(l,m,n){g.call(this,l,m,n);}function k(l,m){h.call(this,new c(l,m,!1));}g=a(840);h=a(841);d=a(98).sPb;f=a(98).MSb;c.prototype=Object.create(g.prototype);c.prototype.oa=function(){return Math.floor(8 * d(this.$d) / this.Qd);};c.prototype.ee=function(){return Math.floor(64 * f(this.$d) / (this.Qd * this.Qd));};c.prototype.get=function(){return {oa:this.oa(),ee:this.ee(),skc:this.$d.length};};c.prototype.toString=function(){return "bsw(" + this.eN + "," + this.Qd + "," + this.vk + ")";};k.prototype=Object.create(h.prototype);k.prototype.setInterval=function(l){this.tM.setInterval(l);};t.exports=k;},function(t){function b(a,c,k){this.eN=a;this.vk=Math.floor((a + c - 1) / c);this.Qd=c;this.Dyb=k;this.reset();}b.prototype.shift=function(){this.$d.shift();this.Hi.shift();};b.prototype.update=function(a,c){this.$d[a]+=c;};b.prototype.push=function(a){this.$d.push(0);this.Hi.push(a?a:0);this.tb+=this.Qd;};b.prototype.add=function(a,c,k,g){var h,d;if(null === this.tb){h=Math.max(Math.floor((k - c + this.Qd - 1) / this.Qd),1);for(this.tb=c;this.$d.length < h;){this.push(g);}}for(;this.tb < k;){if((this.push(g),this.Dyb))for(;1 < this.$d.length && k + g - (this.tb - this.Qd * this.$d.length + this.Hi[0]) > this.eN;){this.shift();}else this.$d.length > this.vk && this.shift();}if(c > this.tb - this.Qd)this.update(this.$d.length - 1,a);else if(c == k)(g=this.$d.length - Math.max(Math.ceil((this.tb - k) / this.Qd),1),0 <= g && this.update(g,a));else for(g=1;g <= this.$d.length;++g){h=this.tb - g * this.Qd;d=h + this.Qd;if(!(h > k)){if(d < c)break;this.update(this.$d.length - g,Math.round(a * (Math.min(d,k) - Math.max(h,c)) / (k - c)));}}for(;this.$d.length > this.vk;){this.shift();}};b.prototype.reset=function(){this.$d=[];this.Hi=[];this.tb=null;};b.prototype.setInterval=function(a){this.vk=Math.floor((a + this.Qd - 1) / this.Qd);};t.exports=b;},function(t){function b(a){this.tM=a;this.Lb=0;this.YM=null;}b.prototype.add=function(a,c,k){null !== this.YM && c > this.YM && (this.Lb+=c - this.YM,this.YM=null);this.tM.add(a,c - this.Lb,k - this.Lb,this.Lb);};b.prototype.stop=function(a){null === this.YM && (this.YM=a);};b.prototype.yya=function(a,c){return this.tM.yya(a,c);};b.prototype.get=function(){return this.tM.get();};b.prototype.reset=function(){this.tM.reset();};b.prototype.toString=function(){return this.tM.toString();};t.exports=b;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TFa=void 0;c=a(0);k=a(174);new (c.__importDefault(a(4)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");t=(function(){function g(h){this.config=h;this.Uoa=h.c;this.mwa=h.tnc;this.JY=h.JY;this.PX=h.PX;this.A$=h.A$;this.y9b=h.Ykc;this.VI=h.VI;this.h$a=h.h$a;this.reset();}g.prototype.reset=function(){this.Hg=new k.xja(this.Uoa,this.mwa);this.tb=null;};g.prototype.add=function(h,d,f){var l,m,n,r;f=Math.max(f - d,1);h=8 * h / f;if(this.y9b){null === this.tb && (this.tb=d);m=Math.pow(2,(d - this.tb) / this.VI);n=f * m;if(m >= this.h$a){n=new k.xja(this.Uoa,this.mwa);try{for(var p=c.__values(this.Hg.Tn()),q=p.next();!q.done;q=p.next()){r=q.value;n.push(r.Tf,r.n / m);}}catch(v){var u;u={error:v};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}this.Hg=n;n=f;this.tb=d;}this.Hg.push(h,n);}else this.Hg.push(h,f);};g.prototype.get=function(){var h;h=this.Hg.nj([this.JY,this.PX,this.A$]);return {low:h[0] || 0,high:h[1] || 0,initial:h[2] || 0};};g.prototype.qh=function(){var h,d,f,n;d=new g(this.config);f=new k.xja(this.Uoa,this.mwa);try{for(var l=c.__values(this.Hg.Tn()),m=l.next();!m.done;m=l.next()){n=m.value;f.push(n.Tf,n.n);}}catch(q){var p;p={error:q};}finally{try{m && !m.done && (h=l.return) && h.call(l);}finally{if(p)throw p.error;}}d.Hg=f;return d;};g.prototype.flush=function(){};g.prototype.start=function(){};g.prototype.stop=function(){};return g;})();b.TFa=t;},function(t,b,a){var k;function c(){this.qk=void 0;this.rD=0;}k=a(9);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.rD && this.qk?{p25:this.qk.yl,p50:this.qk.Vj,p75:this.qk.zl,c:this.rD}:null;};c.prototype.Dd=function(g){if(!(!k.qb(g) && k.has(g,"p25") && k.has(g,"p50") && k.has(g,"p75") && k.has(g,"c") && k.isFinite(g.p25) && k.isFinite(g.p50) && k.isFinite(g.p75) && k.isFinite(g.c)))return (this.qk=void 0,this.rD=0,!1);this.qk={yl:g.p25,Vj:g.p50,zl:g.p75};this.rD=g.c;};c.prototype.get=function(){return {gca:this.qk,Tk:this.rD};};c.prototype.set=function(g,h){this.qk=g;this.rD=h;};c.prototype.reset=function(){this.qk=void 0;this.rD=0;};c.prototype.toString=function(){return "IQRHist(" + this.qk + "," + this.rD + ")";};t.exports=c;},function(t,b,a){var k;function c(g){var h,d;h=g.sw;d=g.mw;this.dN=h;this.Yja={uhd:g.uhdl,hd:g.hdl};this.vk=Math.max(Math.ceil(1 * h / d),1);this.$wb=g.mins || 1;k.call(this,h,d);this.reset();}k=a(144);new (a(4).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.flush=function(){this.$d.map(function(g,h){this.yWa(g,this.Dra(h));},this);};c.prototype.JDb=function(){var g,h,d,f,l,m,n,u;g=this.Yja;for(h in g){if(g.hasOwnProperty(h)){d=g[h];f=this.$la[h];l=this.Zla[h];if(f.first){m=f.first;n=f.ZJ;void 0 !== n && (l[m][n]+=1);f.first=void 0;}f=[];m=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,r=0;r < d;r++){q+=l[r][p];}m+=q;f.push(q);}q=-1;if(m > this.$wb){for(p=q=0;p < n;p++){if(0 < f[p])for(r=0;r < d;r++){u=l[r][p];0 < u && (q-=u * Math.log(1 * u / f[p]));}}q/=m * Math.log(2);}this.yka[h]=q;}}return this.yka;};c.prototype.yWa=function(g,h){var m,n;for(var d=this.vk,f=this.Yja;this.U4.length >= d;){this.U4.shift();}for(;this.V4.length >= d;){this.V4.shift();}this.U4.push(g);this.V4.push(h);g=this.U4.reduce(function(p,q){return p + q;},0);h=this.V4.reduce(function(p,q){return p + q;},0);if(0 < h){g=8 * g / h;for(var l in f){if(f.hasOwnProperty(l)){h=this.$la[l];d=this.Zla[l];m=this.W4b(g,f[l]);n=h.ZJ;void 0 !== n?d[m][n]+=1:h.first=m;h.ZJ=m;}}}};c.prototype.W4b=function(g,h){for(var d=0;d < h.length && g > h[d];){d+=1;}return d;};c.prototype.shift=function(){this.yWa(this.$d[0],this.Dra(0));k.prototype.shift.call(this);};c.prototype.reset=function(){var g,h,d,f,l,m,n;this.$la={};this.U4=[];this.V4=[];this.Zla={};this.yka={};g=this.Yja;for(h in g){if(g.hasOwnProperty(h)){d=this.Zla;f=h;m=void 0;n=Array(m);m=l=g[h].length + 1;for(var p=0;p < m;p++){n[p]=Array(l);for(var q=0;q < l;q++){n[p][q]=0;}}d[f]=n;this.$la[h]={first:void 0,ZJ:void 0};this.yka[h]=0;}}k.prototype.reset.call(this);};t.exports=c;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=void 0;t=(function(){function a(c,k){this.filter=c;this.tca=k;}a.prototype.fwa=function(c){return 0 < this.tca.filter(function(k){var g;return k === (null === (g=c.eC) || void 0 === g?void 0:g.af);}).length;};a.prototype.add=function(c,k,g,h){this.fwa(h) && this.filter.add(c,k,g,h);};a.prototype.start=function(c,k){this.filter.start && this.fwa(k) && this.filter.start(c);};a.prototype.stop=function(c,k){this.filter.stop && this.fwa(k) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.filter.reset && this.filter.reset();};return a;})();b.SOa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.WDa=void 0;c=a(0);k=a(847);t=(function(){function g(h,d){this.Al=h;this.filter=d;this.k$a=Math.max(h.max_n || 10,0);this.reset();}g.prototype.reset=function(){this.n_=[];this.offset=0;this.Qy=this.IF=null;this.filter.reset();this.F0=null;};g.prototype.add=function(h,d,f){var l;l=this.Qy;null !== l && f > l && (this.offset+=Math.max(d - l,0),this.Qy=null);for(k.t7a(this.n_,[d - this.offset,f - this.offset,h]);this.n_ && this.n_.length > this.k$a;){h=c.__read(this.n_.shift(),3);this.filter.add(h[2],h[0],h[1]);}this.F0=null;};g.prototype.get=function(h,d){var f,n;if(!this.F0){this.F0=this.filter.qh();try{for(var l=c.__values(this.n_),m=l.next();!m.done;m=l.next()){n=c.__read(m.value,3);this.F0.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{m && !m.done && (f=l.return) && f.call(l);}finally{if(p)throw p.error;}}}p=this.Qy;return this.F0.get((null === p?h:p) - this.offset,d);};g.prototype.qh=function(){var h;h=new g(this.Al,this.filter.qh());h.Qy=this.Qy;h.offset=this.offset;return h;};g.prototype.start=function(h){var d;d=this.Qy;null !== d && h > d && (this.offset+=h - d,this.Qy=null);this.filter.start(h - this.offset);};g.prototype.stop=function(h){this.Qy=null === this.Qy?h:Math.min(this.Qy,h);this.filter.stop(h - this.offset);};g.prototype.flush=function(){this.filter.flush();};g.prototype.toString=function(){return "AggregatingFilter(" + this.k$a + ", " + this.filter.toString() + ")";};return g;})();b.WDa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.t7a=void 0;c=a(0);b.t7a=function(k,g){var l,m,n,p,q,r,u,x,y,z,A,B,C,D;for(var h,d,f=0;f < k.length;f++){l=c.__read(g,3);m=l[0];n=l[1];p=l[2];q=c.__read(k[f],3);r=q[0];l=q[1];u=q[2];if(!(m >= l)){m=[m,Math.min(l,n),r,l].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});r=m.length - 1;q=Array(r);p+=u;try{for(var v=(h=void 0,c.__values([g,k[f]])),w=v.next();!w.done;w=v.next()){x=c.__read(w.value,3);y=x[0];z=x[1];A=x[2];u=z - y;for(g=0;g < r;g++){B=m[g + 1];C=Math.min(B,z) - Math.max(m[g],y);if(0 < C){D=C * A / u;p-=D;q[g]=q[g]?q[g] + D:D;}if(z <= B)break;}}}catch(F){h={error:F};}finally{try{w && !w.done && (d=v.return) && d.call(v);}finally{if(h)throw h.error;}}u=[];for(g=0;g < r;g++){A=q[g];0 < A && u.push([m[g],m[g + 1],A]);}k.splice.apply(k,c.__spread([f,1],u));if(l < n)g=[l,n,p];else return;}}g && 0 < g[2] && k.splice(k.length,0,g);};},function(t,b,a){var k,g;function c(h){this.J=h;this.hU();}k=a(9);g=a(4).default;new g.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var h;h=this.getState();g.storage.set("nh",h);};c.prototype.q$b=function(){this.AH || (this.AH=!0,this.Xz=g.time.ia());};c.prototype.y$b=function(){var h;if(this.AH){h=g.time.ia();this.bA+=h - this.Xz;this.Xz=h;this.AH=!1;this.gU=null;}};c.prototype.z7a=function(h,d){this.AH && (d > this.Xz && (this.bA+=d - this.Xz,this.Xz=d),null === this.gU || h > this.gU) && (h=d - h,this.FM.push([this.bA - h,h]),this.Bzb(),this.gU=d);};c.prototype.Bzb=function(){var h;h=this.bA - this.J.C_b;this.FM=this.FM.filter(function(d){return d[0] > h;});};c.prototype.hU=function(){var h;h=g.storage.get("nh");this.Rla(h) || (this.Xz=g.time.ia(),this.bA=0,this.AH=!1,this.gU=null,this.FM=[]);};c.prototype.Rla=function(h){if(!(h && k.has(h,"t") && k.has(h,"s") && k.has(h,"i") && k.Ja(h.t) && k.Ja(h.s) && k.isArray(h.i)))return !1;this.Xz=g.time.kxa(1E3 * h.t);this.bA=1E3 * h.s;this.AH=!1;this.FM=h.i.map(function(d){return [1E3 * d[0],d[1]];});this.gU=null;return !0;};c.prototype.getState=function(){return this.AH?{t:g.time.now() / 1E3 | 0,s:(this.bA + (g.time.ia() - this.Xz)) / 1E3 | 0,i:this.FM.map(function(h){return [h[0] / 1E3 | 0,h[1]];})}:{t:g.time.Pwa(this.Xz) / 1E3 | 0,s:this.bA / 1E3 | 0,i:this.FM.map(function(h){return [h[0] / 1E3 | 0,h[1]];})};};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oMa=void 0;t=a(0).__importDefault(a(4));c=a(14);new t.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function k(g,h){this.config=g;this.Jba=h;this.reset();}k.prototype.reset=function(){this.confidence=c.UC.HAVE_NOTHING;this.startTime=this.aa=0;};k.prototype.qh=function(){var g;g=new k(this.config,this.Jba);g.confidence=this.confidence;g.aa=this.aa;g.startTime=this.startTime;return g;};k.prototype.add=function(g,h,d){0 === this.startTime && (this.startTime=h,this.aa=0);this.aa+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.UC.LC);this.confidence < c.UC.KC && (g > this.config.Zwb || this.aa > this.config.Ywb) && (this.confidence=c.UC.KC);this.confidence < c.UC.ES && (g > this.config.tyb || this.aa > this.config.syb) && (this.confidence=c.UC.ES,this.Jba());};k.prototype.get=function(){return this.confidence;};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;})();b.oMa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hga=void 0;t=a(0);c=a(851);new (t.__importDefault(a(4)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function k(g){var B10;B10=2;for(;B10 !== 4;){switch(B10){case 2:var W3X="1SIYbZ";W3X+="rN";W3X+="JC";W3X+="p9";this.Xta=g;this.OA={};W3X;B10=4;break;}}}var A10;A10=2;for(;A10 !== 7;){switch(A10){case 2:k.prototype.reset=function(){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:this.JF=new c.FFa();C10=1;break;}}};k.prototype.LQ=function(g,h){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:h.Fk && (this.Xta?this.JF.start(g,h.Fk):1 === h.type && (this.OA[h.Fk]?this.OA[h.Fk].c1+=1:this.OA[h.Fk]={Fk:h.Fk,c1:1,C8:!1},this.Qjb(g)));D10=1;break;}}};k.prototype.z_=function(g,h){var E10,d;E10=2;for(;E10 !== 9;){switch(E10){case 1:E10=this.Xta?5:4;break;case 2:E10=h.Fk?1:9;break;case 6:E10=this.Xta?4:9;break;E10=this.Xta?5:4;break;case 4:d=this.OA[h.Fk];1 === h.type && d && (--d.c1,0 === d.c1 && (d.C8 && this.JF.stop(g,h.Fk),d.C8=!1,delete this.OA[h.Fk]),this.Qjb(g));E10=9;break;case 5:this.JF.stop(g,h.Fk);E10=9;break;}}};A10=4;break;case 4:k.prototype.DD=function(g,h,d,f){var F10;F10=2;for(;F10 !== 1;){switch(F10){case 2:f.Fk && (this.Xta?this.JF.add(g,h,d,f.Fk):this.TU === f.Fk && this.JF.add(g,h,d,f.Fk));F10=1;break;}}};k.prototype.Io=function(){var G10;G10=2;for(;G10 !== 1;){switch(G10){case 2:return this.JF.get();break;case 4:return this.JF.get();break;G10=1;break;}}};k.prototype.Qjb=function(g){var H10,h,d;H10=2;for(;H10 !== 5;){switch(H10){case 2:(h=Object.keys(this.OA),d=this.OA[h[0]]);1 === h.length && !1 === d.C8?(this.JF.start(g,d.Fk),this.TU=d.Fk):1 < h.length && this.TU && (h=this.OA[this.TU],this.JF.stop(g,this.TU),h.C8=!1,this.TU=void 0);H10=5;break;}}};return k;break;}}})();b.Hga=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FFa=void 0;c=a(0).__importDefault(a(234));t=(function(){var I10;I10=2;function k(){var J10;J10=2;for(;J10 !== 5;){switch(J10){case 2:var M3X="1SIYbZ";M3X+="r";M3X+="NJCp";M3X+="9";this.z5={};M3X;J10=5;break;}}}for(;I10 !== 9;){switch(I10){case 2:k.prototype.add=function(g,h,d,f){var K10,l;K10=2;for(;K10 !== 4;){switch(K10){case 2:l=this.z5;void 0 === l[f] && (l[f]=new c.default());l[f].add(g,h,d);K10=4;break;}}};k.prototype.start=function(g,h){var L10,d;L10=2;for(;L10 !== 4;){switch(L10){case 2:d=this.z5;void 0 === d[h] && (d[h]=new c.default());d[h].start(g);L10=4;break;}}};k.prototype.stop=function(g,h){var M10,d;M10=2;for(;M10 !== 5;){switch(M10){case 2:d=this.z5;void 0 !== d[h] && d[h].stop(g);M10=5;break;}}};k.prototype.get=function(){var N10,g,h,d,f,l,m;N10=2;for(;N10 !== 8;){switch(N10){case 1:N10=f < h.length?5:9;break;case 2:(g=this.z5,h=Object.keys(g),d=[],f=0);N10=1;break;case 3:f++;N10=1;break;case 9:return d;break;case 5:(l=h[f],m=g[l].get());m && d.push({cdnid:l,avtp:m.oa,tm:m.a8});N10=3;break;}}};return k;break;}}})();b.FFa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;c=a(0).__importDefault(a(234));t=(function(){var O10;O10=2;function k(g){var P10;P10=2;for(;P10 !== 7;){switch(P10){case 2:var s3X="1SIY";s3X+="bZrN";s3X+="JC";s3X+="p9";this.D_=[0,0];this.Ae=[0,0];this.HZ=[0,0];s3X;this.IZ=g.IZ;this.Kxa=[new c.default(),new c.default()];this.ecb=new c.default();P10=7;break;}}}for(;O10 !== 3;){switch(O10){case 2:k.prototype.reset=function(){var Q10;Q10=2;for(;Q10 !== 4;){switch(Q10){case 2:this.D_=[0,0];this.Ae=[0,0];this.HZ=[0,0];Q10=4;break;}}};k.prototype.DD=function(g,h,d,f){var R10,l,m;R10=2;for(;R10 !== 8;){switch(R10){case 4:(this.D_[f.type]+=g,this.ecb.add(g,h,d),this.Kxa[f.type].add(g,h,d));R10=3;break;case 5:R10=(null === (l=f.E_) || void 0 === l?0:l.T$())?4:3;break;case 3:R10=(null === (m=f.E_) || void 0 === m?0:m.hwa(g,h,d,this.IZ))?9:8;break;case 9:this.HZ[f.type]+=g;R10=8;break;case 2:this.Ae[f.type]+=g;R10=5;break;}}};k.prototype.A9=function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return {bytesRequestedPacingVideo:this.D_[1],bytesRequestedPacingAudio:this.D_[0],estimatedBytesPacedVideo:this.HZ[1],estimatedBytesPacedAudio:this.HZ[0],bytestotalVideo:this.Ae[1],bytestotalAudio:this.Ae[0],pacedAvtpVideo:this.Kxa[1].get().oa,pacedAvtpAudio:this.Kxa[0].get().oa,pacedAvtp:this.ecb.get().oa};break;}}};return k;break;}}})();b.fNa=t;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(235);t.__exportStar(a(854),b);t.__exportStar(a(394),b);},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.WQa=void 0;c=a(235);k=a(62);g=a(146);h=a(898);d=a(394);f=a(395);l=a(909);m=a(910);n=a(911);t=(function(){function p(q,r){this.atob=q;this.console=r;this.kDa={};this.fna={};}p.prototype.pSb=function(q,r,u,v){var w,x;void 0 === u && (u={w:16,dt:9});void 0 === v && (v=1);w=l.Xc(d.Ukb,function(y){return d.h3a(r,d.g3a[y]);});f.assert(w);f.assert(16 === u.w && 9 === u.dt || 4 === u.w && 3 === u.dt);u=16 === u.w?"16:9":"4:3";void 0 === this.kDa[q] && (this.kDa[q]={});x=this.kDa[q];void 0 === x[u] && (x[u]={});x=x[u];void 0 === x.h264 && (x.h264={});x=x.h264;void 0 === x[w] && (x[w]={});x=x[w];void 0 === x[v] && (x[v]=this.EJb(h.video[q][u].h264[w],v));return x[v];};p.prototype.oSb=function(q,r,u,v){var w,x;void 0 === u && (u=32);void 0 === v && (v=1);w=u;void 0 === this.fna.silence && (this.fna.silence={});x=this.fna.silence;void 0 === x[q] && (x[q]={});x=x[q];void 0 === x[u] && (x[u]={});u=x[u];void 0 === u[v] && (u[v]=this.decode(h.audio.silence[q][32],v));return c.__assign(c.__assign({},this.zLb(u[v],new g.M(r))),{bitrate:w});};p.prototype.decode=function(q,r){var u,v,w,x;u=q.kg?this.f0a(q.za,q.un,q.wn,q.vn):this.atob(q.za);v=q.ig?this.f0a(q.ta,q.nn,q.qn,q.pn):this.atob(q.ta);if(1 !== r){w=new DataView(u);x=new DataView(v);q.Nh.forEach(function(y){return w.setUint32(y,r);});q.Jh.forEach(function(y){return x.setUint32(y,r);});}return c.__assign(c.__assign({},q),{za:u,ta:v});};p.prototype.EJb=function(q,r){return c.__assign(c.__assign({},this.decode(q,r)),{width:q.width,height:q.height,k2b:1,l2b:1});};p.prototype.zLb=function(q,r){var u,v;u=new g.M(q.ka);v=new g.M(q.duration).Dk(u);r=Math.ceil(r.Dk(u));if(v <= r)return q;v=new k.Qw(this.console,{mediaType:0},q.ta).xza(r,u.U);f.assert(v);return c.__assign(c.__assign({},q),{ta:m.Tu(v.ta),duration:u.EB(r)});};p.prototype.f0a=function(q,r,u,v){q=void 0 === r?n.zaa(q):v?n.zaa(r + q):n.zaa(q,new Uint8Array(this.atob(r)));return q.buffer.slice(q.byteOffset + (u || 0),q.byteOffset + q.byteLength);};return p;})();b.WQa=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.zh();this.Vc=1 === this.version?this.Dy([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.Dy([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};g.gf="mvhd";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(146);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.zI=function(d){var f;if(d && d.ka && !d.Q1b){f=this.yq("mdia");f && (f=f.yq("mdhd")) && f.U !== d.ka.U && (d.ka=new k.M(d.ka).Wf(f.U));}return !0;};h.gf="trak";h.od=!0;return h;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){var d;this.zh();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Vmc:"int16"},{$jc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Vc=this.Dy(d);this.Vc.Cpc=! !(this.flags & 1);this.Vc.Dpc=! !(this.flags & 2);this.Vc.Epc=! !(this.flags & 4);this.Vc.Fpc=! !(this.flags & 8);this.L.console.trace("Finished parsing track box");if(null === h || void 0 === h?0:h.mf)(h.mf.width=this.Vc.width,h.mf.height=this.Vc.height);h && h.Wk && (h.Wk[this.Vc.trackId]={});return !0;};g.gf="tkhd";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.zh();this.Vc=this.Dy(1 === this.version?[{c3a:"int64"}]:[{c3a:"int32"}]);return !0;};g.gf="mehd";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){this.Vc=this.Dy([{aUb:"int32"},{pdc:"int32"}]);if(null === h || void 0 === h?0:h.mf)(h.mf.lmc=this.Vc.aUb,h.mf.Spc=this.Vc.pdc);return !0;};g.gf="pasp";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.Vc=this.Dy([{ukc:"int32"},{maxBitrate:"int32"},{Q6:"int32"}]);return !0;};g.gf="btrt";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.L.VB();this.L.VB();for(this.Poa=[];this.L.offset <= this.byteOffset + this.byteLength - 4;){this.Poa.push(this.L.VB());}return !0;};g.gf="ftyp";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(83);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){var f,l,m,n,p;this.zh();this.Vc=this.Dy([{ioc:"int32"},{pta:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Vc.pta=k.VG(this.Vc.pta);if(d && d.Wk){p=null === (n=null === (m=null === (l=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === l?void 0:l.Mx("tkhd")) || void 0 === m?void 0:m.Vc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Wk[p] && (d.Wk[p].Vx=this.Vc.pta);}return !0;};h.gf="hdlr";h.od=!1;return h;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(100);g=a(146);h=a(175);t=a(24);d=a(84);a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.zh();this.vO=this.L.ac();return !0;};l.prototype.zI=function(m){var n;n=Object.keys(this.je);n.length && (n=n[0],this.je[n].length && (n=this.je[n][0],n instanceof h.default?this.ka=new g.M(n.DI,n.samplerate):n instanceof d.default && (n=n.je[k.Xha]) && n.length && (n=n[0].Vc,1E3 !== n.bv && 1001 !== n.bv || 0 !== n.Vv % 1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.Vv + "/" + n.bv):this.ka=new g.M(n.bv,n.Vv)),m && this.ka && (m.ka=this.ka)));return !0;};l.prototype.Leb=function(m){void 0 !== this.je[m] && 0 !== this.je[m].length && (this.Qb.Cw(this.vO - 1,this.byteOffset + 12),m=this.je[m][0],this.Jn(m.byteLength,m.byteOffset));};l.gf="stsd";l.od=!0;return l;})(t.Xf);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.QOb=this.L.Cd(2);this.kDb=this.L.Cd(5);this.lDb=this.L.Cd(3);this.aAb=this.L.Cd(3);this.L.Cd(1);this.L.Cd(5);this.L.Cd(5);return !0;};g.gf="dac3";return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){var d,f;d=this.L.$g();this.V_a=d >> 3;this.o0b=d & 7;this.X$b=[];for(d=0;d < this.o0b;d++){f={QOb:this.L.Cd(2),kDb:this.L.Cd(5),lDb:this.L.Cd(5),aAb:this.L.Cd(3),Xmc:this.L.Cd(1),n0b:this.L.Cd(4)};0 < f.n0b?f.Ckc=this.L.Cd(9):this.L.Cd(1);this.X$b.push(f);}h && h.vLb && (h.vLb.V_a=this.V_a);return !0;};g.gf="dec3";return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(24);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){this.zh();this.qAa=this.L.VB();k.W && this.L.console.trace("SchemeTypeBoxTranslator: " + this.qAa);if("cenc" === this.qAa){if((this.L.offset-=4,k.W && this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.L.offset),this.Qb.rlb("piff"),null === d || void 0 === d?0:d.mf))d.mf.zMb="piff";}else if(null === d || void 0 === d?0:d.mf)d.mf.zMb=this.qAa;this.L.ac();return !0;};h.gf="schm";h.od=!1;return h;})(k.Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){var d;this.L.Bd();this.gmb=this.L.Bd();this.L.Bd();this.L.Bd();this.L.Bd();this.Wda=this.Fla(this.L.Bd() & 31);this.hdb=this.Fla(this.L.Bd());this.zQ=this.Wda.length?this.Wda[0][1]:this.gmb;this.YUa=this.L.offset;this.startOffset + this.length < this.L.offset && (100 === this.zQ || 110 === this.zQ || 122 === this.zQ || 144 === this.zQ) && (this.L.Bd(),this.L.Bd(),this.Fla(this.L.Bd()));d=this.startOffset + this.length - this.YUa;0 < d && this.Jn(d,this.YUa);h && h.pna && (h.pna.Wda=this.Wda,h.pna.hdb=this.hdb,h.pna.zQ=this.zQ);return !0;};g.prototype.Fla=function(h){var l;for(var d=[],f=0;f < h;++f){l=this.L.$g();d.push(this.L.Mca(l));}return d;};g.gf="avcC";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){this.L.Cd(1);this.L.Cd(7);this.agb=this.L.Cd(3);this.$fb=this.L.Cd(5);this.bgb=this.L.Cd(1);this.C6a=this.L.Cd(1);this.Bjb=this.L.Cd(1);this.rab=this.L.Cd(1);this.VYa=this.L.Cd(1);this.WYa=this.L.Cd(1);this.UYa=this.L.Cd(2);this.L.Cd(3);(this.mua=this.L.Cd(1))?this.l7a=this.L.Cd(4):this.L.Cd(4);h && (h.gkc={agb:this.agb,$fb:this.$fb,bgb:this.bgb,C6a:this.C6a,Bjb:this.Bjb,rab:this.rab,VYa:this.VYa,WYa:this.WYa,UYa:this.UYa,mua:this.mua,l7a:this.l7a});return !0;};g.gf="av1C";return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(99);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.zI=function(){var d;d=this.Mx("esds");if(d=d && d.jpb.Mx(5))(k.assert(this.samplerate),this.DI=d.DI * this.samplerate / d.tda);return !0;};h.gf="mp4a";h.od=!0;return h;})(a(175).default);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(238);t=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(d){this.zh();this.jpb=k.sHa.aeb(this.L,d);return !0;};h.gf="esds";h.od=!1;return h;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=a(100);a=a(24);k=t.Xha;a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.zh();this.Vc=this.Dy([{Vv:"int32"},{bv:"int16"}]);return !0;};h.gf=k;h.od=!1;return h;})(a.Xf);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){var d,f,l,m,n;this.zh();d=this.Dy([{FR:"int32"},{Fpa:"int32"},{Jx:"int32"},{HA:"int32"},{GA:"int32"}]);f=d.FR;l=d.Fpa;m=d.Jx;n=d.GA;d=d.HA;this.Vc={trackId:f,alc:l,M7:m,blc:n,clc:d};(null === h || void 0 === h?0:h.Wk) && h.Wk[f] && (h.Wk[f].Fpa=l,h.Wk[f].Jx=m,h.Wk[f].GA=n,h.Wk[f].HA=d);this.FR=f;this.Fpa=l;this.Jx=m;this.HA=d;this.GA=n;return !0;};g.gf="trex";g.od=!1;return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(874);g=a(99);h=a(391);t=(function(d){function f(l,m,n,p,q){l=d.call(this,l,m,n,p,q) || this;l.vW=!1;return l;}c.__extends(f,d);Object.defineProperties(f.prototype,{U_a:{get:function(){return ! !(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{H8:{get:function(){return ! !(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{qda:{get:function(){return ! !(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{sda:{get:function(){return ! !(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{fAa:{get:function(){return ! !(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{eAa:{get:function(){return ! !(this.flags & 2048);},enumerable:!0,configurable:!0}});f.prototype.parse=function(l){var m,n,p;this.zh();this.zna=this.L.offset;this.Wd=this.L.ac();this.yo=this.U_a?this.L.Pca():0;this.lOb=this.H8?this.L.ac():void 0;this.dAa=(this.qda?4:0) + (this.sda?4:0) + (this.fAa?4:0) + (this.eAa?4:0);this.FO=this.L.offset;g.assert(this.U_a,"Expected data offset to be present in Track Run");g.assert(this.length - (this.L.offset - this.startOffset) === this.Wd * this.dAa,"Expected remaining data in box to be sample information");if(l && l.ta){l.ta.yo=this.yo;l.ta.Wd=this.Wd;this.Tk=[];p=null === (n=null === (m=this.parent) || void 0 === m?void 0:m.Mx("tfhd")) || void 0 === n?void 0:n.FR;for(m=0;m < this.Wd;m++){n={};this.qda?n.pda=this.L.ac():l.ta.Jx?n.pda=l.ta.Jx:p && l.Wk && l.Wk[p] && (n.pda=l.Wk[p].Jx);this.sda?n.pK=this.L.ac():l.ta?n.pK=l.ta.HA:p && l.Wk && l.Wk[p] && (n.pK=l.Wk[p].HA);this.fAa?n.rda=this.L.ac():l.ta?n.rda=l.ta.GA:p && l.Wk && l.Wk[p] && (n.rda=l.Wk[p].GA);this.eAa && (n.Ioc=0 === this.version?this.L.ac():this.L.Pca());0 === m && this.H8 && (n.rda=this.lOb);this.Tk.push(n);}l.ta.Tk=this.Tk;if(l.ta.oK)for((g.assert(l.ta.oK.length === l.ta.Tk.length,"num fragment samples: " + l.ta.Tk.length + ", num samples in auxiliary info: " + l.ta.oK.length),p=0);p < l.ta.Tk.length;p++){l.ta.Tk[p].iha=l.ta.oK[p].iha;l.ta.Tk[p].XBa=l.ta.oK[p].XBa;}}return !0;};f.prototype.y5=function(l,m,n){var p,q,r;p=this.qda?this.L.ac():l.Jx;q=this.sda?this.L.ac():l.HA;l=this.fAa?this.L.ac():l.GA;r=this.eAa?0 === this.version?this.L.ac():this.L.Pca():0;return {y7b:r,rda:l,pK:q,pda:p,koc:(n || 0) + r - (void 0 !== m?m:r)};};f.prototype.Ca=function(l,m,n,p,q,r,u){var v,w,x,y;g.assert(void 0 !== this.yo);g.assert(void 0 !== this.FO);g.assert(void 0 !== this.zna);g.assert(void 0 !== this.Wd);g.assert(void 0 !== l.Ns);v=0;w=0;this.Qb.offset=this.FO;for(p=0;p < q;++p){x=this.y5(m,y,w);if(0 === p)y=x.y7b;v+=x.pK;w+=x.pda;}p=q;q=this.L.offset;x=this.y5(m,y,w);this.wza=u;this.iR=p;this.lhb=w;if(u){if((this.HQ=this.yo + v,this.Pr=0,p === this.Wd))return !0;}else if((this.HQ=this.yo,this.Pr=v,0 === p))return !0;if(0 === p || p === this.Wd)return !1;this.vW=!0;if(u){this.Pr+=x.pK;for(u=p + 1;u < this.Wd;++u){x=this.y5(m,y,w);this.Pr+=x.pK;}this.Qb.offset=this.zna;this.Wd=p;this.Qb.Cw(this.Wd);this.Qb.yDa(r);this.H8 && (this.L.offset+=4);this.Jn(this.length - (q - this.startOffset),q);}else (m=q - this.FO,this.FO=q,this.Qb.offset=this.zna,this.Wd-=p,this.Qb.Cw(this.Wd),this.yo+=v,this.Qb.yDa(r,this.yo),this.H8 && (this.L.offset+=4),this.Jn(m,this.Qb.offset));n.Jn(this.Pr,l.Ns + this.HQ);return !0;};f.prototype.l_b=function(l,m,n,p,q,r,u,v){var w,y,z,A,B;void 0 === u && (u=!1);g.assert(void 0 !== this.yo);g.assert(void 0 !== this.FO);g.assert(void 0 !== this.Wd);g.assert(void 0 !== this.dAa);g.assert(void 0 !== l.Ns);for(var x=p.length;x < this.Wd;++x){p[x]=p[x - 1];}p.some(function(C){return 0 >= C;}) && (y=null === (w=this.Uvb(q,r)) || void 0 === w?void 0:w.Sda);this.L.offset=this.FO;l=l.Ns + this.yo;q=-1 !== q.indexOf("heaac")?"aac":"ddp";r=new Uint8Array(this.L.view.buffer,this.L.view.byteOffset,this.L.view.byteLength);for(x=0;x < this.Wd;++x){w=this.y5(m).pK;if(-Infinity === p[x]){if(y && this.sda){n.$ca(w,y,l);z=this.dAa - (this.qda?4:0);this.Qb.offset-=z;this.Qb.Cw(y.byteLength);this.Qb.offset+=z - 4;}}else if(0 > p[x])try{A=r.subarray(l,l + w);B=k.oE({jf:q,frame:A,mA:p[x],mK:u,rJ:v}).DOb;B !== w && this.L.console.error("TrackRunBoxEditor: parse frame size error " + B + " should be " + w);}catch(C){this.L.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}l+=w;}};f.prototype.Uvb=function(l,m){if("string" === typeof m)return (g.assert("reset" !== m && "standard" !== m),h.mV[m]);if(void 0 !== l)return m?h.mV.reset[l] || h.mV.standard[l]:h.mV.standard[l];};f.gf="trun";f.od=!1;return f;})(a(24).Xf);b.Otb=t;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(390).__exportStar(a(875),b);},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.oE=void 0;c=a(242);k=a(876);b.oE=function(){var l,m,n,p;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}l="string" === typeof d[0]?{jf:d[0],frame:d[1],mA:d[2],EFb:d[3],rJ:d[4]}:d[0];m=l.jf;d=l.frame;f=l.mA;n=l.EFb;p=l.rJ;l=l.mK;l=void 0 === l?!1:l;switch(m){case "aac":void 0 === g && (g=a(877).oE);m=6;n && (n=new c.G1(n),m=k.jcb(n).uda);d=g(d,f,l,{uda:m}).Ixa;break;case "ddp":void 0 === h && (h=a(886).oE);d=h(d,f,{rJ:p}).Ixa;break;default:throw Error("Unrecognized codec in fadeFrame: " + m);}return {DOb:d};};},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.jcb=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.jcb=function(c){var k,g,h,d;k=c.read(5);g=c.read(4);if(15 === g){h=c.read(24);g=a.indexOf(h);}else h=a[g];d=c.read(4);switch(k){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + k + " not supported.");}return {$q:k,sampleRate:h,uda:g,Dkc:d,COb:1024};};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.oE=void 0;c=a(242);k=a(878);b.oE=function(g,h,d,f){var l;l=new c.G1(g);h=k.Adb(l,{mA:h,mK:d},f && f.uda);l=l.offset;return {frame:g.subarray(0,l),Ixa:l,Rpc:h};};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Adb=void 0;c=a(243);k=a(879);b.Adb=function(g,h,d){var f,l,m;if(4095 === g.read(12)){g.advance(3);f=! !g.read(1);l=g.read(2) + 1;d=g.read(4);g.advance(8);m=g.read(13);g.advance(13 + (f?0:16));f={$q:l,uda:d,COb:m};}else g.reverse(12);c.assert(void 0 !== d);k.Edb(g,d,h);return f;};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Edb=void 0;c=a(880);k=a(885);b.Edb=function(g,h,d){var l;for(var f;7 !== (f=g.read(3));){l=g.read(4);switch(f){case 1:c.xdb(g,h,d);break;case 6:k.zdb(g,l,d);break;default:throw Error("Unsupported AAC element " + f);}}g.zDb();};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xdb=void 0;c=a(881);b.xdb=function(k,g,h){var d,f;d=k.read(1);if(d){f=new c.JJa(k,d,g);1 === k.read(2) && k.advance(f.gQ * f.SY);}c.Oya(k,g,f,h);c.Oya(k,g,f,h);};},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.JJa=b.Oya=void 0;c=a(243);k=a(882);g=a(884);b.Oya=function(l,m,n,p){var q,r,u;q=l.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.mA / 20)) / Math.log(2)));l.reverse(8);l.write(8,p);n || (n=new f(l,0,m));q=n;r=2 === q.wDa?3:5;u=(1 << r) - 1;m=[];p=[];for(var v=[],w=0;w < q.gQ;++w){for(var x=0,y=0;x < q.SY;){for(var z=l.read(4),A=0,B;(B=l.read(r)) === u;){A+=B;}A+=B;x+=A;m.push(z);p.push(A);++y;}v.push(y);}q=!0;for(r=0;r < m.length;++r){0 !== m[r] && (13 === m[r] && q?(l.advance(9),q=!1,k.g3.jhb(l,p[r] - 1)):k.g3.jhb(l,p[r]));}l.read(1) && l.advance(6 + 9 * (l.read(2) + 1));if(l.read(1))for((q=n,r=2 === q.wDa?h:d,u=0);u < q.rbb;++u){if(v=l.read(r[0]))for((w=l.read(1),x=0);x < v;++x){if((l.advance(r[1]),y=l.read(r[2])))(l.advance(1),z=l.read(1),l.advance(y * (w + 3 - z)));}}c.assert(!l.read(1));q=n.gQ;r=n.SY;u=n.sib;n=n.hfa;for(w=v=0;w < q;++w){for((x=n[w],y=0);y < r;++v){if((z=m[v],A=p[v],0 === z || 13 === z || 15 === z || 14 === z))y+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++y)){for(var D=x * (u[y + 1] - u[y]) / B,F=0;F < D;++F){k.g3.X9b(l,z);}}}}}};h=[1,4,3];d=[2,6,5];f=(function(){return function(l,m,n){var p;this.hfa=[];this.gQ=1;this.hfa[0]=1;l.advance(1);this.wDa=l.read(2);l.read(1);if(2 === this.wDa){this.rbb=8;this.SY=l.read(4);for(m=0;7 > m;++m){l.read(1)?this.hfa[this.gQ - 1]++:(this.gQ++,this.hfa[this.gQ - 1]=1);}this.sib=g.mQa[n];}else {this.rbb=1;this.SY=l.read(6);if(l.read(1)){p=14 + Math.min(this.SY,40);l.read(1) && l.advance(p);m && l.read(1) && l.advance(p);}this.sib=g.lQa[n];}};})();b.JJa=f;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.g3=void 0;c=a(883);k=[c.tIa,c.wIa,c.xIa,c.yIa,c.zIa,c.AIa,c.BIa,c.CIa,c.DIa,c.uIa,c.vIa];g=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.g3=(function(){function h(){}h.z2a=function(d,f){var l,q,r;l=f.table;f=f.width;for(var m=0,n=l[0],p=d.read(n);p !== l[m + 1];){m+=f;q=l[m];r=q - n;n=q;p<<=r;p|=d.read(r);}return m;};h.ihb=function(d){for(var f=4;d.read(1);){++f;}d.advance(f);};h.jhb=function(d,f){for(;f--;){h.z2a(d,c.EIa);}};h.X9b=function(d,f){var l,m;l=k[f - 1];m=l.table;l=this.z2a(d,l);if(11 > f)g[f - 1] && (f=m[l + 2]) && d.advance(f);else if(11 === f || 15 < f)(l+=2,(f=m[l]) && d.advance(f),(m=m[l + 1]) && this.ihb(d),1 < m && this.ihb(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return h;})();},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EIa=b.vIa=b.uIa=b.DIa=b.CIa=b.BIa=b.AIa=b.zIa=b.yIa=b.xIa=b.wIa=b.tIa=void 0;b.tIa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.wIa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.xIa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.yIa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.zIa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.AIa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.BIa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.CIa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.DIa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.uIa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.vIa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.EIa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(t,b){var a,c,k,g,h,d,f,l,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.atb=b.Aqb=b.ctb=b.xtb=b.ytb=b.mQa=b.lQa=void 0;t=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);k=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);l=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);m=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.lQa=[t,t,c,g,g,d,f,f,m,m,m,p];b.mQa=[a,a,k,h,h,h,l,l,n,n,n,q];b.ytb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.xtb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.ctb=(function(){for(var r=new Float32Array(428),u=0;428 > u;u++){r[u]=Math.pow(2,(u - 200) / 4);}return r;})();b.Aqb=(function(){for(var r=new Float32Array(8191),u=4 / 3,v=0;8191 > v;v++){r[v]=Math.pow(v,u);}return r;})();b.atb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zdb=void 0;b.zdb=function(a,c,k){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== k.mA && !k.mK?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.oE=void 0;c=a(242);k=a(887);b.oE=function(g,h,d){var f;f=new c.G1(g);h=k.$Wa(f,h,null === d || void 0 === d?void 0:d.rJ).EOb;g=g.subarray(0,h);k.Ngb(g);return {frame:g,Ixa:h};};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ngb=b.$Wa=void 0;c=a(243);k=a(888);b.$Wa=function(g,h,d){var f,l;f=g.read(16);c.assert(2935 === f);f=2 * ((g.read(16) & 2047) + 1);g.advance(13);l=g.read(5);g.reverse(5);d && (h*=-l / d);g.write(5,Math.min(31,Math.max(1,Math.floor(l + h))));return {EOb:f};};b.Ngb=function(g){var h;h=k.c_a(g.subarray(2,g.length - 2));g[g.length - 2]=h >> 8;g[g.length - 1]=h & 255;};},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.c_a=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.c_a=function(c,k){void 0 === k && (k=0);k=~ ~k;for(var g=0;g < c.length;g++){k=(a[(k >> 8 ^ c[g]) & 255] ^ k << 8) & 65535;}return k;};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(h){this.jJb=this.L.VB();h && h.mf && (h.mf.w7b=this.jJb);return !0;};g.gf="frma";return g;})(a(24).Xf);b.default=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(891);g=a(244);h=a(99);d=a(146);f=a(24);t=a(388);l=a(389);m=a(392);n=a(147);p=a(236);q=a(100);r=a(393);u=a(894);a=(function(){function v(w,x,y,z,A,B){this.console=w;this.stream=x;this.nw=z;this.bBb=A;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=B || ({});this.ATb=n.aQb();}v.path=function(w,x){return x.reduce(function(y,z){return y && y.je[z] && y.je[z][0];},w);};v.dRb=function(w){return w && w.Poa && -1 !== w.Poa.indexOf("mcl0")?"mcl0":void 0;};v.SNb=function(w,x){var y,z;h.assert("mcl0" === w,"Unsupported McClearen brand");y=x.Z;w=y.ae;x=new d.M(120,1).Wf(y.U).Xa;z=0;for(y=y.On;z < w.length && y < x;){y+=w[z++];}return z;};v.prototype.parse=function(w){var x;x=this.J7b();if(!x.done){if(x.Eab)return {ry:!1,cBb:x.Eab};this.console.error("Scan error: " + x.error);return {ry:!1,parseError:x.error || "unknown mp4 scan error"};}if(null === w || void 0 === w?0:w.ka)w.Q1b=w.ka;this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);w=this.p2b(w);return w.done?this.dGb():(this.console.error("Parse error: " + w.error),{ry:!1,parseError:w.error || "unknown mp4 parse error"});};v.prototype.RA=function(w){return f.Xf.RA(this,w);};v.prototype.Mx=function(w){return f.Xf.Mx(this,w);};v.prototype.J7b=function(){var w,x;w=new r.Kpb(this.nw,this.bBb?[q.u3,q.t3]:[],this.config && this.config.qpc || ["moof",q.jMa],this.config && this.config.ocb);x=c.__assign(c.__assign({},this.config),{Rxa:!1});return new m.Xfa(v.lAa,w,this.view,this.console,x).parse();};v.prototype.p2b=function(w){var x,y,z;x=new r.DGa(this.view.byteLength);y=Object.create(p.XP.je);this.config && ((this.config.Qxa || this.config.qjb || this.config.Vda) && k(p.XP.cAa,y),this.config.yCa && k(p.XP.ubc,y),this.config.qjb && k(p.XP.rjb,y));z=c.__assign(c.__assign({},this.config),{Rxa:!0});this.qg=new m.Xfa(y,x,this.view,this.console,z);w=this.qg.parse(w);w.done && (this.je=this.qg.je);return w;};v.prototype.dGb=function(){var w,x,y,z,A,B,C,D;w={ry:!0};x=v.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.RA("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){z=y[0].yq("tkhd");z && (w.trackId=z.Vc.trackId);}z=v.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.Qxa)if(z)(w.ka=z.ka,w.Hoc=z.je);else return {ry:!1,parseError:"Missing sample descriptions"};A=v.path(z,["encv","sinf","schi"]);A && (A=v.path(A,["tenc"]) || v.path(A,[q.UMa])) && (w.yMb={Qkc:A.cq,ava:A.ava,Rmc:!1});if(A=v.path(x,["trak","mdia","mdhd"]))w.U=A.U;if(A=v.path(x,["mvex","trex"]))w.M7=A && A.Vc.M7;w.M7 && w.U && (w.ka=new d.M(w.M7,w.U));if(A=v.path(this,["sidx"])){B=v.path(this,[q.u3]);B=B && B.oZb;C=v.path(this,[q.t3]);C=C && C.wk;w.Z=A.Z;w.WP=B;w.wk=C;}if(B=this.je.vmaf && this.je.vmaf[0])w.Ll=B.Ll;if(this.config.Bza && (B=v.path(x,["mvex"])) && y && y.length){D=y.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});D.byteOffset > B.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=u.Djb(y,B.byteOffset,B.byteOffset + B.byteLength),D=u.Djb(y,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),y.set(D,B.byteOffset),y.set(C,B.byteOffset + D.byteLength));}if(this.config.vfb)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.Vda && z && 1 < z.vO && A && (w.Dg=this.Vda(z,A)),void 0 === w.Dg && (x=this.qg.vW?g.concat(this.qg.Ca()):this.view.buffer,w.Dg=[{me:0,data:x}]));else return {ry:!1,parseError:"Missing movie box"};w.ry=!0;w.cca=this.qg.offset;return w;};v.prototype.trim=function(w){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.qg.trim(w);this.view=new DataView(x);};v.prototype.Vda=function(w,x){var y,z,A;y=Object.keys(w.je);z=y.filter(function(B){return "encv" !== B;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=v.path(this,["ftyp"]);A=v.dRb(y);if(A)return (y=[],this.qg.V4b(),w.Leb("encv"),y.push({me:0,Zl:!1,data:g.concat(this.qg.Ca())}),this.qg.C3b(),w.Leb(z[0]),w=v.SNb(A,x),y.push({me:w,Zl:!0,data:g.concat(this.qg.Ca())}),y);}};v.lAa={};return v;})();b.Rw=a;a.lAa[q.Yha]=t.default;a.lAa[q.Zha]=l.default;},function(t){t.exports=function k(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(h){g=Object.getOwnPropertyDescriptor(a,h);void 0 !== g && Object.defineProperty(c,h,g);});};},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);k=a(99);g=a(244);h=a(83);t=a(893);d=(function(){function f(l){l?(this.sq=l.sq.slice(),this.cu=l.cu.slice(),this.ji=l.ji.slice(),this.trim=l.trim):(this.sq=[],this.cu=[],this.ji=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.sq.length && 0 === this.cu.length && 0 === this.ji.length;},enumerable:!0,configurable:!0}});return f;})();t=(function(f){function l(m,n,p){m=f.call(this,m,n,p) || this;m.j1a=[];m.te=new d();return m;}c.__extends(l,f);l.KBb=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.b0?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.b0?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:k.assert(!n.b0);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(l.prototype,{vW:{get:function(){return !this.te.empty;},enumerable:!0,configurable:!0}});l.prototype.kfa=function(m,n){this.te.cu.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};l.prototype.aec=function(m){this.te.cu.push({offset:!1,value:m,size:2,b0:!1});};l.prototype.Cw=function(m,n){this.te.cu.push({offset:void 0 !== n?n:this.offset,value:m,size:4,b0:!1});void 0 === n && (this.offset+=4);};l.prototype.bec=function(m,n){this.te.cu.push({offset:void 0 !== n?n:this.offset,value:m,size:8,b0:!1});void 0 === n && (this.offset+=8);};l.prototype.rlb=function(m){this.Cw(h.XSa(m));};l.prototype.yDa=function(m,n){this.te.ji.push({offset:this.offset,ar:m,value:n});this.offset+=4;};l.prototype.Jn=function(m,n,p){this.te.sq.push({offset:n,remove:m,ub:p});};l.prototype.$ca=function(m,n,p,q){this.te.sq.push({offset:p,remove:m,replace:n,ub:q});};l.prototype.trim=function(m){this.te.trim=m;};l.prototype.V4b=function(){this.j1a.push(new d(this.te));};l.prototype.C3b=function(){this.te=this.j1a.pop() || new d();};l.prototype.Ca=function(){var m,n,p,q,r,u,v;m=this;if(0 === this.te.sq.length && 0 === this.te.cu.length && 0 === this.te.ji.length)return [void 0 === this.te.trim?this.view.buffer:this.view.buffer.slice(0,this.te.trim)];this.te.sq.sort(function(w,x){return w.offset - x.offset;});this.te.cu.sort(function(w,x){return w.offset - x.offset;});this.a7b();n=this.KNb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.te.cu.forEach(l.KBb.bind(void 0,q));this.fcc(q);this.ecc(q);r=[];u=void 0 !== this.te.trim?Math.min(this.te.trim,this.view.byteLength):this.view.byteLength;v=0;this.te.sq.filter(function(w){return w.offset <= u;}).forEach(function(w){w.offset > v && (r.push(q.buffer.slice(v,w.offset)),w.offset > q.byteLength && q !== m.view && (q=m.view,r.push(q.buffer.slice(n,w.offset))));w.replace && r.push(w.replace);v=w.offset + w.remove;});v < n && r.push(p.slice(v));v < u && r.push(this.view.buffer.slice(Math.max(p.byteLength,v),u));return r;};l.prototype.KNb=function(){var m,n,p;m=[];n=this.te.cu[this.te.cu.length - 1];p=this.te.ji[this.te.ji.length - 1];n && m.push(n.offset + n.size);p && m.push(p.offset + 4);this.te.sq.filter(function(q){return q.ub;}).forEach(function(q){return m.push(q.ub.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.te.trim?Math.min(n,this.te.trim):n;};l.prototype.a7b=function(){this.te.sq=this.te.sq.reduce(function(m,n){var p,q;if(0 === m.length)return (m.push(n),m);p=m[m.length - 1];q=p.offset + p.remove;n.offset >= q?m.push(n):n.offset + n.remove > q && (k.assert(p.ub === n.ub),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?g.concat(p.replace,n.replace):n.replace));return m;},[]);};l.prototype.fcc=function(m){var n;n=this;this.te.ji.forEach(function(p){var q,r,u,v;q=m;r=p.offset;n.te.sq.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),r=p.offset - w.offset,!0):!1;});u=p.ar + (void 0 !== p.value?p.value:q.getInt32(r));v=n.te.sq.reduce(function(w,x){return x.offset > p.ar && x.offset < u?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);q.setInt32(r,u - p.ar - v);});};l.prototype.ecc=function(m){this.te.sq.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.ub;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - p);n=n.parent;}});};return l;})(t.Xtb);b.Wtb=t;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);a(147);k=a(83);t=(function(){function g(h,d,f){this.view=h;this.console=d;this.config=f;this.view=h;this.console=d;this.Ld=this.Os=this.offset=0;}g.prototype.S3a=function(h){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,h);};g.prototype.Cd=function(h){for(;this.Ld < h;){this.Os=(this.Os << 8) + this.Bd();this.Ld+=8;}this.Ld-=h;return this.Os >>> this.Ld & (1 << h) - 1;};g.prototype.Bd=function(){var h;h=this.view.getUint8(this.offset);this.offset+=1;return h;};g.prototype.$g=function(h){h=this.view.getUint16(this.offset,h);this.offset+=2;return h;};g.prototype.ac=function(h){h=this.view.getUint32(this.offset,h);this.offset+=4;return h;};g.prototype.Pca=function(){var h;h=this.view.getInt32(this.offset,void 0);this.offset+=4;return h;};g.prototype.J2b=function(h,d){var f;f=this.view.getUint32(this.offset + (h?4:0),h);h=this.view.getUint32(this.offset + (h?0:4),h);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + h;};g.prototype.Dl=function(h,d){h=this.J2b(h,d);this.offset+=8;return h;};g.prototype.L2b=function(){var h,d;h=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + d;};g.prototype.k5b=function(){var h;h=this.L2b();this.offset+=8;return h;};g.prototype.VB=function(){return k.VG(this.ac());};g.prototype.Qca=function(){var d,f,l,m,n,p;function h(q,r){return ("000000" + q.toString(16)).slice(2 * -r);}d=this.ac(!0);f=this.$g(!0);l=this.$g(!0);m=this.$g();n=this.$g();p=this.ac();return [h(d,4),h(f,2),h(l,2),h(m,2),h(n,2) + h(p,4)].join("-");};g.prototype.Nca=function(h){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + h);this.offset+=h;return d;};g.prototype.e5b=function(h){var d;d=[];if(0 === h)return "";h=h || Number.MAX_SAFE_INTEGER;for(var f=this.Bd();0 !== f && 0 <= --h;){d.push(f);f=this.Bd();}return String.fromCharCode.apply(null,d);};g.prototype.Mca=function(h){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Ok(this.config.KR && c.ISb || c.aP,1,h,d,f);};g.prototype.d5b=function(h){var d,f,l;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === l && (l=!1);return this.Ok(this.config.KR && c.GSb || c.L9,2,h,d,f,l);};g.prototype.Lca=function(h,d,f){var l;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === l && (l=!1);return this.Ok(this.config.KR && c.HSb || c.GX,4,h,d,f,l);};g.prototype.g5b=function(){for(var h=this.Bd(),d=h & 127;h & 128;){h=this.Bd();d=d << 7 | h & 127;}return d;};g.prototype.Ok=function(h,d,f,l,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);h=h(this.view,this.offset,f,l,n);this.offset=m || !l || l === d?this.offset + f * (l || d):this.offset + d;return h;};return g;})();b.Xtb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Djb=function(a,c,k){var g,h,d;g=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,k);h=Math.min(a.length,k);d=Math.min(a.length,c);for(k=new g(Math.max(k - c,0));d < h;d++){k[d - c]=a[d];}return k;};},function(t,b,a){var k,g,h,d,f;function c(l){return "number" === typeof l[0] || void 0 === l[0]?{Wi:l[0],U:l[1],mA:l[2],Pza:l[3],mK:l[4]}:l[0];}Object.defineProperty(b,"__esModule",{value:!0});k=a(21);g=a(100);t=a(245);h=a(83);d=a(99);f=a(24);a=(function(l){function m(n,p,q){return l.call(this,n,p,q) || this;}k.__extends(m,l);m.prototype.Heb=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ca(k.__assign(k.__assign({},c(n)),{wza:!1}));};m.prototype.xza=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ca(k.__assign(k.__assign({},c(n)),{wza:!0}));};m.prototype.Ca=function(n){var q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O;function p(P){z=y[P];A=z.yq("traf");if(void 0 === A || void 0 === A.Ns)return !1;F=A.yq("tfdt");if(void 0 === F)return !1;B=A.yq("trun");return void 0 === B?!1:!0;}q=n.Wi;r=n.U;u=n.wza;v=n.mA;w=n.Pza;w=void 0 === w?!1:w;x=n.mK;x=void 0 === x?!1:x;n=n.rJ;if(!this.parse().done)return !1;y=this.je.moof;if(!y || 0 === y.length)return !1;if(void 0 !== q){C=q;for(q=0;q < y.length;++q){if(!p(q,this.qg.console.trace))return !1;d.assert(z && A && F && B && void 0 !== B.Wd);if(B.Wd > C || u && B.Wd === C)break;C-=B.Wd;}d.assert(z && A && F && B);}else if((q=u?y.length - 1:0,!p(q,this.qg.console.trace)))return !1;d.assert(z && A && F && B);if(u && q < y.length - 1){D=y[q + 1];this.qg.Jn(this.view.byteOffset - D.startOffset,D.startOffset);}else !u && 0 < q && this.qg.Jn(z.startOffset,0);D=A.yq("tfhd");if(void 0 === D)return !1;F=A.yq("tfdt");G=B.Wd;E=A.yq("saiz");I=A.yq("saio");L=A.yq(g.TMa);K=A.yq("sbgp");if(!(!E && !I || E && I))return !1;H=A.yq("sdtp");R=f.Xf.RA(this,"mdat");if(R && q < R.length)O=R[q];else if(q !== y.length - 1)return !1;void 0 === C && (C=u?B.Wd:0);if("number" === typeof v && 0 < v){R=u?C:B.Wd - C;for(var J=Array(R),M=0;M < R;++M){J[M]=u?M >= R - v?-Infinity:0:M < v?-Infinity:0;}v=J;}if(B.Ca(A,D,O || this.qg,r,C,A.Ns,u))B.vW && (d.assert(void 0 !== B.lhb),d.assert(void 0 !== B.iR),!u && F && F.Ca(B.lhb),E && I && (E.Ca(B.iR,u),I.Ca(L?0:E.bAa,A.Ns)),L && L.Ca(B.iR,u),H && H.Ca(B.iR,G,u),K && K.Ca(B.iR,u));else if(!u){if(q === y.length - 1)return !1;this.qg.Jn(y[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.iR)return !1;Array.isArray(v) && O && this.stream.profile && void 0 !== w && B.l_b(A,D,O,v,this.stream.profile,w,x,n);r=this.qg.Ca();u=r.reduce(function(P,S){return P + S.byteLength;},0);r={ta:r,length:u,NJ:this.qg.view.byteLength};B.vW && !O && (r.HQ=A.Ns + B.HQ,r.Pr=B.Pr);return r;};return m;})((function(l){function m(n,p,q){return l.call(this,n,p,q) || this;}k.__extends(m,l);return m;})(t.vG));b.Qw=a;b.FP=function(l){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,l + 8);n.setUint32(4,h.XSa("mdat"));return m;};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(21);t=a(245);k=a(244);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.Ca=function(d){var f,l,m,n;f=this;if(!this.parse().done)return !1;l=this.je.moov;if(!l || 0 === l.length)return !1;m=l[0].Mx("tenc");if(!m)return !1;n=new Uint8Array(m.cq);d.forEach(function(p){for(var q=p.from,r=!0,u=0;u < q.length;u++){if(n[u] !== q[u]){r=!1;break;}}r && f.qg.$ca(p.from.length,p.to,m.ava);});return k.concat(this.qg.Ca());};return h;})(t.vG);b.qha=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.$n || (b.$n={});t[t.cc=0]="AUDIO";t[t.Jb=1]="VIDEO";},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.audio=b.video=void 0;b.video={padding:{"16:9":{h264:{23976:a(149),24:a(899),25:a(900),2997:a(901),30:a(902)}},"4:3":{h264:{23976:a(150),24:a(903),25:a(904),2997:a(905),30:a(906)}}}};b.audio={silence:{heaac:{32:a(907)},ddp:{32:a(908)}}};},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(149);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfogADAJhfoRDpgAYChfpZBdhfoRgOYFhfpjDQhfoFDVhfoRgfYLhfoFBghfoacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAygCAAgFQAgA4AA6hEIAdyPWF1B0BvhkwXBNhkw9ANhkwFDBhkwNCxhkxTA3hkwJAahkwMADhTwAgAgBgAoAhlAuhRABgAYChlBvDogBoG";b.kg=!0;b.wn=766;b.ta="jCg1DojCgtDQjCgJCIjCgJgC4CiqgSgL4Ci2gGgF4CiwgGgF56jCgGgF4tAPCgjCgJgC4CgEYKjCn/jChTg9AAjCn/jCg7";b.ig=!0;b.qn=1557;b.ka={Xa:1E3,U:24E3};b.duration={Xa:24E3,U:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Nh=[176,789];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(149);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfogADAJhfoRDqgAYCgBIABhCohfpVBdhfoRDpgOYEhfpjDQhfoFDVhfoRgQ4FgfYEhfoFBghfoacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAyA1A6gFQAgA4AA6hEIAdyPWF1B0BvhkwXBNhkw9ANhkwFDBhkwNCxhkxTA3hkwJAahkwMADhTwAgAgBADAghlAug2QBgAYChlBWg5gDhlASDogBoG";b.kg=!0;b.wn=766;b.ta="i3gBCtjCgVCVjCgZDojCgRBAjCgJAZgB4BC1jCgJDQjCgJCIjCgJgC4CiqgSgL4Ci2gGgF4CiwgGgF56jCgGgF5WAljEAejEICCDjEP/jEIuA1jEP/jEIOB4jEITCWgIIGAggGYEC1gQYLC3gpgF";b.ig=!0;b.qn=1557;b.ka={Xa:1E3,U:25E3};b.duration={Xa:25E3,U:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Nh=[176,789];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(149);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfo1DrgAYCgBIAB1AwhfppgOYFhfp/gfYLhfsIAOCmhfouAmgGgAgAYDhfpWg0IDhfob";b.kg=!0;b.wn=766;b.ta="i3gBDujCgVDWjCgtB8jCgJAegB4BD2jCjNjIhlgF4ugEYDAqjLgegAYEjMQBDcjMX/jMQuA1jMSKA3iaoAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOjMQCcmlR0rCXAmBmDKC6gGIAAfiPAAceQv+VD8DOC9DVAaCeAwAMDxjMQHB/izYEijQAjMQGB/jCIIjMQBgBoBBdjMQIgBoCjMQNi7gMjMQDirADgIQFjMQBgGgGjMQEgKAGjMQJgIQGgQYCjMQFgIQKjMQBgQoJjMQBgIQJjMQZgIQJjMQCgQoIjMQCgIQIjMQHgQoMjMYDgIQKjMYBgQoIjMYCgBoGjMYBB4jUoTCWjMYNC1gQgLC3gpoIgIIBC8jUoMBMgIIEDagQYND5gQYLD7gIILD9gIIFBPD/D9g7gBAMD5";b.ig=!0;b.qn=1557;b.ka={Xa:1001,U:3E4};b.duration={Xa:30030,U:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Nh=[176,746];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(149);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfogADAJhfoRDqgAYCgBIAB1AwhfpVBdhfoRgOYFhfpjDQhfoFDVhfoRgfYLhfoFBghfoacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAzAwA6gFQAgA4AA6hEIAdyPWF1B0BvhkwXBNhkw9ANhkwFDBhkwNCxhkxTA3hkwJAahkwMADhTwAgAgBADDAhlAtAmCggAYEhlBWg5gDhlASDogBoG";b.kg=!0;b.wn=766;b.ta="i3gBDujCgVDWjCgZDojCgRB8jCgJAegB4BD2jCgJDQjCgJCIjCgJgC4CiqgSgL4Ci2gGgF4CiwgGgF6qjIgGgF5dgEYDAqjLgegAYEjMQBDcjMX/jMQuA1jMSKA3iaoAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOjMQCcmlR0rCXAmBmDKC6gGIAAfiPAAceQv+VD8DOC9DVAaCeAwAMDxjMQHB/izYEijQAjMQGB/jCIIjMQBgBoBBdjMQIgBoCjMQNi7gMjMQDirADgIQFjMQBgGgGjMQEgKAGjMQJgIQGgQYCjMQFgIQKjMQBgQoJjMQBgIQJjMQZgIQJjMQCgQoIjMQCgIQIjMQHgQoMjMYDgIQKjMYBgQoIjMYCgBoGjMYBB4jUoTCWjMYNC1gQgLC3gpoIgIIBC8jUoMBMgIIEDagQYND5gQYLD7gIILD9gIIFBPD/D9g7gBAMD5";b.ig=!0;b.qn=1557;b.ka={Xa:1E3,U:3E4};b.duration={Xa:3E4,U:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Nh=[176,789];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(150);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfogADAJhfoRDpgAYChfpZBdhfoRgOYFhfpjDQhfoFDVhfoRgfYLhfoFBghfoacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAygCAAgFQAgA4AA6hEIAdyPWF1B0BvhkwXBNhkw9ANhkwFDBhkwNCxhkxTA3hkwJAahkwMADhTwAgAgBgAoAhlAuCYgAYEhlBvDogBoG";b.kg=!0;b.wn=766;b.ta="i/Q1Doi/QtDQi/QJCIi/QJgC4CinQSgL4CitQGgF4CitQGgF6xAPCgi/QJgC4CgEYKi/X/i/RTg9AAi/X/i/Qh";b.ig=!0;b.qn=1531;b.ka={Xa:1E3,U:24E3};b.duration={Xa:24E3,U:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Nh=[176,789];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(150);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfogADAJhfoRDqgAYCgBIABhCohfpVBdhfoRgOYFhfpjDQhfoFDVhfoRgfYLhfoFBghfoacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAyA1A6gFQAgA4AA6hEIAdyPWF1B0BvhkwXBNhkw9ANhkwFDBhkwNCxhkxTA3hkwJAahkwMADhTwAgAgBADAghlAtAjgBwBgAYChlBWg5gDhlASDogBoG";b.kg=!0;b.wn=766;b.ta="i0QBCti/QVCVi/QZDoi/QRBAi/QJAZgB4BC1i/QJDQi/QJCIi/QJgC4CinQSgL4CitQGgF4CitQGgF7aAljAwejA4CBojA//jA4uA1jA/3B4jA4TCWgHwMC1gPoKC3gnQE";b.ig=!0;b.qn=1531;b.ka={Xa:1E3,U:25E3};b.duration={Xa:25E3,U:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Nh=[176,789];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(150);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfo1DrgAYCgBIAB1AwhfppgOYFhfp/gfYLhfsIAOCmhfouAlCYgAYEhfpWg0IDhfob";b.kg=!0;b.wn=766;b.ta="i0QBDui/QVDWi/QtB8i/QJAegB4BD2i/UEgF5egEYDAqjIQegAYEjJABC9jJH/jJAuA1jJCKA3iaYAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOiwQACbDWgCwAdncy1kCAi2IAhc4AdwFN94A6A7BgDhBUC1CZjJAHB/ixoDiZIAjJAGB/i/gHjJABgBgAADAqjJAHgBgBArjJAMi5QLjJADipgCgHwFjJABgGIFjJAEgJYFjJAJgHwFgPYCjJAFgHwJjJABgPoIjJABgHwIjJAYgHwIjJACgPoHjJACgHwHjJAHgPoLjJADgHwJjJABgPoHjJACgHwIB4jQ4MC5gHwECWjJAMC1gPoKC3gnQJCbC8jQ4MCggHwEDagPoMD5gPoKD7gHwKD9gHwFdP//3xgCAABvBB";b.ig=!0;b.qn=1531;b.ka={Xa:1001,U:3E4};b.duration={Xa:30030,U:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Nh=[176,746];b.Jh=[44];},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.height=b.width=b.bitrate=b.profile=b.duration=b.ka=b.qn=b.ig=b.ta=b.wn=b.kg=b.za=b.pn=b.nn=b.vn=b.un=void 0;t=a(150);b.un=t.za;b.vn=t.kg;b.nn=t.ta;b.pn=t.ig;b.za="hfogADAJhfoRDqgAYCgBIAB1AwhfpVBdhfoRgOYFhfpjDQhfoFDVhfoRgfYLhfoFBghfoacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAzAwA6gFQAgA4AA6hEIAdyPWF1B0BvhkwXBNhkw9ANhkwFDBhkwNCxhkxTA3hkwJAahkwMADhTwAgAgBADDAhlAtAlCogAYEhlBWg5gDhlASDogBoG";b.kg=!0;b.wn=766;b.ta="i0QBDui/QVDWi/QZDoi/QRB8i/QJAegB4BD2i/QJDQi/QJCIi/QJgC4CinQSgL4CitQGgF4CitQGgF8RgEYDAqjIQegAYEjJABC9jJH/jJAuA1jJCKA3iaYAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOiwQACbDWgCwAdncy1kCAi2IAhc4AdwFN94A6A7BgDhBUC1CZjJAHB/ixoDiZIAjJAGB/i/gHjJABgBgAADAqjJAHgBgBArjJAMi5QLjJADipgCgHwFjJABgGIFjJAEgJYFjJAJgHwFgPYCjJAFgHwJjJABgPoIjJABgHwIjJAYgHwIjJACgPoHjJACgHwHjJAHgPoLjJADgHwJjJABgPoHjJACgHwIB4jQ4MC5gHwECWjJAMC1gPoKC3gnQJCbC8jQ4MCggHwEDagPoMD5gPoKD7gHwKD9gHwFdP//3xgCAABvBB";b.ig=!0;b.qn=1531;b.ka={Xa:1E3,U:3E4};b.duration={Xa:3E4,U:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Nh=[176,789];b.Jh=[44];},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.channels=b.profile=b.bitrate=b.duration=b.ka=void 0;b.za="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDRBtFvB2gDYBdsbXZoBkgA4BcA30AoDsgAYCgBIAADDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgGABfDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgMIDgCgDgO4sckZWR0BzgA4BccZWxzB0gGIMAEgBIFcBO21kBpBhgkYCgA4AgfYEgQ4IBdDAgBYCBVDEgCQDAtgDoABsBygD4GgoQAB1BugNAKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgsoAgKgIgSACgNYAgC4DccZHJlgA4CgSAGcMdXJsAggBYFCqgVQABiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgewMgpQAAQgAwCgVQEAAAqBlgGQAgeACgpoAAcgcYCAUBAAVgCwDB9gBgCCQEFcTEFblAAAGABgvwBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gtgNgEYBBjBvgB4JA4hFwABlB4gC4CBtBlgcoGAQgq4BgpQAg7QAgC4DgVIGgAYBgCwCg+4DgAACBiB1gywAgZICBagG4AgA4DgAACAhgrwKgyQBhDgAFwggoCgAAHAtBpg4YEAlCpB0hVgAgA4BAdhXYAgHgDghQDdMYXZmA1A5AuAxA2gAQAEw";b.kg=!0;b.ta="EAABAcBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBcEdHJhgC4CAcB0gC4CACAAAqgC4EgAYCAEgBwBgAADAQgDYABkB0gGYFgAACDQgGYAB1BugAwAACgE4CAvgFQBAkgA4BAXgAYBAGgAa0cBM21kBhB0DegdgAdMYXZjA1A5AuAxA4gAQAEwcAQiAIDBAYA4AhAQAEBgCMAcgAsM";b.ig=!0;b.ka={Xa:1024,U:24E3};b.duration={Xa:48128,U:24E3};b.bitrate=32;b.profile="heaac-2-dash";b.channels="2.0";b.Nh=[176,635];b.Jh=[44];},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jh=b.Nh=b.channels=b.profile=b.bitrate=b.duration=b.ka=void 0;b.za="IAcgZnR5BwBtBwA0AygBYBcAaXNvBtgAYBcyZGFzBogA4BA2gCIAACFtFvB2gDQBd4bXZoBkABgEgCgAABffUJM0gA4HCYCWCAgBYCACB1DigAgAgEABgEYGgAADgBgLgB4QBAgDwNgAANACgGABexdHJhBrgBYBBoB0BrgP4DAHgP4PgKoJgQYDgNwOgQYrcBQW1kBpBhgBABAsgA4Agd4VAAC7gd4DcAAwYABVDEgBIDA0gFIABsBygIIGgmwAB1BugKIKBBB1gKAAdvIE1lgKwBcgSGFugFIABlgFQDDZgtAABuBmgA4BAQBzBtgHoAgFwJAkgE4AgC4DccZHJlgA4CgWIGcMdXJsAggBYFedc3RiBsgHYDF0BzgHYJAQBjgB4MBBgD4ABzgLYGgG4CcxZWMtAzggoPgYwAAQgAwCgaoFANBkgEgAAzgDgBAPgKADgIABBjgKAJAUgB4BB6gpwNgEYBBjBvgB4JA8hFAABlB4gFYCBtBlgoAIgzAFAgg5gAgDYDgQAGg3AICggAYA";b.kg=!0;b.ta="EAADCoBtFvBmgA4AcAEG1mBoBkgA4BgAACABgC4BeQdHJhgC4CAUB0gC4CACAAAggC4CACCggD4DgCYBBkB0gEgBgAAJADgCYAByB1BugA4AALgCwCBAgB4BCwgAYAAGgDACCAgD4EgBf/gBbxAABMBzhkwABwgBACQqgAA5gIIAcgCG1kBhB0ALB3AAE/CHDAhxgDhyQAgAYBBYAfAAIEIBhuYAgAAAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLcBrQA1CgAGC0AADWCAAaDQADBagZwEAuDGgP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP9v";b.ig=!0;b.ka={Xa:1536,U:48E3};b.duration={Xa:96768,U:48E3};b.bitrate=32;b.profile="ddplus-5.1-dash";b.channels="5.1";b.Nh=[196,633];b.Jh=[44];},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xc=void 0;b.Xc=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VFb=b.Tu=void 0;b.Tu=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,h){return g + h.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,h){k.set(new Uint8Array(h),g);return g + h.byteLength;},0);return k.buffer;};b.VFb=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,h){return g + h.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,h){k.set(h,g);return g + h.byteLength;},0);return k;};},function(t,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function k(f,l){d.assert(0 < l && 8 > l);return c((l - 1 << 8) + f);}function g(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function h(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.zaa=b.kYb=void 0;d=a(395);b.kYb=function(f,l){var p,q,r,u,v,w;function m(x,y){var z;z=p;x=q - y - x;d.assert(1 <= x);d.assert(16384 > x - 1);d.assert(2 <= y && 512 > y - 2);y=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (y - 2));p=z + y;r=q;u=0;}function n(x,y,z){return f.subarray(x,x + z).every(function(A,B){return A === f[y + B];});}p="";q=l || 0;r=q;u=0;for(l=0;q < f.byteLength;){v=r;w=u;if(0 !== u && 513 > u && f[q] === f[r + u])(++u,++q);else if(513 === u)(m(v,w),l=0);else {for(--r;0 <= r && r >= q - u - 16384 && (f[v] !== f[r] || 0 < u && !n(q - u,r,u + 1));){--r;}if(0 <= r && r >= q - u - 16384)(++u,++q);else if(v === q || 1 === w){q-=w;for(v=1;5 > v && f[q + v] === f[q];){++v;}p+=k(f[q],v);q+=v;l=1 < v?0:l + 1;4 === l && (p=p.slice(0,p.length - 8),p+=g(f.subarray(q - 4,q)));r=q;u=0;}else (m(v,w),l=0);}}1 === u?p+=k(f[r],1):1 < u && m(r,u);return p;};b.zaa=function(f,l){var u;function m(w,x){var y;if(r + x > p.byteLength){y=new Uint8Array(2 * p.byteLength);y.set(p,0);p=y;}if(w + x <= r)p.set(p.subarray(w,w + x),r);else for(y=0;y < x;++y){p[r + y]=p[w + y];}r+=x;}function n(){var w;w=f.slice(q,q+=2);return (h(w.charCodeAt(0)) << 6) + h(w.charCodeAt(1));}for(var p=l || new Uint8Array(4096),q=0,r=l?l.byteLength:0;q < f.length;){u=n();if(u & 2048)(l=n(),m(r - (((u & 2047) << 3) + (l >>> 9) + 1),(l & 511) + 2));else if(1792 === (u & 3840))(p[r++]=u & 255,l=n(),u=n(),p[r++]=l >>> 4,p[r++]=(l << 4 & 240) + (u >>> 8),p[r++]=u & 255);else {l=u & 255;u=(u >>> 8) + 1;for(var v=0;v < u;++v){p[r++]=l;}}}return p.subarray(0,r);};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.oKa=void 0;c=a(0);k=c.__importStar(a(9));t=a(11);g=c.__importDefault(a(28));h=c.__importDefault(a(913));d=c.__importDefault(a(4));f=a(172);l=a(230);c.__importDefault(a(231));m=c.__importDefault(a(914));a(396);n=a(2);p=a(917);q=a(1007);r=new d.default.Console("ASEJS","media|asejs");u=r.trace.bind(r);v=r.warn.bind(r);t=(function(w){var T10;T10=2;function x(y,z){var U10,A;U10=2;for(;U10 !== 13;){switch(U10){case 3:var P3X="D";P3X+="EB";P3X+="UG";P3X+=":";var U3X="nf-a";U3X+="se version";U3X+=":";u(U3X,y,P3X,!1);A.Vka=!1;A.lyb=!1;A.vH=[];U10=6;break;case 6:var r3X="1SIY";r3X+="bZr";r3X+="N";r3X+="JCp";r3X+="9";r3X;return A;break;case 2:A=w.call(this) || this;A.config=y;A.KF=z;y=a(430);U10=3;break;}}}for(;T10 !== 27;){switch(T10){case 3:Object.defineProperties(x.prototype,{hC:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:return this.J5;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Uua:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 4:return ~k.na(this.EVa);break;Z10=1;break;case 2:return !k.na(this.EVa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{BF:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.zVa;break;case 4:return this.zVa;break;a20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sf:{get:function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.Pz;break;}}},enumerable:!1,configurable:!0}});T10=6;break;case 2:c.__extends(x,w);Object.defineProperties(x.prototype,{Vb:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.D4.Vb;break;case 4:return this.D4.Vb;break;V10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Qo:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.D4.Qo;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rw:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.Ola;break;case 4:return this.Ola;break;X10=1;break;}}},enumerable:!1,configurable:!0}});T10=3;break;case 6:Object.defineProperties(x.prototype,{hi:{get:function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return this.D4.hi;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pta:{get:function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.lyb;break;}}},enumerable:!1,configurable:!0}});x.prototype.za=function(y,z,A,B,C,D){var e20,F,G;e20=2;for(;e20 !== 11;){switch(e20){case 7:this.D4=l.nL.$4a(G,r,this.KF);this.Ola=new m.default(G);e20=14;break;case 14:e20=G.vkb || G.bDa?13:12;break;case 12:this.Vka=!0;e20=11;break;case 2:(F=this,G=this.config);l.nL.reset();0 < G.Ov && (!k.na(y) && y > G.Ov && (y=G.Ov),z > G.Ov && (z=G.Ov));k.na(y) && (this.EVa=z);this.J5=B;this.zVa=C;h.default(G);e20=7;break;case 13:var p3X="m";p3X+="ed";p3X+="iac";p3X+="a";p3X+="che";var y3X="cac";y3X+="h";y3X+="eEvi";y3X+="ct";var L3X="flushe";L3X+="d";L3X+="B";L3X+="ytes";var b3X="dis";b3X+="c";b3X+="ar";b3X+="dedByt";b3X+="es";var a3X="pre";a3X+="buf";a3X+="f";a3X+="stats";(z=new q.TIa(this,G,A,D),y=function(E){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:F.emit(E.type,E);f20=1;break;}}},z.addListener(a3X,y),z.addListener(b3X,y),z.addListener(L3X,y),z.addListener(y3X,y),(G.fDa || G.eDa) && z.addListener(p3X,function(E){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 4:F.emit("",E);g20=6;break;g20=1;break;case 2:var V3X="m";V3X+="ediacach";V3X+="e";F.emit(V3X,E);g20=1;break;}}}),this.Pz=z);e20=12;break;}}};x.prototype.X_=function(y,z,A){var h20;h20=2;for(;h20 !== 4;){switch(h20){case 2:this.EVa=y;this.J5=z || 0;this.zVa=A || 0;h20=4;break;}}};T10=11;break;case 11:x.prototype.createSession=function(y,z,A,B,C,D,F,G,E,I){var i20;i20=2;for(;i20 !== 4;){switch(i20){case 2:i20=this.Vka?1:5;break;case 5:var O3X="ope";O3X+="n: streamingMa";O3X+="nage";O3X+="r not initted";v(O3X);i20=4;break;case 1:return (G=G || this.config,this.Vb.reset(),this.Qo.q$b(),this.Ola.reset(),void 0 === D && (D=this.b9(y,z)),k.na(this.J5) && (this.J5=d.default.Xp()[g.default.$a.Jb] <= G.YZb?0:G.F_),y=new p.DQa(this,y,I,z,A,B,C,D,F,G,E),this.vH.push(y),y);break;}}};x.prototype.IY=function(y,z){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.Pz && (y=this.Pz.IY(y,z))?y:!1;break;}}};x.prototype.Hyb=function(y){var k20,z;k20=2;for(;k20 !== 4;){switch(k20){case 2:var T3X="can";T3X+="'t f";T3X+="ind ses";T3X+="sion";T3X+=" in array, movieId:";this.Vb.dR(null);z=this.vH.indexOf(y);k.na(z)?v(T3X,y.Ue.O.I):(this.vH.splice(z,1),0 === this.vH.length && this.Qo.y$b(),this.Qo.save(),this.hi.save());k20=4;break;}}};x.prototype.b9=function(y,z,A){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:return f.tsa(y,z,A);break;}}};T10=18;break;case 18:x.prototype.Una=function(){var m20,y;m20=2;for(;m20 !== 5;){switch(m20){case 2:null === (y=this.Pz) || void 0 === y?void 0:y.O2a();m20=5;break;}}};x.prototype.OD=function(){var n20,y;n20=2;for(;n20 !== 5;){switch(n20){case 2:null === (y=this.Pz) || void 0 === y?void 0:y.wKb();n20=5;break;}}};x.prototype.xb=function(){var o20;o20=2;for(;o20 !== 6;){switch(o20){case 2:var t3X="Attempted";t3X+=" to destruct Mana";t3X+="ger before all";t3X+=" Sessions removed";n.assert(0 === this.vH.length,t3X);this.Vka=!1;delete this.D4;o20=4;break;case 4:delete this.Ola;delete this.KF;this.OD();o20=8;break;case 8:delete this.Pz;l.nL.reset();o20=6;break;}}};return x;break;}}})(t.EventEmitter);b.oKa=t;},function(t,b,a){var k,g,h,d;function c(f){var l;l=nrdp.Ck.fpc.match(/android-(\d*)/);l?23 < l[1]?f.cCa=!1:(l=nrdp.Ck.Bic.Rs.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.cCa=l?6 < l[1] || 6 == l[1] && 1 < l[2] || 6 == l[1] && 1 == l[2] && 1 <= l[3]?!0:!1:!1):f.cCa=!1;f.fac=!1;}k=a(2).assert;a(151);g=a(4).default;h=g.ns;d=g.irb;t.exports=function(){var f,l,m,n;f=new g.Console("ASEJSMONKEY","media|asejs");if(!g.ns.Kc){l=function(p){this.Twb=p;};m=d.prototype.appendBuffer;g.MediaSource.Kc || (g.MediaSource.Kc={});"undefined" !== typeof nrdp && nrdp.t6 && (c(g.MediaSource.Kc,f),g.MediaSource.Kc.lZa=!1,g.MediaSource.Kc.zab=!1);g.ns.Kc={H_:{Mlb:!0,uT:!0,trb:!0}};Object.defineProperty(h.prototype,"_response",{get:function(){return this.szb || this.jvb;},set:function(p){this.jvb=p;}});n=h.prototype.open;h.prototype.open=function(p,q,r,u,v,w,x){1 === r && (this.szb=new l(this));return n.call(this,p,q,r,u,v,w,x);};h.prototype.Wca=function(){this.TM=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return m.call(this,p);if(p instanceof l)return this.w6(p.Twb);k(!1);};}};},function(t,b,a){var g,h;function c(){this.Uz=this.ST=this.a5=this.p5=this.X4=null;}function k(d){this.J=d;this.tD=[];this.ys=new c();this.hU();}g=a(9);a(28);a(7);h=a(4).default;new h.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Dd=function(d){var f;f=!1;d && g.has(d,"ens") && g.has(d,"lns") && g.has(d,"fns") && g.has(d,"d") && g.has(d,"t") && (this.X4=d.ens,this.p5=d.lns,this.a5=d.fns,this.ST=d.d,this.Uz=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(g.qb(this.X4) || g.qb(this.p5) || g.qb(this.a5) || g.qb(this.ST) || g.qb(this.Uz))return null;d={d:this.ST,t:this.Uz};d.ens=this.X4;d.lns=this.p5;d.fns=this.a5;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.Uz);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};k.prototype.hU=function(){var d;d=h.storage.get("sth");d && this.Dd(d);};k.prototype.Dd=function(d){var f,l;f=null;l=this.J;d.forEach(function(m){var n;n=new c();n.Dd(m)?(f=!0,this.tD.push(n)):g.qb(f) && (f=!1);},this);this.tD=this.tD.filter(function(m){return m.ST >= l.hba;});this.tD.sort(function(m,n){return m.Uz - n.Uz;});return g.qb(f)?!0:f;};k.prototype.Nka=function(){var d;d=[];this.tD.forEach(function(f){d.push(f.getState());},this);return d;};k.prototype.save=function(){var d,f,l;d=this.Nka();f=this.J;l=this.ys.getState();l && l.d >= f.hba && (d.push(l),this.tD.push(this.ys));d.length > f.Iaa && (d=d.slice(d.length - f.Iaa,d.length));this.ys=new c();d && h.storage.set("sth",d);};k.prototype.reset=function(){this.ys=new c();};k.prototype.TPb=function(){return this.ys.get();};k.prototype.gSb=function(){return this.tD.length + 1;};k.prototype.vAb=function(d){this.ys.X4=d;this.ys.Uz=h.time.ia();};k.prototype.FAb=function(d){this.ys.p5=d;this.ys.Uz=h.time.ia();};k.prototype.zAb=function(d,f){this.ys.a5=d;this.ys.Uz=h.time.ia();this.ys.ST=f;};t.exports=k;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UKa=void 0;t=(function(){function a(c,k,g){this.wzb=k;this.Eub=g;this.G=c;}a.prototype.yya=function(c){c=this.fVb(c,this.wzb) + this.Eub;return this.Cla=isNaN(c)?NaN:this.mBa(c);};a.prototype.hFb=function(c){return isNaN(this.Cla)?0:this.Cla > c?1:0;};a.prototype.fVb=function(c,k){var g;g=0;if(c.length !== k.length)g=NaN;else for(var h=0;h < c.length;h++){g+=c[h] * k[h];}return g;};a.prototype.mBa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.UKa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nT=void 0;t=(function(){function a(c){this.qk={};this.jla=c;this.vg=[];this.Gs=!1;this.wH=void 0;}a.prototype.k6=function(c){this.vg.length === this.jla && this.vg.shift();Array.isArray(c)?this.vg=this.vg.concat(c):this.vg.push(c);this.Gs=!0;};a.prototype.UO=function(){return this.vg.length;};a.prototype.Wna=function(){var c;c=this.vg;return 0 < c.length?c.reduce(function(k,g){return k + g;},0) / this.vg.length:void 0;};a.prototype.e7=function(){var c,k;c=this.vg;k=this.Wna();if(0 < c.length && "undefined" !== typeof k)return (c=c.reduce(function(g,h){return g + h * h;},0) / c.length,Math.sqrt(c - k * k));};a.prototype.Su=function(c){var k,g,h;if(this.Gs || void 0 === this.wH)(this.wH=this.vg.slice(0).sort(function(d,f){return d - f;}),this.Gs=!1);if(void 0 === this.qk[c]){k=this.wH;g=Math.floor(c / 100 * (k.length - 1) + 1) - 1;h=(c / 100 * (k.length - 1) + 1) % 1;this.qk[c]=g === k.length - 1?k[g]:k[g] + h * (k[g + 1] - k[g]);}return this.qk[c];};return a;})();b.nT=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O;Object.defineProperties(b,{__esModule:{value:!0}});b.DQa=void 0;t=a(0);c=a(11);k=t.__importStar(a(9));g=a(123);h=a(918);d=a(172);f=a(14);l=a(222);m=a(250);n=a(251);p=a(943);q=a(944);r=t.__importDefault(a(4));u=r.default.MediaSource;v=a(7);w=a(2);x=a(173);y=a(409);z=a(946);A=a(947);B=a(152);t=a(35);C=a(948);D=a(949);F=a(410);G=a(988);E=a(422);I=a(997);L=a(426);K=a(1003);H=a(1004);R=a(1005);O=a(1006);a=(function(){function J(M,P,S,U,T,W,ia,pa,wa,za,Ca){var q20,V,ca,Q,Ha,N;q20=2;for(;q20 !== 74;){switch(q20){case 37:var A3X="medi";A3X+="a";A3X+="cache";this.Fi.on(this.uc.Sf,A3X,function(Ja){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:var S3X="m";S3X+="ed";S3X+="iaca";S3X+="c";S3X+="he";v.bb(N,S3X,Ja);s20=1;break;}}});q20=36;break;case 60:this.fh.PCa(this.J);q20=59;break;case 55:q20=this.Ws?77:75;break;case 13:var n3X="bran";n3X+="chin";n3X+="g";this.Gb=Q;this.WZa=new y.bGa(this.G);(V=!(!P || !P.choiceMap || n3X !== P.choiceMap.type),ca=V?{zW:!1,Ws:!1}:q.u4a(za));this.zW=ca.zW;this.Ws=ca.Ws;this.Fy=za.Fy;q20=18;break;case 21:this.D5=void 0;this.S=new A.lEa(wa);this.uD=T || 0;this.KM=0;this.Uja=pa;q20=31;break;case 46:P=h.Mha.create({Pb:0,ea:P,nq:S,Vfb:U,Xe:! !W.Xe,U7a:!1,Mi:! !W.Mi,zd:l.Waa(! !W.kV,! !W.RF),ba:0,Ma:W.Ma,Gb:this.Gb,et:this.NTa.bind(this),bc:this,config:this.J,G:this.G,Bg:this.Bg,$o:this.$o,Sf:this.TVa?this.uc.Sf:void 0,EE:this.EE});P.eV=!0;q20=65;break;case 36:V && za.oO && !za.LLb && (za.set?za.set({enableAdaptiveParallelStreaming:!1}):za.oO=!1);0 === Math.floor(1E6 * Math.random()) % za.qN && (this.Pyb=new p.SPa(za));this.px=[];this.hh=[];this.jgb=new m.wha(P,this.uc.Vb,this.uc.hi,this.J,void 0);q20=50;break;case 39:var c3X="manager";c3X+="debu";c3X+="geve";c3X+="n";c3X+="t";this.Fi.on(this.uc.Sf,c3X,function(Ja){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:v.bb(N,Ja.type,Ja);r20=1;break;case 4:v.bb(N,Ja.type,Ja);r20=3;break;r20=1;break;}}});q20=38;break;case 3:var l3X="med";l3X+="ia|ase";l3X+="js";var G3X="A";G3X+="S";G3X+="EJS";var K3X="1S";K3X+="I";K3X+="Y";K3X+="bZrNJCp9";K3X;this.G=new r.default.Console(G3X,l3X,"(" + ia.sessionId + ")");this.fl=this.G.error.bind(this.G);this.Mb=this.G.warn.bind(this.G);this.Bj=this.G.trace.bind(this.G);Q=new O.yMa(this,this.G);q20=13;break;case 40:q20=za.Ni && this.uc.Sf?39:38;break;case 75:Ca && this.Fb.Ur(Ca,sa.K);q20=74;break;case 77:Ha=this;q20=76;break;case 29:this.m5=-1;this.Gla=0;this.Fi=new c.Zf();this.$o=new K.uQa(this,this.G,this.qc.bind(this),Q);this.Bg=new H.VGa(this,this.G,this.qc.bind(this));q20=41;break;case 24:this.TVa=! !W.vkb;this.Kzb=! !W.bDa;this.JM=W.xaa;q20=21;break;case 63:q20=za.nqa && this.fh.Q$?62:59;break;case 50:M=this.jgb.qSb();T=null;q20=48;break;case 18:this.Ti=new R.xKa(this,this.G,this.qc.bind(this),ca);this.uzb=[!W.RF,!W.kV];this.qc(0) && this.qc(1);q20=15;break;case 65:this.Rd=[P];this.fh=new I.XDa(this,this.G,M,this.uc.Vb,za,this.HP(),T,this.qc.bind(this),ca);q20=63;break;case 62:za=za.UTb;for(var sa in za){S=za[sa];za.hasOwnProperty(sa) && S && (this.J[sa]=S);}q20=60;break;case 15:this.uc=M;this.Im=ia;this.J=za=this.WZa.uub(P,za);this.x5=W.TZ;q20=24;break;case 41:this.qW=new z.UGa(this,this.G,Q);q20=40;break;case 59:sa=P.O;this.Ta=new E.Zfa(this,this.Gb,this.G,this.Sla.bind(this),sa,this.uD,this.J,this.Bg,this.S,this.bX.bind(this));za={xaa:this.xaa,Jt:this.Jt,Vn:this.Vn,TZ:this.TZ};this.Fb=new L.VQa(this.G,this.fh,this.J,this.qc.bind(this),this.S,za,this.uc.Vb,this.Gb,this.Bg,this.Ta,ca);q20=55;break;case 38:q20=(za.fDa || za.eDa) && this.uc.Sf?37:36;break;case 2:N=this;this.Gz=new B.U3();this.QSa=[];this.EE={kx:[Object.create(null),Object.create(null)]};q20=3;break;case 76:this.S.addListener(function(Ja){var t20,u20;t20=2;for(;t20 !== 1;){switch(t20){case 2:try{u20=2;for(;u20 !== 1;){switch(u20){case 2:Ha.Fb.rcc.bind(Ha.Fb)(Ja);u20=1;break;}}}catch(Na){var Z3X="Hindsight: Erro";Z3X+="r when adding up";Z3X+="datePlaySegment Listener: ";a000.j9X(7);Ha.Gb.Ro(a000.Q9X(Z3X,Na));}t20=1;break;}}});q20=75;break;case 31:this.Q5=!1;this.aU=void 0;q20=29;break;case 48:za.DW && (T=this.uc.rw.tD);x.dz.instance().reset();q20=46;break;}}}var p20;p20=2;for(;p20 !== 91;){switch(p20){case 27:J.prototype.RO=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:return this.Rd.length;break;}}};J.prototype.wua=function(M,P){var U20;U20=2;for(;U20 !== 9;){switch(U20){case 1:return !0;break;case 2:U20=M === P?1:5;break;case 5:M=this.Rd[M];P=this.Rd[P];return M.O.zf.Xe && P.O.zf.UY || P.O.zf.Xe && M.O.zf.UY;break;case 6:return +5;break;U20=5;break;case 7:U20=M == P?8:7;break;U20=M === P?1:5;break;}}};J.prototype.i9=function(M){var V20;V20=2;for(;V20 !== 5;){switch(V20){case 2:V20=(M=this.Ta.oi.children[M])?1:5;break;case 1:return {id:M.u.id,Re:M.Re,Ad:M.qya,$e:M.$e,Zc:M.Ada,Ec:M.Ec};break;}}};J.prototype.Ik=function(){var W20,M;W20=2;for(;W20 !== 5;){switch(W20){case 2:M=this.Ta.oi;return {id:M.u.id,Re:M.Re,Ad:M.qya,$e:M.$e,Zc:M.Ada,Ec:M.Ec};break;}}};J.prototype.JR=function(M,P){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:return this.Ta.JR(M,P);break;}}};J.prototype.open=function(){var Y20,P,S,U,T,W,M,pa,wa,ia,za;Y20=2;for(;Y20 !== 33;){switch(Y20){case 4:var q3X="he";q3X+="a";q3X+="de";q3X+="rs";(P=this.J,S=this.Ue.O,U=S.I,T=[],W=[q3X]);this.Vn && (T.push(1),W.push(1));this.Ks && (T.push(0),W.push(0));this.qW.owb();Y20=7;break;case 15:wa.sourceBuffers.forEach(function(Ca){var a30,N,Q;a30=2;for(;a30 !== 13;){switch(a30){case 2:var o3X="l";o3X+="og";o3X+="da";o3X+="t";o3X+="a";var k3X="e";k3X+="r";k3X+="ror";var m3X="requ";m3X+="e";m3X+="stA";m3X+="ppe";m3X+="nded";var R3X="h";R3X+="eader";R3X+="Appended";(N=Ca.mediaType,Q=M.Fb.Vf[N]);Ca=new n.$fa(Q.G,N,wa,Ca,P,!1,M.S,void 0,M.Lh.bind(M));Q=new G.jKa(Ca,N,M.Ta,M.J,Q.G);Ca.addListener(R3X,M.Zvb.bind(M));Ca.addListener(m3X,M.bwb.bind(M));Ca.addListener(k3X,function(V){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:var N3X="NFErr_MC";N3X+="_Stre";N3X+="aming";N3X+="Failure";M.Sq(V.errorstr,void 0,N3X);b30=1;break;}}});Ca.addListener(o3X,function(V){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:v.bb(M,V.type,V);c30=1;break;}}});a30=7;break;case 7:var u3X="mana";u3X+="gerdebu";u3X+="g";u3X+="eve";u3X+="nt";P.Ni && Ca.addListener(u3X,function(V){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:v.bb(M,V.type,V);d30=1;break;}}});M.hh[N]=Ca;M.px[N]=Q;a30=13;break;}}});this.Iz=new C.LOa(this.px,this.VM.bind(this),this.S.Fe.bind(this.S));this.Jt && this.Gb.lxb();Y20=25;break;case 1:Y20=!k.Ja(this.uD) || 0 > this.uD?5:4;break;case 2:M=this;Y20=1;break;case 34:var E3X="NFErr";E3X+="_";E3X+="MC_S";E3X+="tream";E3X+="ingInitFailure";var g3X="e";g3X+="xception ";g3X+="in init";var I3X="Er";I3X+="ro";I3X+="r:";(this.Bj(I3X,wa.error),this.Sq(g3X,void 0,E3X));Y20=33;break;case 5:var C4X="N";C4X+="FErr_MC_Stre";C4X+="a";C4X+="mingIni";C4X+="tFailure";var D3X="startPts must be a posit";D3X+="ive n";D3X+="umber, ";D3X+="not ";this.Sq(D3X + this.uD,void 0,C4X);Y20=33;break;case 14:var w4X="cre";w4X+="ateM";w4X+="ediaSourceStart";pa=this.qW.bvb(W,S);W.forEach(function(Ca,N){var Z20;Z20=2;for(;Z20 !== 1;){switch(Z20){case 2:var Y4X="he";Y4X+="ade";Y4X+="rs";Y4X === Ca?M.aU=pa[N]:M.Fb.Vf[Ca].Jf=pa[N];Z20=1;break;}}});this.Gb.Lm(w4X);wa=new u(this.S.$H);Y20=10;break;case 10:Y20=1 === wa.readyState?20:34;break;case 7:ia=P.Js;this.uc.Sf && this.uc.Sf.Yq(ia,this.Im.sessionId);Y20=14;break;case 17:Y20=!wa.l6(T)?16:15;break;case 16:var e4X="Er";e4X+="ro";e4X+="r:";throw (this.Bj(e4X,wa.error),wa.error);Y20=15;break;case 35:this.emit(S.type,S);Y20=33;break;case 25:var d4X="s";d4X+="ta";d4X+="rt";d4X+="pla";d4X+="y";var f4X="lo";f4X+="g";f4X+="d";f4X+="a";f4X+="ta";S=this.K4a();this.Gb.FUa(S);za=function(){var e30;e30=2;for(;e30 !== 5;){switch(e30){case 2:var F4X="sh";F4X+="utdown detected before star";F4X+="tRe";F4X+="q";F4X+="uests";M.Gb.Dxb();M.ho()?M.Mb(F4X):M.pzb();e30=5;break;}}};P.aKb?setTimeout(function(){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 4:M.VSa(U).then(za);f30=2;break;f30=1;break;case 2:M.VSa(U).then(za);f30=1;break;}}},0):this.VSa(U).then(function(){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:setTimeout(za,0);g30=1;break;}}});S={type:f4X,target:d4X,fields:{audiogapconfig:P.SP,audiogapdpi:this.cg.Kc && this.cg.Kc.SP,aseApiVersion:this.MH}};Y20=35;break;case 20:var B4X="createMe";B4X+="d";B4X+="ia";B4X+="SourceEn";B4X+="d";this.Gb.Lm(B4X);wa.Kc || (wa.Kc=u.Kc);this.cg=wa;Y20=17;break;}}};Object.defineProperties(J.prototype,{MH:{get:function(){var h30;h30=2;for(;h30 !== 1;){switch(h30){case 2:var x4X="1";x4X+=".";x4X+="0";return x4X;break;}}},enumerable:!1,configurable:!0}});J.prototype.Hsa=function(){};J.prototype.flush=function(){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:this.Ti.flush();i30=1;break;case 4:this.Ti.flush();i30=0;break;i30=1;break;}}};J.prototype.paused=function(){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 4:this.S.paused();j30=2;break;j30=1;break;case 2:this.S.paused();j30=1;break;}}};p20=32;break;case 87:J.prototype.Pla=function(M,P){var Q40,S,U,T;Q40=2;for(;Q40 !== 9;){switch(Q40){case 2:S=this.Ta.Uc;Q40=1;break;case 1:Q40=S.Za(M)?5:9;break;case 5:var z4X="pts";z4X+="c";z4X+="hang";z4X+="ed";(U=this.Fb.Vf[M],T=this.Fb.lC[M]);k.na(U.Kp) && (U.Kp=P,1 === M && this.Ks && (M=this.Fb.Vf[0],k.na(M.Kp) && (S=S.Za(0),S.zK(P)),this.emit(z4X,P)));k.na(T.CV) && (T.CV=P);Q40=9;break;}}};J.prototype.X5a=function(M){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:this.ai && (this.ai.IYb(M),this.LYa());R40=1;break;}}};J.prototype.U9=function(M){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 2:this.ai && (this.ai.HYb(M),this.LYa());S40=1;break;}}};J.prototype.LYa=function(){var T40,M;T40=2;for(;T40 !== 4;){switch(T40){case 2:T40=this.ai?1:4;break;case 1:var Q4X="allCom";Q4X+="pl";Q4X+="eted";M=this.J;this.ai.CE() || (this.ai=void 0,M.Js || this.Gz.wx || this.LU(Q4X));T40=4;break;}}};J.prototype.MU=function(){var U40,M,P,S,U,T,W,ia,pa;U40=2;for(;U40 !== 7;){switch(U40){case 2:(M=this,P=this.J,S=this.a_,U=this.Rd[S],T=this.Ta.Uc,W=this.S.Fe() || 0,ia=this.Vu(S,W),pa=P.Nea);this.uc.Sf && void 0 !== U.HJ && U.HJ - W <= P.aab && this.uc.Sf.Yq(!0,this.Im.sessionId);this.S.getState() === f.va.Jc && ([1,0].forEach(function(wa){var V40,za,Q,V,ca,Ca,N,sa;V40=2;for(;V40 !== 35;){switch(V40){case 18:M.Gb.yxb(V,W,N.jw,null !== sa?M.Rd[sa].O.I:null,sa);V40=17;break;case 1:za=T.Za(wa);V40=5;break;case 10:V40=(M.Ta.d0b(N,N.jw),ca > M.m5)?20:16;break;case 7:V40=N?6:21;break;case 12:Ca=N.Sa;V40=11;break;case 11:V40=!M.Vn || 1 === wa?10:15;break;case 6:Ca=N.$e - W;Ca < pa && (pa=Ca);(Q=M.Fb.ly[wa],V=N.O,ca=V.Pb);V40=12;break;case 21:var X4X="Unable to find r";X4X+="eq";X4X+="ues";X4X+="t presenting at playerPts:";za.Mb(X4X,W);V40=23;break;case 5:V40=za?4:35;break;case 4:Ca=za.Sa;za.LN(W);(N=M.Ta.mv(W,T,wa)) && !N.Pe && (N=M.hh[wa].RWb);V40=7;break;case 20:M.m5=ca;sa=0 < ca?ca - 1:null;V40=18;break;case 17:ia=M.Vu(ca,W);V40=15;break;case 23:M.Ayb(Ca,W);M.Ta.Q4b();V40=35;break;case 24:k.na(N) || N == za.Mcb || (za.Mcb=N);V40=23;break;case 16:M.JM && N.jw != Q.aXb && M.Gb.Nxb(N.jw);V40=15;break;case 2:V40=M.qc(wa)?1:35;break;case 15:Q.aXb=N.jw;V=N.Qa;V != Q.nva && (Q.nva=V,wa=M.Rd[ca].O.Ux(wa,V),ca=M.Vu(ca,N.Ad),M.Gb.Ixb(wa,N.Ad,ca,wa.O.Pb));N=N.bitrate;V40=24;break;}}}),this.Ta.Aw(W,ia));this.Bg.sk();U40=3;break;case 3:pa=Math.max(pa,1);this.wD && clearTimeout(this.wD);this.wD=setTimeout(this.MU.bind(this),pa);U40=7;break;}}};J.prototype.F4=function(M){var W40;W40=2;for(;W40 !== 1;){switch(W40){case 2:return this.Bg.F4(M);break;}}};J.prototype.sk=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 2:return this.Bg.sk();break;}}};J.prototype.EH=function(M,P){var Y40,S,U;Y40=2;for(;Y40 !== 13;){switch(Y40){case 2:S=M.Sa;Y40=1;break;case 1:Y40=S?5:14;break;case 14:var j4X="abortRequest with no reque";j4X+="stM";j4X+="anagaer:";this.Mb(j4X,M);Y40=13;break;case 5:U=M.mediaType;M.abort();M.Yc();Y40=9;break;case 9:M.Fi && M.Fi.clear();S.x_(M);this.hh[U].x_(M);!0 === P && this.Bg.sk();Y40=13;break;}}};J.prototype.nzb=function(M){var Z40,P,S;Z40=2;for(;Z40 !== 5;){switch(Z40){case 2:var h4X="n";h4X+="o newA";h4X+="udi";h4X+="oTrack set";(P=M.mediaType,S=this.Fb.Vf[P]);k.na(S.vba)?M.Mb(h4X):(this.hh[P].pause(),S.UR=!0,M=this.Ue.wr(0),S=this.Ue.O.getTrackById(S.vba.trackId),this.Gb.nxb(M,S));Z40=5;break;}}};J.prototype.uyb=function(M){var a50,P,S,U,T,W,ia,pa,wa;a50=2;for(;a50 !== 27;){switch(a50){case 20:S=this.KM;a50=19;break;case 9:a50=(null === (S=this.ai) || void 0 === S?0:S.CE())?8:7;break;case 7:S=this.uc.b9(W.O.ea,[pa],0);this.Uja[0]=S[0];this.qW.fVa(0,M.O);T.vba=void 0;this.fh.Iy(null);this.Kla(0,F.sT.X2a,M);this.Ta.rgb(M,!0);a50=20;break;case 2:(P=this,U=this.J);M=M.Wa;T=this.Fb.Vf[0];this.Fb.nA=T.vba;(W=this.Ue,ia=W.O.getTrackById(this.Fb.nA.trackId),pa=ia.OF,wa=this.S.Fe() - M.Re);a50=9;break;case 8:var v4X="au";v4X+="dioS";v4X+="wit";v4X+="c";v4X+="h";(this.ai.p6b(function(za){var b50;b50=2;for(;b50 !== 5;){switch(b50){case 3:b50=6 !== za.mediaType?0:9;break;b50=0 === za.mediaType?1:5;break;case 1:return (P.EH(za,!1),!0);break;case 2:b50=0 === za.mediaType?1:5;break;}}}),this.ai.CE() || (this.ai=void 0,U.Js || this.Gz.wx || this.LU(v4X)));a50=7;break;case 17:++S;a50=19;break;case 19:a50=S < this.Rd.length?18:16;break;case 18:this.A4b(S,pa,wa);a50=17;break;case 16:M.xeb(ia,wa);this.EK(0);a50=27;break;}}};p20=104;break;case 94:J.prototype.cwb=function(M,P){var q50;q50=2;for(;q50 !== 5;){switch(q50){case 2:P=d.N4a(P);this.Uja[M.mediaType]=P;q50=5;break;}}};Object.defineProperties(J.prototype,{nA:{set:function(M){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 2:this.Fb.nA=M;r50=1;break;}}},enumerable:!1,configurable:!0}});return J;break;case 13:Object.defineProperties(J.prototype,{rw:{get:function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:return this.uc.rw;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Jt:{get:function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 4:return this.Pyb;break;G20=1;break;case 2:return this.Pyb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{xaa:{get:function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 4:return this.JM;break;H20=1;break;case 2:return this.JM;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{TZ:{get:function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 4:return this.x5;break;I20=1;break;case 2:return this.x5;break;}}},enumerable:!1,configurable:!0}});J.prototype.qc=function(M){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:return this.uzb[M];break;case 4:return this.uzb[M];break;J20=1;break;}}};J.prototype.bX=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:return r.default.time.ia() - this.$ja;break;}}};J.prototype.K4a=function(){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:return (this.Rd || []).reduce(function(M,P){var M20,S;M20=2;for(;M20 !== 4;){switch(M20){case 2:S=P.O;l.Of.forEach(function(U){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:S.yt[U] > M[U] && (M[U]=S.yt[U]);N20=1;break;}}});return M;break;}}},[0,0]);break;}}};J.prototype.HP=function(){var O20,M;O20=2;for(;O20 !== 4;){switch(O20){case 2:M=0;k.forEach(this.Ue.O.ea.audio_tracks,function(P){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:k.forEach(P.streams,function(S){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:M=Math.max(M,S.bitrate);Q20=1;break;}}});P20=1;break;}}});return M;break;}}};J.prototype.Lh=function(M){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 2:return this.Rd[M];break;}}};J.prototype.FQb=function(){var S20,M;S20=2;for(;S20 !== 5;){switch(S20){case 2:M=this.Rd[0];return M.O.zf.Xe?this.Rd[1]:M;break;}}};p20=27;break;case 2:Object.defineProperties(J.prototype,{addEventListener:{get:function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{removeEventListener:{get:function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;w20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{wZb:{get:function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:return this.cg.Kc;break;case 4:return this.cg.Kc;break;x20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mediaSourceId:{get:function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:return this.cg?this.cg.gpc:void 0;break;case 4:return this.cg?this.cg.gpc:-1;break;y20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Ks:{get:function(){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:return this.qc(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Vn:{get:function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:return this.qc(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{attributes:{get:function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:return this.Uja;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{wh:{get:function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 2:return this.Fi;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{a_:{get:function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:return 0 <= this.m5?this.m5:0;break;case 4:return 9 < this.m5?this.m5:6;break;D20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Ue:{get:function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:return this.Rd[this.KM];break;}}},enumerable:!1,configurable:!0}});p20=13;break;case 59:J.prototype.r8=function(M,P){var Z30,S,U,a40;Z30=2;for(;Z30 !== 6;){switch(Z30){case 4:M && !M.nN && U.Aqa(M);Z30=3;break;case 2:S=this.Fb;M=S.Tqa(M,P);U=this.fh.$ya;Z30=4;break;case 9:S.Oza();Z30=6;break;case 3:Z30=P?9:8;break;case 8:P=U.EPb();try{a40=2;for(;a40 !== 1;){switch(a40){case 2:this.Gb.vxb(P);a40=1;break;}}}catch(T){var i4X="]";i4X+=" ";i4X+="[";var J4X="ex";J4X+="cept";J4X+="ion: [";this.G.error(J4X + T.message + i4X + T.ipc + "]");}Z30=6;break;}}};J.prototype.$na=function(M,P){var b40;b40=2;for(;b40 !== 5;){switch(b40){case 2:a000.j9X(8);w.assert(a000.Q9X(P,0));return this.Rd[P].aEb(M);break;}}};J.prototype.Vu=function(M,P){var c40,U,S;c40=2;for(;c40 !== 7;){switch(c40){case 4:U=S.Re;c40=3;break;case 2:void 0 === M && (M=this.a_);S=this.Ta.JNb(P,M);c40=5;break;case 5:c40=S?4:8;break;case 3:k.Ja(U) || (U=this.Rd[M].gy);a000.h9X(0);return a000.Q9X(U,P);break;case 8:(S=this.Ta.Uqa(M),0 < S.length && (S=S[0],U=S.Re));c40=3;break;}}};J.prototype.RN=function(M,P){var d40,S,U;d40=2;for(;d40 !== 7;){switch(d40){case 5:d40=S?4:8;break;case 1:S=this.Ta.INb(P,M);d40=5;break;case 4:U=S.Re;d40=3;break;case 2:void 0 === M && (M=this.a_);d40=1;break;case 8:(S=this.Ta.Uqa(M),0 < S.length && (S=S[0],U=S.Re));d40=3;break;case 3:k.Ja(U) || (U=this.Rd[M].gy);a000.j9X(7);return a000.X9X(P,U);break;}}};J.prototype.VM=function(){var e40,M;e40=2;for(;e40 !== 4;){switch(e40){case 2:M=this.S.Eg();e40=1;break;case 1:e40=M || this.Fb.nA?5:4;break;case 9:M=this.S.Eg();e40=6;break;e40=1;break;case 8:e40=M && this.Fb.nA?8:3;break;e40=M || this.Fb.nA?5:4;break;case 5:(M && this.Gb.nla(),this.MU(),this.S.Dd(f.va.Jc),this.Bg.sk());e40=4;break;}}};J.prototype.Sla=function(){var f40,M,P;f40=2;for(;f40 !== 3;){switch(f40){case 14:this.Iz.KYb();f40=4;break;f40=3;break;case 4:this.Iz.KYb();f40=3;break;case 2:(M=this,P=this.S.Eg());this.Ta.Uc.Hda(P,function(S){var g40;g40=2;for(;g40 !== 1;){switch(g40){case 2:return M.hh[S]?M.hh[S].Fda():"";break;}}});this.lM && (clearTimeout(this.lM),this.lM=void 0);f40=4;break;}}};J.prototype.uVa=function(M){var h40,P,i40;h40=2;for(;h40 !== 7;){switch(h40){case 1:M.js=!1;P=this.S.Fe() || 0;M.LN(P);this.Fb.Kz();h40=9;break;case 2:M.Ai=!0;h40=1;break;case 9:h40=this.Ws && 1 === M.mediaType?8:7;break;case 8:try{i40=2;for(;i40 !== 1;){switch(i40){case 2:this.r8(f.va.ss,{Ma:M.Ec});i40=1;break;}}}catch(S){var H4X="Hin";H4X+="dsight: Error evaluatin";H4X+="g QoE at endO";H4X+="fStream: ";a000.j9X(7);this.Gb.Ro(a000.X9X(H4X,S));}h40=7;break;}}};J.prototype.Lyb=function(){var j40,M;j40=2;for(;j40 !== 5;){switch(j40){case 2:M=this.uc.Vb;M && (M=M.get()) && M.avtp && this.rw.vAb({avtp:M.avtp.oa});j40=5;break;}}};J.prototype.pzb=function(){var k40,M,P,S;k40=2;for(;k40 !== 4;){switch(k40){case 2:var s4X="sta";s4X+="rtup, playerState no longer STAR";s4X+="TING:";var M4X="fa";M4X+="iled to start";M4X+=" aud";M4X+="i";M4X+="o pipeline";var W4X="fai";W4X+="led to start video pipe";W4X+="line";this.S.Dd(f.va.dh);(M=this.Ta.Uc,P=M.ce(0),S=M.ce(1));this.Vn && !this.CVa(S)?this.Mb(W4X):this.Ks && !this.CVa(P)?this.Mb(M4X):(this.PUa=!0,this.Rd[0].O.OX=!0,P=this.Fb.Vf[1],S=this.Fb.Vf[0],(P && 0 < P.cw || S && 0 < S.cw) && this.Gb.txb(String(M.O.I),S?S.cw:0,P?P.cw:0,S?S.UZ:0,P?P.UZ:0),this.S.i8a()?(this.L5(0),this.Ks && (M=this.Ue.l9(0),P=this.Ue.wr(0).trackId,this.Gb.wxb(M,P))):this.Mb(s4X,this.S.getState()));k40=4;break;}}};J.prototype.CVa=function(M){var l40,P,S;l40=2;for(;l40 !== 14;){switch(l40){case 1:l40=k.na(S)?5:4;break;case 5:var P4X="NFErr_MC_Streami";P4X+="ngI";P4X+="nit";P4X+="Failure";var U4X="st";U4X+="artPipel";U4X+="ine failed";return (this.ho() || this.Sq(U4X,M.Wa.O.Pb,P4X),!1);break;case 2:(P=M.mediaType,S=this.Fb.fSb(M));l40=1;break;case 3:l40=M.Vp()?9:8;break;case 4:M=M.track.gd[S];l40=3;break;case 8:S=this.Ue.O;M.O.n_a(M,{offset:0,jE:!S.zf.Xe && !S.Mi && 1 === P,Nx:!this.Fb.Vf[P].gOb});return !0;break;case 9:return !0;break;}}};p20=72;break;case 72:J.prototype.L5=function(M,P){var m40,S,U,T,W,ia;m40=2;for(;m40 !== 19;){switch(m40){case 14:this.$ja=r.default.time.ia();T.Vl=W.Vl=this.$ja;0 === M && (!this.Vn || 0 < W.cw) && (!this.Ks || 0 < T.cw) && this.Fb.Kz();U.DW && (this.wka=setTimeout(function(){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:S.Lyb();o40=1;break;}}},U.gqa));m40=10;break;case 3:var r4X="s";r4X+="tart";r4X+="Bu";r4X+="ffering";this.Gb.qxb(P);this.Iz.reset();this.Ue.O.sxa();this.emit(r4X);l.Of.forEach(function(pa){var n40;n40=2;for(;n40 !== 5;){switch(n40){case 1:(pa.Kna=0,pa.seeking=0 === M || 1 === M,pa.Aoa());n40=5;break;case 2:n40=(pa=S.Ta.Uc.ce(pa))?1:5;break;}}});m40=14;break;case 2:(S=this,U=this.J,T=this.Fb.Vf[0] || ({}),W=this.Fb.Vf[1] || ({}),ia=this.Fb.lC[1] || ({}));(this.Fb.lC[0] || ({})).CV=void 0;ia.CV=void 0;this.S.Dd(2 === M?f.va.$f:f.va.sd);m40=3;break;case 10:this.S.Eg() && (this.lM=setTimeout(function(){var p40;p40=2;for(;p40 !== 1;){switch(p40){case 2:S.Fb.Kz();p40=1;break;}}},U.RB));this.Bg.sk();m40=19;break;}}};J.prototype.LU=function(M){var q40,P;q40=2;for(;q40 !== 3;){switch(q40){case 2:var b4X="Adopti";b4X+="n";b4X+="gData st";b4X+="ill has lock:";var a4X="wipeHe";a4X+="ader";a4X+="C";a4X+="ach";a4X+="e:";a000.h9X(7);M=a000.X9X(a4X,M);this.Gz.wx && this.fl(b4X + M);P=this.J;P.FJ || (P.Ni && this.Gb.Bn(M),this.uc.OD(),this.ai && (this.ai=void 0));q40=3;break;}}};J.prototype.VSa=function(M){var r40,T,S,U,W;r40=2;function P(ia,pa){var s40,N,Q,V,ca,wa,za,Ca;s40=2;for(;s40 !== 10;){switch(s40){case 7:return Ca;break;case 5:(N=za.Qa,Q=za.header.stream,V=S.Fb.Vf[wa],ca=S.Fb.lC[wa]);k.na(pa.FE) || S.fh.ygb(pa.FE,pa.Zp,pa.$p);ca.jB=pa.jB;s40=9;break;case 12:pa.j6(za.header,!pa.zf.Xe && !pa.Mi && 1 === wa,!0) && (void 0 !== ia.PJ && ia.zK(ia.PJ),Ca=pa.Vp(wa,N).stream.Z.kn(ia.ec,void 0,!0),pa=Q.th(Ca),Q=pa.ba,(pa=pa.ara(ia.ec)) && 0 < pa.Nd && (Q=pa.Nd),ia.ec !== Q && (ia.yK(Q,Ca),S.Pla(wa,Q)),Ca=S.nub(ia,za.data).then(function(){var t40;t40=2;for(;t40 !== 1;){switch(t40){case 4:return N;break;t40=1;break;case 2:return N;break;}}}),V.gOb=!0,ia=S.fh,za=za.header.bitrate,0 === wa?ia.Iy(za):ia.AK(za));s40=11;break;case 2:(wa=ia.mediaType,za=pa[wa],Ca=Promise.resolve(void 0));s40=1;break;case 1:s40=za?5:11;break;case 8:s40=!ia.mdc(N)?7:6;break;case 14:var L4X="adoptPipeline no header";L4X+=" for ";L4X+="stream";L4X+="Id:";return (ia.fl(L4X,N),Ca);break;case 6:s40=!za.header?14:13;break;case 9:ca.Ox=pa.Ox;s40=8;break;case 13:pa=S.Ue.O;s40=12;break;case 11:return Ca;break;}}}for(;r40 !== 13;){switch(r40){case 1:var y4X="Previously";y4X+=" adopted request list still retained w";y4X+="as unexpected";(null === (U=this.ai) || void 0 === U?0:U.CE()) && this.fl(y4X);this.ai=void 0;T=this.J;r40=3;break;case 2:S=this;r40=1;break;case 3:r40=!this.Kzb || !this.uc.Sf?9:8;break;case 8:var p4X="check";p4X+="ForHcdS";p4X+="tart";this.Gb.Lm(p4X);this.Rd.forEach(function(ia){var u40;u40=2;for(;u40 !== 1;){switch(u40){case 2:ia.O.I === M && (W=ia);u40=1;break;}}});return this.uc.Sf.hYb(M,W?W.O:void 0).then(function(ia){var v40,pa,wa;v40=2;for(;v40 !== 8;){switch(v40){case 5:var V4X="heade";V4X+="rCach";V4X+="eD";V4X+="ataNotFound";return (T.Js || S.Gz.wx || S.LU(V4X),Promise.resolve());break;case 1:v40=k.na(ia)?5:4;break;case 2:var O4X="chec";O4X+="k";O4X+="Fo";O4X+="rHcdEnd";S.Gb.Lm(O4X);v40=1;break;case 4:var T4X="adop";T4X+="tH";T4X+="cd";T4X+="Start";(pa=S.Ta.Uc.ce(0),wa=S.Ta.Uc.ce(1));S.Gb.Lm(T4X);return S.Gz.jfa(function(){var w40,za,Ca;w40=2;for(;w40 !== 7;){switch(w40){case 3:S.QTa=ia;w40=9;break;case 2:za=Promise.resolve();S.Vn && (za=P(wa,ia));Ca=Promise.resolve();!S.Ks || T.v6a && !za || (Ca=T.v6a?za.then(function(N){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 4:return N?P(pa,ia):Promise.resolve();break;x40=1;break;case 2:return N?P(pa,ia):Promise.resolve();break;}}}):P(pa,ia));w40=3;break;case 9:var t4X="a";t4X+="doptHcdE";t4X+="nd";S.Gb.Lm(t4X);return Promise.all([za,Ca]);break;}}});break;}}}).then(function(){var y40,ia;y40=2;for(;y40 !== 5;){switch(y40){case 2:var A4X="adoptedCompl";A4X+="etedRe";A4X+="que";A4X+="sts";T.Js || (null === (ia=S.ai) || void 0 === ia?0:ia.CE()) || S.Gz.wx || !S.S.Mo(S.Ue.O) || S.LU(A4X);y40=5;break;}}}).catch(function(ia){var z40;z40=2;for(;z40 !== 1;){switch(z40){case 2:var S4X="he";S4X+="aderC";S4X+="ache:lookupDataPromise caug";S4X+="ht err";S4X+="or:";S.Mb(S4X,ia);z40=1;break;}}});break;case 9:return (this.uc.Una(),Promise.resolve());break;}}};J.prototype.nub=function(M,P){var A40,S,U,T,W,ia,pa,wa;A40=2;for(;A40 !== 9;){switch(A40){case 6:A40=3 !== P.length?0:8;break;A40=0 === P.length?5:4;break;case 1:A40=0 === P.length?5:4;break;case 2:S=this;A40=1;break;case 5:return Promise.resolve();break;case 4:(U=M.oaa,T=U.u,W=Math.min(this.Rd[0].Ma || Infinity,U.Ec || Infinity),ia=M.mediaType,pa=this.Fb.Vf[ia]);return this.Gz.jfa(function(){var B40,Ca;B40=2;function za(){var C40,N;C40=2;for(;C40 !== 5;){switch(C40){case 2:var c4X="adopt";c4X+="Data, ";c4X+="not adopting failed mediaRequ";c4X+="est:";var n4X="adoptData, not adoptin";n4X+="g";n4X+=" aborted medi";n4X+="aR";n4X+="equest:";N=P.shift();7 === N.readyState?M.Mb(n4X,N.toString()):6 === N.readyState?(M.Mb(c4X,N.toString()),S.EH(N,!1)):M.ec >= N.Zc && M.ec < N.Ec && (M.ec < W || !k.Ja(W))?(Ca.push(S.oub(M,N).then(function(){var D40;D40=2;for(;D40 !== 1;){switch(D40){case 4:N.complete || S.X5a(N);D40=7;break;D40=1;break;case 2:N.complete && S.X5a(N);D40=1;break;}}})),M.O8b(N.Ec),k.Ja(W) && M.ec >= W && S.Gb.ola(T,N.Ec),0 === ia && S.fh.Iy(N.bitrate),N.complete?(pa.cw+=N.duration,N.QXb && (pa.UZ+=N.duration),wa=N):(S.ai || (S.ai=new D.VDa(S.G)),S.ai.push(N))):S.EH(N,!1);C40=5;break;}}}for(;B40 !== 3;){switch(B40){case 1:B40=0 < P.length?5:4;break;case 8:Ca=[];B40=5;break;B40=1;break;case 2:Ca=[];B40=1;break;case 14:return Promise.all(Ca);break;B40=3;break;case 7:B40=3 <= P.length?0:5;break;B40=0 < P.length?5:4;break;case 4:return Promise.all(Ca);break;case 5:za();B40=1;break;}}}).then(function(){var E40,za,Ca;E40=2;for(;E40 !== 8;){switch(E40){case 2:E40=1;break;case 4:za=S.Rd[U.O.Pb];Ca=M.Vqa(M.ec);void 0 !== Ca?(M.fm=Ca,M.dd=za.O.Oh[ia].stream.th(M.fm)):M.fm=M.Jd?M.Jd.index + 1:M.fm + 1;E40=8;break;case 1:wa && M.Y5a(wa);E40=5;break;case 5:E40=wa || (null === (za=S.ai) || void 0 === za?0:za.CE())?4:8;break;}}});break;}}};J.prototype.oub=function(M,P){var F40,S,U;F40=2;for(;F40 !== 3;){switch(F40){case 2:var l4X=", p";l4X+="t";l4X+="s: ";var G4X=", state";G4X+=":";G4X+=" ";var K4X="adoptMedi";K4X+="aR";K4X+="equest: ";K4X+="t";K4X+="ype: ";(S=this,U=M.mediaType);this.J.Ni && this.Gb.Bn(K4X + U + G4X + P.readyState + l4X + P.Zc);this.Pla(U,P.Zc);return M.Sa.lBb(P).catch(function(T){var G40;G40=2;for(;G40 !== 1;){switch(G40){case 2:var Z4X="Error adoptin";Z4X+="g reques";Z4X+="ts";S.fl(Z4X,T);G40=1;break;case 4:S.fl("",T);G40=2;break;G40=1;break;}}});break;}}};J.prototype.Kla=function(M,P,S){var H40,U;H40=2;for(;H40 !== 9;){switch(H40){case 3:(void 0 === M?l.Of:[M]).forEach(function(T){var I40;I40=2;for(;I40 !== 1;){switch(I40){case 2:U.qc(T) && (U.px[T].reset(),U.Uyb(T),U.fh.i1b(T));I40=1;break;}}});H40=9;break;case 2:U=this;void 0 === P && (P=F.sT.rna);(S || this.Ta.Uc).Qza(M,P);this.Iz.reset();H40=3;break;}}};J.prototype.MBa=function(){var J40,M;J40=2;for(;J40 !== 5;){switch(J40){case 2:M=this;l.Of.forEach(function(P){var K40,S;K40=2;for(;K40 !== 5;){switch(K40){case 2:null === (S=M.px[P]) || void 0 === S?void 0:S.stop();K40=5;break;}}});J40=5;break;}}};J.prototype.EK=function(M){var L40,P;L40=2;for(;L40 !== 4;){switch(L40){case 2:P=this;(void 0 === M?l.Of:[M]).forEach(function(S){var M40,U;M40=2;for(;M40 !== 5;){switch(M40){case 2:null === (U=P.px[S]) || void 0 === U?void 0:U.resume();M40=5;break;}}});return Promise.resolve();break;}}};J.prototype.CU=function(M){var N40,P,S;N40=2;for(;N40 !== 3;){switch(N40){case 5:null === (S=this.Iz) || void 0 === S?void 0:S.reset();M.forEach(function(U){var O40,T;O40=2;for(;O40 !== 5;){switch(O40){case 2:null === (T=P.px[U]) || void 0 === T?void 0:T.resume();O40=5;break;}}});N40=3;break;case 2:P=this;M=void 0 === M?l.Of:[M];N40=5;break;}}};J.prototype.Uyb=function(M){var P40,P;P40=2;for(;P40 !== 3;){switch(P40){case 2:P=this.Fb.Vf[M];P40=1;break;case 8:P=this.Fb.Vf[M];P40=5;break;P40=1;break;case 1:this.Fb.ly[M].nva=void 0;P.cw=0;P.UZ=0;P40=3;break;}}};p20=87;break;case 104:J.prototype.A4b=function(M,P,S){var c50,U;c50=2;for(;c50 !== 6;){switch(c50){case 4:c50=M.O.OX?3:7;break;case 2:g.zm.Wp(0);M=this.Rd[M];c50=5;break;case 5:M.OCa(P);c50=4;break;case 3:M.wr(0).gd.some(function(T){var d50;d50=2;for(;d50 !== 4;){switch(d50){case 1:d50=!(U && U.stream && U.stream.Z && S < U.stream.Z.ak(0))?5:4;break;case 2:U=T.Vp();d50=1;break;case 5:return ! !U;break;case 7:return - ~U;break;d50=4;break;}}});c50=8;break;case 8:U?(M.O.Oh[0]=U,M.l_=!1,U.stream.Ud && M.b7()):(M.O.Oh[0]=void 0,M.l_=!1,M.O.gK([M.wr(0)],!0,0));c50=7;break;case 7:this.CU(0);c50=6;break;}}};J.prototype.Ayb=function(M,P){var e50,S;e50=2;for(;e50 !== 4;){switch(e50){case 2:S=this.hh[M.mediaType];M=this.Ta.i_(M.Wa,M.mediaType,P,this.uc.hC || 0,function(U){var f50;f50=2;for(;f50 !== 1;){switch(f50){case 2:S.x_(U);f50=1;break;case 4:S.x_(U);f50=2;break;f50=1;break;}}});k.na(M) || this.Bg.sk();e50=4;break;}}};J.prototype.Zvb=function(M){var g50,P,S,U;g50=2;for(;g50 !== 8;){switch(g50){case 2:(P=M.mediaType,S=M.manifestIndex,U=M.streamId);M=this.Ta.Uc.Za(P);P=this.Rd[S].O.Ux(P,U);this.izb(M,P);this.J=this.WZa.vub(P.Te,this.J);g50=9;break;case 9:this.Rd.forEach(function(T,W){var h50,ia;h50=2;for(;h50 !== 5;){switch(h50){case 2:ia=T.O;h50=1;break;case 3:ia=T.O;h50=6;break;h50=1;break;case 1:ia.OX || 0 === W || ia.gK([T.wr(0),T.wr(1)]);h50=5;break;}}});g50=8;break;}}};J.prototype.bwb=function(M){var i50,P,S;i50=2;for(;i50 !== 8;){switch(i50){case 2:P=M.request;M=M.mediaType;S=P.Sa.Wa;S.FYb(M);i50=3;break;case 3:P.nv && this.Gb.sxb(P);P.Oo && this.Gb.Gxb(M,P.O.Pb,S.u);i50=8;break;}}};J.prototype.izb=function(M,P){var j50;j50=2;for(;j50 !== 1;){switch(j50){case 2:this.Fb.ly[M.mediaType].nJ={id:P.Qa,index:P.Lf,bitrate:P.bitrate,Na:P.yb && P.yb.confidence && P.yb.Na?P.yb.Na.oa:0,location:P.location};j50=1;break;}}};J.prototype.D$=function(M){var k50,P,S,U,T,W,ia,pa,wa,za,Ca;k50=2;for(;k50 !== 11;){switch(k50){case 2:(W={},ia=this.hh,pa=this.Ta);k50=1;break;case 5:(wa=pa.Uc,za=wa.ce(0),Ca=wa.ce(1));k50=4;break;case 1:k50=!pa.Uc.zg?5:12;break;case 4:W.vspts=null !== (P=null === Ca || void 0 === Ca?void 0:Ca.ec) && void 0 !== P?P:0;W.aspts=null !== (S=null === za || void 0 === za?void 0:za.ec) && void 0 !== S?S:0;k50=9;break;case 9:W.vbuflbytes=null !== (U=null === Ca || void 0 === Ca?void 0:Ca.wo.aa) && void 0 !== U?U:0;W.abuflbytes=null !== (T=null === za || void 0 === za?void 0:za.wo.aa) && void 0 !== T?T:0;W.vbuflmsec=pa.Bx(wa,1);k50=6;break;case 6:W.abuflmsec=pa.Bx(wa,0);M && (W.a=null === za || void 0 === za?void 0:za.Sa.Z.toJSON(),W.v=null === Ca || void 0 === Ca?void 0:Ca.Sa.Z.toJSON());k50=13;break;case 13:M && ia && (M=ia[1],ia=ia[0],W.atoappend=null === M || void 0 === M?void 0:M.Fda(),W.vtoappend=null === ia || void 0 === ia?void 0:ia.Fda());k50=12;break;case 12:return W;break;}}};J.prototype.C5a=function(M){var l50,U,T,P,S,W,ia;l50=2;for(;l50 !== 8;){switch(l50){case 5:(U=this.Fb.ly[M],T=this.Ta.XH(P,M));U=U.nJ?U.nJ.bitrate:0;l50=3;break;case 2:(P=this.Ta.Uc,S=P.Za(M));l50=1;break;case 3:(W=S.Sa.Sxa,ia=this.Ta.Re);l50=9;break;case 1:l50=S?5:8;break;case 9:return {type:M,availableMediaBuffer:r.default.Xp()[M] - T,completeBuffer:P.Kh(M),incompleteBuffer:W,playbackBitrate:S.Mcb,streamingBitrate:U,streamingTime:S.ec + ia,usedMediaBuffer:T,toappend:S.Kdc};break;}}};J.prototype.I6b=function(){var m50,M;m50=2;for(;m50 !== 5;){switch(m50){case 2:var q4X="requestG";q4X+="arbageCollect";q4X+="ion";M={type:q4X,time:r.default.time.ia()};v.bb(this,M.type,M);m50=5;break;}}};J.prototype.Sq=function(M,P,S,U,T,W,ia){var n50;n50=2;for(;n50 !== 5;){switch(n50){case 2:var R4X="NFErr_MC_Streami";R4X+="n";R4X+="gFa";R4X+="ilure";void 0 === ia && (ia=!1);this.Q5 || (k.na(S) && (S=R4X),this.Q5=!0,this.Gb.Kxb(S,M,U,T,W,void 0 !== P?P:this.a_,ia));n50=5;break;}}};J.prototype.NTa=function(){var o50;o50=2;for(;o50 !== 5;){switch(o50){case 2:var m4X="Ne";m4X+="twork ";m4X+="failures reset!";this.Mb(m4X);this.Bg.sk();o50=5;break;}}};p20=94;break;case 39:J.prototype.stop=function(){var w30;w30=2;for(;w30 !== 1;){switch(w30){case 2:this.Ti.stop();w30=1;break;}}};J.prototype.Ot=function(M,P){var x30;x30=2;for(;x30 !== 1;){switch(x30){case 2:return this.$o.Ot(M,P);break;}}};J.prototype.seek=function(M,P){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:return this.$o.seek(M,P);break;}}};J.prototype.gp=function(M){var z30,P,S,U,T,C30,W;z30=2;for(;z30 !== 18;){switch(z30){case 13:this.Bg.sk();z30=12;break;case 2:var u4X="b";u4X+="ra";u4X+="nchOffset:";var o4X="ent";o4X+="ry.manifestOf";o4X+="fset:";var N4X="cont";N4X+="en";N4X+="tPt";N4X+="s";N4X+=":";var k4X="u";k4X+="nderflow: going to BUF";k4X+="FERING at player pts:";(P=this,S=this.J,U=this.Vu(this.a_,M));this.Mb(k4X,M,N4X,U,o4X,this.Ue.gy,u4X,this.Ta.Re);T=S.hq;this.hh.forEach(function(ia){var A30;A30=2;for(;A30 !== 1;){switch(A30){case 2:T=Math.max(0,Math.min(T,ia.qsa - M));A30=1;break;}}});z30=3;break;case 11:try{C30=2;for(;C30 !== 1;){switch(C30){case 2:this.r8(f.va.sd);C30=1;break;case 4:this.r8(f.va.sd);C30=3;break;C30=1;break;}}}catch(ia){var I4X="Hindsigh";I4X+="t: Error when e";I4X+="valuating QoE at Buffering: ";a000.j9X(7);this.Gb.Ro(a000.X9X(I4X,ia));}z30=10;break;case 12:z30=this.Ws?11:10;break;case 10:U=this.uc.Vb.get();z30=20;break;case 20:U=U.confidence?U.Na.oa:0;T > S.nNb && U > S.mNb && this.Sla();z30=18;break;case 3:var d7X="under";d7X+="f";d7X+="low";this.Gla+=1;W=this.Ta.Uc;l.Of.forEach(function(ia){var B30,pa,wa,za,Ca;B30=2;for(;B30 !== 6;){switch(B30){case 1:B30=wa?5:6;break;case 2:wa=W.ce(ia);B30=1;break;case 5:B30=S.Ni?4:9;break;case 4:(za=P.hh[ia],Ca=P.Ta.XH(W,ia));B30=3;break;case 3:var f7X=", toAp";f7X+="pend:";f7X+=" ";var F7X=", fragme";F7X+="n";F7X+="ts: ";var e7X=", completeStreami";e7X+="n";e7X+="gPts: ";var w7X=", s";w7X+="treamin";w7X+="gP";w7X+="ts: ";var Y7X=", ";Y7X+="pa";Y7X+="r";Y7X+="tia";Y7X+="ls: ";var C7X=",";C7X+=" ";C7X+="completedBytes: ";var D4X=",";D4X+=" completedM";D4X+="s";D4X+=": ";var E4X=", m";E4X+="e";E4X+="diaType:";E4X+=" ";var g4X="un";g4X+="der";g4X+="flow";g4X+=": ";za=g4X + M + E4X + ia + D4X + wa.PN + C7X + Ca + Y7X + wa.Sa.iF + w7X + wa.ec + e7X + wa.gr + F7X + JSON.stringify(wa.Sa.Z) + f7X + (za && za.Fda());B30=9;break;case 9:S.Ni && P.Gb.Bn(za);wa.Aoa();null === (pa=wa.Ah) || void 0 === pa?void 0:pa.C6b();B30=6;break;}}});this.Ue.O.Uj();this.emit(d7X);this.L5(2);z30=13;break;}}};J.prototype.Jl=function(M){var D30;D30=2;for(;D30 !== 1;){switch(D30){case 4:return this.$o.Jl(M);break;D30=1;break;case 2:return this.$o.Jl(M);break;}}};J.prototype.Qs=function(M,P,S){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:return this.$o.Qs(M,P,S);break;case 4:return this.$o.Qs(M,P,S);break;E30=1;break;}}};J.prototype.nUa=function(M){var F30,P;F30=2;for(;F30 !== 3;){switch(F30){case 2:this.KM=M;P=this.Rd[M];this.Gb.Axb(M,P);this.Gb.FUa(P.O.yt);F30=3;break;}}};J.prototype.lN=function(M,P){var G30,ia,pa,wa,za,T,W,S,U;G30=2;for(;G30 !== 35;){switch(G30){case 5:var B7X="addMani";B7X+="fest: pipel";B7X+="ines a";B7X+="lready shutdown";this.Mb(B7X);G30=35;break;case 23:var h7X=",";h7X+=" ";var j7X=") lastStreamAppende";j7X+="d";j7X+=": (";var X7X=",";X7X+=" ";var Q7X=" s";Q7X+="trea";Q7X+="mCount: (";var z7X=" playerS";z7X+="t";z7X+="ate: ";var x7X="addMan";x7X+="ife";x7X+="st, c";x7X+="urrentP";x7X+="ts: ";T=this.Fb.ly[1].nJ;U.Ni && this.Gb.Bn(x7X + this.S.Fe() + z7X + this.S.getState() + Q7X + M.wr(0).gd.length + X7X + M.wr(1).gd.length + j7X + P + h7X + T + ")");this.Ks && k.na(P) || this.Vn && k.na(T) || (M.O.gK([M.wr(0),M.wr(1)]),this.b6());G30=35;break;case 7:var v7X="addManifest in fastplay but not drm ma";v7X+="nifest, leaving sp";v7X+="ace for i";v7X+="t";P.TZ && (this.x5=!0);T=this.Rd.length;P.replace && 1 !== T?T=1:this.Ue.O.zf.Xe && !P.replace && 1 === T && (this.Mb(v7X),T=this.Rd[0].clone(),this.Rd.push(T),T=this.Rd.length);W=P.ba || 0;ia=P.Ma;G30=11;break;case 4:P || (P={});G30=3;break;case 9:G30=!P.Dmc && (this.Ks && T.js || this.Vn && W.js)?8:7;break;case 15:this.Rd[T] && this.Rd[T].Yc();this.Rd[T]=M;M.sYa();P.replace || this.Ta.PAb(pa,W,ia);P=this.Fb.ly[0].nJ;G30=23;break;case 1:G30=this.ho()?5:4;break;case 11:var i7X="v";i7X+="id";i7X+="e";i7X+="o_t";i7X+="racks";var J7X="aud";J7X+="io_tra";J7X+="cks";M=h.Mha.create({Pb:T,ea:M,nq:void 0,Vfb:P.ER || [this.Ue.l9(0),this.Ue.l9(1)],Xe:!1,U7a:! !P.replace,Mi:! !P.Mi,zd:l.Waa(! !P.kV,! !P.RF),ba:W,Ma:ia,Gb:this.Gb,et:this.NTa.bind(this),bc:this,config:this.J,G:this.G,Bg:this.Bg,$o:this.$o,Sf:this.TVa?this.uc.Sf:void 0,EE:this.EE});pa=M.O;(P.YCb || this.QSa) && this.Fb.Ur(P.YCb || this.QSa,pa.K);(wa=[J7X,i7X],za=this.K4a());G30=18;break;case 8:var H7X="addManifest ignored";H7X+=", pi";H7X+="pelines alrea";H7X+="dy set EOS:";this.Mb(H7X,T.js,W.js);G30=35;break;case 3:(T=this.Ta.Uc.ce(0),W=this.Ta.Uc.ce(1));G30=9;break;case 2:(S=this,U=this.J);G30=1;break;case 18:var W7X="b";W7X+="o";W7X+="olean";P.replace && wa.forEach(function(Ca,N){var H30,Q,V;H30=2;for(;H30 !== 3;){switch(H30){case 2:Q=pa.wE(N);H30=1;break;case 1:H30=Q?5:3;break;case 5:V=S.Rd[0].O;Object.keys(Q).forEach(function(ca){var I30,sa;I30=2;for(;I30 !== 5;){switch(I30){case 2:sa=V.Ux(N,ca);sa && sa.Ud && (Q[ca].s7(sa),ca=pa.yt,ca[N] > za[N] && (za[N]=ca[N]));I30=5;break;}}});H30=3;break;}}});wa.forEach(function(Ca,N){var J30,Q;J30=2;for(;J30 !== 5;){switch(J30){case 2:Q=pa.wE(N);Q && Object.keys(Q).forEach(function(V){var K30;K30=2;for(;K30 !== 1;){switch(K30){case 2:Q[V].Sjb(r.default.Xp()[N],pa.ay()?U.n$a:0);K30=1;break;}}});J30=5;break;}}});M.eV=W7X === typeof P.CCb?P.CCb:!0;G30=15;break;}}};J.prototype.RU=function(M){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:return this.$o.RU(M);break;}}};J.prototype.LA=function(M){var M30,P,S,U,T,W;M30=2;for(;M30 !== 7;){switch(M30){case 2:U=this.J;M30=1;break;case 1:M30=!this.ho()?5:7;break;case 5:var r7X="drm";r7X+="R";r7X+="eady";var P7X=" re";P7X+="adyStat";P7X+="e: ";var U7X=" ";U7X+="for m";U7X+="ovieId: ";var s7X=",";s7X+=" ";var M7X="drmReady";M7X+=" at";M7X+=" streamin";M7X+="g p";M7X+="ts: ";k.na(P) && (P=!0);(T=this.Ta.Uc.ce(0),W=this.Ta.Uc.ce(1));U.Ni && this.Gb.Bn(M7X + (T?T.ec:null) + s7X + (W?W.ec:null) + U7X + M + P7X + P);a000.j9X(7);this.S.cR(a000.X9X(M,""),P);P && (this.hh.forEach(function(ia){var N30;N30=2;for(;N30 !== 5;){switch(N30){case 2:U.L8 && ia.R2a();ia.LA();N30=5;break;}}}),U.dfa && this.CU(),this.Ue.O.zf.Xe && this.a6(this.$o.mD?this.$o.mD.Pb:this.KM + 1),U.Js || (null === (S=this.ai) || void 0 === S?0:S.CE()) || this.Gz.wx || this.LU(r7X),this.$o.Eka());M30=7;break;}}};p20=48;break;case 32:J.prototype.mya=function(){};J.prototype.close=function(){var k30;k30=2;for(;k30 !== 4;){switch(k30){case 2:this.jgb.xb();this.Rd.forEach(function(M){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:M.close();l30=1;break;}}});this.Ti.close();k30=4;break;}}};J.prototype.Meb=function(){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 4:this.uc.Hyb(this);m30=6;break;m30=1;break;case 2:this.uc.Hyb(this);m30=1;break;}}};J.prototype.Yc=function(){var n30,M;n30=2;for(;n30 !== 20;){switch(n30){case 13:this.Fi.clear();M=this.cg;this.cg=void 0;n30=10;break;case 2:this.fh.S0b();this.A4();n30=4;break;case 8:this.px.forEach(function(P){var o30;o30=2;for(;o30 !== 1;){switch(o30){case 2:P.reset();o30=1;break;}}});this.S.Dd(f.va.xj);this.Rd.forEach(function(P){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 4:P.Yc();p30=7;break;p30=1;break;case 2:P.Yc();p30=1;break;}}});this.Rd=[];n30=13;break;case 10:var a7X="E";a7X+="rror on MediaSource destr";a7X+="o";a7X+="y: ";k.na(M) || M.kr() || this.Mb(a7X,M.error);n30=20;break;case 4:this.Ta.xb();this.qW.nvb();null === (M=this.Iz) || void 0 === M?void 0:M.reset();n30=8;break;}}};J.prototype.suspend=function(){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 2:this.Ti.suspend();q30=1;break;case 4:this.Ti.suspend();q30=4;break;q30=1;break;}}};J.prototype.resume=function(){var r30;r30=2;for(;r30 !== 1;){switch(r30){case 4:this.Ti.resume();r30=2;break;r30=1;break;case 2:this.Ti.resume();r30=1;break;}}};J.prototype.ho=function(){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 4:return this.Ti.ho();break;s30=1;break;case 2:return this.Ti.ho();break;}}};J.prototype.kzb=function(){var t30,M;t30=2;for(;t30 !== 8;){switch(t30){case 2:M=this.J;this.wD && clearTimeout(this.wD);this.wD=setTimeout(this.MU.bind(this),M.Nea);this.Hz || (this.Hz=setInterval(this.Gb.DUa.bind(this.Gb),M.zN));this.R5 || (this.R5=setInterval(this.Gb.Mxb.bind(this.Gb),M.VBa));this.Jt && !this.w4 && (this.w4=setInterval(this.Gb.CUa.bind(this.Gb),M.D6));t30=8;break;}}};J.prototype.A4=function(){var u30;u30=2;for(;u30 !== 7;){switch(u30){case 2:this.wD && (clearTimeout(this.wD),this.wD=void 0);this.Hz && (clearInterval(this.Hz),this.Hz=void 0);this.R5 && (clearInterval(this.R5),this.R5=void 0);this.w4 && (clearInterval(this.w4),this.w4=void 0);u30=3;break;case 3:this.lM && (clearTimeout(this.lM),this.lM=void 0);this.wka && (clearTimeout(this.wka),this.wka=void 0);this.Bg.A4();u30=7;break;}}};J.prototype.play=function(){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 4:this.Ti.play();v30=0;break;v30=1;break;case 2:this.Ti.play();v30=1;break;}}};p20=39;break;case 48:J.prototype.c$=function(){var O30;O30=2;for(;O30 !== 1;){switch(O30){case 2:return this.S.Mo(this.Ue.O);break;case 4:return this.S.Mo(this.Ue.O);break;O30=1;break;}}};J.prototype.WSa=function(M){var P30,P,S,U;P30=2;for(;P30 !== 11;){switch(P30){case 9:S=this.Rd[M].O;P30=8;break;case 2:P30=M >= this.Rd.length?1:5;break;case 6:M=S.Oh[0];P=S.Oh[1];P=!this.Vn || P && P.stream.Ud;P30=12;break;case 5:(P=this.Ta.Uc.ce(0),S=this.Ta.Uc.ce(1));P=!P || P.Ai;U=!S || S.Ai;P30=9;break;case 8:P30=!(M === this.KM + 1 && S.zf.replace || P && U) || !this.S.Mo(S)?7:6;break;case 12:return (!this.Ks || M && M.stream.Ud) && P?!0:!1;break;case 7:return !1;break;case 1:return !1;break;}}};J.prototype.b6=function(){var Q30;Q30=2;for(;Q30 !== 1;){switch(Q30){case 2:this.a6(this.KM + 1);Q30=1;break;}}};J.prototype.a6=function(M){var R30,P;R30=2;for(;R30 !== 6;){switch(R30){case 1:return !1;break;case 2:R30=!this.WSa(M)?1:5;break;case 4:R30=P.kNb || !P.O.zf.replace?3:9;break;case 3:return !1;break;case 9:this.vzb(M);this.Bg.sk();return !0;break;case 5:P=this.Rd[M];R30=4;break;}}};J.prototype.vzb=function(M){var S30,ia,P,S,U,T,W;S30=2;for(;S30 !== 20;){switch(S30){case 7:ia=[];[1,0].forEach(function(pa){var T30;T30=2;for(;T30 !== 1;){switch(T30){case 2:P.O.qc(pa) && (ia[pa]=P.wr(pa));T30=1;break;}}});T?this.Ta.s6b(S.O,P.O,ia):U.Pgb(P.O,ia);this.nUa(M);P.dxa();this.$o.Eka();this.Bg.sk();S30=20;break;case 2:var y7X=",";y7X+=" ";var L7X=", s";L7X+="trea";L7X+="mi";L7X+="ngPts";L7X+=": ";var b7X="switc";b7X+="hManifes";b7X+="t manifest";b7X+="I";b7X+="ndex: ";(P=this.Rd[M],S=this.J,U=this.Ta.Uc,T=U.Za(0));T=T?T.ec:void 0;W=U.Za(1);W=W?W.ec:void 0;S.Ni && this.Gb.Bn(b7X + M + L7X + T + y7X + W);S=this.Ue;T=S.O.zf.Xe;S30=7;break;}}};J.prototype.wbb=function(){var U30,M,P,S,U;U30=2;for(;U30 !== 6;){switch(U30){case 2:(M=this.Ta.Uc,P=M.Za(0));U30=1;break;case 9:U.UR=!1;this.Bg.sk();U30=6;break;case 1:U30=P?5:7;break;case 7:var p7X="onAudioTrackSwitchStar";p7X+="ted ignored, no au";p7X+="dio";p7X+=" pipeline";this.Mb(p7X);U30=6;break;case 5:var V7X="on";V7X+="AudioTrackSwitchStarted";V7X+=" but current playing ";V7X+="request not found";(S=this.S.Fe(),U=this.Fb.Vf[P.mediaType]);(M=this.Ta.mv(S,M,0))?P=M.Sa:(this.Mb(V7X),P=P.Sa);this.uyb(P);U30=9;break;}}};J.prototype.nea=function(M){var V30,S,P,T,U,W;V30=2;for(;V30 !== 35;){switch(V30){case 26:return !1;break;case 3:var O7X="sw";O7X+="itchTracks rejected";O7X+=", previo";O7X+="us switch still i";O7X+="n progress: ";return (this.Mb(O7X + JSON.stringify(this.Fb.nA)),!1);break;case 10:V30=T < P.cba?20:19;break;case 12:V30=this.S.getState() === f.va.Jc?11:19;break;case 7:S=this.Fb.Vf[0];V30=6;break;case 16:var T7X="switc";T7X+="hTracks can't";T7X+=" find trackId:";return (this.Mb(T7X,M),!1);break;case 9:V30=this.S.Eg()?8:7;break;case 17:V30=!T?16:15;break;case 1:V30=!this.Ks?5:4;break;case 6:V30=S.UR?14:13;break;case 20:var t7X="s";t7X+="witchTr";t7X+="acks rejected, bufferLevelMs";return (this.Mb(t7X,T,"<",P.cba),!1);break;case 5:var A7X="swi";A7X+="tchTracks rejected, audio disab";A7X+="led";return (this.Mb(A7X),!1);break;case 27:V30=W === T.trackId?26:25;break;case 19:M=M.po;T=this.Ue.O.getTrackById(M);V30=17;break;case 2:P=this.J;V30=1;break;case 11:T=this.Ta.Bx(U,1);V30=10;break;case 14:var S7X="switchTracks rej";S7X+="ected, p";S7X+="revious switch still waitin";S7X+="g";S7X+=" to start";return (this.Mb(S7X),!1);break;case 8:var n7X="swi";n7X+="tchTra";n7X+="cks rejec";n7X+="ted, buf";n7X+="fering";return (this.Mb(n7X),!1);break;case 13:U=this.Ta.Uc;V30=12;break;case 4:V30=this.Fb.nA?3:9;break;case 15:W=this.Ue.wr(0).trackId;V30=27;break;case 25:var K7X=" t";K7X+="o:";K7X+=" ";var c7X="switchTracks c";c7X+="urrent:";c7X+=" ";P.Ni && this.Gb.Bn(c7X + W + K7X + T.trackId);S.vba={trackId:M};P=U.Za(0);this.nzb(P);return !0;break;}}};J.prototype.Ur=function(M,P){var W30;W30=2;for(;W30 !== 1;){switch(W30){case 4:this.Fb.Ur(M,P);W30=6;break;W30=1;break;case 2:this.Fb.Ur(M,P);W30=1;break;}}};J.prototype.mv=function(M,P,S){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:return this.Ta.mv(M,this.Ta.oi,P,S);break;}}};J.prototype.Tg=function(M){var Y30;Y30=2;for(;Y30 !== 1;){switch(Y30){case 2:return this.$o.Tg(M);break;case 4:return this.$o.Tg(M);break;Y30=1;break;}}};p20=59;break;}}})();b.DQa=a;t.Je(c.EventEmitter,a);},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Mha=void 0;c=a(11);k=a(7);g=a(246);t=(function(){function h(d,f,l,m,n,p,q,r,u,v,w,x){void 0 === l && (l=0);this.se=d;this.H5=f;this.ba=l;this.Ma=m;this.d9=n;this.Lh=p;this.RO=q;this.config=r;this.G=u;this.Gb=v;this.kNb=w;this.wh=x;this.gy=0;}h.create=function(d){var l,m,n,p,q,r,u,v,w,x,y,z,A,B,C;function f(D){k.bb(v,D.type,D);}l=d.Pb;m=d.ea;n=d.Vfb;p=d.ba;q=d.Ma;r=d.et;u=d.Gb;v=d.bc;w=d.config;x=d.G;y=d.Bg;z=d.$o;A=d.Sf;B=d.EE;C=new g.Nfa(Number(m.movieId),{Pb:l,ea:m,nq:d.nq,H$a:{xua:d.Xe,f8a:! !d.U7a},Mi:d.Mi,zd:d.zd,config:w,w6a:{pm:y.sk.bind(y),Sf:A,EE:B,So:f,K$:function(D){return D === v.Ta.Uc.O;},CX:function(D,F,G,E,I){D=v.Fb.Vf[D];return !F || G || E || I?v.aU:D.Jf;},uE:function(D){return v.Fb.ly[D];},Lh:v.Lh.bind(v)},pZ:function(D){v.emit("requestComplete",{type:"requestComplete",timestamp:D.Gf,mediaRequest:D});},Z8:function(){return v.fh;},Vb:v.uc.Vb,hi:v.uc.hi,T1a:{et:r,If:function(D,F,G,E,I,L){void 0 === L && (L=!1);return !L || v.S.Eg()?(v.Sq(D,l,F,G,E,I,L),!0):!1;},No:function(){return v.Q5;},So:f},NQ:void 0,CF:{T:v.uc.hC,aa:v.uc.BF}});w.NA && C.xF({Xo:v.Im.Xo,ga:v.Im.ga,gE:v.Im.gE,Ro:u.Ro.bind(u)});d=new c.Zf();d.addListener(C.Ev,"onHeaderFragments",function(D){var F,G,E,I,L;F=D.mediaType;G=D.Qa;E=D.stream.Z;I=v.Lh(l);if(I){if(C.Oh[F] && D !== C.Oh[F])D.Nx && (I=C.Oh[F],D=D.stream,L=I && I.stream,x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Qa + "), expected track " + (L && L.trackId) + ", stream " + (L && L.Qa) + ", " + I));else {C.Oh[F]=D;D=v.Ta.Uc;if(0 === l){L=C.qc(1)?D.Za(1).ec:D.Za(0).ec;D.d7(L,C);}I.l_=!1;I.b7();v.b6();}z.Eka();u.Exb(l,F,G,C.I,E);y.sk();}else x.warn("addFragments for stale manifestIndex:",l);});d.addListener(C.Ev,"onHeaderRequestComplete",function(D){var F,G;D.Zl?v.b6():D.jE && (x.warn("drm header header:",D.toString(),"but no headers seen, marking pipeline drmReady"),v.LA(D.I));F=D.mediaType;G=Object.getOwnPropertyNames(B.kx[F]);v.hh[F].dbb(D.stream,1 === G.length && G[0] === D.Qa);y.mTa();v.I6b();});d.addListener(C.Ev,"onHeaderFromCache",function(D){var F;F=D.header;D=D.hOb;F.Zl && v.b6();D && u.uxb(F.I,F.Qa);});return new h(C,n,p,q,function(){return v.Ta;},v.Lh.bind(v),v.RO.bind(v),w,x,u,!1,d);};Object.defineProperties(h.prototype,{O:{get:function(){return this.se;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Pb:{get:function(){return this.O.Pb;},enumerable:!1,configurable:!0}});h.prototype.wr=function(d){return this.se.DSb(d,this.l9(d));};h.prototype.l9=function(d){return this.H5[d];};h.prototype.close=function(){this.wh.clear();this.O.close();};h.prototype.Yc=function(){this.se.Yc();delete this.se;};h.prototype.clone=function(){return new h(this.O,this.H5,this.ba,this.Ma,this.d9,this.Lh,this.RO,this.config,this.G,this.Gb,!0,this.wh);};h.prototype.OCa=function(d){this.G.trace("updateAudioTrack:",this.H5[0],"->",d);this.H5[0]=d;};h.prototype.A4a=function(){return void 0 !== this.HJ?this.HJ:this.Ma?this.Ma:this.se.duration;};h.prototype.aEb=function(d){var f,l;f=this.se.Oh[1];if(f && f.stream.Ud){if(this.TA && this.TA[1] && this.TA[1].ba <= d && this.TA[1].Ma > d)return this.TA[1].Ad;f=f.stream.Z;d=f.kn(d,void 0,!0);l=void 0;void 0 === l && (l=f.ak(d));return l;}};h.prototype.b7=function(){var d,f;if(!this.l_ && this.k6a()){this.dxa();d=[0,0];if(0 !== this.Pb && !this.se.zf.UY && !this.se.zf.replace){f=this.Lh(this.Pb - 1);f=this.se.I === f.se.I;d=this.d9().Uc;f=d.d7(this.ba,this.O,d,f);d=f.AQ;}this.ba=d[1];this.AQ=d;this.TA=f && f.TA;this.sYa();f=this.se.qc(1)?this.se.Oh[1].stream.Z.Ma:this.se.Oh[0].stream.Z.Ma;this.Gb.zxb(this.Pb,this.gy,this.ba,this.HJ,f);this.l_=!0;for(f=this.Pb + 1;f < this.RO();++f){d=this.Lh(f);d.l_=!1;d.b7();}}};h.prototype.sYa=function(){var d;if(0 === this.Pb || this.se.zf.replace)this.gy=0;else {d=this.Lh(this.Pb - 1);this.gy=d.gy + d.A4a() - this.ba;}};h.prototype.dxa=function(){var d,f,l,m,n,p,q,r;if(this.k6a()){n=this.d9().Uc;p=this.Ma || Infinity;q=this.se.qc(1);r=n.OW(p,this.O);this.HJ=q?r[1].Ma:r[0].Ma;n=q?this.se.Oh[1].stream.Z.Ma:this.se.Oh[0].stream.Z.Ma;q=Math.min(null !== (f=null === (d=r[1]) || void 0 === d?void 0:d.Ma) && void 0 !== f?f:Infinity,null !== (m=null === (l=r[0]) || void 0 === l?void 0:l.Ma) && void 0 !== m?m:Infinity);this.Gb.Bxb(this.Pb,this.HJ,n,q);d=this.d9().Uqa(this.Pb);0 < d.length && d.forEach(function(u){u.lcc(r,p);});}};h.prototype.k6a=function(){var d,f,l,m;d=this.se.qc(0);f=this.se.qc(1);l=this.se.Oh[0];m=this.se.Oh[1];l=l && l.stream.Ud;m=m && m.stream.Ud;return (!d || l) && (!f || m);};return h;})();b.Mha=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GQa=void 0;t=a(0);c=a(7);a=t.__importDefault(a(4));k=a.default.ns;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(h,d,f){this.Ro=f;this.Tzb=new c.Oja(h);this.ga=d.ga;this.Hub=1E3 * d.lZb / d.mDb;this.UKb=d.gE;this.eXa=!1;}g.prototype.Xu=function(h){var d,f;d={s_xid:this.ga,dl:this.UKb?1:0};h.MD && (d.bs=c.h7(Math.floor(h.MD / this.Hub) + 1,1,5));h.zba && (d.limit_rate=h.zba);h.PXa && (d.bb_reason=h.PXa);h.Xib && (d.tm=h.Xib);if(h.UV){f=h.UV.T$();if(f || !f && this.eXa)(d.cpr_ss=h.UV.iC,d.cpr_ca=h.UV.BA,d.cpr_rec=h.UV.XB,this.eXa=f);}h.Ana && (d.br="" + h.Ana.start + "+" + h.Ana.size);return this.Qxb(d);};g.prototype.CAa=function(h,d){var f,l;try{f=new k(void 0,"notification");l=this.Xu({PXa:h});d && l && f.open(d,void 0,2,void 0,void 0,void 0,l);}catch(m){this.Ro("SideChannel: Error when sending sendBlackBoxNotification. Error: " + m);}};g.prototype.Qxb=function(h){var d;try{d=this.fzb(h);return this.Tzb.encrypt(d);}catch(f){this.Ro("SideChannel: Error when obfuscating msg. Error: " + f);}};g.prototype.fzb=function(h){return Object.keys(h).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(h[d]));}).join("&");};return g;})();b.GQa=a;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bRa=b.Ctb=void 0;c=a(0);a(62);k=a(2);t=c.__importDefault(a(4));g=a(400);a=a(398);h=new t.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(l){d=!1;}f=(function(l){function m(n,p){p=l.call(this,n.xq,p) || this;p.zH=n;return p;}c.__extends(m,l);Object.defineProperties(m.prototype,{aa:{get:function(){return this.zH.vBa(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{offset:{get:function(){return this.zH.ji(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qwa:{get:function(){return this.zH.WP && this.zH.WP[this.pe];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wk:{get:function(){return this.zH.iPb(this.pe);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cb:{get:function(){return this.zH.Ll && this.zH.Ll[this.pe];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yna:{get:function(){return 8 * this.aa / (1E3 * this.dv / this.U);},enumerable:!1,configurable:!0}});m.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Ua,contentEndTicks:this.fb,durationTicks:this.dv,timescale:this.U,startPts:this.ba,endPts:this.Ma,duration:this.duration,additionalSAPs:this.wk};};return m;})(a.DRa);b.Ctb=f;t=(function(){function l(m,n,p,q,r,u,v){this.OM=128;this.Tc=n;this.Lb=p.offset;this.tk=p.sizes;this.$M=m;this.nM=this.MT=this.Hi=this.Vq=this.Tla=void 0;this.bxb=q;this.Tja=r && r.ji;this.Gu=u;this.Bf=Math.min(this.Tc.length,this.tk.length);m=this.RDb();this.Owb=m.maxBitrate;this.Pwb=m.Gr;this.xq.zs.length !== this.tk.length && h.trace("Mis-matched stream duration (" + this.xq.zs.length + "," + this.tk.length + ") for movie id " + v);this.xq.m6 && !this.Tja && h.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.Tc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.Bf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{On:{get:function(){return this.Tc.On;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rqa:{get:function(){return this.Tc.rqa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ba:{get:function(){return this.Tc.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ma:{get:function(){return this.Tc.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{lwa:{get:function(){return this.Tc.lwa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jy:{get:function(){return this.Owb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gr:{get:function(){return this.Pwb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ka:{get:function(){return this.Tc.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{U:{get:function(){return this.Tc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ae:{get:function(){return this.Vq || this.bka();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{WP:{get:function(){return this.bxb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ima:{get:function(){return this.Tja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ll:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xq:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ly:{get:function(){return this.Tla || this.cvb();},enumerable:!1,configurable:!0}});l.prototype.vBa=function(m){if(this.tk)return this.tk[m];h.error("sizesByIndex _sizes is undefined");return -1;};l.prototype.ak=function(m){return this.Tc.ak(m);};l.prototype.FW=function(m){return this.Tc.ak(m) + this.Tc.ae(m);};l.prototype.ji=function(m){var n,p,q;if(this.MT !== m || void 0 === this.nM){if(0 === m)return this.Lb;if(this.MT === m - 1 && void 0 !== this.nM)(this.nM+=this.tk[this.MT],++this.MT);else {n=this.Hi || this.Mub();p=Math.floor(m / this.OM);q=p * this.OM;for(n=n[p];q < m;++q){n+=this.tk[q];}this.MT=m;this.nM=n;}}return this.nM;};l.prototype.ae=function(m){return this.Tc.ae(m);};l.prototype.get=function(m){return new f(this,m);};l.prototype.iPb=function(m){var n,p,q,r,u;k.assert(0 <= m);n=this.xq.m6;p=this.xq.BWa;q=this.Tja;if(!q || !n || !p || m >= n.length)return [];r=[];u=m === n.length - 1?p.length:n[m + 1];for(n=n[m];n < u;++n){r.push({Wi:p[n],Nd:this.ak(m) + this.ka.EB(p[n]).T,offset:q[n]});}return r;};l.prototype.kn=function(m,n,p){return this.Tc.kn(m,n,p);};l.prototype.E8=function(m,n,p){return this.Tc.E8(m,n,p);};l.prototype.t7=function(m,n){return this.Tc.t7(m,n);};l.prototype.ODb=function(m,n,p,q,r){var u,v,w,x,y,z,A,B,C;u=!0;v=0;w=this.Tc.zs;x=this.tk;m=Math.floor(m * this.U / 1E3);y=Math.floor(p * this.U / 1E3);z=0;A=0;B=0;if(this.Tc.JCa && this.Tc.ICa)for(v=this.Tc.JCa;v <= this.Tc.ICa;++v){z+=w[v];A+=x[v];}if(A > n)u=!1;else for(;v < this.length && (!r || v < r);){C=x[v];p=w[v];if(A + C > n){for(;1 < v - B && A + C > n && (z - w[B] >= y || A - x[B] > q);){z-=w[B];A-=x[B];++B;}if(z < m || A + C > n){u=!1;this.Tc.JCa=B;this.Tc.ICa=v;break;}}z+=p;A+=C;++v;}return u;};l.prototype.subarray=function(m,n){k.assert(void 0 === m || 0 <= m && m < this.length);k.assert(void 0 === n || n > m && n <= this.length);return new l(this.$M,this.Tc.subarray(m,n),{offset:this.ji(m),sizes:this.tk.subarray(m,n)},this.WP && this.WP.subarray(m,n),this.Ima && ({ji:this.Ima}),this.Gu && this.Gu.subarray(m,n));};l.prototype.forEach=function(m){for(var n=0;n < this.length;++n){m(this.get(n),n,this);}};l.prototype.map=function(m){for(var n=[],p=0;p < this.length;++p){n.push(m(this.get(p),p,this));}return n;};l.prototype.reduce=function(m,n){for(var p=0;p < this.length;++p){n=m(n,this.get(p),p,this);}return n;};l.prototype.toJSON=function(){return {length:this.length};};l.prototype.dump=function(){var n;h.trace("StreamFragments: " + this.length);for(var m=0;m < this.length;++m){n=this.get(m);h.trace("StreamFragments: " + m + ": [" + n.ba + "-" + n.Ma + "] @ " + n.offset + ", " + n.aa + " bytes");}};l.prototype.RDb=function(){var m,n,p,q,r,u,x;m=0;n=0;p=this.Tc.l$a;q=this.Tc.m$a;r=this.Tc.zs;u=this.tk;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var v=0,w=this.length;v < w;++v){x=u[v];x > n && (n=x,q=v);x/=r[v];x > m && (m=x,p=v);}void 0 === this.Tc.l$a && (this.Tc.l$a=p);void 0 === this.Tc.m$a && (this.Tc.m$a=q);}else (m=u[p] / r[p],n=u[q]);return {maxBitrate:Math.floor(m * this.U / 125),Gr:n};};l.prototype.bka=function(){for(var m=0,n=0;n < this.length;++n){m+=this.tk[n];}return this.Vq=m;};l.prototype.cvb=function(){var m;m=new Uint8Array(this.tk.length);k.assert(void 0 !== m,"invalid streamIndices");if(m){k.assert(void 0 !== this.$M,"invalid _streamIndex");for(var n=0;n < m.length;n++){m[n]=this.$M;}}n=this.Gu || new Uint8Array(this.tk.length);return this.Tla=new g.nja(this.Tc.zs,this.tk,m,n,this.Tc.U);};l.prototype.Mub=function(){if(!this.Hi){for(var m=d?new Float64Array(Math.ceil(this.length / this.OM)):Array(Math.ceil(this.length / this.OM)),n=this.Lb,p=0;p < m.length;++p){m[p]=n;for(var q=0;q < this.OM;++q){n+=this.tk[p * this.OM + q];}}this.Hi=m;}return this.Hi;};return l;})();b.bRa=t;t.prototype.Ehb=a.ey(t.prototype.ak);a.ey(t.prototype.FW);a.ey(t.prototype.ae);a.ey(t.prototype.ji);a.ey(t.prototype.vBa);a.ey(t.prototype.get);},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.LHa=void 0;t=a(0);c=a(11);k=t.__importStar(a(9));g=t.__importDefault(a(4));h=new g.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=t.__importDefault(a(28));f=t.__importDefault(a(922));l=a(152);m=g.default.ns;n=m.i2;p={};q={};a=[d.default.Yh.wz,!1];t=[d.default.Yh.wz,!0];r=[d.default.Yh.IG,!1];u=[d.default.Yh.IG,!0];v=[d.default.Yh.URL,!0];w=[-1,!1];x=[d.default.Yh.IG,!1];p[n.Eec]=r;p[n.UNKNOWN_ERROR]=r;p[n.Ghc]=r;p[n.nob]=r;p[n.mGa]=r;p[n.zob]=r;p[n.rob]=u;p[n.qnb]=u;p[n.wFa]=x;p[n.uFa]=x;p[n.rnb]=w;p[n.snb]=x;p[n.tnb]=x;p[n.nnb]=r;p[n.pnb]=r;p[n.vFa]=a;p[n.onb]=r;p[n.mnb]=x;p[n.ufc]=u;p[n.Fpb]=x;p[n.PIa]=x;p[n.OIa]=x;p[n.LIa]=x;p[n.MIa]=x;p[n.Epb]=v;p[n.$ga]=u;p[n.bha]=v;p[n.aha]=t;p[n.SIa]=u;p[n.Hpb]=v;p[n.d3]=x;p[n.QIa]=u;p[n.Gpb]=u;p[n.uob]=u;p[n.oob]=r;p[n.ntb]=r;p[n.eob]=r;p[n.fob]=r;p[n.gob]=r;p[n.hob]=r;p[n.iob]=r;p[n.job]=r;p[n.kob]=r;p[n.lob]=r;p[n.mob]=r;p[n.pob]=r;p[n.qob]=r;p[n.sob]=r;p[n.tob]=r;p[n.vob]=r;p[n.wob]=r;p[n.xob]=r;p[n.yob]=r;p[n.Aob]=r;p[n.Bob]=r;p[n.mtb]=x;p[n.TIMEOUT]=a;q[n.wFa]=!0;q[n.PIa]=!0;q[n.OIa]=!0;q[n.MIa]=!0;q[n.mGa]=!0;a=(function(){var s50;s50=2;function y(z,A,B,C){var t50;t50=2;for(;t50 !== 20;){switch(t50){case 7:var G7X="n";G7X+="e";G7X+="t";G7X+="workF";G7X+="ailed";this.YYa=new l.U3();p[n.LIa]=A.kUb?u:x;this.wh.addListener(this.zn,G7X,this.hTb.bind(this));this.zP=g.default.time.ia();t50=12;break;case 2:var l7X="1SIYb";l7X+="ZrNJCp";l7X+="9";this.zn=z;this.config=A;this.ota=B;this.et=C;this.events=new c.EventEmitter();this.wh=new c.Zf();l7X;t50=7;break;case 12:this.Zu=0;this.mCa={};this.Kya=new f.default(z,C,A);t50=20;break;}}}for(;s50 !== 12;){switch(s50){case 4:y.prototype.z6b=function(z){var B50,A,B,C;B50=2;for(;B50 !== 7;){switch(B50){case 5:B50=C.jj < this.zP?4:3;break;case 1:B50=C?5:8;break;case 2:(A=g.default.time.ia(),B=this.config,C=this.mCa[z]);B50=1;break;case 3:B50=!(C.jj >= A - B.pea || C.$B || (C.jj=A,++C.count,C.count < B.Kaa))?9:7;break;case 4:(C.jj=A,C.count=1);B50=7;break;case 9:return C.$B=!0;break;case 8:this.mCa[z]={jj:A,count:1};B50=7;break;}}};y.prototype.hTb=function(z){var C50,A,B,C,D,F,G,E;C50=2;for(;C50 !== 7;){switch(C50){case 2:var k7X="t";k7X+="empor";k7X+="ari";k7X+="l";k7X+="y";var m7X="perma";m7X+="n";m7X+="e";m7X+="ntl";m7X+="y";var R7X="Netwo";R7X+="rk has fa";R7X+="iled ";var q7X=" l";q7X+="as";q7X+="t su";q7X+="ccess wa";q7X+="s ";var Z7X=" m";Z7X+="s ";Z7X+="ago";(A=this,B=g.default.time.ia() - this.zP,C=z,D=this.config);a000.j9X(9);h.warn(a000.X9X(Z7X,q7X,R7X,z?m7X:k7X,B));!z && B > D.Twa && (C=!0);C50=4;break;case 3:(F=this.oB.Xg,G=this.oB.XI,E=this.oB.lj);C50=9;break;case 9:var o7X="tem";o7X+="poraryNetworkEr";o7X+="ror";var N7X="temp";N7X+="or";N7X+="ary";N7X+="NetworkError";z || this.events.emit(N7X,{type:o7X,errorCode:F,httpCode:G,nativeCode:E});C?(this.OQ && (clearTimeout(this.OQ),this.OQ=void 0),this.fZa(),this.Kya.reset(),this.ota({aWb:z,P1b:F,R1b:G,S1b:E})):this.OQ || (this.OQ=setTimeout(function(){var D50;D50=2;for(;D50 !== 5;){switch(D50){case 2:A.OQ=void 0;A.fda();D50=5;break;}}},D.Uwa));C50=7;break;case 4:C50=this.oB?3:9;break;}}};y.prototype.fda=function(){var E50,z;E50=2;for(;E50 !== 5;){switch(E50){case 2:z=this;this.YYa.wx || this.YYa.jfa(function(){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:z.OQ || (z.zn.fda(),z.mCa={},z.et());F50=1;break;}}});E50=5;break;}}};s50=8;break;case 2:y.prototype.xb=function(){var u50;u50=2;for(;u50 !== 1;){switch(u50){case 2:this.wh.clear();u50=1;break;}}};y.prototype.xF=function(z){var v50;v50=2;for(;v50 !== 1;){switch(v50){case 2:this.Rda=z;v50=1;break;}}};y.prototype.It=function(z,A,B,C){var w50,D,F,G,E,I,K,H,R,L;w50=2;for(;w50 !== 15;){switch(w50){case 19:F=I.o8b(z.host,z.port);w50=11;break;case 2:var g7X=" ";g7X+=": critical e";g7X+="rr";g7X+="or ";g7X+="count = ";var I7X=" ";I7X+="o";I7X+="n";I7X+=" ";var u7X="Fai";u7X+="l";u7X+="ur";u7X+="e";u7X+=" ";(D=this,F=m.i2.name,G=B?F[B]:void 0);F={};(E=this.config,I=this.zn);h.warn(u7X + G + I7X + JSON.stringify(z) + g7X + this.Zu);w50=3;break;case 3:w50=B && k.isArray(p[B])?9:16;break;case 18:var E7X="I";E7X+="nva";E7X+="lid affected for network f";E7X+="ailu";E7X+="re";h.error(E7X);w50=17;break;case 13:K=I.cgb(z.url);w50=12;break;case 12:K && (F[K]=[z.url]);w50=11;break;case 14:w50=void 0 !== z.url?13:20;break;case 11:(H=L[0],R=L[1]);E.hw?k.forEach(F,function(O,J){var x50;x50=2;for(;x50 !== 5;){switch(x50){case 2:var D7X="e";D7X+="r";D7X+="r";D7X+="o";D7X+="r";L === x || L === r?D.Kya.u4b({url:void 0 !== z.url?z.url:O[0],ye:J},{FWa:J,O0:L,XI:A,Xg:B,h2a:G,lj:C}):O.some(function(M){var y50;y50=2;for(;y50 !== 5;){switch(y50){case 2:I.It(H,R,M);return H === d.default.Yh.IG;break;}}});!D.Rda || 0 !== A && void 0 !== A || (O=void 0 !== z.url?z.url:O[0]) && D.Rda.CAa(D7X,O);x50=5;break;}}}):k.forEach(F,function(O,J){var z50;z50=2;for(;z50 !== 5;){switch(z50){case 1:var C5X="er";C5X+="r";C5X+="or";(O.some(function(M){var A50;A50=2;for(;A50 !== 5;){switch(A50){case 2:I.It(H,R,M);return H === d.default.Yh.IG;break;}}}),!D.Rda || 0 !== A && void 0 !== A || (O=void 0 !== z.url?z.url:O[0]) && D.Rda.CAa(C5X,O));z50=5;break;case 2:z50=L !== x || D.z6b(J)?1:5;break;}}});w50=15;break;case 9:var w5X="crit";w5X+="i";w5X+="calN";w5X+="etworkErr";w5X+="or";var Y5X="c";Y5X+="ritic";Y5X+="alNe";Y5X+="tworkE";Y5X+="rror";L=p[B];this.oB={XI:A,Xg:B,h2a:G,lj:C};q[B] && (++this.Zu,this.events.emit(Y5X,{type:w5X,Xg:B}));w50=6;break;case 6:w50=L !== w?14:15;break;case 20:w50=void 0 !== z.host && void 0 !== z.port?19:18;break;case 17:return;break;case 16:var e5X="Unmapped failure c";e5X+="ode in JSASE error director :";e5X+=" ";a000.h9X(7);h.error(a000.X9X(e5X,B));w50=15;break;}}};s50=4;break;case 8:y.prototype.Jea=function(z){var G50,A;G50=2;for(;G50 !== 9;){switch(G50){case 4:var f5X="up";f5X+="dati";f5X+="ngLastS";f5X+="uccessEvent";var F5X="u";F5X+="pdatingLastSucce";F5X+="s";F5X+="sEv";F5X+="ent";A.hw && this.Kya.Jea(z);this.events.emit(F5X,{type:f5X});G50=9;break;case 2:A=this.config;this.zP=Math.max(z.timestamp || g.default.time.ia(),this.zP);this.fZa();G50=4;break;}}};y.prototype.sxa=function(){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:this.Zu=0;H50=1;break;}}};s50=6;break;case 6:y.prototype.Uj=function(){var I50,z,A,B;I50=2;for(;I50 !== 4;){switch(I50){case 2:var B5X="m";B5X+="s";var d5X="Sett";d5X+="in";d5X+="g underflow tim";d5X+="eout i";d5X+="n ";(z=this,A=this.config,B=A.Daa);this.zP=Math.max(g.default.time.ia(),this.zP);!A.rkb || this.Q0 || A.V0 && A.rO && A.N_b || (h.info(d5X + B + B5X),this.Q0=setTimeout(function(){var J50;J50=2;for(;J50 !== 4;){switch(J50){case 2:var z5X="ms, sin";z5X+="ce underflow with no succe";z5X+="ss";var x5X="Fo";x5X+="rcing ";x5X+="permanent network f";x5X+="ailure af";x5X+="ter ";a000.h9X(10);h.info(a000.Q9X(x5X,z5X,B));z.Q0=void 0;z.zn.It(d.default.Yh.wz,!0);J50=4;break;}}},B));I50=4;break;}}};y.prototype.fZa=function(){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 2:var Q5X="Cleared ";Q5X+="underflow";Q5X+=" timeout";this.Q0 && (clearTimeout(this.Q0),this.Q0=void 0,h.info(Q5X));K50=1;break;}}};return y;break;}}})();b.LHa=a;},function(t,b,a){var k,g,h;function c(d,f,l){this.iU=d;this.iH=0 === Math.floor(1E6 * Math.random()) % l.$J;this.groupId=1;this.config=l;this.QA={};this.pF={};this.et=f;}k=a(9);g=a(4).default;new g.Console("ASEJS_PROBE_MANAGER","asejs");h=a(923).sEa;c.prototype.constructor=c;c.prototype.u4b=function(d,f){var l,m,n,p,q,r,u,v,w,x,y;l=this.iU;m=d.ye;n=l.Shb(d.url);p=l.saa(d.url);q=this.config;r=g.time.ia();u=f;v=[];w=n.Qj[0];x=!1;y=this.QA[m];if(!y)y=this.QA[m]={count:0,jj:r,$B:!1,error:f,LAa:[],Mya:{}};else if(y.jj >= r - q.pea)return;y.$B || (w && p.id === w.id && (d.isPrimary=!0),y.jj=r,y.$B=!1,y.error=f,++y.count,n && n.urls && 0 !== n.urls.length && (k.forEach(n.urls,function(z){var A,B,C;A=z.Gc.id;B=A + "-" + m;C=this.pF[B];if(void 0 === C || void 0 === C.Eca)(C && C.wq && clearTimeout(C.wq),z=this.u_a(z.url,d,A),this.pF[B]={ca:!1,count:0,Eca:z.Ri()},v.push(z.Ri()),x=!0);-1 === y.LAa.indexOf(A) && y.LAa.push(A);},this),this.iH && 0 < v.length && (n={type:"logdata",target:"endplay",fields:{}},f=u,u={ts:g.time.ia(),es:f.FWa,fc:f.Xg,fn:f.h2a,nc:f.lj,pb:v,gid:this.groupId},f.XI && (u.hc=f.XI),n.fields.errpb={type:"array",value:u,adjust:["ts"]},l.So(n)),x && this.groupId++));};c.prototype.u_a=function(d,f,l){var m,n,p;m=this.iU.saa(f.url);m && m.yb && m.yb.Xx && m.yb.Xx.oa || Math.random(0,1);m=new h(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);m.I1b(1 < n.length?d + "&" + p:d + "?" + p,f,l);return m;};c.prototype.v4b=function(d,f){var l,m,n,p,q,r,u,v;l=this.iU;m=this.config;n=f.ye;p=this.QA[n];q=d.url;r=this.pF[d.ye + "-" + n];if(p){u=p.error;if(r){r && r.wq && clearTimeout(r.wq);r.ca=!0;r.count=0;r.Eca=void 0;p.Mya[d.ye]=!0;(r=this.QA[d.ye]) && !0 === r.$B && m.jA && (l.nfb(d.ye,r.error.O0[1]),this.iH && (r={type:"logdata",target:"endplay",fields:{}},r.fields.errst={type:"array",value:{ts:g.time.ia(),id:d.requestId,servid:f.ye,gid:d.groupId?d.groupId:-1},adjust:["ts"]},l.So(r)),this.QA[d.ye]=void 0,this.et());if(q !== f.url){v=this.pF[n + "-" + n];v && v.ca || (n=(n=l.saa(q)) && n.yb && n.yb.Xx && n.yb.Xx.oa || Math.random(0,1) * m.Eaa,n=Math.min(n,m.Eaa),setTimeout((function(){var w;if(!(!1 !== p.$B || v && v.ca) && (p.$B=!0,l.It(u.O0[0],u.O0[1],f.url,u),this.iH)){w={type:"logdata",target:"endplay",fields:{}};w.fields.erep={type:"array",value:{ts:g.time.ia(),id:d.requestId,servid:f.ye,gid:d.groupId?d.groupId:-1},adjust:["ts"]};l.So(w);}}).bind(this),n));}this.iH && (r={type:"logdata",target:"endplay",fields:{}},r.fields.pbres={type:"array",value:{ts:g.time.ia(),id:d.requestId,result:1,servid:d.ye,gid:d.groupId?d.groupId:-1},adjust:["ts"]},l.So(r));}}};c.prototype.s4b=function(d,f){var l,m,n,p,q,r,u,v,w,x;l=this.iU;m=parseInt(f.ye,10);n=this.QA[m];p=parseInt(d.ye,10);q=this.pF[p + "-" + m];r=0;u=this.config;if(q && n){q.ca=!1;q.Eca=void 0;n.Mya[p]=!1;v=n.LAa;if(u.jA && p === m && f.isPrimary){w=l.saa(f.url);w=w && w.yb && w.yb.Xx && w.yb.Xx.oa || 300 * Math.random(0,1);w*=Math.pow(2,q.count);w=Math.min(w,12E4);w+=Math.random(0,1) * (1E4 > w?100:1E4);q.wq=setTimeout((function(){var y;q.wq=void 0;y=this.u_a(d.url,f,p);y.I8b(d.groupId);q.Eca=y.Ri();}).bind(this),w);}++q.count;if(p === m && (r=0,v.forEach(function(y){!1 === n.Mya[y] && r++;}),v.length === r && n.count >= u.Kaa)){x=n.error;n.$B=!0;k.forEach(l.Shb(f.url).urls,function(y){var z;l.It(x.O0[0],x.O0[1],y.url,x);if(this.iH){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:g.time.ia(),id:-1,servid:y.Gc.id},adjust:["ts"]};l.So(z);}},this);}this.iH && (m={type:"logdata",target:"endplay",fields:{}},m.fields.pbres={type:"array",value:{ts:g.time.ia(),id:d.requestId,result:0,servid:d.ye,gid:d.groupId?d.groupId:-1},adjust:["ts"]},l.So(m));}};c.prototype.Jea=function(d){var f,l,m;f=d.url || d.mediaRequest.url;if(f){d=this.iU;f=d.cgb(f);l=this.QA[f];m=this.pF[f + "-" + f];l && l.$B && this.config.jA && (d.nfb(l.error.FWa,!1),this.iH && (l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:g.time.ia(),id:-1,servid:f},adjust:["ts"]},d.So(l)),this.QA[f]=void 0,m && m.wq && clearTimeout(m.wq));}};c.prototype.reset=function(){var d,f,l;d=this.pF;for(l in d){d.hasOwnProperty(l) && (f=d[l + "-" + l]) && f.wq && clearTimeout(f.wq);}this.pF={};this.QA={};};t.exports=c;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sEa=void 0;c=a(0);k=a(11);g=c.__importDefault(a(4)).default.Xw;t=(function(h){function d(f){var l;l=h.call(this) || this;l.WUa=f;l.c5=f.groupId;l.Fi=new k.Zf();l.Fi.on(l,g.Ke.iT,l.rla);l.Fi.on(l,g.Ke.zG,l.mU);return l;}c.__extends(d,h);d.prototype.I1b=function(f,l,m){g.prototype.open.call(this,f,l,m);};d.prototype.I8b=function(f){this.c5=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.c5;},enumerable:!1,configurable:!0}});d.prototype.Yc=function(){this.Fi && this.Fi.clear();g.prototype.Yc.call(this);};d.prototype.rla=function(f){this.WUa.v4b(f.probed,f.affected);this.Yc();};d.prototype.mU=function(f){this.WUa.s4b(f.probed,f.affected);this.Yc();};return d;})(g);b.sEa=t;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.WIa=void 0;c=a(0);k=a(123);g=a(403);h=a(14);d=c.__importDefault(a(4));t=a(85);f=a(406);l=a(2);m=a(124);a=(function(n){function p(q,r,u,v,w,x,y,z,A,B,C){var D;D=n.call(this,q) || this;D.se=q;D.G=r;D.J=u;D.So=v;D.uE=x;D.K$=y;D.Pz=z;D.rVa=A;D.Lh=B;D.cUa=[void 0,void 0];D.$T=null !== C && void 0 !== C?C:{kx:[Object.create(null),Object.create(null)]};w?D.CX=w:(D.De=m.Dq.instance.Yu("headers","" + D.se.K,!0,!1,{},D.J),D.De.za());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{kx:{get:function(){return this.$T.kx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{dD:{get:function(){return this.$T.dD;},set:function(q){this.$T.dD=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vM:{get:function(){return this.$T.vM;},set:function(q){this.$T.vM=q;},enumerable:!1,configurable:!0}});p.prototype.Yc=function(){var q;q=this;this.kx.forEach(function(r,u){for(var v in r){r[v].Yc();q.Jpa(u,v);}});this.De && m.Dq.instance.eO(this.De);this.De=void 0;};p.prototype.Vp=function(q,r){return this.kx[q][r];};p.prototype.Z9=function(){return !(!this.dD || !this.dD.length);};p.prototype.Coa=function(){this.dD=void 0;};p.prototype.bR=function(q){this.dD=q;};p.prototype.DCa=function(){var q,r;if(!this.Z9() || this.vM)return !1;for(k.zm.Wp(1);0 < this.dD.length;){q=this.dD.shift();r=this.se.Ux(1,q);if(r && !this.xTb(q) && r.Kv)return (this.vM=q,this.Eea(r,{offset:0,lR:!0}));}return !1;};p.prototype.VCa=function(q,r){var u;u=this;r.forEach(function(v){var w;w=u.Vp(q,v.Qa);w && !v.Ud && (w.stream.Ud?v.s7(w.stream):(w.FZ || (w.FZ=[]),w.FZ.push(u.se)));});};p.prototype.gK=function(q,r,u){var v,w,x;v=this;x=this.se;h.Of.forEach(function(y){var z,A,B,C,D;if(x.qc(y) && (void 0 === u || y === u)){C=q[y];l.assert(C && x.getTrackById(C.trackId) === C);C=C.gd;if(x.Jk)v.G.warn("requestHeadersFromManifest, shutdown detected");else if(x.zn.S0(x.K,C)){D=null !== (B=null === (A=null === (z=v.uE(y)) || void 0 === z?void 0:z.nJ) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=f.Xqa(C,D);void 0 === z && v.G.warn("Unable to find stream for bitrate " + D);z=C[z];(A=x.Vp(y,z.Qa)) && A.stream.Z?x.hcc(y,A):(y={offset:0,lR:!1,jE:1 === y,Nx:!0,ZP:!v.K$(x)},x.n_a(z,y,r));}else v.G.warn("requestHeadersFromManifest, unable to update urls");}});x.OX=!0;null === (w=this.Lh) || void 0 === w?void 0:w.call(this,x.Pb).b7();};p.prototype.PF=function(q,r){var u,v,w,x;u=this.J;v=this.Vp(q.mediaType,q.Qa);if(v)return (v.stream.Z || v.lR && this.cZa(v),!1);v=this.Awb;w=this.Bwb;if(void 0 !== u.Kwa && void 0 !== v && void 0 !== w){x=d.default.time.ia();if(x - v < u.Kwa || x - w < u.Kwa)return !1;}q=this.Eea(q,{offset:0},void 0,void 0,r);this.Bwb=d.default.time.ia();return q;};p.prototype.Eea=function(q,r,u,v,w){var x,y,z,A,B;A=q.mediaType;k.zm.Wp(A);B=q.Qa;if(this.Qub(B,! !r.Nx))return (null === (x=this.rVa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Vp(A,B))q=!1;else {x=(B=this.J.lib && q.Oc)?0:r.offset;B=B?0:null !== (y=r.aa) && void 0 !== y?y:this.Avb(q);y=c.__assign(c.__assign({},r),{offset:x,aa:B});x=! !y.jE;B=! !y.ZP;this.CX?w=this.CX(A,! !y.Nx,x,B,! !u):w || (w=this.De);l.assert(w);q.url && (this.uE(A).sva=q.url);x=q=this.YSa(q,w,y);if(!q.MJ())return (this.se.If("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}r.Nx && v && (this.se.Oh[A]=x);null === (z=this.rVa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.ym=function(){var q,r;q=this;r=[];this.kx.forEach(function(u,v){var x;k.zm.Wp(v);for(var w in u){v=u[w];x=v.WCa();1 === x?r.push(v):2 === x && q.se.If("swapUrl failure");}});return r;};p.prototype.hm=function(q){var r,u;r=q.mediaType;u=k.zm.Wp(r);this.se.Jk?u.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.So({type:"logdata",target:"startplay",Vc:{usedNativeDataView:q.$cc}}),q.cca > q.M1b && (this.cUa[r]=q.cca),q.lR && this.cZa(q),this.awb(q),this.Awb=d.default.time.ia(),this.se.Ev.emit("onHeaderRequestComplete",q));this.qv(q);};p.prototype.j6=function(q,r,u){var v;v=q.mediaType;k.zm.Wp(v);v=this.se.Ux(v,q.Qa);if(r !== ! !q.Zl)return !1;this.jWa(q);q.kBb(v);this.FSa(q);this.se.Ev.emit("onHeaderFromCache",{header:q,hOb:u});return !0;};p.prototype.gN=function(q,r){var u,v,w,x;u=[];v=this.kx[q];for(w in v){x=v[w];x && !x.stream.Z && x.Gt === r && (this.Jpa(q,w),u.push({stream:x.stream,offset:x.offset,aa:x.aa,jE:x.jE,Nx:x.Nx,ZP:x.ZP,Txa:x.Txa}),x.Yc());}return u;};p.prototype.Vza=function(q){var r;r=this;q.forEach(function(u){r.Eea(u.stream,u);});};p.prototype.jWa=function(q){this.kx[q.mediaType][q.Qa]=q;};p.prototype.xTb=function(q){return ! !this.Vp(1,q);};p.prototype.awb=function(q){var r,u,v,x;r=this.J;u=k.zm.Wp(q.mediaType);v=q.stream.Z;if(r.wpa){r=v.length;u.trace("fragment count:",r);for(var w=0;w < r;++w){x=v.get(w);u.trace("fragment: " + w + ", startPts: " + x.ba + ", duration: " + x.duration + ", offset: " + x.offset);}}this.FSa(q);};p.prototype.FSa=function(q){var r,u;r=q.mediaType;u=q.Qa;k.zm.Wp(r);q.FZ && (q.FZ.forEach(function(v){(v=v.Ux(r,u)) && v !== q.stream && !v.Ud && v.s7(q.stream);}),q.FZ=void 0);this.se.eTb(q);};p.prototype.YSa=function(q,r,u){var v,w;v=this;w=k.zm.Wp(q.mediaType);q=new g.Gfa(q,this.J,r,u,this,!1,w);q.addListener("headerRequestCancelled",function(x){v.$vb(x.request);});q.za(void 0);this.jWa(q);return q;};p.prototype.Qub=function(q,r){return this.Pz && (q=this.Pz.IY(this.se.I,q)) && this.j6(q,!1,r)?!0:!1;};p.prototype.Avb=function(q){var r,u,v,w;r=q.Ky;u=q.O;v=u.duration;w=this.J;return q.Oc?512:u.zf.Xe?w.k2a?w.k2a:w.f$:w.Xcc && r?r.offset + r.size:(q=this.cUa[q.mediaType])?q + 128:w.zqa?2292 + 12 * Math.ceil(v / 2E3):w.f$;};p.prototype.$vb=function(q){this.Jpa(q.mediaType,q.Qa);};p.prototype.Jpa=function(q,r){delete this.kx[q][r];};p.prototype.cZa=function(q){this.vM === q.Qa && (this.vM=void 0);};return p;})(t.Ew);b.WIa=a;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zsb=void 0;c=a(0).__importDefault(a(4));k=a(123);g=["",""];t=(function(){function h(d){this.Du=d;this.complete=this.append=this.open=0;}Object.defineProperties(h.prototype,{console:{get:function(){return k.zm.Wp(this.Du.mediaType);},enumerable:!1,configurable:!0}});h.prototype.g1b=function(){this.open=c.default.time.ia();};h.prototype.$0b=function(){c.default.time.ia();this.Bj();};h.prototype.W0b=function(){c.default.time.ia();this.Bj();};h.prototype.L0b=function(){this.append=c.default.time.ia();this.Bj();};h.prototype.uZ=function(){this.complete=c.default.time.ia();this.Bj();};h.prototype.Bj=function(){var d;if(0 < this.complete){d=this.Du.mediaType;g[d]=this.complete - this.open > this.Du.duration?g[d] + "X":g[d] + ".";10 < g[d].length && (g[d]=g[d].slice(1));}};return h;})();b.Zsb=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Pa=void 0;c=a(0);k=a(11);t=(function(g){function h(d,f,l,m){var n;n=g.call(this) || this;n.G=d;n.track=f;n.Zm=!1;n.Uka=!1;n.wh=new k.Zf();n.wh.on(f,"networkfailing",function(){n.emit("networkfailing");});n.wh.on(f,"error",function(){n.G.warn("requestQueue got error");n.emit("error");});if(l)(n.Zm=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.wh.on(f,"created",function(){n.Zm=!0;n.emit("created");});n.Uka=m;return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{y8:{get:function(){return this.track.y8;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xg:{get:function(){return this.track.Xg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lj:{get:function(){return this.track.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{LW:{get:function(){return this.track.LW;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});h.prototype.za=function(){var d,f;this.Uka || (null === (f=(d=this.track).za) || void 0 === f?void 0:f.call(d),this.Uka=!0);};h.prototype.Jv=function(){return this.track.Jv();};h.prototype.toString=function(){return this.track.toString();};h.prototype.toJSON=function(){return this.track;};h.prototype.kr=function(){this.wh.clear();};return h;})(k.EventEmitter);b.$Pa=t;},function(t,b,a){var f,l,m,n,p,q,r;function c(u){var v,w,x;u=u.parent;v=!1;if(u && u.children){w={};w[q.Cm]=[];w[q.Nl]=[];w[q.TEMPORARY]=[];x=u.children;x.forEach(function(y){y && w[y.yf].push(y);});0 < w[q.Cm].length || (w[q.Nl].length === x.length?u.yf !== q.Nl && (u.yf=q.Nl,p.error("PERM failing :",m.default.Yh.name[u.Do] + " " + u.id),v=!0):(u.yf === q.Cm && (u.yf=q.TEMPORARY,p.error("TEMP failing :",m.default.Yh.name[u.Do] + " " + u.id),v=!0),w[q.TEMPORARY].forEach(function(y){y.yf=q.Cm;})),v && c(u));}}function k(u){var v;if((u=u.parent) && 0 < u.children.length && u.yf !== q.Cm){v={};v[q.Cm]=[];v[q.Nl]=[];v[q.TEMPORARY]=[];u.children.forEach(function(w){w && v[w.yf].push(w);});0 < v[q.Cm].length && (u.yf=q.Cm,k(u));}}function g(u){return u.yf !== q.Cm;}function h(u){switch(u.yf){case q.Cm:return "OK";case q.Nl:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,v){if(u.yf === q.TEMPORARY || u.yf === q.Nl && v)u.yf=q.Cm;u.children && u.children.forEach(function(w){w && d(w,v);});}Object.defineProperties(b,{__esModule:{value:!0}});b.wha=void 0;f=a(0);l=f.__importStar(a(9));t=a(11);m=f.__importDefault(a(28));n=f.__importDefault(a(4));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.Cm=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.Nl=2]="PERMANENT";})(q || (q={}));(function(u){u[u.Zw=0]="STARTUP";u[u.Wsb=1]="REBUFFER";})(r || (r={}));a=(function(u){var L50;function v(w,x,y,z,A){var M50,B;M50=2;for(;M50 !== 15;){switch(M50){case 18:var X5X="1SIYbZ";X5X+="r";X5X+="N";X5X+="JCp9";B.lN(w,m.default.Bz.Zw);X5X;return B;break;case 6:var j5X="n";j5X+="et";j5X+="w";j5X+="o";j5X+="rk";B.urls={};B.streams={};B.GB=[];B.sba=!1;B.jq={id:j5X,Do:m.default.Yh.wz,yf:q.Cm,xy:void 0,parent:void 0,children:B.GB};M50=10;break;case 3:B.xxb=A;B.y4b=r.Zw;B.Qj={};B.Il={};M50=6;break;case 2:B=u.call(this) || this;B.Vb=x;B.hi=y;B.config=z;M50=3;break;case 10:B.q5=null;B.uK=null;B.XQ=m.default.Bz.Zw;M50=18;break;}}}L50=2;for(;L50 !== 26;){switch(L50){case 4:v.prototype.cgb=function(w){var P50;P50=2;for(;P50 !== 5;){switch(P50){case 2:P50=(w=this.urls[w]) && w.parent?1:5;break;case 1:return w.parent.id;break;case 9:return w.parent.id;break;P50=5;break;}}};v.prototype.saa=function(w){var Q50;Q50=2;for(;Q50 !== 5;){switch(Q50){case 1:return w.Gc.location;break;case 2:Q50=(w=this.urls[w]) && w.Gc?1:5;break;}}};v.prototype.Shb=function(w){var R50;R50=2;for(;R50 !== 5;){switch(R50){case 1:return w.stream;break;case 2:R50=(w=this.urls[w])?1:5;break;case 9:return w.stream;break;R50=5;break;}}};v.prototype.lN=function(w,x){var S50,y;S50=2;for(;S50 !== 19;){switch(S50){case 4:this.q5=n.default.time.ia();this.GB.sort(function(z,A){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:return z.level - A.level || z.Zb - A.Zb;break;}}});w.servers.forEach(function(z){var V50,A,B,C;V50=2;for(;V50 !== 14;){switch(V50){case 2:A=z.id;V50=1;break;case 5:y.Il[A].Zb=z.rank;V50=14;break;case 3:V50=B?9:14;break;case 1:V50=y.Il[A]?5:4;break;case 4:B=y.Qj[z.key];V50=3;break;case 9:C=[];z={id:A,Do:m.default.Yh.IG,yf:q.Cm,xy:void 0,parent:B,children:C,urls:C,name:z.name,type:z.type,Zb:z.rank,location:B};y.Il[z.id]=z;B.children.push(z);V50=14;break;}}});w.audio_tracks.forEach(function(z){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 2:y.Bdb(z);W50=1;break;case 4:y.Bdb(z);W50=8;break;W50=1;break;}}});w.video_tracks.forEach(function(z){var X50;X50=2;for(;X50 !== 1;){switch(X50){case 4:y.Bdb(z);X50=8;break;X50=1;break;case 2:y.Bdb(z);X50=1;break;}}});S50=6;break;case 2:y=this;void 0 === x && (x=m.default.Bz.Kqb);w.locations.forEach(function(z){var T50,A,B,C,D;T50=2;for(;T50 !== 7;){switch(T50){case 1:T50=y.Qj[A]?5:4;break;case 2:A=z.key;T50=1;break;case 4:(B=[],C=y.hi.get(A),D=y.jq);z={id:A,Do:m.default.Yh.LOCATION,yf:q.Cm,Zb:z.rank,level:z.level,weight:z.weight,xy:void 0,parent:D,children:B,Il:B,streams:{},yb:C};y.Qj[z.id]=z;D.children.push(z);T50=7;break;case 5:(y.Qj[A].Zb=z.rank,y.Qj[A].level=z.level,y.Qj[A].weight=z.weight);T50=7;break;}}});S50=4;break;case 6:w=this.GB.filter(function(z){var Y50,A;Y50=2;for(;Y50 !== 4;){switch(Y50){case 2:A=z.Il.every(function(B){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:return 0 === B.urls.length;break;}}});A && (z.Il.forEach(function(B){var a60;a60=2;for(;a60 !== 1;){switch(a60){case 2:y.Il[B.id]=void 0;a60=1;break;}}}),y.Qj[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});w.forEach(function(z){var b60;b60=2;for(;b60 !== 1;){switch(b60){case 2:z.Il.sort(function(A,B){var c60;c60=2;for(;c60 !== 1;){switch(c60){case 4:return A.Zb % B.Zb;break;c60=1;break;case 2:return A.Zb - B.Zb;break;}}});b60=1;break;}}});S50=13;break;case 13:this.GB=w;this.jq.children=w;this.uK=null;this.XQ=x;this.dump();S50=19;break;}}};v.prototype.S0=function(w,x){var d60,C,y,z,A,B,D;d60=2;for(;d60 !== 19;){switch(d60){case 5:d60=g(this.jq)?4:3;break;case 3:C=m.default.vj.LC;z.kZ && (C=m.default.vj.KC);this.Vb.location && A.confidence >= C && (w=this.Qj[this.Vb.location]) && (w.yb=A);l.qb(this.uK) && (this.uK=this.mcc());d60=6;break;case 2:(y=this,z=this.config,A=this.Vb.get(),B=0);n.default.Wu && n.default.Wu(w);d60=5;break;case 4:return !1;break;case 12:d60=!D.length?11:10;break;case 6:d60=!this.uK?14:13;break;case 11:return (this.It(m.default.Yh.wz,!1),!1);break;case 14:return (this.It(m.default.Yh.wz,!1),!1);break;case 10:var a5X="(empty";a5X+=" stre";a5X+="am lis";a5X+="t)";var r5X="Did n";r5X+="ot find a";r5X+=" URL for ANY stream...";var P5X="netwo";P5X+="rkFai";P5X+="l";P5X+="e";P5X+="d";var U5X="Network";U5X+=" has fail";U5X+="e";U5X+="d, not updating stream se";U5X+="lection";x.forEach(function(F,G){var e60,E;e60=2;for(;e60 !== 5;){switch(e60){case 2:var s5X=" ";s5X+="K";s5X+="bp";s5X+="s";s5X+=")";var M5X=" ";M5X+="(";var W5X="]";W5X+=" ";var H5X="F";H5X+="ail";H5X+="in";H5X+="g str";H5X+="eam [";E=F.id;D.some(function(I){var f60,L,K;f60=2;for(;f60 !== 8;){switch(f60){case 1:f60=!L?5:4;break;case 2:L=I.streams[E];f60=1;break;case 5:return !1;break;case 4:K=L.Qj[0];void 0 === F.Dca && (F.Dca=K.id,F.Jya=L.U0[K.id][0].Gc.id);return L.U0[I.id].some(function(H){var g60,R;g60=2;for(;g60 !== 11;){switch(g60){case 4:return !1;break;case 2:g60=g(H.Gc)?1:5;break;case 1:return (H.Gc.yf === q.TEMPORARY && (F.yf=q.TEMPORARY),z.hw && F.Gc === H.Gc.id && H.Gc.xy && (F.xy=H.Gc.xy),!1);break;case 14:F.Rt=H.Gc.type;F.yb=z.xna?I.yb.confidence >= m.default.vj.KC || A.confidence < C?I.yb:A:A.confidence === m.default.vj.HAVE_NOTHING || I.yb.confidence >= m.default.vj.KC?I.yb:A;g60=12;break;case 12:return !0;break;case 5:g60=g(H)?4:3;break;case 3:var i5X="locatio";i5X+="nfa";i5X+="ilo";i5X+="v";i5X+="er";var J5X="ser";J5X+="v";J5X+="erfa";J5X+="il";J5X+="over";var v5X="pe";v5X+="rf";v5X+="orma";v5X+="nce";var h5X="u";h5X+="nk";h5X+="no";h5X+="wn";R=h5X;F.location !== I.id && (z.hw?F.Wua=I.id === K.id:R=I !== D[0]?"" + m.default.Bz.Rfa:void 0 === F.location?"" + m.default.Bz.Zw:l.na(F.Q8a) || F.Q8a === I.id?l.na(F.T8a) || F.T8a === H.Gc.id?v5X:J5X:i5X,F.location=I.id,F.Cva=I.level,F.Qt=R);F.url=H.url;F.Gc=H.Gc.id;F.vK=H.Gc.name;g60=14;break;}}});break;}}})?(F.dB=!1,F.yf=void 0,F.Iv && ++B):F.yf && F.yf === q.TEMPORARY?y.jq.yf=q.TEMPORARY:F.dB || (p.warn(H5X + G + W5X + E + M5X + F.bitrate + s5X),F.rFb(),F.dB=!0);e60=5;break;}}});return g(this.jq)?(p.warn(U5X),this.sba=!0,this.emit(P5X,this.jq.yf === q.Nl),!1):B?!0:(p.warn(r5X + (x.length?"":a5X)),this.It(m.default.Yh.wz,!0),!1);break;case 13:D=this.uK;d60=12;break;}}};v.prototype.o8b=function(w,x){var h60,y,z;h60=2;for(;h60 !== 4;){switch(h60){case 1:l.forEach(this.urls,function(A,B){var i60,F,G,C,D;i60=2;for(;i60 !== 7;){switch(i60){case 4:var L5X="8";L5X+="0";var b5X="4";b5X+="4";b5X+="3";(F="s" === D[1],G=D[2]);D=D[3];D.length || (D=F?b5X:L5X);l.mg(G) && l.mg(D) && G === w && D == x && (C?C.push(B):y[A]=[B]);i60=7;break;case 5:i60=D && 4 === D.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(C=y[A],D=B.match(z));i60=5;break;}}});return y;break;case 9:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h60=2;break;h60=1;break;case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h60=1;break;}}};v.prototype.It=function(w,x,y,z){var j60,A,B,C,l60,G,k60,D,F;j60=2;for(;j60 !== 42;){switch(j60){case 4:j60=A?3:43;break;case 15:var y5X="<";y5X+="u";y5X+="rl f";y5X+="or ";x.unshift(y5X + F.stream.bitrate + ">");j60=19;break;case 27:var p5X=" ";p5X+=": w";p5X+="as ";D.call(y,w + (x.length?"/" + x.join("/"):"") + p5X + h(A));j60=26;break;case 18:j60=k60 === m.default.Yh.LOCATION?17:16;break;case 1:j60=A && A.parent && A.Do !== w?5:4;break;case 44:var V5X="In";V5X+="valid f";V5X+="ailur";V5X+="e state";throw Error(V5X);j60=24;break;case 2:(A=w !== m.default.Yh.wz && y?this.urls[y]:this.jq,B=this.jq.yf,C=x?q.Nl:q.TEMPORARY);j60=1;break;case 12:j60=F?11:27;break;case 20:x.unshift(G.id + "(" + G.name + ")");j60=19;break;case 26:l60=A.yf;j60=l60 === q.Nl?25:30;break;case 29:j60=l60 === q.Cm?24:28;break;case 19:F=F.parent;j60=12;break;case 35:var T5X="network";T5X+="Fai";T5X+="le";T5X+="d";var O5X="Emitting networkFai";O5X+="led, permanent ";O5X+="=";C > B && (p.warn(O5X,C === q.Nl),this.emit(T5X,C === q.Nl));this.uK=null;this.XQ=m.default.Bz.Yf;z && (this.XQ=m.default.Bz.Bsb,A.xy=z);this.dump();j60=42;break;case 28:j60=44;break;case 3:j60=C !== A.yf?9:42;break;case 25:return;break;case 17:x.unshift(F.id);j60=19;break;case 24:A.yf=C;c(A);this.sba=this.sba || g(this.jq);C=this.jq.yf;j60=35;break;case 16:j60=k60 === m.default.Yh.URL?15:19;break;case 10:G=F;j60=20;break;case 11:k60=F.Do;j60=k60 === m.default.Yh.IG?10:18;break;case 13:F=A;j60=12;break;case 43:var t5X="Unable to f";t5X+="ind failure enti";t5X+="ty for URL ";a000.h9X(7);p.warn(a000.Q9X(t5X,y));j60=42;break;case 30:j60=l60 === q.TEMPORARY?24:29;break;case 5:A=A.parent;j60=1;break;case 9:var c5X=" ";c5X+="a";c5X+="t ";var n5X=" fail";n5X+="ure reporte";n5X+="d";n5X+=" for";n5X+=" ";var S5X="T";S5X+="E";S5X+="M";S5X+="P";var A5X="P";A5X+="E";A5X+="R";A5X+="M";y=p;D=y.warn;w=(x?A5X:S5X) + n5X + m.default.Yh.name[w] + c5X;x=[];j60=13;break;}}};L50=13;break;case 2:f.__extends(v,u);v.prototype.qSb=function(){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return this.GB[0].yb;break;}}};v.prototype.kv=function(){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:return g(this.jq);break;}}};L50=4;break;case 20:v.prototype.xb=function(){var q60;q60=2;for(;q60 !== 1;){switch(q60){case 2:this.config.UXb && this.T2b();q60=1;break;}}};v.prototype.Bdb=function(w){var r60,x;r60=2;for(;r60 !== 5;){switch(r60){case 2:x=this;w.streams.forEach(function(y){var s60,z,A,B;s60=2;for(;s60 !== 6;){switch(s60){case 1:s60=l.na(A)?5:9;break;case 2:(z=y.downloadable_id,A=x.streams[z]);s60=1;break;case 5:var K5X="n";K5X+="o";K5X+="n";K5X+="e";K5X+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,cb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(K5X),Iv:!0,urls:[],U0:{},Qj:[]};s60=3;break;case 3:x.streams[A.id]=A;s60=9;break;case 9:y.urls.forEach(function(C){var t60,D,F,G;t60=2;for(;t60 !== 6;){switch(t60){case 2:(D=C.url,F=x.urls[D]);t60=1;break;case 1:t60=(C=x.Il[C.cdn_id])?5:6;break;case 5:l.na(F) && (F={id:D,Do:m.default.Yh.URL,yf:q.Cm,xy:void 0,parent:C,children:[],url:D,Gc:C,stream:A},x.urls[D]=F,C.children.push(F));G=C.location;A.urls.push(F);0 === A.Qj.filter(function(E){var u60;u60=2;for(;u60 !== 1;){switch(u60){case 2:return E.id === G.id;break;}}}).length && A.Qj.push(G);t60=8;break;case 8:G.streams[A.id]=A;(D=A.U0[G.id])?D.push(F):A.U0[G.id]=[F];t60=6;break;}}});l.Df(A.U0,function(C){var v60;v60=2;for(;v60 !== 1;){switch(v60){case 2:C.sort(function(D,F){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 4:return D.Gc.Zb / F.Gc.Zb;break;w60=1;break;case 2:return D.Gc.Zb - F.Gc.Zb;break;}}});v60=1;break;}}});A.Qj=A.Qj.sort(function(C,D){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return C.level - D.level || C.Zb - D.Zb;break;}}});s60=6;break;}}});r60=5;break;}}};v.prototype.mcc=function(){var y60,w,x,y,z;y60=2;for(;y60 !== 6;){switch(y60){case 2:(w=this,x=this.config,y=this.GB.filter(function(A){var z60;z60=2;for(;z60 !== 1;){switch(z60){case 4:return ~g(A) || 2 != A.level;break;z60=1;break;case 2:return !g(A) && 0 !== A.level;break;}}}));y60=1;break;case 1:y60=0 === y.length?5:4;break;case 5:return null;break;case 4:z=n.default.time.ia();y60=3;break;case 3:y60=null === this.q5 || this.q5 + x.Bva < z?9:8;break;case 8:y.sort(function(A,B){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return A.level - B.level || A.Zb - B.Zb;break;}}});return y;break;case 9:(y.forEach(function(A){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:A.id !== w.Vb.location && (A.yb=w.hi.get(A.id));A60=1;break;}}}),this.q5=z);y60=8;break;}}};v.prototype.E6b=function(w){var C60,x;C60=2;for(;C60 !== 4;){switch(C60){case 2:x=this.Vb.location;this.y4b=w;this.GB.forEach(function(y){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:y.id !== x && y.yb && y.yb.confidence > m.default.vj.LC && (y.yb.confidence=m.default.vj.LC);D60=1;break;}}});C60=4;break;}}};v.prototype.T2b=function(){var E60,w;E60=2;for(;E60 !== 5;){switch(E60){case 2:w=this;this.sba || this.GB.forEach(function(x){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:x.yf === q.TEMPORARY && w.hi.fail(x.id,n.default.time.ia());F60=1;break;}}});E60=5;break;}}};v.prototype.dump=function(){};L50=27;break;case 13:v.prototype.nfb=function(w,x){var m60;m60=2;for(;m60 !== 3;){switch(m60){case 2:m60=(w=this.Il[w])?1:5;break;case 1:(d(w,x),k(w));m60=5;break;case 5:this.uK=null;this.XQ=m.default.Bz.mia;m60=3;break;}}};v.prototype.fda=function(){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 2:d(this.jq,!1);n60=1;break;case 4:d(this.jq,-0);n60=6;break;n60=1;break;}}};v.prototype.So=function(w){var o60,x;o60=2;for(;o60 !== 5;){switch(o60){case 2:null === (x=this.xxb) || void 0 === x?void 0:x.call(this,w);o60=5;break;}}};v.prototype.Uj=function(){var p60;p60=2;for(;p60 !== 1;){switch(p60){case 2:this.E6b(r.Wsb);p60=1;break;}}};L50=20;break;case 27:return v;break;}}})(t.EventEmitter);b.wha=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zEa=void 0;c=a(22);t=(function(){function k(g){this.config=g;}k.prototype.G4b=function(g){var h,d,f;h=this.config;d=[];f=[];g.forEach(function(q,r){void 0 === q.cb?f.push(r):d.push(r);});if(0 !== f.length)for(var l=-1,m=-1,n=function(q){var r,u,v,w,x,y;r=f[q];u=g[r];if(0 === q || r !== f[q - 1] + 1)(l=d[c.A6(d,function(z){return z < r;})] || -1,m=d[c.oo(d,function(z){return z > r;})] || -1);v=0;w=h.fZb;q=0;x=h.gZb;-1 < m && (w=g[m].bitrate,x=g[m].cb);-1 < l && (q=g[l].cb,v=g[l].bitrate);w=Math.log(w);v=0 === v?0:Math.log(v);y=Math.log(u.bitrate);u.q8=Math.max(0,Math.min(110,Math.round((q * (w - y) + x * (y - v)) / (w - v) * 100) / 100));},p=0;p < f.length;p++){n(p);}};return k;})();b.zEa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=void 0;c=a(20);k=a(2);g=a(930);h=a(931);d=a(932);f=a(933);l=a(934);m=a(935);n=a(936);p=a(937);q=a(938);t=(function(){function r(u,v,w,x){this.config=u;this.mediaType=v;this.Kc=w;this.console=x;}r.prototype.append=function(u,v){var w,x,y,z;void 0 === this.track?this.mP(u.stream):this.track !== u.stream.track && (k.assert(this.track.ka),k.assert(u.stream.track.ka),this.track=u.stream.track);k.assert(void 0 !== this.Rs);x={ta:u,offset:null !== (w=u.Wya) && void 0 !== w?w:c.M.La,xe:this.config.wda,Ij:!1};x=this.Rs.reduce(function(A,B){return B.append(A,v);},x);y=x.ta;w=x.offset;z=x.Ij;x=x.ul;x=void 0 === x?[]:x;y.Ca && u.ti(y.Ca);if(z || !this.M$a)return {offset:w,Ij:z};z=this.M$a.Ca(u);u=z.ca;y=z.ul;z=z.response;Array.prototype.push.apply(x,void 0 === y?[]:y);return {offset:w,Ij:!u,ul:x,response:z};};r.prototype.reset=function(){this.Rs=this.track=void 0;};r.prototype.mP=function(u){var v,w;this.track=u.track;this.M$a=new q.ELa(this.console,this.config,this.mediaType,u.profile);this.Rs=[];if(0 === this.mediaType){this.config.wda && this.Rs.push(new d.pQa(this.config,u.track,this.console));w=this.Yna(u);w.equal(c.M.La)?this.config.mo && u.Af && this.qua(u.O.K) && this.Rs.push(new m.XJa(this.config)):this.Rs.push(new g.Via(w));this.config.XY || (this.console.log("MediaSplicer: NegativePtsGuard: " + w.jc() + ", " + (null === (v=u.Af) || void 0 === v?void 0:v.jc())),this.Rs.push(new f.nMa(this.config,u,this.console)));this.ZVb()?(this.config.Ah || this.Rs.push(new n.DEa(u,this.config,this.Kc,this.console)),this.Rs.push(new h.zMa(this.config,u,this.console)),this.G9b(u) && (k.assert(u.ka),this.Rs.push(this.eGb(u.Af || c.M.La,u.ka,w)))):this.Rs.push(new p.EEa(this.console));}};r.prototype.qua=function(u){return this.config.qua || this.config.v7a && -1 !== this.config.v7a.indexOf(u);};r.prototype.Yna=function(u){return g.Via.Yna(this.config,u.Af,this.Kc,this.console);};r.prototype.ZVb=function(){return !this.config.iK;};r.prototype.G9b=function(u){return this.config.Dbc && this.config.mo && ! !u.Af;};r.prototype.eGb=function(u,v,w){return new l.QRa(u.Ba(w),v,this.console);};return r;})();b.SLa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Via=void 0;c=a(20);k=a(10);t=(function(){function g(h){this.Af=h;}g.Yna=function(h,d,f,l){var m;m=c.M.La;d && (f=null === f || void 0 === f?void 0:f.jlc,h.Pcc && void 0 !== f && 0 <= f?(h=new c.M(f,48E3),m=d.add(h),k.W && l.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + h) + (" for ASE applied offset of " + m + "."))):h.OH && (m=d));return m;};g.prototype.append=function(h){var d,f,l;d=h.xe;f=h.Ij;l=h.ul;return {ta:h.ta,offset:h.offset.add(this.Af),xe:d,Ij:f,ul:l};};return g;})();b.Via=t;},function(t,b,a){var k,g,h,d;function c(f){return f.toString() + " (nrdp: " + f.nK + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.zMa=void 0;k=a(20);g=a(251);h=a(10);d=a(2);t=(function(){function f(l,m,n){this.console=n;this.offset=k.M.La;this.Af=l.mo?m.Af:void 0;d.assert(m.ka);this.ka=m.ka;}f.prototype.append=function(l){var m,n,p,q;if(l.Ij)return l;m=l.ta;n=l.offset;p=l.xe;q=l.ul;void 0 !== this.M8a && (d.assert(void 0 !== this.eva),m.dc.add(l.offset).equal(this.M8a)?(l=this.VDb(m,n.add(this.offset)).T - this.eva,0 > l?this.offset=this.offset.add(k.M.JB):0 === l?this.offset.lessThan(k.M.La) && (this.offset=this.offset.add(k.M.JB)):1 === l?this.offset.greaterThan(k.M.La) && (this.offset=this.offset.Ba(k.M.JB)):this.offset=this.offset.Ba(k.M.JB)):this.offset=k.M.La);this.eva=this.UDb(m,n.add(this.offset)).T;this.M8a=m.Hd.add(n);return {ta:m,offset:n.add(this.offset),xe:p,Ij:!1,ul:q};};f.prototype.VDb=function(l,m){var n,p;l=this.DWa(l.dc);n=g.Uv(l).add(g.Uv(m));p=l.add(m).Ba(n);h.W && this.console.trace("NrdpRounding: content start " + c(l) + ", timestamp offset: " + c(m) + ", start rounding error: " + g.Uv(l).toString() + ", offset rounding error: " + g.Uv(m).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.jc() + ", (" + l.nK + m.nK + "ms), last fragment end nrdp: " + this.eva);return p;};f.prototype.UDb=function(l,m){var n,p,q;n=this.ka;l=this.DWa(l.Hd);p=g.Uv(l.Ba(n)).add(g.Uv(n)).add(g.Uv(m));q=l.add(m).Ba(p);h.W && this.console.trace("NrdpRounding: content end: start of last frame:" + c(l.Ba(n)) + ", frame duration: " + c(n) + ", offset: " + c(m) + ", timestamp rounding error: " + g.Uv(l.Ba(n)).toString() + ", frame duration rouding error: " + g.Uv(n).toString() + ", offset rounding error: " + g.Uv(m).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.jc() + ", (" + l.Ba(n).nK + n.nK + m.nK + "ms)");return q;};f.prototype.DWa=function(l){return this.Af?l.Ba(this.Af):l;};return f;})();b.zMa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pQa=void 0;c=a(20);k=a(2);g=a(10);t=(function(){function h(d,f,l){this.config=d;this.console=l;this.yx=c.M.La;k.assert(f.ka);this.ka=f.ka;d=f.gd[0].profile;this.jba=this.fRb(d,this.ka);this.Laa=this.cRb(d,this.ka);}h.prototype.append=function(d,f){var l,m,n,p,q;if(d.Ij)return d;l=d.ta;m=d.offset;n=d.ul;n=void 0 === n?[]:n;d=d.xe;p=f.OP;f=f.Wwa;if(this.aya){q=this.j_b(l,this.aya);l.Ca && this.ona(q)?(g.W && this.console.trace("SeamlessAudio: dropping first frame"),l.aqa(1),this.yx=q):(this.yx=q.add(this.ka),this.DXa(this.yx) || (g.W && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + l.rd.jc() + " error would be " + this.yx.jc() + " (editing " + (l.Ca?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:l.Qa,pts:l.dc.T}}}}),this.yx=c.M.La,d=!1));this.aya=void 0;}if(l.Oo || l.cy)(k.assert(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!l.Ca || !f && l.cy || (q=this.k_b(l,p,f),q.sn(c.M.La) && (g.W && this.console.trace("SeamlessAudio: dropping last frame"),l.bqa(1))),this.aya=p);k.assert(this.DXa(this.yx));this.iva=l.Qc;return {ta:l,offset:m.add(this.yx),xe:d,Ij:!1,ul:n.length?n:void 0};};h.prototype.k_b=function(d,f,l){var m;if(l)m=this.yx.add(d.Qc.Ba(l)).Ba(this.ka);else (m=d.Qc.Ba(f),m=this.yx.add(m).Ba(this.ka));g.W && this.console.trace("SeamlessAudio: fragment end: " + d.Qc.jc() + ", splice " + f.jc() + ", next start " + (null === l || void 0 === l?void 0:l.jc()) + ", error " + m.add(this.ka).jc() + ", error with frame drop " + m.jc() + ", is" + (this.ona(m)?"":" not") + " within bounds of [" + this.jba.jc() + " and " + this.Laa.jc() + ")");return m;};h.prototype.j_b=function(d,f){var l;k.assert(this.iva);l=this.yx.add(this.iva.Ba(d.rd)).Ba(this.ka);g.W && this.console.trace("SeamlessAudio: fragment start: " + d.rd.jc() + ", splice " + f.jc() + ", last fragment end: " + this.iva.jc() + ", error " + l.add(this.ka).jc() + ", error with frame drop " + l.jc() + ", is" + (this.ona(l)?"":" not") + " within bounds of [" + this.jba.jc() + " and " + this.Laa.jc() + ")");return l;};h.prototype.ona=function(d){return d.lessThan(this.Laa) && d.sn(this.jba);};h.prototype.DXa=function(d){return d.lessThan(this.Laa.add(c.M.JB)) && d.sn(this.jba.Ba(c.M.JB));};h.prototype.cRb=function(d,f){return "object" === typeof this.config.rAa && void 0 !== this.config.rAa[d]?(d=new c.M(this.config.rAa[d],1E3).Wf(f.U).add(new c.M(1,f.U)),c.M.min(f,d)):f;};h.prototype.fRb=function(d,f){var l;if("object" === typeof this.config.sAa && void 0 !== this.config.sAa[d]){l=f.Dk(-2);d=new c.M(this.config.sAa[d],1E3).Wf(f.U).Ba(new c.M(1,f.U));return c.M.max(l,d);}return new c.M(-12,1E3);};return h;})();b.pQa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nMa=void 0;c=a(20);k=a(2);g=a(10);t=(function(){function h(d,f,l){var m;this.console=l;this.C_=!1;k.assert(f.ka,"NegativePtsGuard: stream.frameDuration must exist.");this.ka=f.ka;this.mo=d.mo;this.Af=null !== (m=f.Af) && void 0 !== m?m:c.M.La;}h.prototype.append=function(d){var f,l,m,n,p;if(this.C_ || d.Ij)return d;f=d.ta;l=d.offset;m=d.xe;d=d.ul;if(f.Ca){n=f.dc.Ba(this.mo?this.Af:c.M.La).add(l);if(n.lessThan(c.M.La)){p=Math.ceil(n.EB(-1).Dk(this.ka));g.W && this.console.trace("NegativePtsGuard: dropping " + p + " frames on first fragment to avoid nagative pts, profile offset " + (this.Af.jc() + ", request content start ") + (f.dc.jc() + ", current timestamp offset ") + (l.jc() + " => firstPlatformTimestamp ") + (n.jc() + "."));f.aqa(p);}}this.C_=!0;return {ta:f,offset:l,xe:m,Ij:!1,ul:d};};return h;})();b.nMa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QRa=void 0;c=a(20);k=a(10);t=(function(){function g(h,d,f){this.Af=h;this.ka=d;this.console=f;}g.prototype.append=function(h,d){var f,l,m,n,p,q;f=h.ta;l=h.offset;m=h.xe;n=h.ul;h=h.Ij;if(!h){p=d.endOfStream;d=d.OP;if(p && d){p=f.dc.Ba(this.Af).add(l);q=f.Hd.Ba(this.Af).add(l);d=d.Ba(c.M.JB);k.W && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.jc() + "-" + q.jc() + " vs media splice point at " + d.jc());p.add(this.ka).sn(d)?(k.W && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),h=!0):q.sn(d) && (d=Math.ceil(q.Ba(d).Dk(this.ka)),f.Ca?(k.W && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),f.bqa(d)):(k.W && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),h=!0));}else p && k.W && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {ta:f,offset:l,xe:m,Ij:h,ul:n};};return g;})();b.QRa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=void 0;t=(function(){function a(c){this.C_=!1;this.O9b=c.gVb;}a.prototype.append=function(c){c.ta.Ca && (c.ta.Y8b(this.C_?0:this.O9b),this.C_=!0);return c;};return a;})();b.XJa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;c=a(407);k=a(7);t=(function(){function g(h,d,f,l){this.config=d;this.Kc=f;this.console=l;this.ka=h.ka;}g.prototype.append=function(h,d){var f,l,m,n,p,q,r,u,v,w,x,y,z;if(h.Ij)return h;l=!1;m=c.xsa(this.config,this.Kc);n=h.ta;p=h.offset;q=h.xe;r=h.ul;u=n.Qc;v=n.rd;w=n.cy;w=n.Oo || w;if(!h.ta.Ca || !w || q)return h;x=n.Hd.Ba(n.dc);w=Math.floor(x.Dk(this.ka));y=null !== (f=d.Wwa) && void 0 !== f?f:u.Ba(this.ka.EB(2));u=y.Ba(v);f=w;z=!1;d.Wwa && (d=this.vYa(x,u,u),f=d.Tk,z=d.Rab);m=y.Ba(k.M.Ha(m));v=k.M.max(m.Ba(v),k.M.La);z || (v=this.vYa(x,v,u),f=v.Tk,v.Rab && (--f,this.ka.EB(f)));f < (this.config.e_b || 1)?l=!0:0 < w - f && h.ta.bqa(w - f);return {ta:n,offset:p,xe:q,Ij:l,ul:r};};g.prototype.vYa=function(h,d,f){var l;h=k.M.min(h,d);h=Math.floor(h.Dk(this.ka));d=this.ka.EB(h);f=f.Ba(d);l=0 < h && f.lessThan(k.M.JB);return {Tk:h,Koc:d,Wlc:f,Rab:l};};return g;})();b.DEa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=void 0;c=a(10);t=(function(){function k(g){this.console=g;}k.prototype.append=function(g,h){var d,f,l,m,n,p,q;if(g.Ij)return g;d=!1;f=g.ta;l=g.offset;m=g.xe;g=g.ul;h=h.OP;n=f.Qc;if(this.oq && n.lessThan(this.oq.Qc)){p=this.oq.OP.Ba(f.rd);q=f.Qc.Ba(this.oq.OP);q.lessThan(p) && (c.W && this.console.trace("AudioOverlapGuard: skipping append of " + f + (", current error: " + p.jc()) + (", discard error: " + q.jc())),d=!0);}this.oq=(f.Oo || f.cy) && h?{OP:h,Qc:n}:void 0;return {ta:f,offset:l,xe:m,Ij:d,ul:g};};return k;})();b.EEa=t;},function(t,b,a){var g,h,d,f;function c(l,m,n,p){var q,r,u,v,w,x,y,z,A;if(void 0 !== l.Tda || void 0 !== l.oBa || l.hv || l.jv){q=l.end - l.start;r=Array(q);u=l.hv;v=l.jv;w=l.e2a?l.e2a - 1:0;x=l.f2a?l.f2a - 1:0;y=Math.min(q,Math.max(l.Tda || 0,u && !w?1:0));l=Math.min(q - y,Math.max(l.oBa || 0,v && !x?1:0));z=Math.floor(n.Dk(m));m=Math.max(0,Math.min(q - y - l,u?Math.max(0,z - w):0));A=Math.max(0,Math.min(q - y - l - m,v?Math.max(0,z - x):0));m=y + m;n=q - l - A;x=x?0:Math.max(0,z + 1 - A);z=(1 - p) / (z + 1);for(A=0;A < q;++A){r[A]=A < y?-Infinity:A >= q - l?-Infinity:u && A < m?k(p + (A - y + w) * z):v && A >= n?k(1 - (A - n + x + 1) * z):0;}return r;}}function k(l){return 20 * Math.log(l) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.ELa=void 0;t=a(0);g=a(62);h=a(7);d=a(2);f=t.__importDefault(a(4));a=(function(){var G60;G60=2;for(;G60 !== 3;){switch(G60){case 2:l.prototype.Ca=function(m){var I60,p,q,r,n;I60=2;for(;I60 !== 21;){switch(I60){case 11:return {ca:q};break;case 14:(p=this.BLb(m,m.response),q=p.ca,r=p.Kk);p=p.data;I60=12;break;case 10:r && n.push(r);q=p;I60=19;break;case 9:return {ca:!1};break;case 26:I60=!q?25:24;break;case 12:I60=!q?11:10;break;case 6:I60=0 < m.Ca.start || m.Ca.Tda || m.Ca.hv?14:18;break;case 4:return {ca:!0};break;case 7:return {ca:!0};break;case 16:q=m.ca;r=m.Kk;p=m.data;I60=26;break;case 3:I60=0 >= m.duration?9:8;break;case 8:I60=!(m.response instanceof ArrayBuffer)?7:6;break;case 22:return {ca:!0,ul:n,response:q};break;case 18:I60=m.Ca.end !== m.Px || m.Ca.oBa || m.Ca.jv?17:22;break;case 19:r=m.Ca.start;I60=18;break;case 17:m=this.CLb(m,q || m.response,r);I60=16;break;case 5:I60=!m.Ca?4:3;break;case 25:return {ca:q};break;case 24:r && n.push(r);I60=23;break;case 23:q=p;I60=22;break;case 2:var G5X="MediaFragm";G5X+="entEditor [${fragment.mediaType}]: Attempt to edit";G5X+=" appended f";G5X+="ragment";n=[];d.assert(!m.Pe,G5X);I60=5;break;}}};l.prototype.BLb=function(m,n){var J60,p,q;J60=2;for(;J60 !== 8;){switch(J60){case 5:J60=!(m.Ca.start || p || m.Ca.hv || m.Ca.jv)?4:3;break;case 2:d.assert(m.Ca);p=m.Ca.Tda;J60=5;break;case 4:return {ca:!0};break;case 3:var q5X=" e";q5X+="dit faile";q5X+="d";var Z5X="]";Z5X+=":";Z5X+=" ";var l5X="Med";l5X+="iaFrag";l5X+="m";l5X+="entE";l5X+="ditor [";q=c(m.Ca,m.ka,this.pw,this.KP);return (n=new g.Qw(this.vab,m.stream,n).Heb({Wi:m.Ca.start,U:m.CJ,mA:q,Pza:!1,mK:this.config.jda,rJ:k(this.KP)}))?{ca:!0,Kk:m.Eza(p),data:h.Tu(n.ta)}:(this.console.error(l5X + m.mediaType + Z5X + m.toString() + q5X),{ca:!1});break;}}};l.prototype.CLb=function(m,n,p){var K60,q,r;K60=2;for(;K60 !== 7;){switch(K60){case 2:void 0 === p && (p=0);d.assert(m.Ca);q=m.Ca.oBa;K60=4;break;case 4:K60=m.Ca.end === m.Px && !q && !m.Ca.hv && !m.Ca.jv?3:9;break;case 9:var k5X=" ";k5X+="edit faile";k5X+="d";var m5X="]";m5X+=":";m5X+=" ";var R5X="MediaFrag";R5X+="mentEdito";R5X+="r";R5X+=" [";r=c(m.Ca,m.ka,this.pw,this.KP);return (n=new g.Qw(this.vab,m.stream,n).xza({Wi:m.Ca.end - p,U:m.CJ,mA:r,Pza:!1,mK:this.config.jda,rJ:k(this.KP)}))?{ca:!0,Kk:m.Eza(q),data:h.Tu(n.ta)}:(this.console.error(R5X + m.mediaType + m5X + m.toString() + k5X),{ca:!1});break;case 3:return {ca:!0};break;}}};return l;break;}}function l(m,n,p,q){var H60;H60=2;for(;H60 !== 9;){switch(H60){case 2:var u5X="me";u5X+="d";u5X+="i";u5X+="a|asej";u5X+="s";var o5X="M";o5X+="P";o5X+="4";var N5X="1";N5X+="SIYbZr";N5X+="NJC";N5X+="p9";this.console=m;this.config=n;N5X;this.vab=new f.default.Console(o5X,u5X);0 === p && (this.pw=h.M.Ha(n.pw),this.KP=Math.pow(10,(n.KP[q] || -44) / 20));H60=9;break;}}}})();b.ELa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y,z,A){var B,C;f.assert(x.Nj,"Current time: " + n.default.time.ia() + " cr: " + x.currentTime);f.assert(x.currentTime.isFinite());B=z.Ba(x.currentTime);B=Math.max(Math.ceil(B.UJ / x.speed),0);C=null !== A && void 0 !== A?A:{id:void 0,v0a:B,mbb:0,O1b:B};C.id=setTimeout(function(){z.Ba(x.currentTime).yY(h.M.La)?y():(C.mbb++,c(x,y,z,C));},B);C.v0a=B;return C;}Object.defineProperties(b,{__esModule:{value:!0}});b.ffa=b.UL=void 0;k=a(0);g=a(11);h=a(20);d=a(252);f=a(2);l=a(10);m=a(940);n=k.__importDefault(a(4));p=a(178);q=a(941);r=a(942);u=a(153);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{UK:{get:function(){return this.Yla;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Nab:{get:function(){return this.ixb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{aJb:{get:function(){return this.gvb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mAa:{get:function(){return this.Zyb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.gvb=z === w.dQ?0:n.default.time.ia();this.ixb=y;this.Zyb=z;l.W && f.assert(!this.Yla,"Invalid replacement of timeout value");this.Yla=A;};x.prototype.complete=function(){this.Yla=void 0;this.set(h.M.Yx,w.dQ);};return x;})();(function(x){x[x.dQ=0]="none";x[x.U$a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(w || (w={}));t=(function(x){function y(z,A,B){var C;void 0 === B && (B="unknown");C=x.call(this) || this;C.Aa=z;C.console=A;C.name=B;C.gxb=0;C.Wka=!1;C.kl=new v();C.s8=new g.Zf();C.Ql=new d.q3([],m.EZa(function(D,F){return D.kK.Wl(F.kK);},function(D,F){return F.Rn.priority - D.Rn.priority;},function(D,F){return D.Rn.id > F.Rn.id?1:D.Rn.id < F.Rn.id?-1:0;}));C.lXa(z);return C;}k.__extends(y,x);Object.defineProperties(y.prototype,{w9b:{get:function(){return this.Aa.Nj;},enumerable:!1,configurable:!0}});y.prototype.F_a=function(z,A){z=new (z.bind.apply(z,k.__spread([void 0],A)))();z.id=this.gxb++;z.cCb(this);this.Ema(z);return z;};y.prototype.aE=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.F_a(q.dKa,z);};y.prototype.qPb=function(){var z;z={hasSchedule:! !this.kl.UK,schedule:this.kl.UK && ({sleepTime:this.kl.UK.v0a,originalSleepTime:this.kl.UK.O1b,clockSkewAdjustments:this.kl.UK.mbb}),nextWakeup:this.kl.Nab.T,timeScheduled:this.kl.aJb,scheduleType:w[this.kl.mAa],numTasks:this.Ql.length,clock:{ir:this.Aa.Nj,ct:this.Aa.currentTime.T,sp:this.Aa.speed}};l.W && this.trace("audit",z);return z;};y.prototype.UN=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.F_a(r.KQa,z);};y.prototype.o_a=function(z,A,B){return this.aE(function(){return k.__generator(this,function(C){switch(C.label){case 0:return [4,u.Zh.VF(A)];case 1:return (C.Eb(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.lXa=function(z){var A;A=this;this.TD();this.s8.clear();this.Aa=z;this.s8.on(z,"stopStart",function(){return A.EQ();});this.s8.on(z,"clockAdjusted",function(){return A.tZ();});this.s8.on(z,"speedChanged",function(){return A.A1b();});this.tZ();this.emit("clockChanged");};y.prototype.A1b=function(){this.TD();this.EQ();};y.prototype.xb=function(){this.reset();};y.prototype.reset=function(){this.TD();this.Ql.clear();};y.prototype.tZ=function(){var z,A;z=this;A=this.Ql.map(function(B){return B.Rn;});this.TD();this.Ql.clear();A.forEach(function(B){return z.Ema(B,!1);});this.EQ();};y.prototype.Ema=function(z,A){var B,C;void 0 === A && (A=!0);B=z.yba();C=this.Yib(B);B={Rn:z,kK:C,bda:B};l.W && this.trace("Adding task " + z.name + " for " + C.T);f.assert(!this.Ql.contains(B));this.Ql.push(B);A && this.EQ();};y.prototype.EQ=function(){var z,A,B,C,D;z=this;l.W && this.trace("recheck schedule task count:" + this.Ql.length);if(this.w9b){if(this.Wka)l.W && this.trace("already executing, bailing");else {B=this.kl.Nab;C=this.Ql.sy();D=null !== (A=null === C || void 0 === C?void 0:C.kK) && void 0 !== A?A:h.M.Yx;D.isFinite() && D.exa(B)?(this.TD(!1),this.Aa.currentTime.sn(D)?(this.kl.set(D,w.U$a),Promise.resolve().then(function(){z.kl.mAa === w.U$a && (z.kl.complete(),z.Cfb());})):(l.W && this.trace("scheduling next wake up for",{Ypc:D.T,Rn:null === C || void 0 === C?void 0:C.Rn.name}),A=c(this.Aa,function(){z.kl.complete();z.Cfb();},D),this.kl.set(D,w.setTimeout,A))):D.isFinite() || this.kl.mAa !== w.setTimeout || this.TD(!1);}}else (l.W && this.trace("should check schedule is false, stopping"),this.TD());};y.prototype.Cfb=function(){var z,A,B;A=0;B=null === (z=this.Ql.sy()) || void 0 === z?void 0:z.bda;try{for(this.Wka=!0;1E4 > A++ && this.Hbc();){;}}finally{this.Wka=!1;this.TD();1E4 < A && !this.HTb(B)?this.error("Task scheduler executed more than 10000 iterations in same tick"):(this.trace("Next tasks",this.Ql.map(function(C){return {name:C.Rn.name,Zpc:C.kK.T};})),this.EQ());}};y.prototype.HTb=function(z){var A,B;B=null === (A=this.Ql.sy()) || void 0 === A?void 0:A.bda;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.Hbc=function(){var z,A,B;B=null !== (A=null === (z=this.Ql.sy()) || void 0 === z?void 0:z.kK) && void 0 !== A?A:h.M.Yx;l.W && this.trace("tryExecuteNextTask @" + this.Aa.currentTime.T + ", next wakeup at " + B);if(this.Aa.currentTime.sn(B) && (z=this.Ql.pop())){A=z.Rn;l.W && this.trace("Running a task @" + this.Aa.currentTime.T + ", scheduled for time:" + B.T + ("Name:" + A.name));try{A.Gy();z.bda=A.yba();z.kK=this.Yib(z.bda);}catch(C){throw (this.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + C,{stack:C.stack}),A.xb(),C);}finally{z.kK !== h.M.Yx && A.state === p.bo.oda && (f.assert(!this.Ql.contains(z)),this.Ql.push(z));}return !0;}};y.prototype.h7b=function(z){f.assert(z.de === this);this.vza(z,!1);this.Ema(z);};y.prototype.vza=function(z,A){var B;void 0 === A && (A=!0);B=this.Ql.find(function(C){return C.Rn === z;});B && this.n6b(B,A);};y.prototype.n6b=function(z,A){this.Ql.remove(z);A && this.EQ();};y.prototype.TD=function(z){void 0 === z && (z=!0);this.kl.UK && (z && this.emit("stopping"),clearTimeout(this.kl.UK.id),this.kl.complete());};y.prototype.Yib=function(z){return z.type === u.jja.absolute?z.timestamp:z.timestamp.add(this.Aa.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,k.__spread(["TaskScheduler(" + this.name + "):"],A));};y.prototype.error=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,k.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(g.EventEmitter);b.UL=t;b.ffa=function(x,y,z){var A;A=void 0;return (z || x.Aa.Nj) && x.Aa.currentTime.sn(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.UN(u.Zh.Yy(y),B);}),Rn:A};};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.EZa=void 0;c=a(0);k=a(10);g=a(2);b.EZa=function(){for(var h=[],d=0;d < arguments.length;d++){h[d]=arguments[d];}k.W && g.assert(h.length);return function(f,l){var m,q,r;try{for(var n=c.__values(h),p=n.next();!p.done;p=n.next()){q=p.value;r=q(f,l);if(0 !== r)return r;}}catch(v){var u;u={error:v};}finally{try{p && !p.done && (m=n.return) && m.call(n);}finally{if(u)throw u.error;}}return 0;};};},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;c=a(0);k=a(20);g=a(2);a(125);h=a(178);d=a(153);t=(function(f){function l(m,n,p){n=f.call(this,n,p) || this;n.K7b=m;n.reset();return n;}c.__extends(l,f);l.prototype.reset=function(){var m,n;if(this.Nc === h.bo.oda || this.Nc === h.bo.pending)null === (n=null === (m=this.wM) || void 0 === m?void 0:m.return) || void 0 === n?void 0:n.call(m);this.Nc=h.bo.pending;this.wM=this.K7b();this.mla=d.Zh.VF(k.M.La);};l.prototype.Rk=function(){this.reset();g.assert(this.rx);this.rx.h7b(this);};l.prototype.yba=function(){return this.mla;};l.prototype.gg=function(){var m,n,p,q,r;r=null !== (n=null === (m=this.wM) || void 0 === m?void 0:m.next()) && void 0 !== n?n:{done:!0};r.done?(this.mla=d.Zh.sDa,null === (q=(p=this.wM).return) || void 0 === q?void 0:q.call(p),this.wM=void 0):this.mla=r.value;};l.prototype.xb=function(){var m,n;null === (n=null === (m=this.wM) || void 0 === m?void 0:m.return) || void 0 === n?void 0:n.call(m);this.wM=void 0;f.prototype.xb.call(this);};return l;})(h.Aja);b.dKa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KQa=void 0;c=a(0);k=a(178);g=a(153);t=(function(h){function d(f,l,m){m=h.call(this,m) || this;m.pAa=f;m.EV=l;return m;}c.__extends(d,h);d.prototype.yba=function(){return this.Nc === k.bo.pending?this.pAa:g.Zh.sDa;};d.prototype.gg=function(){this.EV();};return d;})(k.Aja);b.KQa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.SPa=void 0;t=a(0);c=t.__importDefault(a(28));k=t.__importDefault(a(408));a=(function(){function g(h){this.S5=[];this.S5[c.default.$a.Jb]=new k.default(h,c.default.$a.Jb);this.S5[c.default.$a.cc]=new k.default(h,c.default.$a.cc);}g.prototype.TAb=function(h,d,f){this.S5[h].add(d,f);};g.prototype.Wsa=function(){var h;h=[];this.S5.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(l){h.push(l);});d.reset(!0);}});return h;};g.prototype.wNb=function(h){var d;d=this.Wsa();h.strmsel=d;return 0 < d.length;};return g;})();b.SPa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u4a=void 0;b.u4a=function(a){var c,k,g;c=Math.floor(1E6 * Math.random());k=a.Fta;g=a.i$;a=0 === c % a.Gta && 0 < g.length;return {Ws:a,zW:a && 0 === c % k};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VZa=void 0;b.VZa=function(a,c){var k;if(!Array.isArray(a.TZa))return a;k=a.qh?a.qh():Object.create(a);a.TZa.forEach(function(g){if(void 0 !== g.c_b && c.duration >= g.c_b && g.config)for(var h in g.config){k[h]=g.config[h];}});return k;};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UGa=void 0;c=a(0).__importStar(a(9));k=a(124);g=a(2);t=(function(){var L60;L60=2;for(;L60 !== 7;){switch(L60){case 8:return h;break;case 2:h.prototype.bvb=function(d,f){var N60,l,m;N60=2;for(;N60 !== 8;){switch(N60){case 2:var I5X="creat";I5X+="e";I5X+="DlTracksSt";I5X+="art";(l=this,m=this.dn.J);0 === this.sH && this.dn.Gb.Lm(I5X);this.sH+=d.length;N60=4;break;case 4:d=d.map(function(n){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:return l.ZSa(n,f.I,f.ay(),l.dn.Im,m);break;}}});k.Dq.instance.gg();return d;break;}}};h.prototype.nvb=function(){var P60,d,f;P60=2;for(;P60 !== 3;){switch(P60){case 2:(d=this,f=[]);this.dn.Fb.Vf.forEach(function(l){var Q60;Q60=2;for(;Q60 !== 5;){switch(Q60){case 2:c.na(l.Jf) || f.push(l.Jf);Q60=1;break;case 1:l.Jf=void 0;Q60=5;break;}}});this.dn.aU && (f.push(this.dn.aU),this.dn.aU=void 0);f.forEach(function(l){var R60;R60=2;for(;R60 !== 5;){switch(R60){case 2:l.Zm || --d.sH;k.Dq.instance.eO(l);R60=5;break;}}});P60=3;break;}}};h.prototype.owb=function(){var S60;S60=2;for(;S60 !== 1;){switch(S60){case 2:this.sH=0;S60=1;break;}}};h.prototype.fVa=function(d,f){var T60,l,m;T60=2;for(;T60 !== 5;){switch(T60){case 2:(l=this.dn.Fb.Vf[d],m=l.Jf);m && (m=f.gN(d,m),this.mvb(d),l.Jf=this.ZSa(d,f.I,f.ay(),this.dn.Im,this.dn.J),f.Vza(m));T60=5;break;}}};h.prototype.ZSa=function(d,f,l,m,n){var U60,p,q;U60=2;for(;U60 !== 6;){switch(U60){case 3:var D5X="mediaRequ";D5X+="estCo";D5X+="mplet";D5X+="e";var g5X="tr";g5X+="ansport";g5X+="re";g5X+="po";g5X+="rt";q.on(g5X,function(r){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:var E5X="transportrep";E5X+="o";E5X+="rt";p.dn.emit(E5X,r);Y60=1;break;}}});q.on(D5X,function(r){var Z60;Z60=2;for(;Z60 !== 1;){switch(Z60){case 2:var C2X="me";C2X+="dia";C2X+="Re";C2X+="questCo";C2X+="mplete";p.dn.emit(C2X,r);Z60=1;break;}}});q.za();U60=7;break;case 7:return q;break;case 2:var f2X="e";f2X+="r";f2X+="r";f2X+="o";f2X+="r";var e2X="netw";e2X+="o";e2X+="rkfail";e2X+="i";e2X+="ng";var Y2X="cr";Y2X+="e";Y2X+="ated";(p=this,q=k.Dq.instance.Yu(d,f,!0,l,m,n));q.wh.on(q,Y2X,function(){var V60;V60=2;for(;V60 !== 5;){switch(V60){case 2:var w2X="createDlT";w2X+="rack";w2X+="s";w2X+="E";w2X+="nd";--p.sH;0 === p.sH && p.dn.Gb.Lm(w2X);V60=5;break;}}});q.wh.on(q,e2X,function(){var W60,r;W60=2;for(;W60 !== 8;){switch(W60){case 1:W60=q.y8?5:8;break;case 2:var F2X="reportNet";F2X+="workFail";F2X+="ing";F2X+=": ";n.Ni && p.Gi.Bn(F2X + q);W60=1;break;case 5:g.assert(q.LW);r=p.dn.Ue.O;r.pr.It(q.LW,void 0,q.Xg,q.lj);r.ym();W60=8;break;}}});q.wh.on(q,f2X,function(){var X60;X60=2;for(;X60 !== 5;){switch(X60){case 2:var x2X="NF";x2X+="Err_MC_St";x2X+="reamingFailure";var B2X="Do";B2X+="wnloadTra";B2X+="ck fatal e";B2X+="rro";B2X+="r";var d2X="D";d2X+="ownloadTrack fatal e";d2X+="rror";n.Ni && p.Gi.Bn(d2X);p.dn.Sq(B2X,void 0,x2X,q.Xg,0,q.lj);X60=5;break;}}});U60=3;break;}}};h.prototype.mvb=function(d){var a70,f;a70=2;for(;a70 !== 9;){switch(a70){case 3:d.Jf=void 0;a70=9;break;case 2:d=this.dn.Fb.Vf[d];f=d.Jf;f.Zm || --this.sH;k.Dq.instance.eO(f);a70=3;break;}}};L60=8;break;}}function h(d,f,l){var M60;M60=2;for(;M60 !== 3;){switch(M60){case 2:this.dn=d;this.G=f;this.Gi=l;M60=4;break;case 4:var z2X="1";z2X+="S";z2X+="IYb";z2X+="Z";z2X+="rNJCp9";z2X;M60=3;break;case 14:"";M60=0;break;M60=3;break;}}}})();b.UGa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lEa=void 0;c=a(14);k=a(7);t=(function(){function g(h){this.$H=h;this.state=new k.ps(c.va.dh);this.Oj={};}g.prototype.getState=function(){return this.state.value;};g.prototype.Dd=function(h){this.state.set(h);};g.prototype.addListener=function(h){this.state.addListener(h);};g.prototype.paused=function(){this.state.value === c.va.Jc && this.state.set(c.va.Eh);};g.prototype.i8a=function(){return this.state.value === c.va.dh;};g.prototype.Cr=function(){return "function" === typeof this.$H.Cr?this.$H.Cr():this.state.value === c.va.Jc;};g.prototype.Eg=function(){return this.state.value === c.va.sd || this.state.value === c.va.$f;};g.prototype.j8a=function(){return this.state.value === c.va.xj;};g.prototype.k8a=function(){return this.state.value === c.va.ss;};g.prototype.Fe=function(){return this.$H.Fe();};g.prototype.Yp=function(){return "function" === typeof this.$H.Yp?this.$H.Yp():1;};g.prototype.sX=function(){return this.$H.sX();};g.prototype.cR=function(h,d){this.Oj[h]=d;};g.prototype.Mo=function(h){return ! !this.Oj[h.I] || h.Mi;};return g;})();b.lEa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LOa=void 0;t=(function(){function a(c,k,g){var h;this.QBb=c;this.nla=k;this.hvb=g;this.Cka=(h={},h[0]=!1,h[1]=!1,h);this.reset();}a.prototype.vA=function(){var c,k;c=this;k=this.QBb.filter(function(g){return !g.J7a(c.hvb());});0 === k.length && this.$ka?this.pxb():k.forEach(function(g){c.Cka[g.mediaType] || (g.once("requestAppended",function(){c.Cka[g.mediaType]=!1;c.vA();}),c.Cka[g.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.$ka=!1;new Promise(function(k){c.pxb=k;}).then(function(){return c.nla();});};a.prototype.KYb=function(){this.$ka || (this.$ka=!0,this.vA());};return a;})();b.LOa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VDa=void 0;c=a(10);t=(function(){function k(g){this.console=g;this.oH=[];this.kD=[];c.W && this.console.trace("Received pending adoption " + this.mm.length);}Object.defineProperties(k.prototype,{length:{get:function(){return this.oH.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mm:{get:function(){return this.kD;},enumerable:!1,configurable:!0}});k.prototype.HYb=function(g){g=this.kD.indexOf(g);-1 !== g && (c.W && this.console.trace("Marking request attached"),this.oH[g].E7a=!0,this.zjb(g));};k.prototype.IYb=function(g){g=this.kD.indexOf(g);-1 !== g && (c.W && this.console.trace("Marking request completed"),this.oH[g].mt=!0,this.zjb(g));};k.prototype.p6b=function(g){var h,d;h=this;d=[];this.kD.forEach(function(f,l){g(f) && d.unshift(l);});d.forEach(function(f){h.kD.splice(f,1);h.oH.splice(f,1);});};k.prototype.push=function(g){this.kD.push(g);this.oH.push({E7a:!1,mt:!1});c.W && this.console.trace("Pushing pending request, " + this.length + " total");};k.prototype.CE=function(){return 0 < this.length;};k.prototype.zjb=function(g){var h;h=this.oH[g];h.E7a && h.mt && (h=this.kD[g],this.kD.splice(g,1),this.oH.splice(g,1),c.W && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.W && this.console.trace("Removing last request, contentEndPts: " + h.Ec));};return k;})();b.VDa=t;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u){return (1 === r.mediaType?0:1) - (1 === u.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.pKa=b.zia=b.Gsb=void 0;k=a(0);g=a(85);h=a(125);d=a(14);f=a(7);l=a(2);m=a(20);n=k.__importDefault(a(4));t=a(74);p=a(35);q=(function(r){function u(){return null !== r && r.apply(this,arguments) || this;}k.__extends(u,r);return u;})(a(254).GL);b.Gsb=q;b.zia={QF:c};a=(function(r){function u(v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H){var R;z=r.call(this) || this;z.mpc=v;z.J=w;z.O=y;z.Gp=A;z.t9=B;z.ws=F;z.YT=G;z.el=I;z.Jz=L;z.events=K;z.Bu=H;z.re=new q([]);z.Hm=!1;z.fU=0;z.KT=z.txa.bind(z);z.G=f.ii(n.default,x,A.id && A.id.length?"{" + A.id + "}":"");z.fl=z.G.error.bind(z.G);z.Mb=z.G.warn.bind(z.G);z.Bj=z.G.trace.bind(z.G);z.xn=null !== D && void 0 !== D?D:m.M.Ha(z.u.ba);z.wla=null === E || void 0 === E?void 0:E.Qc;null === (R=z.Jz) || void 0 === R?void 0:R.addListener(z.KT);y && C && z.XUb(y,C);return z;}k.__extends(u,r);Object.defineProperties(u.prototype,{zg:{get:function(){return this.Hm;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{u:{get:function(){return this.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Lv:{get:function(){return this.re.every(function(v){return v.Lv;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xk:{get:function(){return this.re.every(function(v){return v.xk;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Is:{get:function(){return this.rn().reduce(function(v,w){return v + w.Is;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uh:{get:function(){return this.rn().every(function(v){return v.uh();});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ie:{get:function(){return this.rn().map(function(v){return v.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{U:{get:function(){return this.Cu.U;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ua:{get:function(){return this.Cu.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fb:{get:function(){return this.Cu.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qj:{get:function(){return this.md.Wf(this.U).Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jt:{get:function(){return this.xn.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mq:{get:function(){return this.u.df.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{OB:{get:function(){return this.u.Cg.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AI:{get:function(){var v,w;w=null === (v=this.u.u.Up) || void 0 === v?void 0:v[0];return w && this.dc?m.M.Ha(Math.max(0,w[0] - this.dc.T - this.u.df.T)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vY:{get:function(){return this.re.reduce(function(v,w){return v && w.Qc?m.M.max(v,w.Qc):w.Qc?w.Qc:v;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jua:{get:function(){return this.jt.T;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Re:{get:function(){return this.md.T;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zq:{get:function(){return this.Cu.zq;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{md:{get:function(){return this.ws;},enumerable:!1,configurable:!0}});u.prototype.Aq=function(v){this.md.equal(v) || (this.ws=v);};u.prototype.Tx=function(v){return (v=this.Za(v))?Promise.resolve(v.Tx()):Promise.resolve(h.AsyncIterator.d4a());};u.prototype.mE=function(){this.rn().forEach(function(v){return v.mE();});};u.prototype.reset=function(){this.re.forEach(function(v){v.reset();});};u.prototype.yd=function(){var v,w;this.Hm || (this.Hm=!0,null === (v=this.nD) || void 0 === v?void 0:v.Yc(),this.nD=void 0,this.re.forEach(function(x){x.yd();}),null === (w=this.Jz) || void 0 === w?void 0:w.removeListener(this.KT),this.events.removeAllListeners());};u.prototype.nP=function(){return !0;};u.prototype.Za=function(v){return this.re.get(v);};u.prototype.rn=function(v){void 0 === v && (v=c);return this.re.items.slice().sort(v);};u.prototype.uX=function(){return this.re.items;};u.prototype.MI=function(v){return this.Za(v);};u.prototype.Kh=function(v,w){v=this.Za(v);if(!v)return 0;if(w)return v.Ln;w=v.gr;if(void 0 === w)return 0;v=this.YT();return w - v;};u.prototype.UA=function(){var v,w,x,y,z,A,B;B=null === (v=this.Za(0)) || void 0 === v?void 0:v.wo;v=null === (w=this.Za(1)) || void 0 === w?void 0:w.wo;return {ip:null !== (x=null === v || void 0 === v?void 0:v.T) && void 0 !== x?x:0,Hs:null !== (y=null === B || void 0 === B?void 0:B.T) && void 0 !== y?y:0,bu:null !== (z=null === v || void 0 === v?void 0:v.aa) && void 0 !== z?z:0,AD:null !== (A=null === B || void 0 === B?void 0:B.aa) && void 0 !== A?A:0};};u.prototype.ZO=function(v){var w;return (v=this.Za(v))?null !== (w=v.gr) && void 0 !== w?w:0:0;};u.prototype.ym=function(v){v=this.Za(v);l.assert(v);return v.ym();};u.prototype.txa=function(v){d.aq(v.newValue) && this.Ds();};u.prototype.WD=function(v){return this.re.every(function(w){return w.WD(v);});};u.prototype.gX=function(v){var w,x;return null !== (x=null === (w=this.re.get(v)) || void 0 === w?void 0:w.O_a) && void 0 !== x?x:m.M.La;};u.prototype.hm=function(v){this.Hm || (v.o6 || l.assert(!v.Bc),this.Ds(),this.xk && this.tla());this.qv(v);};u.prototype.KJ=function(v){this.J.i8 && this.Ds(!0);this.CI(v);};u.prototype.JJ=function(v){this.J.i8 && this.Ds(!0);this.rE(v);};u.prototype.fBa=function(v){var w;return d.aq((null === (w=this.Jz) || void 0 === w?void 0:w.value) || d.Hc.yj) && (!v || this.fU + this.J.dba < n.default.time.ia());};u.prototype.Ds=function(v){void 0 === v && (v=!1);this.fBa(v) && (this.fU=n.default.time.ia(),v={type:"checkBufferingProgress"},this.events.emit(v.type,v));};u.prototype.tla=function(){var v;v={type:"branchStreamingComplete"};this.events.emit(v.type,v);};u.prototype.XUb=function(v,w){var x;this.XAa(v);l.assert(v.K === this.u.K || isNaN(v.K) && isNaN(this.u.K));v=null !== w && void 0 !== w?w:null === (x=this.t9) || void 0 === x?void 0:x.call(this,v);l.assert(v,"tracks need to exist upon initialization");};u.prototype.toJSON=function(){var v,w;return {segment:this.u.id,branchOffset:this.Re,viewableId:this.Gp.K,contentStartPts:null === (v=this.dc) || void 0 === v?void 0:v.T,contentEndPts:null === (w=this.Hd) || void 0 === w?void 0:w.T};};return u;})(g.Ew);b.pKa=a;p.Je(t.eu,a);p.Je(t.bz,a);},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eOa=void 0;t=a(0);c=t.__importDefault(a(28));k=c.default.$a;g=c.default.Bz;h=a(7);d=a(20);f=t.__importDefault(a(145));l=t.__importDefault(a(4));a=(function(){function m(n,p,q,r,u){this.zt=n;this.Vs=p;this.J=q;this.G=r;this.mh=u;}m.prototype.c0b=function(n){n={type:"requestCreated",request:n};h.bb(this.Vs,n.type,n);};m.prototype.b0b=function(n){var p;p=n.Sa.Wa.u;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{Y:p.id,offset:d.M.Ha(this.zt.Roa - p.ba)},completePlayerStreamingTimestamp:d.M.Ha(this.zt.gr),trackIndex:n.stream.track.zD};h.bb(this.Vs,n.type,n);};m.prototype.ibb=function(n,p,q){var r,u,v;u=this.mh;v=this.zt.ck.ze;v.Kgb(n);1 === u && this.J.vda && (void 0 === v.mva?v.Mgb(l.default.time.ia()):l.default.time.ia() - v.mva > this.J.vda && (n.bitrate !== v.V8a && (l.default.storage.set("vb",n.bitrate),v.$8b(n.bitrate)),v.Mgb(l.default.time.ia())));v.sY && v.sY === n || (this.zt.ck.G$b(p,v.sY,n),v.P8b(n),p=0,n.yb && n.yb.confidence && n.yb.Na && (p=n.yb.Na.oa),v={Y:this.zt.Wa.u.id,offset:d.M.Ha(q - this.zt.Wa.u.ba)},n={type:"streamSelected",nativetime:l.default.time.ia(),mediaType:u,streamId:n.id,manifestIndex:n.O.Pb,trackIndex:n.track.zD,streamIndex:n.Lf,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:v,stream:n,manifest:null === (r=n.O) || void 0 === r?void 0:r.ea},h.bb(this.Vs,n.type,n));};m.prototype.Y_b=function(n,p,q){var r,u,v,w,x;r=p.O;u=r.zn;v=this.zt.ck.ze;w=r.rWb(p);x=w.Wua;w=w.sWb;q && p.Gc && !v.tY?(w=g.Zw,p.Qt=g.name[w],this.hbb(n,p.Gc,p.Qt,p.location,p.bitrate),v.tY=p.Gc):!q && p.Gc && p.Gc !== v.tY && (w=w?void 0 === v.tY?g.Zw:u.XQ === g.mia?g.itb:g.Rfa:g.htb,p.Qt=g.name[w],this.hbb(n,p.Gc,p.Qt,p.location,p.bitrate),v.tY=p.Gc);v.yP || (w={type:"logdata",target:"startplay",fields:{}},this.mh === k.cc?w.fields.alocid=p.location:this.mh === k.Jb && (w.fields.locid=p.location),h.bb(this.Vs,w.type,w));q && p.location && !v.yP?(w=g.Zw,p.Qt=g.name[w],this.fbb(r.Pb,n,p.location,p.Cva,p.Gc,p.vK,p.Qt,p.xy),v.yP=p.location):!q && p.location && p.location !== v.yP && (w=x?void 0 === v.yP?g.Zw:u.XQ === g.mia?g.Gqb:g.Rfa:g.Fqb,p.Qt=g.name[w],this.fbb(r.Pb,n,p.location,p.Cva,p.Gc,p.vK,p.Qt,p.xy),p.xy=void 0,v.yP=p.location);this.J.hw || (p.Q8a=p.location,p.T8a=p.Gc);};m.prototype.Eba=function(n){n={type:"requestsPruned",requests:n};h.bb(this.Vs,n.type,n);};m.prototype.hbb=function(n,p,q,r,u){var v,w;v=this.mh === k.Jb?"video":"audio";w=f.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:v,server:p,reason:q,location:r,bitrate:u,confidence:w.confidence};w.confidence && (n.throughput=w.Na.oa);this.zt.ck.ze.tY && (n.oldserver=p);h.bb(this.Vs,n.type,n);};m.prototype.fbb=function(n,p,q,r,u,v,w,x){h.bb(this.Vs,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.mh === k.Jb?"video":"audio",location:q,locationlv:r,serverid:u,servername:v,selreason:w,seldetail:x});};m.prototype.ola=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.oF || h.bb(this.Vs,p.type,p);};m.prototype.Bn=function(n){n={type:"managerdebugevent",message:"@" + l.default.time.ia() + ", " + n};h.bb(this.Vs,n.type,n);};m.prototype.zOb=function(n){h.bb(this.Vs,"transportReport",n);};m.prototype.yOb=function(n){h.bb(this.Vs,"mediaRequestComplete",n);};return m;})();b.eOa=a;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wMa=b.wpb=void 0;c=a(0);k=c.__importDefault(a(4));g=a(10);h=a(953);d=a(7);t=(function(){return function(f,l,m,n){this.J=l;this.zt=n;m=d.ii(k.default,m,"[" + f + "]");this.gab=1 === f?l.iba:l.aba;n=k.default.Xp()[f];this.QY=1 === f?l.iZb:l.PYb;this.QY=Math.min(l.YYb * n,this.QY);g.W && m.trace("This pipeline's buffer size ",n,this.QY);this.fZ=(1 === f?l.BB:l.my) || l.fZ;this.Haa=(1 === f?l.hZb:l.OYb) || l.Haa;this.Lma=l.Lma;};})();b.wpb=t;t=(function(f){function l(m,n,p,q){return f.call(this,m,n,p,q) || this;}c.__extends(l,f);l.prototype.n4a=function(m,n,p,q){var r,u,v,w,x,y,z;void 0 === p && (p=!1);void 0 === q && (q=!1);v=this.zt;w=m.O.ay();x=n === v.dd.index;y=n === v.Jd.index;if(!y || x && v.dd.Ca){if(x){z=m.g4a(v.dd);z.eR(v.dd.nC);y && (v.dd.Ca || v.Jd.Ca) && z.ti({start:null === (r=z.Ca) || void 0 === r?void 0:r.start,end:null === (u=v.Jd.Ca) || void 0 === u?void 0:u.end});}else z=m.th(n);}else (z=m.g4a(v.Jd),z.eR(v.Jd.nC));z.$P=n + 1;if(r=h.o5a(v,v.ec))(g.W && v.Bj("getFragmentForRequest pts:",v.ec,"in region:",r,"previous region:",v.fva),h.i1a(v.G,z,r,{KVb:x,QVb:y,YVb:void 0 === v.fva || v.fva !== r.region}));y && (z.b$a(),z.X8b(v.Wa.u));x && z.dwa(!0);x=m.Z.Ly;if(!(z.$P === n || null !== x && void 0 !== x && x.P7a(n) || w || !this.Lma && z.Ca || p && n === v.dd.index + 1 || q && n === v.Jd.index - 1))for((p=q?v.Jd.index - 1:v.Jd.index,++n);n < m.Z.length && n < p && (z.aa < this.gab || z.duration < this.fZ) && (1 === z.stream.Dg.length || this.fEb(m,n));++n){q=m.th(n);if(null === x || void 0 === x?0:x.P7a(n))break;if(h.O7a(v,q))break;if(z.duration + q.duration > this.Haa)break;if(z.aa + q.aa > this.QY)break;z.p6(q);z.$P=n + 1;g.W && v.Bj("getFragmentForRequest: extended fragment startPts:",z.ba,"to duration:",z.duration,"size:",z.aa,"min request size:",this.gab,"max request size:",this.QY,"min request duration:",this.fZ,"max request duration:",this.Haa,"edit:",z.Ca);}g.W && v.Bj("getFragmentForRequest(" + n + ") returning:",z,"stream:",z.stream,"firstRequestInRegion:",z.mra,"lastRequestInRegion:",z.cy,"nextIndex:",z.$P);return z;};l.prototype.fEb=function(m,n){return !m.Dg.some(function(p){return n === p.me;});};return l;})(t);b.wMa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.i1a=b.MVb=b.O7a=b.o5a=void 0;c=a(22);b.o5a=function(k,g){if((k=k.Wa.u.Ey) && 0 !== k.length)return c.Xc(k,function(h){return h.dc.T <= g && g < h.Hd.T;});};b.O7a=function(k,g){return g.index === k.dd.index?!0:(k=k.Wa.u.Ey) && 0 !== k.length?k.some(function(h){h=h.dc;return g.dc.yY(h) && h.lessThan(g.Hd);}):!1;};b.MVb=function(k,g){return g.index === k.Jd.index?!0:(k=k.Wa.u.Ey) && 0 !== k.length?k.some(function(h){h=h.Hd;return g.dc.lessThan(h) && h.yY(g.Hd);}):!1;};b.i1a=function(k,g,h,d){var f,l,m,n,p,q,r,u;k=null === (f=g.Ca) || void 0 === f?void 0:f.start;f=null === (l=g.Ca) || void 0 === l?void 0:l.end;u=l=!1;if((null === d || void 0 === d?0:d.YVb) || (null === d || void 0 === d || !d.KVb) && g.dc.lessThan(h.dc)){if(r=g.$qa(h.dc.T))(r=(null !== (n=null === (m=g.Ca) || void 0 === m?void 0:m.start) && void 0 !== n?n:0) + r.Wi,k=Math.max(null !== k && void 0 !== k?k:0,r));r=h.dc.T;l=!0;}if((null === d || void 0 === d || !d.QVb) && g.Hd.greaterThan(h.Hd)){if(r=g.$qa(h.Hd.T))(r=(null !== (q=null === (p=g.Ca) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + r.Wi,f=Math.min(null !== f && void 0 !== f?f:Infinity,r),g.$P=g.index);r=h.Hd.T;u=!0;}if(void 0 !== k || void 0 !== f)(g.ti({start:k,end:f}),void 0 !== r && (!g.nC || r > g.nC) && g.eR(r));g.U8b(h.region,l,u);};},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.YPa=void 0;c=a(0);k=c.__importStar(a(9));g=a(255);h=a(956);d=a(959);t=a(85);f=a(2);l=a(179);m=a(7);n=a(58);a=(function(p){function q(r,u,v,w,x,y,z,A){var B;B=p.call(this,r) || this;B.J=u;B.G=v;B.Rl=w;B.Zd=x;B.mh=y;B.Bsa=A;B.qkb=!0;B.De=new l.kL(B.G);B.fl=B.G.error.bind(B.G);B.Mb=B.G.warn.bind(B.G);B.Bj=B.G.trace.bind(B.G);B.mVa();B.Qq=null === z || void 0 === z?void 0:z.aE(function(){return B.J6b();},"pruner");return B;}c.__extends(q,p);Object.defineProperties(q.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wa:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Oy:{get:function(){return 0 < this.aC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{FBa:{get:function(){return !this.zM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aC:{get:function(){return this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zt:{get:function(){return this.Ka.Zt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Y4b:{get:function(){return this.De.count;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aV:{get:function(){return this.De.mt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{NV:{get:function(){return this.Ka.complete.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gr:{get:function(){return this.Ka.AZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Roa:{get:function(){return this.Ka.zZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GF:{get:function(){return this.Ka.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ln:{get:function(){return void 0 === this.Ka.Ad?0:this.Ka.$e - this.Ka.Ad;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wo:{get:function(){return {aa:this.Ka.VD,T:Math.max(this.Ka.AZa - this.Ka.Ad,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PN:{get:function(){return this.Ka.LFb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{VD:{get:function(){return this.Ka.VD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Is:{get:function(){return this.Ka.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iF:{get:function(){return this.Tvb();},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sxa:{get:function(){return this.Ka.LUb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{a$:{get:function(){return this.Ka.length > this.Ka.Zt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wq:{get:function(){return this.Ka.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$Wb:{get:function(){return this.Ka.B2b;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{K8a:{get:function(){return this.aUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xcb:{get:function(){return this.Ka.length - this.Km;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});q.prototype.yd=function(){var r,u;u=this.Ka;setTimeout(function(){u.forEach(function(v){v.abort();v.Yc();});},1);this.mVa();this.De.m8();null === (r=this.Qq) || void 0 === r?void 0:r.xb();};q.prototype.reset=function(){this.yd();this.De.lfb();};q.prototype.close=function(){this.De.m8();};q.prototype.mgb=function(){this.KSa=!0;};q.prototype.Hsa=function(){return {endMarked:void 0 !== this.De.count,queueCount:this.De.count,isComplete:this.De.mt,itemCount:this.De.BZa,continuousEndPts:this.De.Tn().reduce(function(r,u){return u && !u.done && (u=u.value,100 > Math.abs(u.xra - r) || -1 === r)?u.AOb:r;},-1),sentinelItemCount:this.De.Tn().filter(function(r){return r && r.done;}).length,processedCount:this.De.lKb,rc:this.aC};};q.prototype.y_a=function(r,u,v){var w;w=this.J;f.assert(!r.header);r=r.Scc?new d.oEa(v,w,u.track,r,this.Ka,this.G):g.B1.create(v,w,u.track,r,this.Ka,!1,this.G,this.Bsa);r.za(this);this.Ju(r);return r;};q.prototype.lBb=function(r){var u;r.za(this);r.o6=!0;this.Ju(r);u=Promise.resolve();r.complete?(this.fka(r),this.Rl.ibb(r.stream,r.Ad,r.Zc),u=this.Fea(),this.qv(r)):(r.active && this.IO(r),r.jza && this.rE(r));return u;};q.prototype.Ju=function(r){var u,v;this.Ka.Ar(r);(null === (u=this.Qq) || void 0 === u?void 0:u.state) === n.bo.complete && (null === (v=this.Qq) || void 0 === v?void 0:v.Rk());this.fka(r);r.Oo && (this.zM=!1);};q.prototype.Tx=function(){return this.De.Jra();};q.prototype.joa=function(){this.Km === this.Ka.length && this.KSa && this.De.m8();};q.prototype.Fea=function(){var r,u,v,w,A;r=this;v=Promise.resolve();w=this.Zd;if(!w.nP(this.mh) || this.Km === this.Ka.length)return v;for(var x=this.J.aZb,y=0,z=[];this.Km < this.Ka.length;){if(u=this.Ka.get(this.Km)){if(this.Ka.M2a && this.Ka.M2a.Ua < u.Ua)break;if(!u.kt())break;z.push(u);++y;k.Ja(this.Ad) || (this.Ad=u.Ad);}++this.Km;if(!k.na(x) && y >= x)break;}if(z.length){void 0 !== this.De.count && (this.fl("tryToAtach() but requestQueue has sentinel:",this.De.count),this.De.lfb());if(this.qkb)v=Promise.all(z.map(function(B){return r.De.enqueue(B).then(function(){return r.U9(B);});}));else for(u=0;u < z.length;u++){try{A=z[u];w.FRb(this.mediaType).HKb(A);this.U9(A);}catch(B){return (this.Km-=z.length - u,Promise.reject(B));}}this.joa();}return v;};q.prototype.U9=function(r){this.aUa=r;this.V2a(r);};q.prototype.PU=function(r,u){var v,w,x;v=this;w=[];if(0 !== this.Ka.Zt){x=this.Ka.qcb;this.Ka.Vbc.ABa(function(y){if(!k.na(r) && y.O.Pb !== r || y.Oo || x > y.Ad)return !0;y.nv && (v.zM=!1);if(!v.t4(y))return (v.Mb("request abort failed:",y.toString()),!0);w.unshift(y);});this.Dla();w.length && "function" === typeof u && u(w);}};q.prototype.x_=function(){this.Dla();};q.prototype.J6b=function(){var r,u,v,w,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ka.length)return [3,3];r=this.Ka.get(0);u=m.M.Ha(null !== (y=null === (x=this.J.hR) || void 0 === x?void 0:x.T) && void 0 !== y?y:0);v=u.add(r.Qc);return [4,n.Zh.Yy(v)];case 2:z.Eb();if(1 >= this.Ka.complete.length && !r.Oo)return [3,3];f.assert(r === this.Ka.get(0));r.Pe || this.t4(r);w=this.Ka.splice(0,1);0 < this.Km && this.Km--;this.Rl.Eba(w);return [3,1];case 3:return [2];}});};q.prototype.i_=function(r,u){var v,w,x,y,z,A;v=this;w=this.J;x=!1;y=0;z=this.Ka.some(function(B){if(r < B.$e)return (x && v.fka(B),!0);++y;B.Pe || (v.Mb("pruning unappended request:",B && B.toString()),w.Ni && v.Rl.Bn("prune pts:" + r + " unappended request:" + (B && B.toString())),B.nv && (v.zM=!1,x=!0),v.t4(B,u) || v.fl("MediaRequest.abort error:",B.Xg));});if(0 < y){A=this.Ka.splice(0,y);this.Km-=Math.min(y,this.Km);this.Rl.Eba(A);}return z;};q.prototype.G9=function(r){var u,v,w;void 0 === r && (r={OV:null,tQ:null,Ad:null,mj:0,In:0,Ae:0,Z:[]});u=this.J;v=this.Ka;k.Ja(v.Ad) && (null === r.Ad || v.Ad < r.Ad) && (r.Ad=v.Ad);w=this.gr;void 0 !== w && null === r.OV && (r.OV=w);w=v.$e;void 0 !== w && (null === r.tQ || w > r.tQ) && (r.tQ=w);r.mj+=v.mj;r.In+=v.In;r.Ae=u.rBa?r.Ae + v.oeb:r.Ae + v.VD;Array.prototype.unshift.apply(r.Z,v.Eb.Z);return r;};q.prototype.mv=function(r){if(this.Ka.length && (r=this.Ka.x2a(r)))return r;};q.prototype.Xzb=function(r){var u,v,w;v=r.Hd;r=r.Zc;f.assert(v,"expected contentEndTimestamp to be defined");f.assert(void 0 !== r,"expected contentStartPts to be defined");r=this.Ka.Wqa(r);w=this.Ka.get(r);f.assert(w && void 0 !== w.Zc && void 0 !== w.Ec && void 0 !== w.index,"expected existing request to be defined with properties");if(null === (u=w.Hd) || void 0 === u?0:u.equal(v))return (this.$Va(r),[w.Ec,w.index + 1]);this.$Va(r - 1);return [w.Zc,w.index];};q.prototype.ym=function(){var r,u;r=this;u=[];this.Ka.forEach(function(v){var w;w=v.WCa();1 === w?u.push(v):2 === w && r.Wa.O.If("swapUrl failure");});return u;};q.prototype.JJ=function(r){r.LE && r.kt() && this.Fea();this.rE(r);};q.prototype.hm=function(r){var u,v;r.LE && !r.Pe && this.Fea();(null === (u=this.Qq) || void 0 === u?void 0:u.state) === n.bo.complete && (null === (v=this.Qq) || void 0 === v?void 0:v.Rk());this.qv(r);};q.prototype.Pma=function(r){var u,v,w;u=1 === this.mh?"v_":"a_";v=this.Ka;w=v.EO(r);r=0 <= w?v.get(w):void 0;return (v=0 <= w && w + 1 < v.length?v.get(w + 1):void 0) && r?r.$e !== v.Ad?u + "rg":r.complete && v.complete?u + "uk":u + "fd":u + "rm";};q.prototype.Tvb=function(){return this.Ka.Wq + this.Ka.Zt;};q.prototype.mVa=function(){var r,u,v;u=void 0 !== this.Ka && 0 < this.Ka.length;v=this.Ka;this.Ka=new h.jEa(this.G,this);this.Km=0;this.De.clear();this.aUa=void 0;this.Ad=null;null === (r=this.Qq) || void 0 === r?void 0:r.Rk();this.KSa=this.zM=!1;u && (r=v.map(function(w){return w;}),this.Rl.Eba(r));};q.prototype.fka=function(r){this.zM?r.nv && r.dwa(!1):(r.nv || r.dwa(!0),this.zM=!0);};q.prototype.$Va=function(r){var u;for(r+=1;r < this.aC;r++){u=this.Ka.get(r);f.assert(u,"expected request to exist");this.De.remove(u);u.aborted || (this.t4(u),u.Yc());}this.Dla();};q.prototype.t4=function(r,u){if(!r.abort())return !1;"function" === typeof u && u(r);return !0;};q.prototype.Dla=function(){var r,u,v,w;r=this;if(0 !== this.Ka.length){v=[];w=0;this.Ka.P4b(function(x,y){y < r.Km && ++w;v.push(x);});this.Km-=w;null === (u=this.Qq) || void 0 === u?void 0:u.Rk();this.Rl.Eba(v);}};return q;})(t.Ew);b.YPa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.gEa=void 0;c=a(0);k=a(62);g=c.__importDefault(a(28));t=c.__importDefault(a(4));h=a(7);d=a(2);f=a(256);l=a(73);m=a(249);n=a(114);p=t.default.ns;a=(function(q){function r(u,v,w,x,y,z,A,B){var C;x=q.call(this,u,w,x,z,A,B) || this;y=l.Zk.prototype.toString.call(x) + (y?"(cache)":"");B={offset:w.offset,aa:w.Qwa + 8,responseType:0};x.push(new m.eS(u,v,y + "(moof)",B,x,z,A));B={offset:w.offset + B.aa,aa:w.aa - B.aa,responseType:p.Kc && !p.Kc.H_.uT?0:1};if(x.mediaType === g.default.$a.Jb && x.Ca){if(0 < x.Ca.start){C=x.C2a(x.Ca.start);C && (B.offset=w.offset + C,B.aa=w.aa - C);}x.Ca.end < x.Px && (C=x.C2a(x.Ca.end)) && (B.aa-=w.aa - C);}x.push(new m.eS(u,v,y + "(mdat)",B,x,z,A));return x;}c.__extends(r,q);r.prototype.kt=function(){return !this.Pe && ! !this.Ka.length && this.Ka.every(function(u){return u.kt();});};r.prototype.NH=function(u){var v,w,x,y,z,A,B,C;if(this.Pe)return {status:n.uj.Jw};if(!this.kt())return {status:n.uj.Yf};v=!1;w=this.Ka[0].response;x=w.slice(0,w.byteLength - 8);y=new DataView(w);w=y.getUint32(x.byteLength);d.assert("mdat" === k.VG(y.getUint32(x.byteLength + 4)));z=this.Ca && 0 < this.Ca.start;y=this.Ca && this.Ca.end < this.Px;if(this.Ca && (z || y)){if(z)(A=new k.Qw(this.G,this.stream,x),B=A.Heb(this.Ca.start,this.U));if(y && !1 !== B){A=new k.Qw(this.G,this.stream,B?h.Tu(B.ta):x);C=A.xza(this.Ca.end - this.Ca.start,this.U);}if(x=y?C:B)(v=u.appendBuffer(h.Tu(x.ta),h.fy(this)),B && (d.assert(void 0 !== B.Pr),d.assert(void 0 !== B.HQ),w-=B.Pr),C && (d.assert(void 0 !== C.Pr),d.assert(void 0 !== C.HQ),w-=C.Pr,B && d.assert(void 0 !== B.Pr)));A=this.Eza();}else v=u.appendBuffer(x,h.fy(this));v && (v=u.appendBuffer(k.FP(w - 8),h.fy(this))) && (v=u.appendBuffer(this.Ka[1].response,h.fy(this)));this.Pe=v;this.Z5b();return {status:v?n.uj.Jw:n.uj.Yf,Kk:A};};r.prototype.toString=function(){return "ID: " + this.Ri() + ":" + q.prototype.toString.call(this);};return r;})(f.jL);b.gEa=a;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jEa=void 0;c=a(0);a(2);k=a(957);t=a(35);g=a(958);h=a(74);d=a(85);f=a(247);a=(function(l){function m(n,p){var q,r;q=this;r=[new g.A1(n),new g.A1(n),new g.A1(n)];q=l.call(this,r,function(u){return u.complete?q.empty || u.Ua <= q.MFb?0:1:u.active?1:2;}) || this;r=c.__read(r,3);q.Di=r[0];q.Ne=r[1];q.Fu=r[2];q.Rq=0;q.Sja=0;q.G=n;q.Yd=p;return q;}c.__extends(m,l);Object.defineProperties(m.prototype,{aa:{get:function(){return this.Di.aa + this.Ne.aa + this.Fu.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vbc:{get:function(){return this.Fu;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.Di;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oeb:{get:function(){return this.Rq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{VD:{get:function(){return this.Di.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mj:{get:function(){return this.Di.aa + this.Ne.aa - this.Rq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wbc:{get:function(){return this.Fu.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{In:{get:function(){return this.aa - this.Rq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{first:{get:function(){return this.POb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jj:{get:function(){return this.ICb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fqa:{get:function(){return !this.Di.empty || this.Fu.empty || this.Ne.empty?this.first:this.Ne.Ua < this.Fu.Ua?this.Ne.first:this.Fu.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y8a:{get:function(){return this.Fu.empty || this.Ne.empty?this.jj:this.Ne.fb < this.Fu.fb?this.Fu.jj:this.Ne.jj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{M2a:{get:function(){return this.Fu.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ua:{get:function(){return this.fqa && this.fqa.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fb:{get:function(){return this.Y8a && this.Y8a.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qj:{get:function(){return this.first && this.first.qj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{LFb:{get:function(){return this.Di.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{LUb:{get:function(){return this.Ec - this.zZa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{MFb:{get:function(){return this.Di.empty?this.Ua:this.Di.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zZa:{get:function(){return this.Di.empty?this.Zc:this.Di.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{AZa:{get:function(){return this.Di.empty?this.Ad:this.Di.$e;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{B2b:{get:function(){return this.Ne.jj || this.Di.jj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qcb:{get:function(){return this.Ne.$e || this.Di.$e;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zt:{get:function(){return this.Fu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wq:{get:function(){return this.Ne.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{CZa:{get:function(){return this.Di.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Eb:{get:function(){return this.Di.concat(this.Ne);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ss:{get:function(){return this.Og;},enumerable:!1,configurable:!0}});m.prototype.eM=function(n){var p;n.aborted?++this.Sja:this.Rq+=n.bytesReceived || 0;if(this.empty)this.Og=new f.EC(this,{});else if(n.Ua !== this.fb)if(n.Ua > this.Og.fb)this.Og.V_(this.Og.fb);else if(n.Ua < this.Ua || n.Ua === this.Og.fb){p=n.fb;this.oOb(function(q,r){return q.Ua - r.Ua;},function(q){p=q.Ua === p?q.fb:p;});p === Math.max(this.fb,n.fb)?this.Og.Boa():this.Og.V_(p);}n.XAa(this);};m.prototype.Yz=function(n){n.aborted?--this.Sja:this.Rq-=n.bytesReceived;this.empty?this.Og=void 0:n.Ua !== this.fb && n.fb <= this.Og.fb && n.Ua > this.Og.Ua && this.Og.V_(n.Ua);n.bZa();};m.prototype.push=function(n){this.eM(n);return l.prototype.push.call(this,n);};m.prototype.shift=function(){var n;n=l.prototype.shift.call(this);n && this.Yz(n);return n;};m.prototype.pop=function(){var n;n=l.prototype.pop.call(this);n && this.Yz(n);return n;};m.prototype.unshift=function(n){this.eM(n);return l.prototype.unshift.call(this,n);};m.prototype.Ar=function(n){this.eM(n);l.prototype.Ar.call(this,n);};m.prototype.remove=function(n){if(!l.prototype.remove.call(this,n))return !1;this.Yz(n);return !0;};m.prototype.splice=function(n,p){for(var q=[],r=2;r < arguments.length;r++){q[r - 2]=arguments[r];}r=l.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.eM.bind(this));r.forEach(this.Yz.bind(this));return r;};m.prototype.P4b=function(n){var p;p=this;this.reduce(function(q,r,u){r.aborted && (n && n(r,u,p),0 === q.length || q[0].end !== u?q.unshift({start:u,end:u + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};m.prototype.Wqa=function(n){return this.y2a(function(p){return p.Wqa(n);});};m.prototype.EO=function(n){return this.y2a(function(p){return p.EO(n);});};m.prototype.x2a=function(n){n=this.EO(n);return -1 !== n?this.get(n):void 0;};m.prototype.Z7b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};m.prototype.KB=function(n){this.move(n);this.IO(n);};m.prototype.KJ=function(n){this.Rq+=n.bytesReceived - n.Dt;this.CI(n);};m.prototype.hm=function(n){for(this.Rq+=n.bytesReceived - n.Dt;this.Ne.first && this.Ne.first.complete && (this.Di.empty?this.Ne.first === this.fqa:this.Ne.first.Ua === this.Di.fb);){this.r9b();}this.qv(n);};m.prototype.DZ=function(n,p,q){this.Rq-=n.bytesReceived;++this.Sja;this.HO(n,p,q);};m.prototype.Uba=function(n,p){this.Ne.dcc(n.aa - p);this.vra(n,p);};return m;})(k.SFa);b.jEa=a;t.Je(d.Ew,a,!1);t.Je(h.eu,a);t.Je(h.bz,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SFa=void 0;c=a(0);a(2);t=(function(){function k(g,h){this.ud=g;this.pM=h;this.Tz();}Object.defineProperties(k.prototype,{length:{get:function(){return this.Bf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.Bf;},enumerable:!1,configurable:!0}});k.prototype.POb=function(){return this.jh && this.jh.get(0);};k.prototype.ICb=function(){return this.kM && this.kM.get(this.kM.length - 1);};k.prototype.get=function(g){0 > g && (g+=this.length);for(var h=0;h < this.ud.length;++h){if(this.Hi[h + 1] > g)return this.ud[h].get(g - this.Hi[h]);}};k.prototype.push=function(g){this.ud[this.pM(g)].push(g);this.Tz();return this.Bf;};k.prototype.shift=function(){var g;if(this.jh){g=this.jh.shift();this.Tz();return g;}};k.prototype.pop=function(){var g;if(this.kM){g=this.kM.pop();this.Tz();return g;}};k.prototype.unshift=function(g){this.ud[this.pM(g)].unshift(g);this.Tz();return this.Bf;};k.prototype.Ar=function(g){var h;h=this.pM(g);this.ud[h].Ar(g);this.Tz();};k.prototype.remove=function(g){var h;h=this.ud.some(function(d){return d.remove(g);});h && this.Tz();return h;};k.prototype.splice=function(g,h){var q,r,u,v;for(var d,f=[],l=2;l < arguments.length;l++){f[l - 2]=arguments[l];}l=[];for(var m,n=g + Math.max(0,h),p=0;p < this.ud.length;++p){q=this.ud[p];r=this.Hi[p];u=this.Hi[p + 1];if(g < u){v=g - r;r=Math.min(n - r,q.length);void 0 === m && 0 < v && r < q.length?Array.prototype.push.apply(l,q.splice.apply(q,c.__spread([v,r - v],f))):(Array.prototype.push.apply(l,q.splice(v,r - v)),void 0 === m && (m=0 < p && 0 === v?p - 1:p));g=u;if(g >= n)break;}}if(f.length && void 0 !== m){for(n=this.pM(f[0]);0 < m && n < m && this.ud[m].empty;){--m;}for(;f.length && n === m;){this.ud[m].push(f.shift());if(!f.length)break;n=this.pM(f[0]);}for(;f.length && ++m < this.ud.length && this.ud[m].empty;){for(;f.length && n === m;){this.ud[m].push(f.shift());if(!f.length)break;n=this.pM(f[0]);}}f.length && (d=this.ud[m]).splice.apply(d,c.__spread([0,0],f));}this.Tz();return l;};k.prototype.find=function(g){var h,d;h=this;return this.ud.some(function(f,l){d=f.find(h.xD(g,l));return void 0 !== d;})?d:void 0;};k.prototype.findIndex=function(g){var d;for(var h=0;h < this.ud.length;++h){d=this.ud[h].findIndex(this.xD(g,h));if(-1 !== d)return d + this.Hi[h];}return -1;};k.prototype.indexOf=function(g){var d;for(var h=0;h < this.ud.length;++h){d=this.ud[h].indexOf(g);if(-1 !== d)return d + this.Hi[h];}return -1;};k.prototype.map=function(g){var h,d;h=this;d=this.ud.map(function(f,l){return f.map(h.xD(g,l));});return Array.prototype.concat.apply([],d);};k.prototype.reduce=function(g,h){var d;d=this;return this.ud.reduce(function(f,l,m){return l.reduce(d.Szb(g,m),f);},h);};k.prototype.forEach=function(g){var h;h=this;this.ud.forEach(function(d,f){d.forEach(h.xD(g,f));});};k.prototype.K8=function(g){for(var h=this.ud.length - 1;0 <= h;--h){this.ud[h].K8(this.xD(g,h));}};k.prototype.some=function(g){var h;h=this;return this.ud.some(function(d,f){return d.some(h.xD(g,f));});};k.prototype.ABa=function(g){for(var h=this.ud.length - 1;0 <= h;--h){if(this.ud[h].ABa(this.xD(g,h)))return !0;}return !1;};k.prototype.every=function(g){var h;h=this;return this.ud.every(function(d,f){return d.every(h.xD(g,f));});};k.prototype.oOb=function(g,h){var n,p;function d(q){return q.reduce(function(r,u,v,w){return void 0 === u?r:void 0 === r?v:0 > g(u,w[r])?v:r;},void 0);}for(var f=this,l=this.ud.map(function(){return 0;}),m=this.ud.filter(function(q){return q.empty;}).length;m < this.ud.length;){n=l.map(function(q,r){return q < f.ud[r].length?f.ud[r].get(q):void 0;});p=d(n);h(n[p],this.Hi[p] + l[p],this);++l[p];l[p] === this.ud[p].length && ++m;}};k.prototype.move=function(g){return this.remove(g)?(this.Ar(g),!0):!1;};k.prototype.r9b=function(){var g;if(this.ud[1].length){g=this.ud[1].shift();this.ud[0].push(g);this.Tz();}};k.prototype.y2a=function(g){for(var h=-1,d=0;d < this.ud.length;++d){if((h=g(this.ud[d]),-1 !== h)){h+=this.Hi[d];break;}}return h;};k.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};k.prototype.Tz=function(){var h;this.Bf=0;this.Hi=[0];this.kM=this.jh=void 0;for(var g=0;g < this.ud.length;++g){h=this.ud[g];this.Bf+=h.length;this.Hi.push(this.Hi[this.Hi.length - 1] + h.length);!this.jh && h.length && (this.jh=h);h.length && (this.kM=h);}};k.prototype.xD=function(g,h){var d,f;d=this;f=this.Hi[h];return function(l,m){return g(l,f + m,d);};};k.prototype.Szb=function(g,h){var d,f;d=this;f=this.Hi[h];return function(l,m,n){return g(l,m,f + n,d);};};return k;})();b.SFa=t;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.A1=void 0;c=a(0);k=a(2);t=a(35);g=a(247);a=a(74);h=(function(){function d(f,l){this.Va=[];this.Og=void 0;this.cd=0;this.G=f;l && l.length && (Array.isArray(l)?(this.Va=l.slice(),this.FT(0,this.Va.length)):l instanceof d && (this.Va=l.Va.slice(),this.FT(0,this.Va.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jj:{get:function(){return this.Va[this.Va.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ua:{get:function(){return this.first && this.first.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fb:{get:function(){return this.jj && this.jj.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ss:{get:function(){return this.Og;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aa:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qj:{get:function(){return this.first && this.first.qj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Z:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});d.prototype.dcc=function(f){this.cd+=f;};d.prototype.yCb=function(){var f;if(0 === this.Va.length)(k.assert(void 0 === this.Og),k.assert(0 === this.cd));else {k.assert(this.Og instanceof g.EC);k.assert("number" === typeof this.cd);k.assert(void 0 !== this.Ss && this.Ss.Ua === this.Ua);f=this.Va.reduce(function(l,m,n){return 0 === n || m.Ua === l?m.fb:l;},0);k.assert(this.Ss.fb === f);k.assert(this.Va.reduce(function(l,m,n){return 0 === n || m.Ua === l?m.fb:l;},0) === this.Ss.fb);k.assert(this.Va.reduce(function(l,m){return l + m.aa;},0) === this.cd);}};d.prototype.get=function(f){0 > f && (f+=this.Va.length);return this.Va[f];};d.prototype.push=function(f){this.Va.push(f);this.FT(this.Va.length - 1);return this.length;};d.prototype.unshift=function(f){this.Va.unshift(f);this.FT(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Va.length)return (this.Hla(this.Va.length - 1),this.Va.pop());};d.prototype.shift=function(){if(0 !== this.Va.length)return (this.Hla(0),this.Va.shift());};d.prototype.splice=function(f,l){for(var m,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Va.length);0 > f && (f=0);f > this.Va.length && (f=this.Va.length);if(void 0 === l || 0 > l)l=0;l=Math.min(l,this.Va.length - f);0 < l && this.Hla(f,f + l);p=(m=this.Va).splice.apply(m,c.__spread([f,l],n));0 < n.length && this.FT(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,l){void 0 === f && (f=0);void 0 === l && (l=this.Va.length);0 > f && (f+=this.Va.length);if(f >= this.Va.length)return new d(this.G);l > this.Va.length && (l=this.Va.length);0 > l && (l+=this.Va.length);return new d(this.G,this.Va.slice(f,l));};d.prototype.Ar=function(f){if(0 === this.Va.length || f.Ua >= this.fb)this.push(f);else if(f.fb <= this.Ua)this.unshift(f);else {for(var l=0,m=this.Va.length - 1,n;l < m - 1;){n=Math.floor((m + l) / 2);k.assert(n !== m && n !== l);f.Ua >= this.Va[n].fb?l=n:m=n;}k.assert(l !== m);k.assert(this.Va[l].fb <= f.Ua && this.Va[m].Ua >= f.fb);this.splice(m,0,f);}};d.prototype.remove=function(f){f=this.Va.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}f=f.map(function(m){return m.Va;});return new d(this.G,Array.prototype.concat.apply(this.Va,f));};d.prototype.forEach=function(f){var l;l=this;this.Va.forEach(function(m,n){return f(m,n,l);});};d.prototype.some=function(f){var l;l=this;return this.Va.some(function(m,n){return f(m,n,l);});};d.prototype.every=function(f){var l;l=this;return this.Va.every(function(m,n){return f(m,n,l);});};d.prototype.map=function(f){var l;l=this;return this.Va.map(function(m,n){return f(m,n,l);});};d.prototype.reduce=function(f,l){var m;m=this;return this.Va.reduce(function(n,p,q){return f(n,p,q,m);},l);};d.prototype.indexOf=function(f){return this.Va.indexOf(f);};d.prototype.find=function(f){var l,m;l=this;return this.Va.some(function(n,p){m=p;return f(n,p,l);})?this.Va[m]:void 0;};d.prototype.findIndex=function(f){var l,m;l=this;return this.Va.some(function(n,p){m=p;return f(n,p,l);})?m:-1;};d.prototype.filter=function(f){var l;l=this;return new d(this.G,this.Va.filter(function(m,n){return f(m,n,l);}));};d.prototype.K8=function(f){for(var l=this.Va.length - 1;0 <= l;--l){f(this.Va[l],l,this);}};d.prototype.ABa=function(f){for(var l=this.Va.length - 1;0 <= l;--l){if(f(this.Va[l],l,this))return !0;}return !1;};d.prototype.Wqa=function(f){if(this.empty || f < this.Zc || f >= this.Ec)return -1;for(var l=0,m=this.Va.length - 1,n;m > l;){n=Math.floor((m + l) / 2);if(f >= this.Va[n].Zc && f < this.Va[n].Ec){m=n;break;}f < this.Va[n].Ec?m=n - 1:l=n + 1;}return m;};d.prototype.EO=function(f){if(this.empty || f < this.Ad || f >= this.$e)return -1;for(var l=0,m=this.Va.length - 1,n;m > l;){n=Math.floor((m + l) / 2);if(f >= this.Va[n].Ad && f < this.Va[n].$e){m=n;break;}f < this.Va[n].$e?m=n - 1:l=n + 1;}return m;};d.prototype.x2a=function(f){f=this.EO(f);return 0 <= f?this.Va[f]:void 0;};d.prototype.c6=function(f){var l;l=this.Va[f].fb;for(f+=1;f < this.Va.length && l === this.Va[f].Ua;++f){l=this.Va[f].fb;}f < this.Va.length?void 0 === this.Og?this.Og=new g.EC(this,{fb:l}):this.Og.V_(l):void 0 === this.Og?this.Og=new g.EC(this,{}):this.Og.Boa();};d.prototype.eM=function(f,l){for(var m=f;m < l;++m){this.cd+=this.Va[m].aa;}void 0 === this.Og || 0 === f?this.c6(0):this.Og.fb === this.fb?this.c6(f - 1):this.Va[f].Ua === this.Og.fb && this.c6(f);};d.prototype.Yz=function(f,l){var m;if(0 === f)(this.Og=void 0,l < this.length && this.c6(l));else {m=this.Og;m.fb > this.Va[f - 1].fb && (l < this.length?m.V_(this.Va[f - 1].fb):m.Boa());}for(;f < l;++f){this.cd-=this.Va[f].aa;}};d.prototype.FT=function(f,l){void 0 === l && (l=f + 1);this.eM(f,l);};d.prototype.Hla=function(f,l){void 0 === l && (l=f + 1);this.Yz(f,l);};return d;})();b.A1=h;t.Je(a.eu,h);t.Je(a.bz,h);},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.oEa=void 0;c=a(0);k=a(62);a(2);c.__importDefault(a(4));g=a(7);h=a(256);d=a(73);f=a(249);l=a(114);m=[0,0];(function(p){p[p.INIT=0]="INIT";p[p.Lqb=1]="MDAT";})(n || (n={}));t=(function(p){function q(r,u,v,w,x,y){r=p.call(this,r,w,x,u,y) || this;r.rvb=v;r.sTa=n.INIT;r.Kjc=w.offset;r.bla=d.Zk.prototype.toString.call(r) + " multiple";r.lwb="AseMultiFragmentMediaRequest(" + r.Zc + "-" + r.Ec + ")";r.TE=w.TE;r.cTa=0;r.N4=0;v=Math.max(m[r.mediaType],1024);r.B5=v;r.XM(w.offset,v,0);return r;}c.__extends(q,p);Object.defineProperties(q.prototype,{data:{get:function(){return this.Jm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aa:{get:function(){return this.B5;},enumerable:!1,configurable:!0}});q.prototype.hm=function(r){var u,v,w,x;switch(this.sTa){case n.INIT:this.Jm=void 0 === this.Jm?r.response:g.Tu(this.Jm,r.response);r.Wca();(u=new DataView(this.Jm),v=this.Ivb(u,this.cTa,this.N4),w=v.size);u=v.offset;x=v.CDb;v.Y2a?(v=u + w - this.N4,m[this.mediaType]=Math.max(u + 8,m[this.mediaType]),this.XM(r.offset + r.aa,v,1),this.sTa=n.Lqb):(this.cTa=u,v=Math.max(x,256),this.XM(r.offset + r.aa,v,0));u=this.B5;this.B5+=v;h.jL.prototype.Uba.call(this,this,u);}h.jL.prototype.hm.call(this,r);};q.prototype.NH=function(r){var u;if(this.Pe)return {status:l.uj.Jw};if(!this.kt())return {status:l.uj.Yf};if(!r.appendBuffer(this.Jm,g.fy(this)))return (this.G.error(this.lwb,"appendTo failed to append array"),{status:l.uj.Yf});u=this.Ka[this.Ka.length - 1];this.Pe=r.appendBuffer(u.response,g.fy(u));return {status:this.Pe?l.uj.Jw:l.uj.Yf};};q.prototype.XM=function(r,u,v){r=new f.eS(this.stream,this.rvb,this.bla + " (" + this.Ka.length + ")",{I:this.I,mediaType:this.mediaType,Qa:this.Qa,bitrate:this.bitrate,offset:r,aa:u,location:this.location,ye:this.ye,responseType:v,TE:this.TE},this,this.Qe,this.G);this.push(r);this.N4+=u;};q.prototype.Ivb=function(r,u,v){var w,x;for(;;){w=r.getUint32(u);x=r.getUint32(u + 4);if("mdat" === k.VG(x))return {Y2a:!0,size:w,offset:u};if(u + w >= v)return {Y2a:!1,size:-1,offset:u,CDb:u + w - v + 8};u+=w;}};return q;})(h.jL);b.oEa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RQa=void 0;c=a(407);k=a(20);t=(function(){function g(h,d){this.Ah=h;this.console=d;this.lH=Infinity;this.OT=this.C5=0;this.OVa=!1;}g.prototype.C6b=function(){this.OVa=!0;};g.prototype.NNb=function(h,d,f,l,m){var n;if(this.Ah){n=h.Z;if(n){if(1 === f)(f=n.kn(Math.ceil(this.Ah * h.ka.UJ),void 0,!0),n=h.th(f),h=n.ev.Dk(h.ka),n.ti({start:0,end:this.Ah - f * h}),this.lH=this.Ah);else {void 0 !== l.whb?(d=l.whb,f=d * h.ka.T):(f=c.xsa(l,m) + Math.ceil(l.rCb * h.ka.UJ),k.M.Ha(f).Dk(h.ka),f=d + f,d=Math.ceil(f / h.ka.UJ));f=n.kn(f,void 0,!0);for(m=l=0;m < f;++m){n=h.th(m);l+=n.ev.Dk(h.ka);}l=d - l;n=h.th(f);n.ti({end:l});this.lH=d;}n.b$a();return n;}}};g.prototype.MUb=function(h){this.OT+=h.efb;this.console.warn("StallAtFrameCount, adding frames: " + h.efb,"total frames: " + this.OT,"needed frames: " + this.lH);};g.prototype.wTb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.C5,"needed: " + this.lH);return this.C5 >= this.lH;};g.prototype.vTb=function(){return this.OT >= this.lH;};g.prototype.OUb=function(h,d){this.C5+=this.WA(h,d);};g.prototype.CMb=function(h,d,f){h.efb=this.WA(d,f);};g.prototype.WA=function(h,d){return h.ev.Dk(d.ka);};g.prototype.vA=function(){if(!this.vTb())return !1;if(this.OVa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.OT + " >= " + this.lH);return !0;};return g;})();b.RQa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.uja=void 0;t=a(0);c=t.__importStar(a(9));k=t.__importDefault(a(28));g=t.__importDefault(a(4));h=a(22);d=a(14);f=a(253);l=a(962);m=new g.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.va[d.va.dh],d.va[d.va.sd],d.va[d.va.$f],d.va[d.va.Jc],d.va[d.va.Eh],"checkBuffering"];p={first:a(964),random:a(965),optimized:a(181).default,generic:a(967).default,roundrobin:a(975),selectaudio:a(417),selectaudioadaptive:a(976),"default":a(181).default,lowest:a(977),highest:a(978),throughputthreshold:a(979),replay:a(980).default,checkdefault:a(982),testscript:a(983)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var b70;b70=2;for(;b70 !== 6;){switch(b70){case 2:r.prototype.BAa=function(u,v,w,x,y,z,A){var e70,H,R,O,f70,J,B,C,D,F,G,E,I,L,M,S,K,P;e70=2;for(;e70 !== 67;){switch(e70){case 25:this.ze.xgb(k.default.L2.dh);e70=24;break;case 40:w || (M.IA=void 0);e70=39;break;case 56:M.s3b=null !== (D=null === (C=null === (B=g.default.emc) || void 0 === B?void 0:B.call(g.default)) || void 0 === C?void 0:C[1 === u.mediaType?1:0]) && void 0 !== D?D:-1;M.Wq=u && u.Wq;M.Yt=G;e70=76;break;case 74:e70=f70 === d.va.sd?73:72;break;case 71:e70=f70 === d.va.Jc?24:70;break;case 64:M.N3b=S;e70=63;break;case 61:v=w.Z;M.Bk=v && void 0 !== z && !isNaN(z) && 0 <= z && z < v.length?v.ak(z):F.ec;M.v0b=P && P.Na && P.Na.oa || 0;M.Nna=F.Ak - F.mc;M.hYa=F.Ae;e70=56;break;case 19:I=0 < I?I - 1:0 === I?0:v.length - 1;e70=18;break;case 49:e70=u.mO?48:75;break;case 7:this.ze.W_(I);e70=6;break;case 44:x=M.bf - 1;e70=43;break;case 4:e70=c.na(I) && u.state === d.va.Jc && (L=!0,void 0 !== this.ze.Po)?3:6;break;case 53:var Q2X="min_frag";Q2X+="ment_v";Q2X+="m";Q2X+="af";M.reason && (w.Qt=M.reason,Q2X !== M.reason && (w.zAa=M.Fv,w.iB=M.iB,w.Zp=M.Zp,w.$p=M.$p));this.dcb && (M.qy=this.dcb.wRb({MD:F.Ak - F.mc,pDb:F.Ae || 0,oDb:F.fr || 0,mc:F.mc,jYb:v[0],Kf:w,Lcc:v[M.bf + 1] || w,gbc:v[v.length - 1],af:u.state,playbackRate:u.playbackRate,me:u.me,S8:A}));e70=51;break;case 38:return null;break;case 42:y=v[x];e70=41;break;case 6:(H=F.Z,R=H.length);e70=14;break;case 13:O=H[R - 1].Qa;I=h.oo(v,function(U){var h70;h70=2;for(;h70 !== 1;){switch(h70){case 4:return U.Qa == O;break;h70=1;break;case 2:return U.Qa === O;break;}}});e70=11;break;case 18:c.na(I) && (I=this.ze.S8a);void 0 !== x && this.zya(v,! !u.qt,u.state,u.buffer,x);u.state === d.va.dh && c.Ja(I) && (u.state=d.va.sd);u.state !== d.va.dh && void 0 === I && (u.state=d.va.dh);e70=27;break;case 22:e70=M.Kf && (M.IA=[],v.forEach(function(U,T){var j70;j70=2;for(;j70 !== 5;){switch(j70){case 2:U === M.Kf?M.bf=T:(E.OLb && (!U.Z || !U.Z.length) || U.m0) && M.IA.push(U.Qa);U.m0=!1;j70=5;break;}}}),!M.IA.length)?21:39;break;case 33:e70=E.mhb && x > E.aZ?32:40;break;case 72:e70=f70 === d.va.$f?73:71;break;case 11:e70=!(0 <= I)?10:18;break;case 14:e70=0 < R?13:18;break;case 30:y=v[x];e70=29;break;case 27:f70=u.state;e70=f70 === d.va.dh?26:74;break;case 37:void 0 === M.dab?this.ze.W_(M.bf):this.ze.W_(M.dab);w=v[M.bf];M.XZ=w.Na || 0;e70=53;break;case 73:this.ze.xgb(k.default.L2.dh);e70=24;break;case 39:e70=!M || null === M.bf?38:37;break;case 69:e70=68;break;case 68:var X2X="Stream select";X2X+="or";X2X+=" cal";X2X+="led with invalid player state ";return (m.error(X2X + d.va[u.state]),null);break;case 10:J=H[R - 1].bitrate;I=h.oo(v,function(U){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:return U.bitrate > J;break;}}});e70=19;break;case 21:x=F.Ak - F.mc;y=void 0;w=!1;e70=33;break;case 43:e70=0 <= x?42:40;break;case 31:e70=x < v.length?30:28;break;case 63:M.ec=F.ec;z=u && u.me;e70=61;break;case 29:y.Z && y.Z.length || (w=!0,M.IA.push(y.Qa));e70=28;break;case 46:e70=P && z && 0 < z.length?45:63;break;case 70:e70=f70 === d.va.Eh?24:69;break;case 26:this.gla=this.cla=void 0;e70=25;break;case 76:M.IF=g.default.time.ia();e70=75;break;case 51:var j2X="p";j2X+="layin";j2X+="g";c.Ja(I) && w.bitrate < v[I].bitrate && (this.cla=F.ec);u.state !== d.va.Jc && u.state !== d.va.Eh?(v=f.sca(u.state),z=this.vA(u.buffer,v,u.playbackRate,w,z),(M.hf=z.complete)?M.W6=z.reason:(M.hf=!1,M.jK=z.jK,M.VE=z.VE,M.progress=z.progress)):(M.hf=!0,M.W6=j2X);e70=49;break;case 2:(F=null === u || void 0 === u?void 0:u.buffer,G=g.default.time.ia(),E=this.J,I=this.ze.S8a,L=!1);c.Ja(I) && u.state === d.va.dh && (this.ze.W_(void 0),I=void 0);c.Ja(I) && I >= v.length && (this.ze.W_(void 0),I=void 0);e70=4;break;case 32:a000.j9X(5);var V31=a000.X9X(31,13,19);x=M.bf + V31;e70=31;break;case 24:M=this.fh[d.va[u.state]].call(this,E,u,v,I,x,! !y,L,w);M.af=u.state;e70=22;break;case 45:S=[];z.forEach(function(U){var k70,T;k70=2;for(;k70 !== 4;){switch(k70){case 2:T=U.stat;T=(U=P[U.filter]) && U[T];S.push(isNaN(T)?-1:T);k70=4;break;}}});e70=64;break;case 3:K=this.ze.Po.bitrate;I=h.oo(v,function(U){var g70;g70=2;for(;g70 !== 1;){switch(g70){case 4:return U.bitrate >= K;break;g70=1;break;case 2:return U.bitrate > K;break;}}});I=0 < I?I - 1:0 === I?0:v.length - 1;e70=7;break;case 75:return M;break;case 41:y.Z && y.Z.length || (w=!0,M.IA.push(y.Qa));e70=40;break;case 48:P=w.yb;z=E.kVa;e70=46;break;case 28:e70=!w?44:40;break;}}};r.prototype.vA=function(u,v,w,x,y){var l70;l70=2;for(;l70 !== 1;){switch(l70){case 2:return this.fh.checkBuffering.call(this,u,v,w,x,y,this.J);break;}}};b70=5;break;case 3:r.prototype.K8=function(u,v){var p70,w;p70=2;for(;p70 !== 3;){switch(p70){case 2:a000.j9X(11);var W31=a000.X9X(681,9,19,4,17);w=u.length - W31;p70=1;break;case 1:p70=0 <= w?5:3;break;case 8:w=u.length * 0;p70=4;break;p70=1;break;case 5:v(u[w],w,u);p70=4;break;case 4:--w;p70=1;break;}}};Object.defineProperties(r.prototype,{jaa:{get:function(){var q70;q70=2;for(;q70 !== 1;){switch(q70){case 2:return this.cla;break;case 4:return this.cla;break;q70=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{rva:{get:function(){var r70;r70=2;for(;r70 !== 1;){switch(r70){case 2:return this.gla;break;}}},enumerable:!1,configurable:!0}});return r;break;case 5:r.prototype.G$b=function(u,v,w){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:c.na(v)?this.cla=this.gla=void 0:v.bitrate < w.bitrate && (this.gla=u);m70=1;break;}}};r.prototype.zya=function(u,v,w,x,y){var n70,z,A;n70=2;for(;n70 !== 5;){switch(n70){case 2:this.K8(u,function(B){var o70;o70=2;for(;o70 !== 1;){switch(o70){case 2:B.Kv && B.yb && B.yb.confidence?(z !== B.yb && (z=B.yb,v && B.yb && (B.yb.qt=!0),A=y(B.yb,x,w,B.track.O.yt[0])),B.Na=Math.floor(A.lower) || 1,B.Nac=Math.floor(A.upper || 1) || 1):B.Na=void 0;o70=1;break;}}});n70=5;break;}}};b70=3;break;}}function r(u,v,w,x){var c70,y;c70=2;for(;c70 !== 6;){switch(c70){case 5:var h2X="1SI";h2X+="YbZrNJ";h2X+="Cp9";this.J=v;this.ze=w;h2X;u=u || this.J.QBa;this.fh=n.reduce(function(z,A){var d70;d70=2;for(;d70 !== 5;){switch(d70){case 2:z[A]=((p[u] || p[q[A]])[A] || p[q[A]][A]).bind(y);return z;break;}}},{});x && (this.dcb=new l.gNa(v));c70=6;break;case 2:y=this;this.YQ=u;c70=5;break;}}}})();b.uja=a;},function(t,b,a){var r,u;function c(v){return l(v.Kf);}function k(v,w){var x,y;x=v.yac;x=p(w) + x * q(w);w=w.Na || 0;y=0;0 < w && (y=x / w - 1);return v.XZb + v.xac * Math.max(0,y);}function g(v,w){var x,y,z,A;if(!w || "object" !== typeof w)return 0;x=v.Kf;y=v.Lcc;z=v.gbc;A={selectedFragmentBitrate:f(v.S8,x,v.me) * v.playbackRate,selectedPeakBitrate:(x.jy || m(x) || 0) * v.playbackRate,upswitchPeakBitrate:(y.jy || m(y) || 0) * v.playbackRate,maxPeakBitrate:(z.jy || m(z) || 0) * v.playbackRate,selectedAverageBitrate:m(x) * v.playbackRate,upswitchAverageBitrate:m(y) * v.playbackRate,maxAverageBitrate:l(x) * v.playbackRate,bufferLevelMs:v.MD,observedThroughput:n(v.Kf) || 0,averagetp:p(v.Kf) || 0,stddevtp:q(v.Kf) || 0};v=w.offset || 0;return Object.keys(A).reduce(function(B,C){return B + (w[C] || 0) * A[C];},v);}function h(v,w,x){var z;function y(A,B){return void 0 !== A && 0 < A.filter(function(C){return C === B;}).length;}z=v.filter(function(A){return y(A.tca,w);});0 === z.length && (z=v.filter(function(A){return !A.tca || 0 === A.tca.length;}));v=z.filter(function(A){return y(A.Fab,x);});0 === v.length && (v=z.filter(function(A){return !A.Fab || 0 === A.Fab.length;}));return v.sort(function(A,B){return A.X6 - B.X6;});}function d(v,w){var x,A,B;x=h(w.V5b,v.af,v.Kf.yb.confidence);if(0 === x.length)return 0;a:switch(w.g2b){case "implicit":w=k(w,v.Kf);w=v.MD / w;break a;case "capacityPercentage":w=Math.max(v.pDb / v.oDb || 0,v.MD / w.hq);break a;default:w=0;}for(var y=-1,z=0;z < x.length;z++){if(x[z].X6 >= w){y=z;break;}}if(-1 === y)return g(v,x[x.length - 1].Loa);if(0 === y)return g(v,x[0].Loa);A=x[y - 1].X6;z=g(v,x[y - 1].Loa);B=x[y].X6;v=g(v,x[y].Loa);x=Math.min((w - A) / (B - A),1);return (1 - x) * z + x * v;}function f(v,w,x){var y;return void 0 !== x && w.Z?(void 0 === v?null === (y=w.Z) || void 0 === y?void 0:y.get(x).yna:v.n4a(w,x).yna) || w.jy || 0:w.jy || 0;}function l(v){var w,x;x=null === (w=null === v || void 0 === v?void 0:v.O) || void 0 === w?void 0:w.yt;return x?x[v.mediaType] || 0:0;}function m(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function n(v){var w;v=v.yb;return (null === (w=null === v || void 0 === v?void 0:v.Na) || void 0 === w?void 0:w.oa) || 0;}function p(v){var w;v=v.yb;return (null === (w=null === v || void 0 === v?void 0:v.cn) || void 0 === w?void 0:w.SH) || 0;}function q(v){var w;v=v.yb;return Math.sqrt(null === (w=null === v || void 0 === v?void 0:v.cn) || void 0 === w?void 0:w.OR) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.sRb=b.NPb=b.DQb=b.gNa=void 0;t=a(0).__importDefault(a(4));r=a(963);new t.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");u={maxStreamBitrate:c,"static":function(v,w){return w.t$b;},none:function(){return 0;},regression:d,epsGreedy:function(v,w){return Math.min(d(v,w) || 0,n(v.Kf));},"default":c};a=(function(){var s70;s70=2;for(;s70 !== 4;){switch(s70){case 2:v.prototype.Yra=function(w,x,y){var u70,z;u70=2;for(;u70 !== 8;){switch(u70){case 1:u70=!y?5:4;break;case 2:u70=1;break;case 4:a000.h9X(12);x=Math.ceil(a000.X9X(y,x));w=(this.J.gZa.$mc || 0) * ((null === (z=w.jYb) || void 0 === z?void 0:z.jy) || 0);return x < w?0:x;break;case 5:return 0;break;}}};v.prototype.wRb=function(w){var v70,x,y,z;v70=2;for(;v70 !== 6;){switch(v70){case 2:(x=new r.pia({iC:0,BA:0,XB:0}),y=this.J.gZa);v70=1;break;case 1:v70=!y?5:4;break;case 5:return x;break;case 4:z=this.J.Ubc;v70=3;break;case 3:v70=z && w.me && 0 === w.me % z || w.MD < y.$E?9:8;break;case 9:return x;break;case 8:x=this.algorithm(w,this.J);return new r.pia({iC:this.Yra(w,x,y.Vdb[0]),XB:this.Yra(w,x,y.Vdb[2]),BA:this.Yra(w,x,y.Vdb[1])});break;}}};return v;break;}}function v(w){var t70;t70=2;for(;t70 !== 4;){switch(t70){case 2:var J2X="d";J2X+="ef";J2X+="aul";J2X+="t";var v2X="1SIYbZrNJC";v2X+="p";v2X+="9";this.J=w;v2X;this.algorithm=(u[this.J.e2b] || u[J2X]).bind(this);t70=4;break;}}}})();b.gNa=a;b.DQb=k;b.NPb=h;b.sRb=n;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pia=void 0;c=a(0);t=(function(){function k(g){this.iC=g.iC;this.BA=g.BA;this.XB=g.XB;}Object.defineProperties(k.prototype,{Wdb:{get:function(){return [this.iC,this.BA,this.XB];},enumerable:!1,configurable:!0}});k.prototype.hab=function(){return Math.min(this.iC,this.BA,this.XB);};k.prototype.T$=function(){return this.Wdb.some(function(g){return 0 < g;});};k.prototype.kAa=function(g){return new k({iC:g * this.iC,BA:g * this.BA,XB:g * this.XB});};k.prototype.hwa=function(g,h,d,f){var l;l=8 * g / Math.max(d - h,1);if(!this.T$())return !1;g=this.Wdb.map(function(m){return Math.abs(l - m) / m;});return Math.min.apply(Math,c.__spread(g)) < f;};return k;})();b.pia=t;},function(t,b,a){var k,g,h,d;function c(f,l,m,n){if(k.na(n))f=g(m);else if(h(m[n]))f=n;else if((f=g(m,n),0 > f))return null;return new d(f);}k=a(9);b=a(29);g=b.fra;h=b.hJ;d=b.up;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var k;function c(g,h,d){g=d.map(function(f,l){return f.Kv?l:null;}).filter(function(f){return null !== f;});return g.length?new k(g[Math.floor(Math.random() * g.length)]):null;}k=a(29).up;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);c.__importStar(a(9));k=a(29);b.default=function(g){var O94=a000;var w70,G,E,L,B,C,D,F,I,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A;w70=2;for(;w70 !== 54;){switch(w70){case 23:w70=v < F?22:38;break;case 40:G=h;w70=39;break;case 35:(f=m,v+=C[E],++E,h=B[E],m+=h);w70=21;break;case 41:g && n.push(h / (A / 1E3));w70=40;break;case 19:0 === p && (f=0);O94.j9X(1);f*=O94.Q9X(A,1E3);O94.j9X(1);p*=O94.X9X(A,1E3);O94.j9X(1);y*=O94.X9X(A,1E3);w70=15;break;case 32:O94.h9X(0);h=O94.X9X(f,p);w70=31;break;case 33:return (g && n.push(h / (A / 1E3)),c.__assign({result:!1,KY:h / (A / 1E3),ov:!1},g && ({Y6:n})));break;case 22:G=Math.max(F,u);w70=21;break;case 42:w70=q >= r && h > D?36:41;break;case 44:(v+=C[E],++E,m+=B[E]);w70=28;break;case 7:l=Infinity;(G=0,E=0);h=h.ae[0];O94.j9X(13);m=O94.Q9X(1E3,h,A,m);w70=12;break;case 25:F=C[q];L=B[q];w70=23;break;case 27:O94.j9X(1);D*=O94.X9X(A,1E3);w70=26;break;case 3:d=Math.min(h.length,d);(B=h.ae,C=h.sizes,D=l - f,F=8 * n / w | 0);n=[];w70=7;break;case 26:w70=q < d?25:36;break;case 31:O94.h9X(14);f+=O94.Q9X(0,I,F,w);p+=L;w70=29;break;case 36:return c.__assign({result:!0,KY:l / (A / 1E3),ov:!0},g && ({Y6:n}));break;case 43:++q;w70=42;break;case 34:w70=!z && (h=p - f,h < y)?33:32;break;case 15:O94.j9X(1);x*=O94.X9X(A,1E3);w70=27;break;case 39:l=Math.min(h,l);w70=26;break;case 28:w70=m < f && E < q?44:43;break;case 12:var H2X=" >= fragmentsLeng";H2X+="t";H2X+="h: ";var i2X="S";i2X+="t";i2X+="reamingIndex: ";O94.j9X(15);w=O94.X9X(8,w,0);O94.h9X(1);I=O94.Q9X(A,1E3);q >= d && k.console.error(i2X + q + H2X + d);f+=F;w70=19;break;case 2:var W2X="1SIYbZrN";W2X+="J";W2X+="Cp9";(h=g.Z,d=g.blocks,f=g.mc,l=g.Ak,m=g.W9b,n=g.mj,p=g.ec,q=g.me,r=g.eOb,u=g.rW,v=g.k3a,w=g.Na,x=g.bba,y=g.$E,z=g.tWb);g=g.PLb;W2X;A=h.U;w70=3;break;case 29:v-=F;w70=28;break;case 37:return (g && n.push(h / (A / 1E3)),c.__assign({result:!1,KY:Math.min(h,l) / (A / 1E3),ov:!0},g && ({Y6:n})));break;case 21:w70=v < G?35:34;break;case 38:w70=(h=Math.max(p - f,0),h < x && h < G)?37:31;break;}}};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});t=a(416);c=a(413);a=a(968);b.default={STARTING:t.AAa,BUFFERING:c.UQ,REBUFFERING:c.UQ,PLAYING:a.ap,PAUSED:a.ap};},function(t,b,a){var g,h,d,f,l,m,n,p;function c(q,r,u){var v,w;v=r.length - 1;q=Math.min(v,q);w=r[q].cb;q=Math.min(q + 1,v);if(w)for((u=w + u,w=q);w <= v;w++){r[w].cb <= u && (q=w);}return q;}function k(q){var u;for(var r=q.length - 1;0 <= r;r--){u=q[r];if(u.Z)return u;}return null;}Object.defineProperties(b,{__esModule:{value:!0}});b.ap=void 0;g=a(0);g.__importDefault(a(29));h=a(29);d=a(969);f=a(970);l=a(971);m=a(972);n=a(973);p=a(974);b.ap=function(q,r,u,v,w,x,y,z){var B,C,D,F,G,E,O,J,M,P,S,U,T,W,ia;function A(pa,wa){var za,Ca,N,Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a,Bb;za=pa.toa;if(!za[wa]){Ca=u[wa];N=pa.eYa;Q=pa.YXa;V=S[pa.Dda.length];ca=0;sa=0;Ha=0;Ja=0;Na=Ca && Ca.Z;Oa=1;!Na && D && (Na=D && D.Z,Oa=Ca.bitrate / D.bitrate);if(Na){Ua=Na.kn(pa.ec);$a=Na.length - 1;for(N=N.qh();Ua <= $a && Ja < V;){for(var sb=0,kb=0;Ua <= $a && kb <= F;){sb+=Math.round(Oa * Na.vBa(Ua));kb+=Na.ae(Ua);Ua++;}Bb=d.Pra(G,N,sb,kb);Q=n.sBa(Q,Bb[1],H,U,T,O,sb,kb,E);sa+=Q[1];Q=Q[0];Ha+=Q.length;ca++;Ja+=kb;(Bb=Bb[0]) && N.PMb(Bb);N.BBb(sb,kb);}}ca=g.__read([N,Q,ca,Ha,sa,Ja],6);N=ca[0];V=ca[1];ca=ca[5];Ca=pa.jib + Ca.cb * ca;sa=pa.iib + ca;Ha=l.HZa(V,M,P || Infinity);Ja=l.GZa(Ca / sa,Ha,J);za[wa]={eYa:N,YXa:V,ec:pa.ec + ca,jib:Ca,iib:sa,qq:Ja,meb:Ha,low:Math.max(0,wa - 1),jj:wa,high:Math.min(W,wa + 1),Dda:pa.Dda.concat(wa),toa:[]};ia++;}return za[wa].qq;}w=new h.up();C=u[v || 0];D=k(u);if(null === D)return (w.Kf=C,w);F=q.fZ;x=q.$7b;y=r.buffer;G={nDb:y.fr,hq:q.hq,tJ:q.tJ,eZb:8388608};E=Math.max(1,r.playbackRate);q=x.tkc;r=q.min;for(var I=q.max,L=q.step,K=q.scale,H=[0],R=q=0;R < I - r;(R=R * K + L,q++)){H.push(R + r);}O=x.accuracy;J=x.uoc;M=x.voc;P=x.Onc;S=x.ifa;q=x.search;z=m.Y3a(C || D,x.Tpc,x.ilc,z);U=z[0];T=z[1];C=new p.fFa(y.Z,[]);r=y.ec;I=[[r - y.mc,1]];z="bitonic" === q;if(y=y.In)(q=d.Pra(G,C,y,0)[1],I=n.sBa(I,q,H,U,T,O,y,0,E)[0]);W=c(v || 0,u,x.qnc);ia=0;v=[{eYa:C,YXa:I,ec:r,jib:0,iib:0,qq:0,meb:0,jj:v,low:0,high:W,Dda:[],toa:[]}];for(y=0;y < S.length;y++){C=[];for(q=0;q < v.length;q++){r=v[q];if(z)f.p$a(A,r,r.low,r.jj,r.high);else for(I=r.low;I <= r.high;I++){A(r,I);}C=C.concat(r.toa.filter(function(pa){return null !== pa;}));}C.sort(function(pa,wa){var za;za=wa.qq - pa.qq;if(za)return za;wa=wa.jj - pa.jj;return 0 === pa.qq?-wa:wa;});v=C.slice(0,x.Lnc);}x=v[0];C=u[x.Dda[0]];null !== (B=C.Z) && void 0 !== B && B.length || (C.m0=!0);w.Kf=C;w.r0b=x.meb;return w;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pra=void 0;b.Pra=function(a,c,k,g){var h,d,f,l,m,n,p;g=a.hq - g;h=a.nDb;d=c.YP;f=0;if(k < h && 0 < g){l=c.Ae;m=c.XK;n=0;if(l + k > h){for(;f < d && l + k > h;){p=c.th(f);l-=p[0];m-=p[1];f++;}k=a.tJ;if(0 < k)for((a=a.eZb,h=Math.min(f,d - 1),n=c.th(h)[1],l=0,h++,p=c.th(h));h < d && n < k && l + p[0] < a;){l+=p[0];n+=p[1];p=c.th(++h);}}g=Math.min(g,m - n);}else (f=d,g=-1);return [f,g];};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.p$a=void 0;b.p$a=function(a,c,k,g,h){var d;for(g=Math.min(Math.max(k,g),h);k < h;){if(h === k + 1)return a(c,k) >= a(c,h)?k:h;if(h === k + 2)if((g=a(c,k + 1),a(c,k) > g))break;else return a(c,h) >= g?h:k + 1;g === h?g--:g === k && g++;d=a(c,g);if(d >= a(c,g + 1)){if(d > a(c,g - 1))return g;h=g - 1;}else k=g + 1;g=Math.round(k + (h - k) / 2);}return k;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GZa=b.HZa=void 0;b.HZa=function(a,c,k){var f;for(var g=0,h=0,d=a.length;h < d;h++){f=a[h][0] - c;g+=a[h][1] * (0 >= f?1:Math.exp(-k * f));}return g;};b.GZa=function(a,c,k){return Math.pow(1 - c,k) * a;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Y3a=void 0;c=a(379);b.Y3a=function(k,g,h,d){var f,l,m,n;f=k.yb;if((f=f && f.cn) && 0 < f.oa){l=h * f.oa + 8 * (1 - h) / Math.max(1,f.SH);k=f.ee;}else (l=8 / (k.Na || 1),k=1E-6);m=d / 8;n=new c.PS(l,k / g);return [function(p,q){p+=m * q;return l * p;},function(p,q,r){p+=m * q;return 0 < p?(q=n.EYa(r / p),q[1]*=p,q):[1,0];}];};},function(t,b){function a(c,k,g,h){var d;for(;g < h;){d=g + h >> 1;c[d] > k?h=d - 1:g=d + 1;}return c[g] > k?g - 1:g;}Object.defineProperties(b,{__esModule:{value:!0}});b.sBa=void 0;b.sBa=function(c,k,g,h,d,f,l,m,n){var x,y,E,I;for(var p=[],q=0,r=0,u=0,v=0,w=c.length;v < w;v++){x=c[v];y=Math.min(x[0],k);x=x[1];q+=x;for(var z=1 - f,A=0,B=0,C=0,D,F=a(g,y + m,0,g.length - 1),G=F;0 <= F && B < z;){B=g[F];B <= m && (B=m,F=0);E=d(l,m,y + m - B);u++;B=E[0];D=B - A;if(D > f){A=E[1];C=(A - C) / D;I=y + m - n * C;E=a(g,I,F,G) + 1;C=p[E] || [0,0];D*=x;I*=D;r+=I;C[0]+=I;C[1]+=D;p[E]=C;C=A;A=B;}F--;}D=1 - A;0 < D && (C=(h(l,m) - C) / D,I=y - n * C,0 <= I && (I+=m),E=a(g,I,0,G) + 1,C=p[E] || [0,0],D*=x,I*=D,r+=I,C[0]+=I,C[1]+=D,p[E]=C);}k=c=0;f*=q;g=[];h=p.length;for(v=0;v < h;v++){if(C=p[v])(d=C[1],d >= f?g.push(C):(c+=d,k+=C[0]));}if(h=g.length)for(v=0;v < h;v++){C=g[v];c && (C[0]+=k / h,C[1]+=c / h);C[0]/=C[1];C[1]/=q;}else g=[[r / q,1]];return [g,u];};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fFa=void 0;t=(function(){function a(c,k){var g,h,d;g=0;h=0;this.IW=0;this.Zma=c;this.Uda=k;if(c=c.length + k.length)for(k=0;k < c;k++){d=this.th(k);g+=d[0];h+=d[1];}this.YP=c;this.Ae=g;this.XK=h;}a.prototype.th=function(c){var k,g;c+=this.IW;k=this.Zma;g=k.length;return c < g?(c=k[c],[c.aa,1E3 * (c.fb - c.Ua) / c.U]):this.Uda[c - g];};a.prototype.PMb=function(c){var d;for(var k=this.Ae,g=this.XK,h=0;h < c;h++){d=this.th(h);k-=d[0];g-=d[1];}this.IW+=c;this.YP-=c;this.Ae=k;this.XK=g;};a.prototype.qh=function(){var c;c=new a([],[]);c.Zma=this.Zma;c.Uda=this.Uda.slice(0);c.IW=this.IW;c.Ae=this.Ae;c.XK=this.XK;c.YP=this.YP;return c;};a.prototype.BBb=function(c,k){this.Uda.push([c,k]);this.Ae+=c;this.XK+=k;this.YP++;};return a;})();b.fFa=t;},function(t,b,a){var k,g,h,d;function c(f,l,m){var n,p;n=this.ela;l=l.buffer.ec;p="forward" === f.p7b;if(k.na(n))return (n=p?g(m):g(m,m.length),this.fla=l,this.ela=n,new d(n));h(m[n]) || (n=g(m,n),this.fla=l,this.ela=n);if(0 > n)return null;if(l > this.fla + f.Qac){f=m.map(function(q,r){return q.Kv?r:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?n=(f.indexOf(n) + 1) % f.length:(n=f.indexOf(n) - 1,0 > n && (n=f.length - 1));this.ela=f[n];this.fla=l;return new d(f[n]);}return new d(n);}k=a(9);b=a(29);g=b.fra;h=b.hJ;d=b.up;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){(function(){var x70,g,h,d,f,l,m,n,p,q,r;x70=2;function c(u,v){var y70,w;y70=2;for(;y70 !== 4;){switch(y70){case 2:w=void 0;v.some(function(x){var z70,y;z70=2;for(;z70 !== 4;){switch(z70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(u)) && (w=x.override);return y;break;}}});return w;break;}}}for(;x70 !== 4;){switch(x70){case 2:var P2X="1SIYbZ";P2X+="rN";P2X+="J";P2X+="C";P2X+="p9";(g=a(9),h=a(29),d=h.console,f=h.debug,l=h.assert,m=a(86),n=h.hJ,p=h.up,q=a(417),r=a(14).va);t.exports={STARTING:function(u,v,w,x){var E70,y,z;E70=2;for(;E70 !== 7;){switch(E70){case 2:(y=u,z=w[x || 0].Te);E70=1;break;case 5:var M2X="sel";M2X+="ectAudioStreamStarting: overriding config wi";M2X+="th ";(y={minInitAudioBitrate:u.eZ,minHCInitAudioBitrate:u.cZ,maxInitAudioBitrate:u.PY,minRequiredAudioBuffer:u.gba},f && d.log(M2X + JSON.stringify(z)),m(z,y));E70=4;break;case 9:var U2X=" kbps,";U2X+=" ";U2X+="profile";U2X+=" :";var s2X="s";s2X+="electAu";s2X+="dioStreamStarting: selected stream :";f && d.log(s2X + w.bitrate + U2X + w.Te);return u;break;case 1:E70=(z=u && u.wR && 0 <= u.wR.indexOf(z)?c(z,u.vib):c(z,u.uCb))?5:4;break;case 4:u=q[r[r.dh]](y,v,w,x);w=w[u.bf];E70=9;break;}}},BUFFERING:k,REBUFFERING:k,PLAYING:k,PAUSED:k};P2X;x70=4;break;}}function k(u,v,w,x){var A70,I,L,E,B,C,D,F,G,y,z,A;A70=2;for(;A70 !== 32;){switch(A70){case 15:(I=this.rva,L=this.jaa);A70=27;break;case 22:var L2X="m";L2X+="s";var b2X=", buf";b2X+="fer";b2X+=" le";b2X+="vel = ";var a2X=", ";a2X+="lastUp";a2X+="switchPts = ";var r2X="  Upswitch";r2X+=" not allowed.";r2X+=" ";r2X+="lastDownswitchPts = ";f && d.log(r2X + L + a2X + I + b2X + E + L2X);A70=21;break;case 19:A70=n(E) && (0 == D || E.bitrate * v.playbackRate * G.S0a < F)?18:17;break;case 11:A70=0 <= D?10:21;break;case 8:A70=A && 1 < A.length?7:21;break;case 26:var V2X=", s";V2X+="tr";V2X+="eamingPt";V2X+="s";V2X+=" = ";var p2X=", lastUpsw";p2X+="itchP";p2X+="ts ";p2X+="= ";var y2X="  Upswi";y2X+="t";y2X+="ch allowed. lastDownswitchPts = ";f && d.log(y2X + L + p2X + I + V2X + C.ec);A70=25;break;case 10:C=A[D];E=w[C];A70=19;break;case 13:A70=D && F < G.S0a * C * v.playbackRate?12:16;break;case 16:var t2X=" ";t2X+="k";t2X+="b";t2X+="p";t2X+="s";var T2X=" kbp";T2X+="s";T2X+=" >";T2X+=" ";var O2X="th";O2X+="r";O2X+="oughput for a";O2X+="udio";O2X+=" ";A70=D < A.length - 1 && F > G.Ojb * C * v.playbackRate && (f && d.log(O2X + F + T2X + G.Ojb + "*" + C + t2X),C=v.buffer,E=C.Ak - C.mc,B.Z && B.Z.length)?15:21;break;case 7:(B=w[x],C=B.bitrate,D=A.indexOf(x),F=B.Na,G=u.vCb);A70=6;break;case 4:return new p(x);break;case 12:var n2X=" kbps";n2X+=", try to downs";n2X+="witch";var S2X=" kb";S2X+="p";S2X+="s ";S2X+="< ";var A2X="throughpu";A2X+="t";A2X+=" fo";A2X+="r audio ";(f && d.log(A2X + F + S2X + G.S0a + "*" + C + n2X),--D);A70=11;break;case 14:z=0;A70=21;break;case 2:var c2X="Must have at least ";c2X+="on";c2X+="e selected stream";l(!g.na(x),c2X);y=w[x].Te;A70=5;break;case 27:A70=v.Cr && E > G.sB && (void 0 === L || Number(I) > L || C.ec - L > G.taa)?26:22;break;case 5:A70=!(u && u.wR && 0 <= u.wR.indexOf(y))?4:3;break;case 17:D--;A70=11;break;case 25:A70=++D < A.length?24:21;break;case 6:A70=0 > D?14:13;break;case 24:A70=(C=A[D],E=w[C],n(E) && F > G.Ojb * E.bitrate * v.playbackRate)?23:25;break;case 18:z=C;A70=21;break;case 3:z=x;u.vib.some(function(K){var B70,H,R,O,J,M,P;B70=2;for(;B70 !== 9;){switch(B70){case 2:(H=K.profiles,R=H && 0 <= H.indexOf(y));B70=1;break;case 4:A=w.filter(function(S){var C70,U;C70=2;for(;C70 !== 5;){switch(C70){case 2:U=S.bitrate;return U >= J && U <= M && 0 <= H.indexOf(S.Te) && U * O / 8 < P;break;}}}).map(function(S){var D70;D70=2;for(;D70 !== 1;){switch(D70){case 4:return S.Lf;break;D70=1;break;case 2:return S.Lf;break;}}});B70=3;break;case 5:(O=(K=K.GZ) && K.gba || u.gba,J=K && K.Anc || -Infinity,M=K && K.HP || Infinity,P=v.buffer.fr);B70=4;break;case 1:B70=R?5:3;break;case 3:return R;break;}}});A70=8;break;case 23:z=C;A70=21;break;case 21:var N2X="kbp";N2X+="s, stre";N2X+="am";N2X+="ingP";N2X+="ts :";var k2X=", audio ";k2X+="thr";k2X+="oughput:";var m2X=" k";m2X+="bps, p";m2X+="rofile :";var R2X="selectAudioStream: sel";R2X+="ected s";R2X+="tream :";var q2X=" k";q2X+="bp";q2X+="s";var Z2X=" k";Z2X+="bps, t";Z2X+="o ";var l2X="s";l2X+="witchin";l2X+="g aud";l2X+="io from";l2X+=" ";var G2X="d";G2X+="o";G2X+="w";G2X+="n";var K2X="u";K2X+="p";F=w[z];z !== x && f && d.log((z > x?K2X:G2X) + l2X + B.bitrate + Z2X + F.bitrate + q2X);f && d.log(R2X + F.bitrate + m2X + y + k2X + F.Na + N2X + v.buffer.ec);return new p(z);break;}}}})();},function(t,b,a){var k;function c(){return new k(0);}a(9);k=a(29).up;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var k;function c(g,h,d){return new k(d.length - 1);}a(9);k=a(29).up;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){(function(){function c(f,l,m,n){var G70,p;G70=2;for(;G70 !== 12;){switch(G70){case 5:l=d(n);G70=4;break;case 7:return (l.bf=n,l);break;case 2:var u2X="player missi";u2X+="ng fr";u2X+="agmentIn";u2X+="dex";var o2X="Must ";o2X+="have at least one sel";o2X+="ected stream";h(!k.na(n),o2X);h(k.Ja(l.me),u2X);G70=5;break;case 4:n=m.length - 1;G70=3;break;case 8:G70=p.yb && p.yb.Na && p.bitrate < p.yb.Na.oa - f.Lac?7:6;break;case 9:p=m[n];G70=8;break;case 3:G70=-1 < n?9:14;break;case 6:--n;G70=3;break;case 14:l.bf=0;return l;break;}}}var F70,k,g,h,d;F70=2;for(;F70 !== 6;){switch(F70){case 7:var I2X="1SI";I2X+="YbZrNJ";I2X+="Cp";I2X+="9";I2X;F70=6;break;case 2:k=a(9);a(28);g=a(29);a(4);(h=g.assert,d=g.up);g=a(181).default;t.exports={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:c,PAUSED:c};F70=7;break;}}})();},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(981);b.default={PLAYING:t.ap,PAUSED:t.ap};},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ap=void 0;t=a(0);c=t.__importStar(a(9));k=t.__importDefault(a(29));g=t.__importDefault(a(181));h=a(73);d=t.__importDefault(a(4));f=k.default.assert;l=k.default.up;b.ap=m;(function(){var H70;H70=2;for(;H70 !== 5;){switch(H70){case 2:var D2X="1";D2X+="SI";D2X+="YbZrN";D2X+="JC";D2X+="p9";b.ap=m=function(n,p,q,r,u,v,w){var I70,K,H,R,C,L,x,y,z,A,B,E,I,O,D,F,G,J;I70=2;for(;I70 !== 66;){switch(I70){case 22:A=q[r];I70=21;break;case 38:L=void 0;C.yb && C.yb.tputTrace && (L=C.yb.tputTrace);(K=[],H=C.Z,R=0);I70=54;break;case 17:I70=n.kMb?16:60;break;case 12:C=y[B].f;I70=11;break;case 29:L=C.yb.tdigest;I.push(L.min);I.push(L.Xba);I.push(L.yl);I.push(L.Vj);I70=41;break;case 11:I70=C === A?10:58;break;case 47:I70=O < H.length?46:65;break;case 19:z.bf=y[A].v7b;I70=18;break;case 58:x=void 0;I70=57;break;case 57:I70=C < A?56:72;break;case 6:a000.h9X(0);B=a000.Q9X(x,A);0 > B && (B=0);B >= y.length && (B=y.length - 1);I70=12;break;case 10:A=B;I70=20;break;case 2:I70=1;break;case 1:var E2X="player missing ";E2X+="fragment";E2X+="Index";var g2X="Must have at least one";g2X+=" selected stre";g2X+="am";f(!c.na(r),g2X);f(c.Ja(p.me),E2X);(y=n.H$b,z=new l(r),A=null !== (x=p.me) && void 0 !== x?x:-1);x=y[0].f;I70=9;break;case 9:B=y[y.length - 1].f;I70=8;break;case 39:I.push(L.max);I70=38;break;case 68:I70=y[B].f < A?73:67;break;case 76:x=B;I70=73;break;case 71:I70=0 <= B?70:73;break;case 73:A=x;I70=20;break;case 70:I70=y[B].f === A?69:68;break;case 20:I70=void 0 !== A?19:59;break;case 30:I70=C.yb && C.yb.tdigest?29:38;break;case 54:I70=void 0 !== H?53:65;break;case 8:I70=A < x || A > B?7:6;break;case 59:return g.default.PLAYING.call(this,n,p,q,r,u,v,w);break;case 55:I70=B < y.length?77:73;break;case 48:O=p.me;I70=47;break;case 65:H=void 0;p.AV && (H=d.default.time.ia() - p.AV);u.push({me:p.me,xpc:H,pnc:R,ikc:E,upc:I,wpc:L,Nna:v,k3a:w,Hkc:K,Tmc:y.bitrate,Umc:null !== (D=y.cb) && void 0 !== D?D:0,Skc:C.bitrate,Tkc:null !== (F=C.cb) && void 0 !== F?F:0,Toc:A.bitrate,Uoc:null !== (G=A.cb) && void 0 !== G?G:0,pt:x});I70=62;break;case 25:w=h.Zk.A_a(p.buffer.Z);w=p.buffer.fr - w.aa;y=q[r];I70=22;break;case 67:B--;I70=71;break;case 34:C=q[B];x=B <= r?!0:!1;(E=void 0,I=[]);C.yb && C.yb.throughput && (E=C.yb.throughput.oa);I70=30;break;case 49:O++;I70=52;break;case 18:z.Kf=q[z.bf];I70=17;break;case 69:x=B;I70=73;break;case 53:O=p.me;I70=52;break;case 46:R+=H.get(O).duration;I70=45;break;case 61:z.vXa=u;I70=60;break;case 56:B+=1;I70=55;break;case 7:return g.default.PLAYING.call(this,n,p,q,r,u,v,w);break;case 35:I70=B < q.length?34:61;break;case 60:return z;break;case 75:I70=y[B].f > A?73:74;break;case 16:u=[];v=p.buffer;v=v.Ak - v.mc;I70=25;break;case 72:--B;I70=71;break;case 77:I70=y[B].f === A?76:75;break;case 62:B++;I70=35;break;case 41:I.push(L.zl);I.push(L.Yba);I70=39;break;case 74:B++;I70=55;break;case 21:B=0;I70=35;break;case 45:O++;I70=47;break;case 51:J=H.get(O);K.push({d:J.duration,b:J.aa});I70=49;break;case 52:I70=O < Math.min(O + n.zCb,H.length)?51:48;break;}}};D2X;H70=5;break;}}})();},function(t,b,a){(function(){var J70,c;J70=2;for(;J70 !== 8;){switch(J70){case 2:a(9);a(28);a(29);c=a(14).Hc;J70=3;break;case 3:var F64="1SI";F64+="YbZ";F64+="rN";F64+="JCp";F64+="9";t.exports={checkBuffering:function(k,g,h,d,f,l){var q94=a000;function m(x){var L70;L70=2;for(;L70 !== 5;){switch(L70){case 2:x=d.Z.E8(k.mc + x,void 0,!0);return (u - k.mj) / (u + (x.offset + x.aa) - v);break;}}}var K70,u,v,n,p,q,r,w;K70=2;for(;K70 !== 37;){switch(K70){case 44:K70=0 < w?43:42;break;case 10:return {complete:!1,jK:q};break;case 27:f=d.Z.kn(k.ec);K70=26;break;case 7:return {complete:!1,VE:!0};break;case 22:K70=g > p * l.z8?21:35;break;case 15:return (g < p && (q=Math.min(r,Math.max(l.m_ * (p / g - 1),q))),{complete:!1,jK:q,progress:0});break;case 20:u=0;k.Z.forEach(function(x){var M70;M70=2;for(;M70 !== 1;){switch(M70){case 2:u+=x.ba + x.duration > k.mc?x.aa:0;M70=1;break;}}});h=Math.max(h,1);p=h * d.bitrate;K70=16;break;case 25:var C64="outofr";C64+="a";C64+="n";C64+="ge";return {complete:!0,reason:C64};break;case 3:K70=n >= r?9:8;break;case 24:v=d.Z.ji(f);K70=23;break;case 40:var Y64="n";Y64+="o";Y64+="r";Y64+="eb";Y64+="uff";return {complete:!0,reason:Y64};break;case 11:K70=!g?10:20;break;case 2:(n=k.Ak - k.mc,p=g === c.$f);g=d.Na || 0;(q=0,r=l.dDa && !p?l.Nv:l.qwa);r=Math.min(l.hq,r);K70=3;break;case 21:var w64="hi";w64+="g";w64+="h";w64+="tp";return {complete:!0,reason:w64};break;case 30:K70=l > f?29:40;break;case 23:K70=n >= q?22:39;break;case 43:return (q=Math.min(r,n + w),{complete:!1,jK:q,progress:m(q)});break;case 16:K70=!d.Z || !d.Z.length?15:27;break;case 35:q=d.Z.ae(f);l=Math.min(f + Math.floor(l.m_ / q),d.Z.length - 1);w=d.Z.ji(l);q94.j9X(0);var Y31=q94.X9X(3,11);q=Y31 * v * h / g - k.mc;K70=31;break;case 39:0 < g && g < p && (q=Math.min(r,Math.max(l.m_ * (p / g - 1),q)));return {complete:!1,jK:q,progress:m(q)};break;case 8:K70=g <= l.Sva && (0 < g || !l.Gqa)?7:6;break;case 29:p=d.Z.get(l);q94.h9X(16);var Z31=q94.Q9X(1112,14,80);w=Z31 * w * h / g - p.ba - q;K70=44;break;case 31:--l;K70=30;break;case 6:q=l.kj * (p?l.iza:1);l.fMb && d.yb && d.yb.Qk && d.yb.Qk.oa > l.Nva && (q+=l.Fma + d.yb.Qk.oa * l.Zxa);f && (q+=f.Zu * l.Gma);q=r?Math.min(r,q):q;K70=11;break;case 9:var e64="m";e64+="a";e64+="xs";e64+="iz";e64+="e";return {complete:!0,reason:e64};break;case 26:K70=-1 === f?25:24;break;case 42:w=p.offset;K70=41;break;case 41:--l;K70=30;break;}}}};F64;J70=8;break;}}})();},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){f=p;l=p.map(function(q,r){return r;});if(null === d)return (m=g(p),d=p[m].bitrate,new h(m));if(!p.length)return null;m=l.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === m?(k.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new h(l[0])):new h(m);}b=a(29);a=a(4).default;k=b.console;g=b.fra;h=b.up;d=null;f=null;l=null;a.xEb && (a.xEb.ck={za:function(){l=f=d=null;},BAa:function(m){d=m;},hmc:function(){return {all:f,pkb:l};}});t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.JQa=void 0;c=a(0);t=c.__importDefault(a(4));k=a(154);g=a(420);new t.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var N70;N70=2;for(;N70 !== 3;){switch(N70){case 1:d.prototype.tPb=function(f,l){var Q70,m,n;Q70=2;for(;Q70 !== 3;){switch(Q70){case 2:(m=this.config,n=l?m.Yoa:m.sna);l=l?m.Zoa:m.una;Array.isArray(l) && (n=g.W1a(l,f.Ak - f.mc,m.tna));return n;break;}}};d.prototype.H9b=function(f,l){var R70;R70=2;for(;R70 !== 3;){switch(R70){case 2:l=this.Io(f,l);f=! !f.qt;this.config.fCa && l < this.config.QV && (f=!0);return f;break;}}};return d;break;case 2:c.__extends(d,h);N70=1;break;}}function d(f,l){var O70,m;O70=2;for(;O70 !== 3;){switch(O70){case 4:return m;break;case 2:var f64="1SIYb";f64+="Z";f64+="r";f64+="NJCp9";m=h.call(this,f,l) || this;m.VJ=function(n,p,q,r){var P70,u;P70=2;for(;P70 !== 8;){switch(P70){case 2:r=null !== r && void 0 !== r?r:m.HP;u=m.Io(n,q);n=m.H9b(n,q);p=u?u * (100 - m.tPb(p,n)) / 100 | 0:0;p=m.G0a(p,r);return {lower:p,upper:p * m.config.$Ca};break;}}};f64;O70=4;break;}}}})(k.FC);b.JQa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XQa=void 0;c=a(0);t=a(154);t=(function(k){function g(h,d){var T70,f;T70=2;for(;T70 !== 3;){switch(T70){case 2:var z64="1";z64+="SIY";z64+="bZ";z64+="r";z64+="NJCp9";f=k.call(this,h,d) || this;f.VJ=function(l){var U70,V70,m;U70=2;for(;U70 !== 10;){switch(U70){case 8:U70=!l.cn || !l.cn.SH?4:7;break;case 12:var d64="a";d64+="ve";d64+="ra";d64+="g";d64+="etp";U70=V70 === d64?8:11;break;case 4:return m;break;case 13:return (m=Math.sqrt(l.cn.OR || 0),{lower:l.Na.oa + f.config.KBa * m,upper:l.Na.oa + f.config.LBa * m});break;case 3:m=Math.sqrt(l.cn.ee || 0);U70=9;break;case 6:return {lower:l.cn.SH + f.config.KBa * m,upper:l.cn.SH + f.config.LBa * m};break;case 11:var B64="e";B64+="w";B64+="m";B64+="a";U70=V70 === B64?14:4;break;case 7:m=Math.sqrt(l.cn.OR || 0);U70=6;break;case 14:U70=l.cn && l.cn.OR?13:4;break;case 1:var x64="del";x64+="i";x64+="v";x64+="eryt";x64+="ime";V70=f.config.v$b;U70=V70 === x64?5:12;break;case 9:return {lower:8 / (l.cn.oa + f.config.KBa * m),upper:8 / (l.cn.oa - f.config.LBa * m)};break;case 5:U70=!l.cn || !l.cn.oa?4:3;break;case 2:m={lower:l.Na.oa,upper:void 0};U70=1;break;}}};z64;return f;break;}}}var S70;S70=2;for(;S70 !== 5;){switch(S70){case 2:c.__extends(g,k);return g;break;}}})(t.FC);b.XQa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UFa=void 0;c=a(0);k=a(14);t=a(154);g=a(419);a=(function(h){var W70;W70=2;function d(f,l){var X70,m;X70=2;for(;X70 !== 9;){switch(X70){case 2:m=h.call(this,f,l) || this;m.VJ=function(n,p,q,r){var Y70,Z70;Y70=2;for(;Y70 !== 11;){switch(Y70){case 4:var Q64="de";Q64+="l";Q64+="iveryt";Q64+="im";Q64+="e-ci";p=n[Q64];Y70=3;break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || n.Na.oa,upper:(null === p || void 0 === p?void 0:p.high) || r};break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || n.Na.oa,upper:(null === p || void 0 === p?void 0:p.high) || r};break;case 14:Y70=7;break;case 13:Y70=12;break;case 1:return m.zYb.VJ(n,p,q,r);break;case 9:Y70=q === k.va.dh?8:6;break;case 2:Y70=m.iBa(q)?1:5;break;case 5:var X64="de";X64+="liveryti";X64+="me-ci";Z70=m.config.woa;Y70=Z70 === X64?4:13;break;case 3:r=m.config.$Ca * n.Na.oa;Y70=9;break;case 6:Y70=q === k.va.sd?8:14;break;case 12:var j64="throu";j64+="gh";j64+="put-ci";p=n[j64];Y70=3;break;}}};m.zYb=new g.Oha(f,l);X70=4;break;case 4:var h64="1S";h64+="I";h64+="YbZrNJ";h64+="Cp9";h64;return m;break;case 13:"";return m;break;X70=9;break;}}}for(;W70 !== 5;){switch(W70){case 2:c.__extends(d,h);return d;break;}}})(t.FC);b.UFa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=void 0;t=(function(){function a(c,k,g,h,d,f,l,m){this.Wa=c;this.ZXa=k;this.config=g;this.console=h;this.mediaType=d;this.Gb=f;this.Sa=l;this.bc=m;this.js=this.Ai=!1;}a.prototype.LN=function(c,k){!this.Wa.u.tw || this.bc.JM || this.bc.x5 || (c-=this.Wa.Re,this.Ai && !this.js && c + this.config.Mib >= k && 0 === this.Sa.iF && 0 === this.Sa.Zt && 0 === this.Sa.Y4b && (k=this.bc.Ue.O.Pb,c=this.bc.RO(),k + 1 < c || (this.ZXa[this.mediaType].mib || this.Gb.rxb(this.mediaType),this.js=!0,this.ZXa[this.mediaType].oZ())));};return a;})();b.lKa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jKa=void 0;c=a(0);k=a(10);t=a(421);g=a(411);a=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.HKb=function(f){h.prototype.caa.call(this,{value:f});};d.prototype.J7a=function(){return !0;};d.prototype.CBa=function(){};d.prototype.caa=function(f){h.prototype.caa.call(this,f);f.done && (f=this.Eu.YV,k.W && this.G.trace("Requests drained",{jkc:f && f.u.id}),(f=f && f.Za(this.mh)) && f instanceof g.k3 && f.LN(this.Ng.qsa() || 0));};return d;})(t.Lfa);b.jKa=a;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ea=void 0;c=a(0);k=a(125);g=a(10);t=(function(){function h(d,f,l){this.G=d;this.Gub=f;this.mh=l;this.M4=0;this.k5=!1;this.GT=[];this.ZG=void 0;g.W && d.trace("BranchRequestIterator [" + this.mh + "]: created");}Object.defineProperties(h.prototype,{fJb:{get:function(){return this.M4;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YV:{get:function(){return this.aTa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nj:{get:function(){return this.k5;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{P_a:{get:function(){return this.Ol?this.Ol.mt?"Complete":this.Ol.Rya?"WaitingForBranch":void 0 !== this.ZG && 0 !== this.ZG?"In Policy " + this.GT[this.ZG].name:"WaitingForRequest":"Uninitialized;Prior:" + this.fUa;},enumerable:!1,configurable:!0}});h.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,l,m;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Ol;if(!d)return [3,6];this.ZG=void 0;return [4,d.next()];case 1:(f=n.Eb(),l=0,n.label=2);case 2:if(!(l < this.GT.length))return [3,5];this.ZG=l;m=this.GT[l];return [4,m.process(f)];case 3:(f=n.Eb(),n.label=4);case 4:return (l++,[3,2]);case 5:this.ZG=void 0;if(f.done || this.Ol !== d)return [2,{done:!0}];this.M4++;f.value.aWa();return [2,{done:!1,value:f.value.value}];case 6:return [2,k.AsyncIterator.Zsa()];}});});};h.prototype.f7b=function(){this.Jhb();this.u5b();};h.prototype.Jhb=function(){var d;if(this.Ol){this.fUa=this.P_a;d=this.Ol;d && d.di();this.GT.forEach(function(f){return f.reset();});d && g.W && this.G.trace("BranchRequestIterator [" + this.mh + "]: Disposing iterator that was on branch ",this.YV && this.YV.u.id);this.k5=!1;this.ZG=this.Ol=void 0;}};h.prototype.Cma=function(d){this.GT.push(d);};h.prototype.u5b=function(){var d,f,l,m;d=this;if(!this.k5){f=this.G;l=this.Gub;m=this.mh;this.M4=0;this.fUa=this.aTa=void 0;this.Ol=k.flatten(k.map(l.y5a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.aTa=n,this.M4=0,g.W && f.trace("BranchRequestIterator [" + this.mh + "]: new branch " + n.u.id),[4,n.Tx(m)]);case 1:if(p=q.Eb())return [2,{value:p}];g.W && f.error("BranchRequestIterator [" + this.mh + "]: skipping branch " + n.u.id);return [2,{value:[]}];}});});},f),f);this.k5=!0;}};return h;})();b.$Ea=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zPa=void 0;c=a(0);k=a(991);g=a(992);t=(function(){function h(d,f,l,m,n,p,q,r){this.mediaType=d;this.console=f;this.Fa=l;this.x6=m;this.gn=n;this.Scb=p;this.de=q;this.cA=[];1 === this.mediaType && this.cA.push(new g.BQa(d,f,l,m,n,p,q,r,2));this.cA.push(new k.cRa(d,f,l,m,n,p,q,"stream",1,null === r || void 0 === r?void 0:r.Q6a()));}h.prototype.xWa=function(d){this.cA.push(d);};h.prototype.Neb=function(d){this.cA=this.cA.filter(function(f){return f !== d;});d.close();};h.prototype.G_a=function(d){d=d({x6:this.x6,gn:this.gn,console:this.console,S:this.Fa,Scb:this.Scb,de:this.de});this.xWa(d);return d;};h.prototype.reset=function(){this.cA.forEach(function(d){return d.reset();});};h.prototype.close=function(){this.cA.forEach(function(d){return d.close();});};h.prototype.Tg=function(d){return c.__read(this.cA,1)[0].Tg(d);};Object.defineProperties(h.prototype,{kjb:{get:function(){return this.cA;},enumerable:!1,configurable:!0}});return h;})();b.zPa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cRa=void 0;c=a(0);k=a(10);g=a(2);t=(function(h){function d(){return null !== h && h.apply(this,arguments) || this;}c.__extends(d,h);d.prototype.Pv=function(f){var l,m,n;l=f.stream;m=f.rd;n=f.Qc;f=f.dc;g.assert(void 0 !== m,"playerStartTimestamp undefined at media append");g.assert(void 0 !== f,"contentStartTimestamp undefined at media append");this.wma({stream:l,dc:f,S1a:function(p){return this.stream === p.stream;}},m,n) && k.W && this.trace("stream " + l.id + ", " + l.bitrate + "kbit/s @ " + m.T + "ms");};d.prototype.jqa=function(f,l){var m,n,p,q;p=f.yw.stream;q=this.Fa.Fn(l);g.assert(void 0 !== q);k.W && this.trace("emitStreamPresentingEvent @ " + f.timestamp.T + "ms for " + (null === p || void 0 === p?void 0:p.id) + ", " + ((null === p || void 0 === p?void 0:p.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:l,position:q,trackIndex:null === (m=null === p || void 0 === p?void 0:p.track) || void 0 === m?void 0:m.zD,streamIndex:null === p || void 0 === p?void 0:p.Lf,stream:p,manifest:null === (n=p.O) || void 0 === n?void 0:n.ea,contentStartTimestamp:f.yw.dc});};return d;})(a(258).J3);b.cRa=t;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BQa=void 0;c=a(0);k=a(10);g=a(2);h=a(7);t=(function(d){function f(l,m,n,p,q,r,u,v,w){l=d.call(this,l,m,n,p,q,r,u,"segment",w,null === v || void 0 === v?void 0:v.Q6a()) || this;l.Xr=v;return l;}c.__extends(f,d);f.prototype.Pv=function(l){var m,n,p,q;n=l.rd;p=l.Qc;l=l.dc;g.assert(void 0 !== n);q=null === (m=this.Fa.Fn(n)) || void 0 === m?void 0:m.Y;g.assert(void 0 !== q);this.wma({Y:q,dc:l},n,p) && k.W && this.trace("segment " + q + " @ " + n.T + "ms");};f.prototype.w8a=function(l,m){return l.dc.lessThan(m.dc) && l.Y === m.Y;};f.prototype.jqa=function(l,m){var n,p;n=l.yw.Y;p=this.Fa.Fn(m);g.assert(void 0 !== p);k.W && this.trace("emitSegmentPresentingEvent @ " + l.timestamp.T + "ms for segment " + n);p.Y !== n && (k.W && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={Y:n,offset:h.M.La});l={type:"segmentPresenting",playerTimestamp:m,position:p};this.Xr && (l.metrics=this.Xr.wsa(n));k.W && this.trace("segmentPresenting: " + JSON.stringify(l));this.events.emit(l.type,l);};return f;})(a(258).J3);b.BQa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;c=a(0);k=a(10);g=a(58);t=(function(){function h(d,f,l){this.de=d;this.QZb=f;this.G=l;}Object.defineProperties(h.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});h.prototype.waitUntil=function(d){var f;d=g.ffa(this.de,d,!0);f=d.promise;this.Rzb=d.Rn;return f;};h.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,l;return c.__generator(this,function(m){switch(m.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.mra)return [3,2];l=f.rd.Ba(this.QZb);k.W && this.G.trace("[" + f.mediaType + "] JIT: waiting until playertime >= " + l.T,"to append next request " + f.toString());return [4,this.waitUntil(l)];case 1:(m.Eb(),k.W && this.G.trace("[" + f.mediaType + "] JIT: now appending request " + f.toString()),m.label=2);case 2:return [2,d];}});});};h.prototype.reset=function(){var d;null === (d=this.Rzb) || void 0 === d?void 0:d.xb();};return h;})();b.THa=t;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hNa=void 0;c=a(0);k=a(10);g=a(2);h=a(58);t=(function(){function d(f,l,m,n){var p;p=this;this.de=f;this.f2b=l;this.Lxa=m;this.G=n;f.Aa.on("stopStart",function(){return p.yFb();});k.W && this.G.trace("PacingThrottler: pacingFactory=" + l + ", pacingThreshold=" + m.jc());}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.yFb=function(){var f,l;l=this.de.Aa;this.ON=l.Nj?l.currentTime:void 0;this.dV=this.SW=void 0;k.W && this.G.trace("PacingThrottler: clock reset " + (null === (f=this.ON) || void 0 === f?void 0:f.T));};d.prototype.waitUntil=function(f){var l;f=h.ffa(this.de,f,!0);l=f.promise;this.Hdc=f.Rn;return l;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var l,m,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];l=f.value.value;g.assert(l.rd);m=this.de.Aa;if(!this.SW || !this.dV)return [3,10];if(!this.dV.greaterThan(this.Lxa))return [3,8];if(!this.ON)return [3,5];n=l.rd.Ba(this.ON).Ba(this.Lxa);p=this.ON.add(n.Dk(this.f2b));if(!p.lessThan(l.rd))return [3,3];if(!p.greaterThan(m.currentTime))return [3,2];k.W && this.G.trace("PacingThrottler: waiting until " + p.jc() + " for mediaRequest @" + (l.rd.jc() + ", current time ") + (m.currentTime.jc() + ", clock start time ") + (this.ON.jc() + ", distance ") + n.jc());return [4,this.waitUntil(p)];case 1:(q.Eb(),q.label=2);case 2:return [3,4];case 3:(k.W && this.G.warn("PacingThrottler: invalid schedule time " + (p.jc() + " for mediaRequest @") + (l.rd.jc() + ", current time ") + (m.currentTime.jc() + ", clock start time ") + (this.ON.jc() + ", distance ") + n.jc()),q.label=4);case 4:return [3,7];case 5:n=l.rd.Ba(this.SW);if(!n.greaterThan(this.Lxa))return [3,7];k.W && this.G.trace("PacingThrottler: (buffering) waiting until " + this.SW.T + "ms for mediaRequest @" + (l.rd.T + "ms, current time ") + m.currentTime.T);return [4,this.waitUntil(this.SW)];case 6:(q.Eb(),q.label=7);case 7:return [3,9];case 8:(this.dV=this.dV.add(l.ev),q.label=9);case 9:return [3,11];case 10:(this.SW=l.rd,this.dV=l.ev,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.Hdc) || void 0 === f?void 0:f.xb();};return d;})();b.hNa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rQa=void 0;c=a(0);t=(function(){function k(g){this.cC=g;}Object.defineProperties(k.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});k.prototype.process=function(g){var h,d,f;return c.__awaiter(this,void 0,void 0,function(){var l;return c.__generator(this,function(m){switch(m.label){case 0:if(g.done)return [3,3];l=g.value.value;return this.QM && l.nv?[4,this.cC.Idc({mediaType:l.mediaType,to:{stream:l.stream,Y:null === (h=l.Sa) || void 0 === h?void 0:h.Wa.u.id},from:{stream:this.QM.stream,Y:this.QM.Y},timestamp:l.rd,p4b:null === (d=this.QM) || void 0 === d?void 0:d.rd})]:[3,2];case 1:(m.Eb(),m.label=2);case 2:return (this.QM={stream:l.stream,rd:l.rd,Y:null === (f=l.Sa) || void 0 === f?void 0:f.Wa.u.id},[3,4]);case 3:(this.QM=void 0,m.label=4);case 4:return [2,g];}});});};k.prototype.c1b=function(){this.QM=void 0;};k.prototype.reset=function(){};return k;})();b.rQa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vQa=void 0;t=(function(){function a(c,k,g,h,d,f,l,m,n,p){var q;q=this;this.id=c;this.O=k;this.ba=g;this.fW=d;this.Xl=f;this.tw=l;this.Up=m;this.nq=n;this.oe=p;this.$O=function(r){var u,v;return (null === (v=null === (u=q.Xl) || void 0 === u?void 0:u[r]) || void 0 === v?void 0:v.sbc) || q.oe;};this.Ma=h || Infinity;}Object.defineProperties(a.prototype,{K:{get:function(){return this.O.K;},enumerable:!1,configurable:!0}});a.prototype.T3a=function(){var c,k,g;c=this;g=Object.keys(this.Xl || ({})).filter(function(h){var d,f;return !(null === (f=null === (d=c.Xl) || void 0 === d?void 0:d[h]) || void 0 === f || !f.weight);});return g.length?null !== (k=g.map(this.$O).reduce(function(h,d){return h === d?d:void 0;})) && void 0 !== k?k:this.oe:this.oe;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.nq + " viewableId: " + this.O.K + " pts: " + this.ba + "-" + this.Ma + " defaultKey: " + this.fW + " dests: " + JSON.stringify(this.Xl) + " terminal: " + ! !this.tw;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.K,"startPts:":this.ba,endPts:this.Ma,defaultKey:this.fW,"dests:":this.Xl,terminal:! !this.tw,playlistSegmentId:this.nq};};return a;})();b.vQa=t;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;t=a(0);c=t.__importStar(a(9));k=a(182);g=t.__importDefault(a(998));h=a(396);d=t.__importDefault(a(28));f=t.__importDefault(a(4));a=(function(){var a80;a80=2;function l(m,n,p,q,r,u,v,w,x){var b80,d80,z,c80,y;b80=2;for(;b80 !== 31;){switch(b80){case 7:this.Bj=this.G.trace.bind(this.G);b80=6;break;case 2:this.G=n;this.Ap=q;this.qc=w;b80=4;break;case 35:this.DM=new h.$Ia(v,r,this.G);b80=22;break;case 6:this.J=r;this.VVa=this.MSa=null;a000.h9X(0);var b41=a000.X9X(4,1000004);this.lUa=0 === Math.floor(b41 * Math.random()) % r.Gna;this.FE=this.D6a=this.E6a=this.o7=this.qt=void 0;b80=11;break;case 33:this.DM=new h.dha(v,r,this.G);b80=22;break;case 18:void 0 !== n && void 0 !== n.yl && void 0 !== n.Vj && void 0 !== n.zl && (y=(n.zl - n.yl) / n.Vj);q=r.kZ?d.default.vj.KC:d.default.vj.LC;p && p.confidence >= q && p.Na && y && this.pwb(p,n,y);b80=15;break;case 27:try{d80=2;for(;d80 !== 4;){switch(d80){case 2:z=new g.default(m,this.G,{bufferSize:f.default.Xp()},r);this.Ap.yAb(z);this.$Ua=z;d80=4;break;}}}catch(A){var v64="Hindsight: Error when c";v64+="reating QoEEva";v64+="luator: ";a000.h9X(7);m.Gb.Ro(a000.Q9X(v64,A));}b80=26;break;case 4:var J64="1SIYbZr";J64+="NJC";J64+="p9";this.rH=x;J64;this.wb=m;this.Mb=this.G.warn.bind(this.G);b80=7;break;case 21:var i64="L";i64+="R";b80=c80 === i64?35:34;break;case 32:r.efa && (this.G5=this.F5=!1);b80=31;break;case 34:b80=33;break;case 23:this.DM=new h.dha(v,r,this.G);b80=22;break;case 25:b80=v && 1 < v.length && r.nqa?24:32;break;case 24:var H64="b";H64+="aselin";H64+="e";c80=r.TTb;b80=c80 === H64?23:21;break;case 19:b80=18;break;case 26:this.Xka=!1;b80=25;break;case 22:this.Xka=this.DM.Q$();b80=32;break;case 15:b80=this.rH.Ws?27:26;break;case 11:this.hCa=this.fhb=this.ghb=this.gCa=this.hcb=this.icb=0;this.sU=k.TO(r,u);n=this.HTa(p);b80=19;break;}}}for(;a80 !== 24;){switch(a80){case 2:Object.defineProperties(l.prototype,{Q$:{get:function(){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 2:return this.Xka;break;case 4:return this.Xka;break;e80=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$ya:{get:function(){var f80;f80=2;for(;f80 !== 1;){switch(f80){case 2:return this.$Ua;break;case 4:return this.$Ua;break;f80=1;break;}}},enumerable:!1,configurable:!0}});a80=5;break;case 18:l.prototype.OAb=function(m){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 2:m.qt=this.qt;v80=1;break;}}};l.prototype.xNb=function(m){var w80,w,x,n,p,q,r,u,v;w80=2;for(;w80 !== 25;){switch(w80){case 12:w80=v?11:16;break;case 11:w=function(y){var y80;y80=2;for(;y80 !== 1;){switch(y80){case 2:return c.Ja(y)?Number(y).toFixed(2):-1;break;}}};w80=10;break;case 16:n.histage=this.E6a;p.nqa && this.DM && (n.ishighstable=this.Xka,n.avg_avtp=this.DM.ECb,n.avg_ne=Number(this.DM.GCb).toFixed(4));q.uc && (p=f.default.Xp(),n.maxAudioBufferAllowedBytes=p[d.default.$a.cc],n.maxVideoBufferAllowedBytes=p[d.default.$a.Jb]);w80=26;break;case 18:n.histtdc=v;w80=17;break;case 17:n.histtd=u;w80=16;break;case 10:u=[w(v.min || void 0),w(v.Xba || void 0),w(v.yl || void 0),w(v.Vj || void 0),w(v.zl || void 0),w(v.Yba || void 0),w(v.max || void 0)];x=[];v=c.isArray(v.gj) && v.gj.reduce(function(y,z){var z80,A;z80=2;for(;z80 !== 3;){switch(z80){case 2:A=w(z.Tf || void 0);z=w(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);w80=18;break;case 2:var M64="s";M64+="tart";M64+="play";var W64="lo";W64+="gd";W64+="at";W64+="a";(n={},p=this.J,q=this.wb,r={type:W64,target:M64,fields:{}});r.fields=n;Object.keys(m).forEach(function(y){var x80;x80=2;for(;x80 !== 1;){switch(x80){case 4:n[y]=m[y];x80=6;break;x80=1;break;case 2:n[y]=m[y];x80=1;break;}}});u=this.Ap.get();w80=3;break;case 14:n.histdiscbw=this.FE;v=this.D6a;w80=12;break;case 3:u && u.Na && (u=u.Na.oa);n.actualbw=u;n.isConserv=this.qt;n.ccs=this.o7;w80=6;break;case 6:n.isLowEnd=this.TVb;w80=14;break;case 26:q.emit(r.type,r);w80=25;break;}}};l.prototype.yNb=function(m){var A80,n,p,q,r,u,v,w;A80=2;for(;A80 !== 6;){switch(A80){case 2:(n=this,p=this.J,q=this.Ap.get(),r=[]);[d.default.$a.Jb,d.default.$a.cc].forEach(function(x){var B80,y;B80=2;for(;B80 !== 4;){switch(B80){case 9:B80=n.qc(x)?9:2;break;B80=n.qc(x)?1:4;break;case 2:B80=n.qc(x)?1:4;break;case 1:y=n.wb.C5a(x);void 0 !== y && (x === d.default.$a.Jb && (p.oO && (y.parallelDownloadMs=n.icb,y.parallelDownloadBytes=n.hcb,y.singleDownloadMs=n.ghb,y.singleDownloadBytes=n.fhb,y.switchFromParallelToSingle=n.gCa,y.switchFromSingleToParallel=n.hCa),q && q.confidence && q.Na && (y.asetput=q.Na,y.aseiqr=q.Hv,y.tdigest=q.Hg && q.Hg.YA() || void 0),q && q.avtp && (y.avtp=q.avtp.oa)),r.push(y));B80=4;break;}}});m.stat=r;(u=0,v=0,w=0);q.confidence && (u=q.Na?q.Na.oa:0,v=q.Qk?q.Qk.oa:0,w=q.Xx?q.Xx.oa:0);m.location={responseTime:v,httpResponseTime:w,bandwidth:u,confidence:q.confidence,name:this.xdc};A80=8;break;case 8:var s64="n";s64+="o";s64+="n";s64+="e";this.lUa && (m.bt={startTime:this.eo.startTime,audioMs:this.eo.jV,videoMs:this.eo.a1},this.eo.jV=[],this.eo.a1=[],this.eo.ova=this.eo.hva);s64 !== p.HF && (m.isConserv=this.qt,m.ccs=this.o7);A80=6;break;}}};a80=15;break;case 5:l.prototype.ygb=function(m,n,p){var g80;g80=2;for(;g80 !== 4;){switch(g80){case 2:this.FE=m;c.na(n) || (this.E6a=n);c.na(p) || (this.D6a=p);g80=4;break;}}};l.prototype.PCa=function(m){var h80;h80=2;for(;h80 !== 5;){switch(h80){case 2:this.J=m;this.sU.PCa(m);h80=5;break;}}};l.prototype.Yka=function(m,n,p,q){var i80,r;i80=2;for(;i80 !== 7;){switch(i80){case 2:r=this.J;i80=1;break;case 1:var U64="i";U64+="q";U64+="r";i80=m === U64?5:9;break;case 4:return ! !(n.Na && p && c.Ja(q) && n.Na.oa < r.QV && q > r.hha);break;case 5:i80=void 0 !== q?4:3;break;case 3:return !1;break;case 9:var P64="a";P64+="v";P64+="g";i80=m === P64?8:3;break;case 8:return n.Na?n.Na.oa < r.QV:!0;break;}}};a80=9;break;case 11:l.prototype.S0b=function(){var q80,r80,m;q80=2;for(;q80 !== 4;){switch(q80){case 1:q80=this.rH.Ws?5:4;break;case 5:try{r80=2;for(;r80 !== 1;){switch(r80){case 2:(this.Ap.g6b(),this.$Ua.Yc());r80=1;break;}}}catch(n){var r64="Hindsight";r64+=": Error during clean ";r64+="up: ";a000.j9X(7);m.Gb.Ro(a000.Q9X(r64,n));}q80=4;break;case 2:m=this.wb;q80=1;break;}}};l.prototype.i1b=function(m){var s80;s80=2;for(;s80 !== 1;){switch(s80){case 2:this.J.oO && m === d.default.$a.Jb && (this.hCa=this.gCa=this.fhb=this.ghb=this.hcb=this.icb=0);s80=1;break;}}};l.prototype.e1b=function(m,n){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:m === d.default.$a.Jb && (this.xdc=n);t80=1;break;}}};l.prototype.LEb=function(m){var u80,n,p,r,q,u;u80=2;for(;u80 !== 6;){switch(u80){case 1:var a64="n";a64+="on";a64+="e";u80=a64 !== n.HF && !0 !== this.qt && m.state <= n.pwa?5:6;break;case 2:n=this.J;u80=1;break;case 4:var L64="i";L64+="q";L64+="r";u80=L64 === n.HF?3:8;break;case 3:r=this.HTa(q);u80=9;break;case 5:q=this.Ap.get();u80=4;break;case 9:void 0 !== r && void 0 !== r.yl && void 0 !== r.Vj && void 0 !== r.zl && (p=(r.zl - r.yl) / r.Vj);u80=8;break;case 8:u=n.kZ?d.default.vj.KC:d.default.vj.LC;q && q.confidence >= u && this.Yka(n.HF,q,r,p) && (this.qt=!0,this.o7=m.state);u80=6;break;}}};a80=18;break;case 15:l.prototype.kyb=function(m){var C80,n;C80=2;for(;C80 !== 6;){switch(C80){case 2:n=this.J;C80=1;break;case 9:return !0;break;case 5:return !0;break;case 1:C80=this.F5 && m.Jv()?5:4;break;case 3:C80=this.G5 && n.Ir && !m.Jv()?9:8;break;case 8:this.G5 && (this.G5=!1);return !1;break;case 4:this.F5 && (this.F5=!1);C80=3;break;}}};l.prototype.HTa=function(m){var D80,E80;D80=2;for(;D80 !== 4;){switch(D80){case 6:m=m.Hg;D80=8;break;D80=5;break;case 5:return m;break;case 3:D80=9;break;case 2:var y64="td";y64+="ig";y64+="est";E80=this.J.Hta;D80=E80 === y64?1:3;break;case 1:m=m.Hg;D80=5;break;case 14:return m;break;D80=4;break;case 12:D80=2;break;D80=9;break;case 9:m=m.Hv && m.Hv.gca;D80=5;break;}}};l.prototype.pwb=function(m,n,p){var F80,q;F80=2;for(;F80 !== 3;){switch(F80){case 2:q=this.J;this.Yka(q.HF,m,n,p)?this.qt=!0:this.qt=!1;this.o7=0;this.Yka(q.Pva,m,n,p) && (this.TVb=!0);F80=3;break;}}};return l;break;case 9:l.prototype.TO=function(m){var j80;j80=2;for(;j80 !== 1;){switch(j80){case 2:return 1 === m?this.sU.VJ:this.sU.WZ;break;}}};l.prototype.Iy=function(m){var k80;k80=2;for(;k80 !== 5;){switch(k80){case 2:this.sU.Iy(m);this.MSa=m;k80=5;break;}}};l.prototype.aX=function(){var l80;l80=2;for(;l80 !== 1;){switch(l80){case 4:return this.MSa;break;l80=1;break;case 2:return this.MSa;break;}}};l.prototype.AK=function(m){var m80;m80=2;for(;m80 !== 5;){switch(m80){case 2:this.sU.AK(m);this.VVa=m;m80=5;break;}}};l.prototype.HX=function(){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:return this.VVa;break;}}};l.prototype.pAb=function(m,n,p,q,r,u){var o80,v;o80=2;for(;o80 !== 5;){switch(o80){case 2:v=this.J;v.efa && this.kyb(n) || !p || !q || !(p=u?Math.min(p,q,u):Math.min(p,q)) || (this.Ap.get(),q=this.wb.Ta,m=q.Bx(q.Uc,m),n.track.Jv() && m > v.Fna && p === r?(v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:1}),v.set({maxActiveRequestsPerSession:2}),v.set({maxPendingBufferLen:500})):(v.Ir=!0,v.IP=1,v.iy=2,v.Jaa=500),n.track.Tca({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:v.RR,minRequestSize:v.TP}),this.gCa++,v.efa && (this.F5=!0)):v.Ir && !n.Jv() && (m < v.Ena || p !== r) && (v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:3}),v.set({maxActiveRequestsPerSession:3}),v.set({maxPendingBufferLen:12E3})):(v.Ir=!0,v.IP=3,v.iy=3,v.Jaa=12E3),n.track.Tca({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:v.RR,minRequestSize:v.TP}),this.hCa++,v.efa && (this.G5=!0)));o80=5;break;}}};l.prototype.sAb=function(m,n){var p80,p,q,r;p80=2;for(;p80 !== 6;){switch(p80){case 2:p=this.J;p80=1;break;case 5:void 0 === this.eo && (this.eo={startTime:f.default.time.ia(),jV:[],a1:[],ova:void 0,hva:void 0});p=Math.floor((f.default.time.ia() - this.eo.startTime) / p.zN);(q=this.eo.hva,r=this.eo.ova?p - this.eo.ova - 1:p);p80=9;break;case 1:p80=this.lUa?5:6;break;case 9:p80=void 0 === q || p > q?8:7;break;case 7:this.eo.hva=p;p80=6;break;case 8:(this.eo.jV[r]=m,this.eo.a1[r]=n);p80=7;break;}}};a80=11;break;}}})();b.XDa=a;},function(t,b,a){var k,g,h;function c(d,f,l,m){this.wb=d;this.G=f;this.fl=this.G.error.bind(this.G);this.Mb=this.G.warn.bind(this.G);this.Bj=this.G.trace.bind(this.G);this.bg=this.G.log.bind(this.G);this.pub=new g();this.J=m;this.w5=[];this.N5=void 0;d=m.j$;k.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.Ska=!0;}a(28);b=a(4).default;k=a(144);a(423);g=a(999);new b.Console("ASEJS_QOE_EVAL","media|asejs");h=a(126).BPa || a(126);c.prototype=Object.create(k.prototype);c.prototype.add=function(d,f,l){this.N5 || (this.N5=f);k.prototype.add.call(this,d,f,l);};c.prototype.EPb=function(){var d;if(0 !== this.w5.length){d=[];this.w5.forEach(function(f){f && f.nN && d.push(f.YA());});return d;}};c.prototype.Yc=function(){this.w5=[];};c.prototype.ASb=function(){var d,f,l;d=this.get(this.J.j$.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,l=p,!0);});if(f)for(var m=0;m < l;m++){d[m]=f;}}d={trace:d,timestamp:this.N5,pA:this.Qd};this.Ska=!1;k.prototype.reset.call(this);this.Ska=!0;this.N5=void 0;return d;};c.prototype.Aqa=function(d){var f,l,m,n,p,q;if(d && !d.nN){l=d.fv.d8a;l && (d.hza=this.Pma(d),d.Rca=!1);if((f=this.ASb()) && f.trace && f.trace.length){m=d.bk.nF;n=f.timestamp;if(n > m){p=f.pA;q=f.trace[0];m=Math.ceil((n - m) / p);f.timestamp=n - m * p;for(n=0;n < m;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.pC=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.KDb(d),d.Mbb=f,l && f && (d.Rca=f.pt),d.nN=!0,this.w5.push(d));}};c.prototype.KDb=function(d){var p,q,r,u;function f(v){var y;for(var w,x=0;x < v.length;x++){y=v[x].reduce(function(z,A){return A.cb?z + 1:z;},0);if(void 0 === w)w=y;else if(y !== w)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > w?y - w:w - y) * Math.LOG2E) + "]");}}for(var l=this.J.i$,m={pt:!1,E$:!1,ELb:0},n=0;n < l.length;n++){p=l[n];q=this.pub.create(p);if(q){r=h.now();u={};try{f(d.Wy);u=q(d);}catch(v){u.AO=v;}u.oBb=h.now() - r;m[p]=u;m.pt=m.pt || u.pt;m.E$=m.E$ || u.E$;m.AO=m.AO || u.AO;}}return m;};c.prototype.Pma=function(d){var f;d=d.fv;f="";1E3 > d.ip && (f+=d.flb);1E3 > d.Hs && (f=f + ("" !== f?",":"") + d.dXa);1E3 <= d.ip && 1E3 <= d.Hs && (f="media");return f;};t.exports=c;},function(t,b,a){var g;function c(){}function k(h,d,f){return function(l){l.Sr=d;l.compare=f;return h(l);};}g=a(1E3);c.prototype.constructor=c;c.prototype.create=function(h){var d;switch(h){case "htwbr":break;case "htwbr-dlvmaf":d=k(g.LX,!1,g.vZa);break;case "htwbr-segvmaf":d=k(g.LX,!0,g.vZa);break;case "hvmafgr":d=k(g.LX,!1,g.Ooa);break;case "hvmafgr-dlvmaf":d=k(g.LX,!1,g.Ooa);break;case "hvmafgr-segvmaf":d=k(g.LX,!0,g.Ooa);break;case "hvmafdp":d=k(g.dp,!1);break;case "hvmafdp-dlvmaf":d=k(g.dp,!1);break;case "hvmafdp-segvmaf":d=k(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};t.exports=c;},function(t,b,a){var q,r,u,v,w,x,y,z,A,B,C;function c(D){var F,G,E;F=D.pC;G=D.bk;E=D.fv.Ma - G.ba;F.timestamp > G.nF && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.nF);D=[];for(var I,L=F.timestamp,K=0;K < F.trace.length;K++){L >= G.nF && (D.push(F.trace[K]),I=F.trace[K]);L+=F.pA;E-=F.pA;}for(;0 < E;){D.push(I);E-=F.pA;}G=F.pA;F=D.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(D,F,!1);}function k(D,F,G){F=D.Wy[F][G];return F.aa + D.bk.sV * F.duration / 8;}function g(D){var F,G,E,I,L,K,H,R,O;F=D.bk;G=F.Pn;E=D.fv;I=E.Kx;K=[];for(E=I=Math.min(E.sJ,I);E >= G;E--){C.update("backward step loop");H=L=D.Wy[0][E].ba - D.bk.ba;E < I && (q(void 0 !== K[E + 1],"expect solution[(fragIndex + 1)] !== undefined"),H=Math.min(K[E + 1].startTime,H));R=k(D,0,E);O=p(R,H,D.pC,F.nF);if(0 > O)throw Error("Infeasible: reason throughput at min bitrate");R={startTime:O,endTime:H,D7:H,aLb:L,WQ:R,bf:0};R.a3a=E;K[E]=R;}F=0;for(E=G;E <= I;E++){F+=K[E].WQ;K[E].Tpa=F;}if(!h(D,K,G,I))throw Error("Infeasible: reason buffer capacity at min bitrate");return {pt:!0,$wa:0 == K.length,Wr:K};}function h(D,F,G,E){var I,L,K,H,R,O,J,M,P,S;for(;G <= E;G++){C.update("checkBuffer");I=D;L=F;K=G;C.update("check buffer vacancy");H=I.bk;R=I.Wy[H.XX];O=I.XXa;J=!0;I=I.UNb(Math.floor(L[K].startTime) + H.ba);M=H.bu + L[K].Tpa;P=0;S=0;if(I.index < H.Pn){for(var U=0,T=H.kC;T < I.index;T++){U+=R[T].aa;}P+=U;U=0;for(T=H.kC;T < I.index;T++){U+=R[T].duration;}S+=U;}else (P+=H.bu,S+=H.ip);U=0;for(T=H.Pn;T < I.index;T++){U+=L[T].WQ;}P+=U;U=0;for(T=H.Pn;T < I.index;T++){U+=R[L[T].a3a].duration;}S+=U;I=M - P;H=R[K].ba + R[K].duration - H.ba - S;if(H >= O.hq || I >= O.Pkb)J=!1;L[K].hYa=I;L[K].Nna=H;if(!J)return !1;}return !0;}function d(D){D=D.bk.Z;for(var F=[],G,E=0;E < D.length;E++){C.update("get prebuffered chunks loop");G=D[E];q(void 0 !== G.cb,"expect frag.vmaf !== undefined");G=new u(G.aa,G.duration / 1E3,G.cb);F.push(G);}return F;}function f(D){var F,G,E,I,L,K,O;F=D.Wy;G=D.bk;E=D.fv;I=E.Kx;L=D.gd;K=[];I=Math.min(E.sJ,I);for(var H=0;H < F.length;H++){E=[];for(var R=G.Pn;R <= I;R++){C.update("get chunk map from play segment");O=F[H][R];O=new u(O.aa,O.duration / 1E3,D.Sr && void 0 !== O.cb?O.cb:L[H].cb);E.push(O);}K.push(E);}return new v(K,!1);}function l(D,F,G){q(D.cP() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,I=0,L,K,H=0;H < F.length;H++){C.update("calculate twvmaf");q(F[H].M6a === H,"expect stream_choices[idx].i_epoch === idx");K=D.Vm[F[H].m$][H];L=void 0 !== G?G(K.quality):K.quality;K=K.Mn;E+=L * K;I+=K;}return {N0a:E / I,M0a:1E3 * I};}function m(D,F,G){q(D.cP() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,I=0,L=G.bk.sV,K,H=0,R=0,O=0;O < F.length;O++){C.update("calculate Bytes");q(F[O].M6a === O,"expect stream_choices[idx].i_epoch === idx");K=D.Vm[F[O].m$][O];E+=K.aa;I+=L * K.Mn * 1E3 / 8;H+=K.Mn * G.gd[F[O].m$].bitrate;R+=K.Mn;}return {L0a:E,I0a:I,K0a:0 < R?1 * H / R:0};}function n(D,F,G){F=Math.min(D.length - 1,F);F=Math.max(0,F);return D[F] * G / 8;}function p(D,F,G,E){var I,L,K,H,R;I=G.trace;L=1 * G.pA;K=F + E - G.timestamp;H=Math.floor(1 * K / L);F=(K - H * L) / L * n(I,H,L);if(F >= D)R=K - 1 * D / F * (K - H * L);else for(K=H;F < D;){C.update("find download start time");--K;if(0 > K)return -1;H=n(I,K,L);if(F + H >= D){D=(D - F) / H * L;R=(K + 1) * L - D;break;}F+=H;}return R + G.timestamp - E;}q=a(2).assert;r=a(1001);u=a(424).Bnb;v=a(424).Cnb;w=a(1002).Uob;x=a(425).Mtb;y=a(259).gFa;z=a(252).q3;A=a(86).default;B=new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(126).BPa || a(126);t.exports={LX:function(D){var F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,V,ca,sa,Ha,Ja,Na,Oa;B.debug("greedy DEBUG false");C.PAa("greedy-" + (D.Sr?"segvmaf":"dlvmaf") + ": ");try{D.qJ=[];F=D.Wy;G=D.bk;E=D.fv;I=E.Kx;L=D.gd;I=Math.min(E.sJ,I);for(H=G.Pn;H <= I;H++){R=new r();D.qJ[H]=R;F[0][H].Tna=F[0][H].aa;for(K=1;K < F.length;K++){F[K][H].Tna=F[K][H].aa;}K=0;O=F[K][H];O.WE=Infinity;O.Lf=K;for(K=1;K < F.length;K++){O=F[K][H];O.Lf=K;J=R.M$()?F[0][H]:R.K2b();M=8 * O.Tna / O.duration;P=8 * J.Tna / J.duration;if(D.Sr && void 0 !== O.cb)(S=O.cb,U=J.cb);else (S=L[K].cb,U=L[J.Lf].cb);O.Mv=M - P;O.WE=(S - U) / O.Mv;isFinite(O.WE) && (0 < O.WE || K == F.length - 1) && 0 < O.Mv && R.enqueue(O);}}for(H=G.Pn;H <= I;H++){G=[];T=[];W=[];ia=D.qJ[H].Tn();for(F=0;F < ia.length;F++){O=ia[F];G.push(O.Mv.toFixed(2));D.Sr && void 0 !== O.cb?T.push(O.cb):T.push(L[O.Lf].cb);W.push(O.WE.toFixed(4));}}pa=g(D);if(pa.$wa)return pa;wa=D.bk;za=D.fv;Ca=za.Kx;Ca=Math.min(za.sJ,Ca);W=[];for(var N=wa.Pn;N <= Ca;N++){D.qJ[N].M$() || W.push(D.qJ[N].cO());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var Q=new z(W,D.compare);0 < Q.length;){C.update("upgrade frags");V=Q.pop();a:{Ca=wa=void 0;N=D;W=pa;T=V;ca=N.bk;sa=N.fv;Ha=Math.min(sa.sJ,sa.Kx);Ja=JSON.parse(JSON.stringify(W.Wr));q(T && Ja[T.index].bf < T.Lf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");Ca=T.index;wa=Ja[Ca];wa.bf=T.Lf;wa.WQ=k(N,wa.bf,Ca);wa.startTime=p(wa.WQ,wa.D7,N.pC,ca.nF);Ja[Ca]=wa;if(0 > wa.startTime)Na=!1;else {for(Ca=T.index - 1;Ca >= ca.Pn;Ca--){wa=Ja[Ca];Oa=Ja[Ca + 1].startTime;if(wa.D7 <= Oa)break;wa.D7=Oa;wa.startTime=p(wa.WQ,wa.D7,N.pC,ca.nF);Ja[Ca]=wa;if(0 > wa.startTime){Na=!1;break a;}}for(var Ua=T.index + 1;Ua <= Ha;Ua++){Ja[Ua].Tpa=Ja[Ua].WQ + (Ua > N.bk.Pn?Ja[Ua - 1].Tpa:0);}for(var $a=T.index + 1;$a <= Ha;$a++){if(Ja[$a].startTime > Ja[T.index].aLb){Ha=$a - 1;break;}}h(N,Ja,T,Math.min(Ca + 1,T.index),Ha)?(W.Wr=Ja,Na=!0):Na=!1;}}Na && (D.qJ[V.index].M$() || Q.push(D.qJ[V.index].cO()));}}finally{delete D.qJ;}for(Ha=sa=ca=Na=V=Q=0;Ha < pa.Wr.length;Ha++){if(Ja=pa.Wr[Ha])(Oa=D.Wy[Ja.bf][Ja.a3a],Q+=(Oa.cb?Oa.cb:D.gd[Ja.bf].cb) * Oa.duration,V+=Oa.duration,Na+=Oa.aa,ca+=D.bk.sV * Oa.duration / 8,sa+=Oa.duration * D.gd[Ja.bf].bitrate);}pa.N0a=0 < V?1 * Q / V:0;pa.M0a=V;pa.L0a=Na;pa.I0a=ca;pa.K0a=0 < V?1 * sa / V:0;pa.wB=C.L4a();B.debug("Max heap used: " + Math.round(pa.wB / 1024 / 1024) + " MB");return pa;},Ooa:function(D,F){if(D.WE < F.WE)return 1;if(D.WE > F.WE)return -1;if(D.Mv > F.Mv)return 1;if(D.Mv < F.Mv)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},vZa:function(D,F){if(D.Mv > F.Mv)return 1;if(D.Mv < F.Mv)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var F,G,E,I,L,K;C.PAa("dp-" + (D.Sr?"segvmaf":"dlvmaf") + ": ");F=g(D);if(!1 === F.pt || !0 === F.$wa)return F;G=f(D);E=new w(G);I=d(D);I={Sib:c(D),tXa:D.bk.sV,kab:0,G$a:240,F$a:8 * D.XXa.Pkb / 1E3,dYa:.5,KXa:new y(I),J1a:0,kmc:void 0,W5a:void 0,Odb:void 0,LWa:!0};E=E.Gy(I);I=l(G,E,void 0);G=m(G,E,D);L=[];K=D.bk.Pn;E.forEach(function(H){L[K]={bf:H.m$};K++;});A(I,F);A(G,F);F.Wr=L;F.wB=C.L4a();B.debug("Max heap used: " + Math.round(F.wB / 1024 / 1024) + " MB");return F;}};},function(t){var c;function b(k){this.ug=a(k);this.jh=this.Bf=0;if(c(k)){for(var g=k.length,h=0;h < g;++h){this[h]=k[h];}this.Bf=g;}}function a(k){if("number" !== typeof k)if(c(k))k=k.length;else return 16;k=Math.min(Math.max(16,k),1073741824);k=(k >>> 0) - 1;k|=k >> 1;k|=k >> 2;k|=k >> 4;k|=k >> 8;return (k | k >> 16) + 1;}b.prototype.Tn=function(){for(var k=this.Bf,g=Array(k),h=this.jh,d=this.ug,f=0;f < k;++f){g[f]=this[h + f & d - 1];}return g;};b.prototype.push=function(k){var g,h,d,l;g=arguments.length;h=this.Bf;if(1 < g){d=this.ug;if(h + g > d){for(var f=0;f < g;++f){this.z4(h + 1);l=this.jh + h & this.ug - 1;this[l]=arguments[f];h++;this.Bf=h;}return h;}l=this.jh;for(f=0;f < g;++f){this[l + h & d - 1]=arguments[f];l++;}this.Bf=h + g;return h + g;}if(0 === g)return h;this.z4(h + 1);f=this.jh + h & this.ug - 1;this[f]=k;this.Bf=h + 1;return h + 1;};b.prototype.pop=function(){var k,g,h;k=this.Bf;if(0 !== k){g=this.jh + k - 1 & this.ug - 1;h=this[g];this[g]=void 0;this.Bf=k - 1;return h;}};b.prototype.shift=function(){var k,g,h;k=this.Bf;if(0 !== k){g=this.jh;h=this[g];this[g]=void 0;this.jh=g + 1 & this.ug - 1;this.Bf=k - 1;return h;}};b.prototype.unshift=function(k){var g,h,d,l;g=this.Bf;h=arguments.length;if(1 < h){d=this.ug;if(g + h > d){for(var f=h - 1;0 <= f;f--){this.z4(g + 1);d=this.ug;l=(this.jh - 1 & d - 1 ^ d) - d;this[l]=arguments[f];g++;this.Bf=g;this.jh=l;}return g;}l=this.jh;for(f=h - 1;0 <= f;f--){l=(l - 1 & d - 1 ^ d) - d;this[l]=arguments[f];}this.jh=l;this.Bf=g + h;return g + h;}if(0 === h)return g;this.z4(g + 1);d=this.ug;f=(this.jh - 1 & d - 1 ^ d) - d;this[f]=k;this.Bf=g + 1;this.jh=f;return g + 1;};b.prototype.K2b=function(){var k;k=this.Bf;if(0 !== k)return this[this.jh + k - 1 & this.ug - 1];};b.prototype.get=function(k){var g;if(k === (k | 0)){g=this.Bf;0 > k && (k+=g);if(!(0 > k || k >= g))return this[this.jh + k & this.ug - 1];}};b.prototype.M$=function(){return 0 === this.Bf;};b.prototype.clear=function(){for(var k=this.Bf,g=this.jh,h=this.ug,d=0;d < k;++d){this[g + d & h - 1]=void 0;}this.jh=this.Bf=0;};b.prototype.toString=function(){return this.Tn().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.cO=b.prototype.shift;b.prototype.toJSON=b.prototype.Tn;Object.defineProperty(b.prototype,"length",{get:function(){return this.Bf;},set:function(){throw new RangeError("");}});b.prototype.z4=function(k){this.ug < k && this.Vyb(a(1.5 * this.ug + 16));};b.prototype.Vyb=function(k){var g,h;g=this.ug;this.ug=k;k=this.jh;h=this.Bf;if(k + h > g)for((k=k + h & g - 1,h=0);h < k;++h){this[h + g]=this[h + 0];this[h + 0]=void 0;}};c=Array.isArray;t.exports=b;},function(t,b,a){var q,r,u,v,w;function c(x,y,z){this.NXa=this.Xub(x,y,z);}function k(){}function g(){}function h(){}function d(x){this.ZEb=x;}function f(){}function l(){}function m(){}function n(){this.Ppa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(0);r=a(2).assert;b=a(259).gFa;u=a(425).Ntb;v=a(259).enb;new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");w=a(126).BPa || a(126);c.prototype.constructor=c;c.prototype.Xub=function(x,y,z){r(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);r(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.zE=function(x){return this.Yvb(x,this.NXa);};c.prototype.Yvb=function(x,y){x=this.EKb(x,y);if(0 === x)throw new k();if(x === y.length)throw new g();return x;};c.prototype.EKb=function(x,y){r(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}r(!1,"expect not coming here in digitize()");};c.prototype.P9=function(){return p(1,this.NXa.length - 1);};k.prototype=Error();g.prototype=Error();h.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.Xnb=-20;d.prototype.Wnb=20;d.prototype.Vnb=void 0;d.prototype.Qnb=new b(void 0);d.prototype.Snb=0;d.prototype.Rnb=1;d.prototype.$nb=!1;d.prototype.Unb=!0;d.prototype.Tnb=!0;d.prototype.Ynb=void 0;d.prototype.Onb=!0;d.prototype.Pnb=0;d.prototype.Gy=function(x){r(void 0 !== x.Sib,"expect recipe.time_varying_bandwidth !== undefined");return this.Xyb(this.ZEb,x.Sib,void 0 !== x.kab?x.kab:this.Xnb,void 0 !== x.G$a?x.G$a:this.Wnb,void 0 !== x.F$a?x.F$a:this.Vnb,void 0 !== x.KXa?x.KXa:this.Qnb,void 0 !== x.J1a?x.J1a:this.Snb,void 0 !== x.dYa?x.dYa:this.Rnb,void 0 !== x.Y9b?x.Y9b:this.$nb,void 0 !== x.ZSb?x.ZSb:this.Unb,void 0 !== x.W5a?x.W5a:this.Tnb,void 0 !== x.Odb?x.Odb:this.Ynb,void 0 !== x.LWa?x.LWa:this.Onb,void 0 !== x.tXa?x.tXa:this.Pnb);};d.prototype.Xyb=function(x,y,z,A,B,C,D,F,G,E,I,L,K,H){var O,J,M,P,S,wa,ca,sa,Ha,Ja,Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa,eb,ub;function R(Cb){return Cb[S];}w.PAa("dp: ");r(z <= C.Uh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");r(C.Uh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");r(z <= D,"expect min_buffer_sec <= end_buffer_sec");r(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && r(C.wm <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + C.wm + " and " + B);J=new c(z,A,F);F=new n();M=0;P=C;F.put([0,J.zE(C.Uh)],[M,P,void 0,void 0,y,void 0,void 0,void 0]);y=P=0;C=x.USb();r(x.cP() == C.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;try{for(var U=q.__values(C),T=U.next();!T.done;T=U.next()){S+=1;C=!0;for(var W=x.Vm.map(R),ia=J.P9(),pa=0;pa < ia.length;pa++){wa=ia[pa];if(F.$ua([S,wa]))for(var za=F.get([S,wa]),Ca=za[0],N=za[1],Q=za[4],V=0;V < W.length;V++){ca=W[V];w.update("epoch-ibuf-chunk loop");sa=void 0 !== L?L(ca.quality):ca.quality;Ha=Q.qh();try{za=this.Cvb(N,ca,Ha,H);Ja=za[0];Na=za[1];Oa=za[2];Ua=za[3];$a=za[4];sb=za[5];}catch(Cb){if(Cb instanceof u)continue;else if(Cb instanceof k){P+=1;continue;}else throw Cb;}kb=!1;Bb=!1;try{Pa=J.zE(Ua.Uh);E && J.zE(Ja);I && J.zE(Na);if(void 0 !== B)if(I){if(Oa.wm > B)throw new h();}else if(Ua.wm > B)throw new h();}catch(Cb){if(Cb instanceof k)(Pa=void 0,P+=1);else if(Cb instanceof g)(K?kb=!0:y+=1,Pa=void 0);else if(Cb instanceof h)(K?Bb=kb=!0:y+=1,Pa=void 0);else throw Cb;}try{if(kb && Bb){r(void 0 !== B,"expect max_buffer_kb !== undefined");Xa=I?Oa.wm - B:Ua.wm - B;r(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{eb=Ua.g3b(Xa);}catch(Cb){if(Cb instanceof v)throw new k();throw Cb;}Ha.rcb(eb);$a+=eb;r(Ua.Uh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Pa=J.zE(Ua.Uh);}else if(kb && !Bb){eb=I?Oa.Uh - A + 1E-8:Ua.Uh - A + 1E-8;r(0 <= eb,"pause dlnd kb cannot be -ve but is " + eb);try{Ua.Lcb(eb);}catch(Cb){if(Cb instanceof v)throw new k();throw Cb;}Ha.rcb(eb);$a+=eb;r(z <= Ua.Uh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");r(Ua.Uh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Pa=J.zE(Ua.Uh);}else eb=0;}catch(Cb){if(Cb instanceof k)(Pa=void 0,P+=1,eb=void 0);else if(Cb instanceof u)continue;else throw Cb;}M=F.$ua([S + 1,Pa])?F.get([S + 1,Pa])[0]:-Infinity;this.Jzb(Ua,Pa,ca,sa,wa,S + 1,M,F,Ca,V,Ha,$a,sb,eb) && (C=!1);}}if(C){--S;break;}}}catch(Cb){var lb;lb={error:Cb};}finally{try{T && !T.done && (O=U.return) && O.call(U);}finally{if(lb)throw lb.error;}}try{ub=this.xTa(S + 1,J.zE(D),F,G,J);}catch(Cb){if(Cb instanceof f)try{ub=this.xTa(S + 1,J.zE(D),F,!G,J);}catch(Ib){if(Ib instanceof f){if(P > y)throw new l();throw new m();}throw Ib;}else throw Cb;}wa=ub;for(z=[];-1 < S;S--){za=F.get([S + 1,wa]);M=za[0];P=za[1];wa=za[3];A=za[5];B=za[6];D=za[7];za=za[2];ca=x.Vm[za][S];G=ca.aB();sa=ca.quality;z.unshift({M6a:S,m$:za,info:{okc:G,quality:sa,Ina:P.Uh,Hna:P.wm,k1a:A,Na:B,Vxa:D}});}return z;};d.prototype.xTa=function(x,y,z,A,B){var C,D;C=!1;D=B.P9()[0];for(B=B.P9()[B.P9().length - 1];;){if(y < D || y > B){C=!0;break;}if(z.$ua([x,y]))break;else y=A?y - 1:y + 1;}if(C)throw new f("backtrack fails to find a solution");return y;};d.prototype.Jzb=function(x,y,z,A,B,C,D,F,G,E,I,L,K,H){z=G + A * z.Mn;return void 0 !== y && z > D?(F.put([C,y],[z,x,E,B,I,L,K,H]),!0):!1;};d.prototype.Cvb=function(x,y,z,A){var B,C,D;A=(y.aB() + A) * y.Mn;z=z.iLb(A);A/=z;B=x.Uh - z;C=x.Uh + y.Mn;D=x.qh();D.add(y,void 0);x=x.qh();x.add(y,void 0);try{x.Lcb(z);}catch(F){if(F instanceof v)throw new k();throw F;}return [B,C,D,x,z,A];};f.prototype=Error();l.prototype=new f();m.prototype=new f();n.prototype={FCa:function(x){return x.join(",");},put:function(x,y){this.Ppa[this.FCa(x)]=y;},get:function(x){return this.Ppa[this.FCa(x)];},$ua:function(x){return (this.FCa(x) in this.Ppa);}};t.exports={Uob:d,nfc:c,Nec:k,Oec:g};},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.uQa=void 0;t=a(0);c=t.__importStar(a(9));k=a(14);g=a(14);h=t.__importDefault(a(4));d=a(226);f=a(422);a=(function(){var G80;G80=2;for(;G80 !== 13;){switch(G80){case 2:l.prototype.Ot=function(m,n){var I80,v,p,q,r,u,w,x;I80=2;for(;I80 !== 50;){switch(I80){case 33:return;break;case 28:I80=(u=this.hb.Ue.O.Pb === n && !this.vwb(n) && m === r.ba)?44:39;break;case 44:g.Of.forEach(function(y){var K80;K80=2;for(;K80 !== 1;){switch(K80){case 2:p.hb.px[y].Rk(!0);K80=1;break;}}});I80=43;break;case 19:I80=!this.hb.WSa(n)?18:15;break;case 16:return;break;case 31:this.hb.S.Dd(k.va.dh);this.hb.MBa();this.hb.Ta.pac(m,n);I80=28;break;case 52:var p64="seekDe";p64+="la";p64+="y";p64+="ed";(this.mD={Pb:n,Bk:m},this.hb.emit(p64));I80=50;break;case 23:I80=m > u?22:31;break;case 3:var A64=" p";A64+="layerSt";A64+="ate:";A64+=" ";var t64=" media.";t64+="c";t64+="urrentPt";t64+="s";t64+=": ";var T64=" c";T64+="ur";T64+="rent mani";T64+="fe";T64+="st: ";var O64=" man";O64+="ifes";O64+="tIndex: ";var V64="se";V64+="e";V64+="k: ";r.Ni && this.Gi.Bn(V64 + m + O64 + n + T64 + this.hb.Ue.O.Pb + t64 + u + A64 + this.hb.S.getState());c.na(n) && (n=this.hb.Ue.O.Pb);this.hb.Ta.mfb();I80=7;break;case 42:var n64="s";n64+="ee";n64+="k";var S64="pt";S64+="sch";S64+="ang";S64+="ed";return (this.hb.emit(S64,q),this.hb.emit(n64),this.RU(n),m=u && this.hb.Fb.Kz()?100:0,this.hb.L5(1,m),this.hb.sk(),q);break;case 11:n < u.O.Pb && r.O.zf.replace && (r.O.zf.replace=!1);v=this.hb.Ta.Uc;g.Of.forEach(function(y){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:(y=v.ce(y)) && p.hb.uVa(y);J80=1;break;}}});I80=19;break;case 21:I80=!this.hb.a6(r.O.Pb + 1)?35:31;break;case 2:p=this;null === (q=this.gUa) || void 0 === q?void 0:q.cancel();(r=this.hb.J,u=this.hb.S.Fe());q=m;I80=3;break;case 51:var K64="seekFai";K64+="l";K64+="ed";var c64="seek, no manife";c64+="st a";c64+="t manifestIndex:";(this.G.warn(c64,n),this.hb.emit(K64));I80=50;break;case 53:this.hb.CU();I80=43;break;case 32:(m=u,q=m + this.hb.Ta.Re);I80=31;break;case 18:var G64="se";G64+="ekDela";G64+="ye";G64+="d";this.mD={Pb:n,Bk:m};this.hb.emit(G64);I80=16;break;case 12:I80=n != u.O.Pb?11:26;break;case 39:this.hb.Kla();w=this.hb.Ta.Uc.d7(m).AQ;r.dxa();x=this.hb.Ta.Uc;g.Of.forEach(function(y){var L80,z;L80=2;for(;L80 !== 5;){switch(L80){case 2:z=x.ce(y);p.qc(y) && p.xyb(z,w[y]);L80=5;break;}}});I80=53;break;case 27:return;break;case 25:I80=u.length?24:52;break;case 22:I80=r.O.zf.Xe?21:32;break;case 15:I80=this.Qs(f.Zfa.Cra(n),!1,!0)?27:26;break;case 43:I80=this.hb.S.i8a()?42:41;break;case 26:u=this.hb.Ta.Uc.OW(r.Ma || Infinity,r.O);I80=25;break;case 35:var l64="se";l64+="e";l64+="k";l64+="Dela";l64+="yed";this.mD={Pb:r.O.Pb + 1,Bk:m};this.hb.emit(l64);I80=33;break;case 6:!r.O.zf.UY && 0 < n && (q=this.hb.RN(n,m));this.hb.S.Dd(k.va.xj);u=this.hb.Ue;I80=12;break;case 7:I80=(r=this.hb.Lh(n))?6:51;break;case 41:var q64="seek";q64+="F";q64+="ail";q64+="ed";var Z64="after seeking, playe";Z64+="rState no ";Z64+="longer STARTING: ";this.G.warn(Z64 + this.hb.S.getState());this.hb.emit(q64);I80=50;break;case 24:u=this.hb.Ks?this.hb.Vn?Math.min(u[0].ba,u[1].ba):u[0].ba:u[1].ba;I80=23;break;}}};l.prototype.seek=function(m,n){var M80,p;M80=2;for(;M80 !== 9;){switch(M80){case 4:this.hb.Lh(n).O.zf.UY || this.hb.JM || (p=this.hb.Vu(n,m));return this.Ot(p,n);break;case 2:p=m;c.na(n) && (n=this.hb.Ue.O.Pb);this.hb.Ta.mfb();M80=4;break;}}};l.prototype.Qs=function(m,n,p){var N80,q,r;N80=2;for(;N80 !== 9;){switch(N80){case 5:return r;break;case 1:N80=n?5:4;break;case 2:r=this.hb.Ta.Qs(m,n);N80=1;break;case 4:var m64="s";m64+="e";m64+="e";m64+="k";var R64="pts";R64+="c";R64+="h";R64+="ange";R64+="d";r?(this.hb.S.Dd(k.va.xj),(m=this.hb.Ta.oi.children[m]) && this.hb.emit(R64,null !== (q=m.Ad) && void 0 !== q?q:m.jua),this.hb.S.Dd(k.va.dh),this.hb.emit(m64),m && this.RU(m.O.Pb),this.hb.L5(1),this.hb.sk(),this.hb.Fb.Kz()):p || (q=this.hb.Ta.dSb(m),this.Ot(q));return r;break;case 14:return r;break;N80=4;break;}}};l.prototype.vwb=function(m){var O80;O80=2;for(;O80 !== 1;){switch(O80){case 2:return ! !this.hb.Lh(m).eV;break;}}};G80=3;break;case 3:l.prototype.RU=function(m){var P80,n;P80=2;for(;P80 !== 4;){switch(P80){case 2:n=this;m=this.hb.Lh(m);m.eV || (m.eV=!0,g.Of.forEach(function(p){var Q80;Q80=2;for(;Q80 !== 1;){switch(Q80){case 2:n.hb.hh[p].resume();Q80=1;break;}}}),this.hb.CU());P80=4;break;}}};l.prototype.xyb=function(m,n){var R80,p,q,r;R80=2;for(;R80 !== 8;){switch(R80){case 9:this.hb.qW.fVa(r,m.Wa.O);R80=8;break;case 3:(this.hb.ai.mm.forEach(function(u){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:p.hb.EH(u,!1);S80=1;break;case 4:p.hb.EH(u,+2);S80=9;break;S80=1;break;}}}),this.hb.ai=void 0);R80=9;break;case 4:R80=(null === (q=this.hb.ai) || void 0 === q?0:q.CE())?3:9;break;case 2:(p=this,r=m.mediaType);m.zK(n);m.W6b();R80=4;break;}}};l.prototype.Eka=function(){var T80,m,n;T80=2;for(;T80 !== 4;){switch(T80){case 1:(m=this.mD.Bk,n=this.mD.Pb);this.hb.Lh(n) && (this.mD=void 0,this.Ot(m,n));T80=4;break;case 2:T80=this.mD?1:4;break;}}};G80=7;break;case 7:l.prototype.Jl=function(m){function n(r,u){var V80;V80=2;for(;V80 !== 5;){switch(V80){case 2:var k64="skip: unexpected behaviour - a non-presenti";k64+="ng branch d";k64+="oesn't have";k64+=" a pre";k64+="vious branch";r !== p.hb.Ta.oi && (r.Gg?n(r.Gg,u):p.G.error(k64));(r=r.ce(u)) && r.Jl();V80=5;break;}}}var U80,p,q;U80=2;for(;U80 !== 7;){switch(U80){case 4:this.hb.Ta.oi.Jl(m);g.Of.forEach(function(r){var W80,u;W80=2;for(;W80 !== 9;){switch(W80){case 2:W80=p.qc(r)?1:9;break;case 7:W80=p.qc(r)?7:5;break;W80=p.qc(r)?1:9;break;case 3:n(p.hb.Ta.Uc,r);W80=9;break;case 1:var N64="skip: not resuming bufferMa";N64+="nager, a";N64+="udio track switch i";N64+="n progress";u=p.hb.Fb.Vf[r];p.hb.Ws && (u.yBa=h.default.time.ia());u.UR?u.Mb(N64):p.hb.hh[r].resume();W80=3;break;}}});this.gUa=m=new d.LG(this.hb.EK());return m.uZ(function(){var X80;X80=2;for(;X80 !== 5;){switch(X80){case 2:p.hb.S.Dd(k.va.Jc);p.hb.MU();X80=5;break;}}}).Wza;break;case 2:p=this;null === (q=this.gUa) || void 0 === q?void 0:q.cancel();this.hb.MBa();U80=4;break;}}};l.prototype.Tg=function(m){var Y80,n,p,q;Y80=2;for(;Y80 !== 8;){switch(Y80){case 2:(p=this.hb.Ta.oi,q=0 < Object.keys(p.u && p.u.Xl || ({})).length && !p.nl?p.$e - this.hb.J.aF:p.$e);Y80=1;break;case 5:return !1;break;case 1:Y80=m < (null !== (n=p.Ad) && void 0 !== n?n:p.jua) || m >= q?5:4;break;case 4:n=this.hb.mv(m,0,!0);m=this.hb.mv(m,1,!0);return void 0 !== n && void 0 !== m && n.complete && m.complete;break;}}};return l;break;}}function l(m,n,p,q){var H80;H80=2;for(;H80 !== 9;){switch(H80){case 2:var o64="1SIY";o64+="b";o64+="ZrNJCp9";this.hb=m;this.G=n;this.qc=p;this.Gi=q;o64;H80=9;break;}}}})();b.uQa=a;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VGa=void 0;t=a(0);c=t.__importStar(a(9));k=a(14);g=t.__importDefault(a(4));a=(function(){var Z80;Z80=2;for(;Z80 !== 18;){switch(Z80){case 2:h.prototype.A4=function(){var b90;b90=2;for(;b90 !== 1;){switch(b90){case 2:this.QG && (clearTimeout(this.QG),this.QG=void 0);b90=1;break;}}};h.prototype.mTa=function(){var c90,d,f,l,m;c90=2;for(;c90 !== 6;){switch(c90){case 1:var u64="firstDri";u64+="v";u64+="eS";u64+="treami";u64+="ng";void 0 === this.Ya.ovb && (this.Ya.ovb=!0,this.Ya.Gb.Lm(u64));(d=this.Ya.Ta,f=d.Uc.ce(0),l=d.Uc.ce(1),m=!l || l.Ai);(!f || f.Ai) && m && this.Ya.JM && d.zFb(l?l.Ec:f.Ec);c90=3;break;case 2:c90=!this.Ya.Ti.Xla && !this.Ya.ho()?1:6;break;case 3:l=!l || l.js;f && !f.js || !l || this.Ya.JM || (this.Ya.uc.Sf && this.Ya.uc.Sf.Yq(!0,this.Ya.Im.sessionId),this.Ya.Gb.jbb());this.jTa(d.Uc);c90=7;break;case 7:this.Czb();c90=6;break;}}};h.prototype.FVa=function(){var d90;d90=2;for(;d90 !== 1;){switch(d90){case 2:return this.Ya.ho() || this.Ya.S.k8a() || this.Ya.S.j8a()?!0:!1;break;}}};h.prototype.F4=function(d){var e90;e90=2;for(;e90 !== 1;){switch(e90){case 2:return this.FVa() || this.Ya.Fb.Vf[d.mediaType].UR || this.Ya.Gz.wx?!1:!0;break;}}};Z80=3;break;case 3:h.prototype.sk=function(){var f90,d,f;f90=2;for(;f90 !== 5;){switch(f90){case 2:(d=this,f=this.Ya.J);!this.Ya.PUa || this.Ya.D5 || this.Ya.Q5 || (this.Ya.D5=setTimeout(function(){var g90;g90=2;for(;g90 !== 4;){switch(g90){case 5:d.mTa();g90=4;break;case 2:clearTimeout(d.Ya.D5);d.Ya.D5=void 0;g90=5;break;case 7:d.mTa();g90=2;break;g90=4;break;}}},f.fya),f.oO && this.Ya.Vn && (this.QG || (this.QG=setTimeout(function(){var h90,l;h90=2;for(;h90 !== 3;){switch(h90){case 2:clearTimeout(d.QG);d.QG=void 0;l=d.Ya.Ta.Uc.ce(1);l && d.DSa(l);h90=3;break;}}},f.qAb))));f90=5;break;}}};h.prototype.DSa=function(d,f){var i90,p,l,m,n;i90=2;for(;i90 !== 3;){switch(i90){case 5:p=this.Ya.Fb.Vf[l].Jf;p && (this.Ya.S.Eg() || this.Ya.fh.pAb(l,p,m.bitrate,n.bitrate,d.VTb.bitrate,f));i90=3;break;case 1:i90=m && n?5:3;break;case 7:i90=m || n?6:0;break;i90=m && n?5:3;break;case 2:(l=d.mediaType,m=this.Ya.Fb.ly[l].nJ,n=d.ze.sY);i90=1;break;}}};h.prototype.jTa=function(d,f){var j90,l,m,n,p,q;j90=2;for(;j90 !== 7;){switch(j90){case 4:j90=(this.Ya.Vn && this.kTa(d,m,n),this.Ya.Ks && this.kTa(d,n,m),p=!n || n.Ai,q=!m || m.Ai,!q || !p)?3:9;break;case 2:(l=d.u,m=d.ce(1),n=d.ce(0),p=!n || n.Ai,q=!m || m.Ai);l.gm || this.Ya.Ta.Aba(d,l,d.O.zf.Xe && 0 === d.O.Pb);j90=5;break;case 3:return;break;case 9:var I64="S";I64+="ti";I64+="ll in buffering state while p";I64+="ipeline's are done";this.Ya.S.Eg() && (this.G.warn(I64),this.Ya.Fb.Kz());f || l.tw || d.O.zf.Xe || !this.GEb(d) || ((f=this.Ya.S.Eg()) && this.Ya.J.ypa && (this.Ya.Sla(),f=!1),d.O8 || this.Ya.Ta.ZTb(d,f),d.uN(),d.HEb() && (f=Object.keys(d.children),this.Ya.J.f8 && 1 === f.length && !d.children[f[0]].active && this.Ya.Ta.M9a(d,f[0]),this.svb(d,l)));j90=7;break;case 5:j90=!q || !p?4:9;break;}}};Z80=7;break;case 11:h.prototype.Wvb=function(d){var w90;w90=2;for(;w90 !== 1;){switch(w90){case 2:return this.Ya.Ta.eb.reduce(function(f,l){var x90;x90=2;for(;x90 !== 1;){switch(x90){case 2:return f + l.XRb(d);break;case 4:return f / l.XRb(d);break;x90=1;break;}}},0);break;}}};Z80=10;break;case 7:h.prototype.svb=function(d,f){var k90,m,l,n,p,q,r,u,v;k90=2;for(;k90 !== 23;){switch(k90){case 3:d.oM=void 0;k90=8;break;case 5:m=d.oM.Ln;k90=4;break;case 20:k90=0 === r.length?19:17;break;case 2:l=this.Ya.J;k90=1;break;case 9:(n=d.oM,p=f.Xl[n.u.id].weight);k90=8;break;case 19:var g64="No subbranch can";g64+="d";g64+="idat";g64+="es to";g64+=" drive";this.G.warn(g64);k90=18;break;case 4:k90=Math.min(m[0] - d.gka[0],m[1] - d.gka[1]) >= l.YEb?3:9;break;case 7:(q=[],r=[]);c.Df(d.children,function(w,x){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:x=f.Xl[x].weight;0 !== x && (x={weight:x,Wa:w},w.ooa(!0,!0) || r.push(x),q.push(x));l90=5;break;}}});0 === r.length?r=q:2 < r.length && (r.sort(function(w,x){var m90;m90=2;for(;m90 !== 1;){switch(m90){case 2:return x.weight - w.weight;break;}}}),r.length=2);k90=13;break;case 12:n=r.reduce(function(w,x){var n90;n90=2;for(;n90 !== 4;){switch(n90){case 1:x.bba=Math.min(x.Ln[0],x.Ln[1]);return [w[0] + x.weight,w[1] + x.bba];break;case 2:x.Ln=x.Wa.Ln;n90=1;break;case 9:x.Ln=x.Wa.Ln;n90=9;break;n90=1;break;}}},[0,0]);(u=n[0],v=n[1]);k90=10;break;case 26:n.ue || (n.ue={x$:g.default.time.ia(),aC:0});n.ue.weight=p;this.jTa(n,!0);k90=23;break;case 10:0 !== u && 0 !== v?(c.Df(r,function(w){var o90;o90=2;for(;o90 !== 4;){switch(o90){case 2:w.Qdc=w.weight / u;w.qDb=w.bba / v;w.usage=w.qDb - w.Qdc;o90=4;break;}}}),r.sort(function(w,x){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return w.usage - x.usage;break;}}})):r.sort(function(w,x){var r90;r90=2;for(;r90 !== 4;){switch(r90){case 2:w=Math.min.apply(null,w.Wa.Ln);x=Math.min.apply(null,x.Wa.Ln);a000.h9X(0);return a000.X9X(x,w);break;}}});k90=20;break;case 8:k90=!n?7:26;break;case 17:n=r[0].Wa;p=r[0].weight;d.oM=n;k90=27;break;case 1:k90=this.Ya.uc.Pta && d.oM && d.gka?5:8;break;case 18:return;break;case 27:d.gka=n.Ln;k90=26;break;case 13:k90=1 < r.length?12:20;break;}}};Z80=6;break;case 10:h.prototype.GEb=function(d){var y90,f,l,m;y90=2;for(;y90 !== 4;){switch(y90){case 2:(f=this,l=this.Ya.Ta,m=!0);c.Df(d.u.Xl,function(n,p){var z90,q;z90=2;for(;z90 !== 7;){switch(z90){case 9:f.Ya.S.Mo(p) || (m=!1);z90=7;break;case 8:var D64="in ";D64+="de";D64+="sts:";var E64="inv";E64+="al";E64+="i";E64+="d segme";E64+="nt:";d.Mb(E64,p,D64,d.u.Xl);z90=7;break;case 1:p=n.O;n=p.Oh[0];q=p.Oh[1];n && q && n.stream.Ud && q.stream.Ud || (m=!1);z90=9;break;case 2:z90=(n=l.Ye(p))?1:8;break;}}});return m;break;}}};h.prototype.Czb=function(){var A90,d,f,l;A90=2;for(;A90 !== 5;){switch(A90){case 2:(d=this.Ya.J,f=this.Ya.Ta,l=f.Uc);this.Ya.S.Eg() || f.Bx(l,1) < d.aZ || l.O.DCa();A90=5;break;}}};return h;break;case 6:h.prototype.kTa=function(d,f,l){var s90,p,q,r,u,m,n;s90=2;for(;s90 !== 8;){switch(s90){case 5:(p=this.Ya.Fb.Vf[n],q=this.Ya.Fb.lC[n],r=this.Ya.Fb.ly[n]);s90=4;break;case 3:var Y04="Still in b";Y04+="uffering state while pipeline";Y04+=" does not have vacancy";var C04="drivePipeline, delaying audio unti";C04+="l video ac";C04+="tualStartPts ";C04+="determi";C04+="ned";u=this.Ya.Ue;c.na(u.HJ) || (m.iK && 0 === n && c.na(this.Ya.Fb.Vf[1].Kp)?f.Mb(C04):(c.na(f.fm) && (f.fm=f.dd?f.dd.index:f.Vqa(f.ec)),f.Jd && f.fm > f.Jd.index?d.O.zf.Xe && c.na(u.Ma) && c.na(d.Ec) || (f.Ai || this.Ya.uVa(f),d=this.Ya.Ue.O.Pb,d < this.Ya.RO() - 1 && this.Ya.a6(d + 1)):this.F4(f) && (m.hMb && !this.Ya.S.Eg() && 0 >= f.vJ?f.ncc(m.vZb):this.Sub(f,l)?(f.cXb=g.default.time.ia(),l=this.Ya.Fb.Vsa(f),m=l.Lf,c.na(m) || (m=f.track.gd[m],this.Rub(f,m) || ((n=m.s9())?(f.UWb=m.bitrate,f.uYb(m,n,this.Ya.S.Eg(),p.Jf,l.qy),this.ycc(m,r,q),d.ue && ++d.ue.aC):m.PF()))):this.Ya.S.Eg() && (f.Bj(Y04),this.Ya.Fb.Kz()))));s90=8;break;case 2:(m=this.Ya.J,n=f.mediaType);s90=1;break;case 1:s90=!f.Ai?5:8;break;case 4:s90=p.Jf && (void 0 === f.PJ || (f.zK(f.PJ,f.M2b),void 0 === f.PJ))?3:8;break;}}};h.prototype.ycc=function(d,f,l){var t90;t90=2;for(;t90 !== 4;){switch(t90){case 2:f.lva=d.Gc;c.Ja(l.Ox) || (l.vcc(d.Qt,d.iB || -1,d.bitrate),c.na(d.zAa) || this.Ya.fh.ygb(d.zAa,d.Zp,d.$p));d.url && (f.sva=d.url);t90=4;break;}}};h.prototype.Rub=function(d,f){var u90,l;u90=2;for(;u90 !== 5;){switch(u90){case 2:l=this.Ya.Fb.ly[d.mediaType];return this.Ya.PUa && f.Gc && l.lva && f.Gc !== l.lva && (0 < d.Sa.iF || 0 < d.Sa.Zt)?!0:!1;break;}}};h.prototype.Sub=function(d,f){var v90,x,l,m,n,p,q,r,u,v,w;v90=2;for(;v90 !== 32;){switch(v90){case 15:v90=void 0 === v || v < m.QYb?27:26;break;case 6:l=this.Ya.Ue.O;x=this.Ya.S.Mo(l);v90=13;break;case 21:v90=(p=this.Ya.S.Eg())?35:33;break;case 17:v=void 0;v90=16;break;case 22:return !1;break;case 25:return !1;break;case 7:return !1;break;case 20:v90=f && (x=this.Ya.Ta.XH(p,f.mediaType),w=d.ec - w,this.qc(f.mediaType) && !f.Ai && w >= m.rwa && v > m.kj)?19:26;break;case 11:r=this.Ya.Ta.XH(p,n);x=0;v90=20;break;case 24:v=this.Ya.Ta.ibc();v90=23;break;case 19:v90=this.Ya.uc.Uua?18:17;break;case 35:v90=(q=1,d.Kna < m.yB && (q=m.yB),d.Sa.iF >= q)?34:33;break;case 13:v90=r === k.va.Jc && u > m.iwa && !l.zf.Xe && !x && !l.TY || u && q > Math.max(u * m.nwa / 100,m.WZb)?12:11;break;case 16:f && (v=f.mediaType,w=g.default.Xp()[v],v=m.Ncc?this.Ya.Ta.N9a(p,v).Ae / w:x / w);v90=15;break;case 27:return !1;break;case 9:q=d.Sa.Sxa;v90=8;break;case 2:var e04="f";e04+="loor";e04+="ed ";e04+="to";e04+=" 0";var w04="negative";w04+=" scheduledBuffe";w04+="rLevel:";(m=this.Ya.J,n=d.mediaType,p=d.oaa,q=this.Ya.S.Fe(),r=this.Ya.S.getState(),u=this.Ya.Ta.Bx(p,n),v=d.ec + p.Re - q);0 > v && (d.Mb(w04,v,e04),v=0);w=f?f.ec:0;v90=4;break;case 23:v90=!c.na(m.iy) && v >= m.iy || d.PN + q >= Math.max(m.hq,this.Ya.uc.hC + m.nxa * p.O.UYb[n])?22:21;break;case 4:v90=(null === (l=d.Ah) || void 0 === l?0:l.wTb())?3:9;break;case 26:v90=this.Wvb(n) >= m.x$a?25:24;break;case 18:return !1;break;case 12:return !1;break;case 3:return !1;break;case 8:v90=q >= m.Jaa?7:6;break;case 33:return 0 < m.Ov && !p && r + (f?x:0) > m.Ov || void 0 !== this.SSa && u > this.SSa || 1 === n && l.zf.Xe && u > m.Faa && (f=this.Ya.uc.Vb.get(),f.confidence && f.Na && f.Na.oa * d.PN > m.kwa)?!1:!0;break;case 34:return !1;break;}}};Z80=11;break;}}function h(d,f,l){var a90;a90=2;for(;a90 !== 9;){switch(a90){case 4:var F04="1SI";F04+="Yb";F04+="Z";F04+="rNJCp";F04+="9";F04;this.SSa=this.QG=void 0;a90=9;break;case 2:this.Ya=d;this.G=f;this.qc=l;a90=4;break;}}}})();b.VGa=a;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.xKa=void 0;c=a(173);k=a(14);g=a(14);h=a(7);t=(function(){function d(f,l,m,n){var C90;C90=2;for(;C90 !== 8;){switch(C90){case 2:this.bc=f;this.G=l;this.qc=m;this.rH=n;this.MUa=this.Xla=!1;C90=9;break;case 9:var f04="1SI";f04+="YbZrN";f04+="JC";f04+="p9";f04;C90=8;break;}}}var B90;B90=2;for(;B90 !== 6;){switch(B90){case 4:d.prototype.resume=function(){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:this.Xla=!1;this.bc.Bg.sk();J90=5;break;}}};d.prototype.close=function(){var K90,f;K90=2;for(;K90 !== 6;){switch(K90){case 8:this.bc.Gb.jbb();this.bc.Meb();K90=6;break;case 2:f=this.bc.J;this.MUa=!0;this.stop();K90=4;break;case 4:var x04="en";x04+="d";x04+="pl";x04+="a";x04+="y";var B04="l";B04+="og";B04+="da";B04+="t";B04+="a";var d04="cl";d04+="o";d04+="se";this.bc.emit(d04);f.D1a && (f=c.dz.instance().yb()) && (f={type:B04,target:x04,fields:{bridgestat:f}},h.bb(this.bc,f.type,f));this.bc.uc.Sf && this.bc.uc.Sf.Yq(!0,this.bc.Im.sessionId,!0);K90=8;break;}}};d.prototype.flush=function(){var L90,f,l,m,n,p,q,r,u,M90;L90=2;for(;L90 !== 16;){switch(L90){case 2:(l=this.bc.J,m=this.bc.uc.Vb);L90=1;break;case 1:L90=m?5:19;break;case 5:(n={},p=m.get(),q={});p && p.avtp && p.avtp.oa && (n.avtp=p.avtp.oa,n.dltm=p.avtp.a8,q.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.oa && (n.initial_avtp=p.initialThroughput.oa);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);m.flush();(r=m.f4a(),u=m.bWa);L90=6;break;case 6:L90=r?14:13;break;case 14:for(var v in r){var X04="n";X04+="e";var Q04="n";Q04+="e";var z04="n";z04+="e";r.hasOwnProperty(v) && (n[z04 + v]=Number(r[v]).toFixed(6),q[Q04 + v]=1 * n[X04 + v]);}L90=13;break;case 17:try{M90=2;for(;M90 !== 1;){switch(M90){case 2:this.bc.r8(k.va.ss);M90=1;break;}}}catch(w){var j04="Hin";j04+="dsight";j04+=": Error evalua";j04+="ting QoE at s";j04+="topping: ";a000.h9X(7);this.bc.Gb.Ro(a000.Q9X(j04,w));}L90=16;break;case 13:var v04="endp";v04+="l";v04+="a";v04+="y";var h04="l";h04+="og";h04+="d";h04+="at";h04+="a";u && u.length && (n.activeRequests=JSON.stringify(u));n.aseApiVersion=this.bc.MH;l.A1a && (m=m.A9()) && (m.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,n.bytestotalVideo=m.bytestotalVideo,n.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,n.bytestotalAudio=m.bytestotalAudio,n.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (n.pacedAvtp=m.pacedAvtp));Object.keys(n).length && (n={type:h04,target:v04,fields:n},h.bb(this.bc,n.type,n));L90=20;break;case 18:L90=this.rH.Ws?17:16;break;case 20:var s04="en";s04+="d";s04+="p";s04+="l";s04+="ay";var M04="l";M04+="og";M04+="data";var W04="throughpu";W04+="t";W04+="-sw";var H04="throughpu";H04+="t-s";H04+="w";var i04="t";i04+="hrough";i04+="put-sw";var J04="th";J04+="ro";J04+="u";J04+="ghput";J04+="-sw";l.DW && (p && p[J04] && p[i04].oa && this.bc.rw.FAb({avtp:p[H04].oa,variance:p[W04].ee}),this.bc.rw.zAb(q,null === (f=p.avtp) || void 0 === f?void 0:f.a8),f=this.bc.rw.TPb(),l=this.bc.rw.gSb(),f && (f.n=l,f={type:M04,target:s04,fields:{ibef:f}},h.bb(this.bc,f.type,f),this.bc.rw.save()));L90=19;break;case 19:this.bc.Gb.CUa();L90=18;break;}}};B90=8;break;case 2:d.prototype.play=function(){var D90,f;D90=2;for(;D90 !== 5;){switch(D90){case 2:var r04="p";r04+="l";r04+="a";r04+="y";var U04="play ";U04+="called after pipelines";U04+=" ";U04+="already shutdown";f=this;this.ho()?this.G.warn(U04):(this.bc.S.Dd(k.va.Jc),this.bc.kzb(),this.bc.Fb.Vf.forEach(function(l){var E90;E90=2;for(;E90 !== 1;){switch(E90){case 2:var P04="play: not r";P04+="e";P04+="suming bufferM";P04+="anager";P04+=", audio track switch in progress";f.qc(l.mediaType) && (l.UR?l.Mb(P04):(f.bc.hh[l.mediaType].resume(),f.bc.px[l.mediaType].resume()));E90=1;break;}}}),this.bc.MU(),this.bc.emit(r04));D90=5;break;}}};d.prototype.stop=function(){var F90,n,f,l,m;F90=2;for(;F90 !== 6;){switch(F90){case 3:var a04="s";a04+="to";a04+="p";n=this.bc.Ta.Uc;g.Of.forEach(function(p){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 3:G90=(p=n.ce(p))?0:7;break;G90=(p=n.ce(p))?1:5;break;case 1:p.Ai=!1;G90=5;break;case 2:G90=(p=n.ce(p))?1:5;break;case 9:p.Ai=~0;G90=3;break;G90=5;break;}}});g.Of.forEach(function(p){var H90;H90=2;for(;H90 !== 1;){switch(H90){case 2:(p=f.bc.hh[p]) && p.pause();H90=1;break;}}});this.bc.emit(a04);F90=6;break;case 2:(f=this,l=this.bc.S.k8a(),m=this.bc.S.j8a());this.bc.S.Dd(k.va.ss);this.bc.A4();l || m || this.bc.Ta.oi.Ny(!1,this.bc.S);F90=3;break;}}};d.prototype.suspend=function(){var I90;I90=2;for(;I90 !== 1;){switch(I90){case 4:this.Xla=+1;I90=9;break;I90=1;break;case 2:this.Xla=!0;I90=1;break;}}};B90=4;break;case 8:d.prototype.ho=function(){var N90;N90=2;for(;N90 !== 1;){switch(N90){case 2:return this.MUa || this.bc.Ta.Jk;break;case 4:return this.MUa && this.bc.Ta.Jk;break;N90=1;break;}}};return d;break;}}})();b.xKa=t;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yMa=void 0;t=a(0);c=t.__importStar(a(9));k=a(123);g=t.__importDefault(a(28)).default.$a;h=t.__importDefault(a(4));d=a(7);f=a(2);a=(function(){function l(m,n){var P90;P90=2;for(;P90 !== 4;){switch(P90){case 2:var b04="1S";b04+="I";b04+="YbZrNJCp";b04+="9";this.kb=m;this.G=n;b04;P90=4;break;}}}var O90;O90=2;for(;O90 !== 38;){switch(O90){case 42:l.prototype.jbb=function(){var D01,m;D01=2;for(;D01 !== 3;){switch(D01){case 1:var L04="st";L04+="reamere";L04+="nd";this.tzb=!0;m={type:L04,time:h.default.time.ia()};d.bb(this.kb,m.type,m);D01=3;break;case 2:D01=!this.tzb && this.kb.J.gbb?1:3;break;}}};l.prototype.f0b=function(m){var E01;E01=2;for(;E01 !== 5;){switch(E01){case 2:var y04="streamSelecti";y04+="onAugme";y04+="ntData";m={type:y04,augmentData:m,fragmentIndex:m[0].me};d.bb(this.kb,m.type,m);E01=5;break;}}};l.prototype.Bn=function(m){var F01;F01=2;for(;F01 !== 5;){switch(F01){case 2:var V04=",";V04+=" ";var p04="manager";p04+="debuge";p04+="vent";m={type:p04,message:"@" + h.default.time.ia() + V04 + m};d.bb(this.kb,m.type,m);F01=5;break;}}};O90=39;break;case 20:l.prototype.zxb=function(m,n,p,q,r){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var O04="manife";O04+="st";O04+="Rang";O04+="e";m={type:O04,index:m,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(r)};d.bb(this.kb,m.type,m);f01=5;break;}}};l.prototype.FUa=function(m){var g01;g01=2;for(;g01 !== 5;){switch(g01){case 2:var T04="ma";T04+="xBit";T04+="r";T04+="ate";T04+="s";m={type:T04,audio:m[0],video:m[1]};d.bb(this.kb,m.type,m);g01=5;break;}}};O90=18;break;case 2:l.prototype.Lm=function(m){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var t04="startE";t04+="ven";t04+="t";m={type:t04,event:m,time:h.default.time.ia()};d.bb(this.kb,m.type,m);Q90=5;break;}}};l.prototype.Dxb=function(){var R90,m;R90=2;for(;R90 !== 5;){switch(R90){case 2:var A04="o";A04+="p";A04+="enCo";A04+="mplete";m={type:A04};d.bb(this.kb,m.type,m);R90=5;break;}}};l.prototype.Exb=function(m,n,p,q,r){var S90;S90=2;for(;S90 !== 1;){switch(S90){case 2:var S04="p";S04+="tsS";S04+="ta";S04+="rts";this.kb.J.JKb || (m={type:S04,manifestIndex:m,mediaType:n,movieId:q,streamId:p,ptsStarts:r.Ehb()},d.bb(this.kb,m.type,m));S90=1;break;}}};l.prototype.uxb=function(m,n){var T90;T90=2;for(;T90 !== 5;){switch(T90){case 2:var n04="head";n04+="e";n04+="r";n04+="CacheHit";m={type:n04,movieId:m,streamId:n};d.bb(this.kb,m.type,m);T90=5;break;}}};O90=3;break;case 33:l.prototype.Iwb=function(m){var v01,n,p,q;v01=2;for(;v01 !== 7;){switch(v01){case 1:c.Ja(m.v0);v01=5;break;case 2:v01=!c.na(m)?1:7;break;case 9:var K04=",";K04+=" ";K04+="syste";K04+="mD";K04+="elta: ";var c04="me";c04+="mo";c04+="ryUsage at";c04+=" time: ";c.Ja(m.v0) && c.Ja(this.LM.v0) && (n=m.v0 - this.LM.v0,4194304 < n && this.G.warn(c04 + h.default.time.ia(),K04 + n));v01=8;break;case 8:this.LM=m;v01=7;break;case 5:v01=!c.na(this.LM)?4:8;break;case 4:var q04=", ";q04+="o";q04+="sAllocatorDelta: ";var Z04=", j";Z04+="sHeapDe";Z04+="lta: ";var l04=", f";l04+="astMallo";l04+="cDelta: ";var G04="memor";G04+="yUs";G04+="age at time: ";(n=m.m2a - this.LM.m2a,p=m.z6a - this.LM.z6a,q=m.Rbb - this.LM.Rbb);(4194304 < n || 4194304 < q) && this.G.warn(G04 + h.default.time.ia() + l04 + n + Z04 + p + q04 + q);v01=9;break;}}};l.prototype.Mxb=function(){var w01,m;w01=2;for(;w01 !== 3;){switch(w01){case 2:var R04="str";R04+="eaming";R04+="s";R04+="tat";this.kb.J.YXb && h.default.memory.zQb(this.Iwb.bind(this));m={type:R04,time:h.default.time.ia(),playbackTime:this.kb.S.Fe()};w01=5;break;case 5:this.kb.fh.yNb(m);d.bb(this.kb,m.type,m);w01=3;break;}}};l.prototype.CUa=function(){var x01,m;x01=2;for(;x01 !== 4;){switch(x01){case 1:var m04="aserep";m04+="o";m04+="rt";m={type:m04};this.kb.Jt.wNb(m) && d.bb(this.kb,m.type,m);x01=4;break;case 2:x01=this.kb.Jt?1:4;break;}}};l.prototype.lxb=function(){var y01,m;y01=2;for(;y01 !== 5;){switch(y01){case 2:var k04="ase";k04+="reportena";k04+="ble";k04+="d";m={type:k04};d.bb(this.kb,m.type,m);y01=5;break;}}};O90=29;break;case 39:return l;break;case 21:l.prototype.oxb=function(){var s01,m,n,p,q,r;s01=2;for(;s01 !== 3;){switch(s01){case 2:var N04="bu";N04+="f";N04+="fe";N04+="r";N04+="ing";(m=this.kb.J,n=h.default.time.ia(),p=this.kb.Ta.Uc,q=this.kb.Vn?1:0,r=p.Za(q));p=p.Kh(q);m=Math.min(Math.max(Math.round(100 * (r.VE?(n - this.kb.$ja) / m.RB:r.progress?r.progress:p / m.kj)),this.dla),99);m != this.dla && (n={type:N04,time:n,percentage:m},d.bb(this.kb,n.type,n),this.dla=m);s01=3;break;}}};l.prototype.nla=function(){var t01,m,n,p,q,r;t01=2;for(;t01 !== 8;){switch(t01){case 4:var o04="buffer";o04+="ingCom";o04+="pl";o04+="ete";m={type:o04,time:h.default.time.ia(),actualStartPts:r,aBufferLevelMs:m.Kh(0),vBufferLevelMs:m.Kh(1),selector:p?p.YQ:n.YQ,initBitrate:q.Ox,skipbackBufferSizeBytes:this.kb.uc.BF};this.kb.fh.xNb({initSelReason:q.jB,initSelectionPredictedDelay:q.iB,buffCompleteReason:q.Ru,hashindsight:this.kb.Ws,hasasereport:! !this.kb.Jt,bcVBufferLevelMs:m.vBufferLevelMs,bcABufferLevelMs:m.aBufferLevelMs});d.bb(this.kb,m.type,m);t01=8;break;case 2:(m=this.kb.Ta.Uc,n=m.Za(0),p=m.Za(1));this.DUa();(q=this.kb.Vn?this.kb.Fb.lC[g.Jb]:this.kb.Fb.lC[g.cc],r=q.CV);t01=4;break;}}};l.prototype.DUa=function(){var u01,m,n,p,q,r,u,v;u01=2;for(;u01 !== 12;){switch(u01){case 1:u01=!this.kb.ho()?5:12;break;case 2:m=this.kb.J;u01=1;break;case 5:var u04="up";u04+="dateBuf";u04+="ferLevel";(n=this.kb.Ta.Uc,p=n.Kh(0),q=n.Kh(1));this.kb.fh.sAb(p,q);r=this.kb.uc.Vb.get();r=r.confidence?r.Na.oa:0;(u=this.kb.Ta,v=u.XH(n,0));n=u.XH(n,1);p={type:u04,abuflbytes:v,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:r};u01=14;break;case 14:q > m.aab && this.kb.uc.Sf && this.kb.uc.Sf.Yq(!0,this.kb.Im.sessionId);d.bb(this.kb,p.type,p);u01=12;break;}}};O90=33;break;case 18:l.prototype.Axb=function(m,n){var h01,p;h01=2;for(;h01 !== 3;){switch(h01){case 2:var g04="notifyManifestSe";g04+="l";g04+="ected: ";var I04="man";I04+="ife";I04+="stSelected";p=this.kb.J;m={type:I04,index:m,replace:n.O.zf.replace,ptsStarts:n.AQ,streamingOffset:n.ba + n.gy};p.Ni && (n=g04 + JSON.stringify(m),p.Ni && this.Bn(n));d.bb(this.kb,m.type,m);h01=3;break;}}};l.prototype.yxb=function(m,n,p,q,r){var i01;i01=2;for(;i01 !== 4;){switch(i01){case 2:var E04="manif";E04+="estPr";E04+="esen";E04+="ting";m={type:E04,index:m.Pb,pts:Math.floor(n),movieId:m.I,replace:m.zf.replace,contentOffset:p};null != q && null != r && (m.previousMovieId=q,m.previousIndex=r);d.bb(this.kb,m.type,m);i01=4;break;}}};l.prototype.Ixb=function(m,n,p,q){var j01,r;j01=2;for(;j01 !== 3;){switch(j01){case 4:d.bb(this.kb,m.type,m);j01=3;break;case 2:var D04="st";D04+="reamP";D04+="re";D04+="senting";r=m.mediaType;k.zm.Wp(r);m={type:D04,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:r,manifestIndex:q,trackIndex:m.track.zD,streamIndex:m.Lf};j01=4;break;}}};l.prototype.Nxb=function(m){var k01;k01=2;for(;k01 !== 5;){switch(k01){case 2:var C14="v";C14+="id";C14+="eoLoo";C14+="ped";m={type:C14,offset:m};d.bb(this.kb,m.type,m);k01=5;break;}}};l.prototype.Lxb=function(m,n,p,q,r){var l01;l01=2;for(;l01 !== 4;){switch(l01){case 2:var Y14="updateSt";Y14+="r";Y14+="eamingPts";n={type:Y14,mediaType:m,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:r};k.zm.Wp(m);d.bb(this.kb,n.type,n);l01=4;break;}}};l.prototype.sxb=function(m){var m01;m01=2;for(;m01 !== 5;){switch(m01){case 2:var w14="firstR";w14+="equ";w14+="es";w14+="tAppend";w14+="ed";m={type:w14,manifestIndex:m.Sa.Wa.O.Pb,mediatype:m.mediaType,time:h.default.time.ia()};d.bb(this.kb,m.type,m);m01=5;break;}}};l.prototype.wxb=function(m,n){var n01;n01=2;for(;n01 !== 5;){switch(n01){case 2:var e14="i";e14+="ni";e14+="tialA";e14+="udioTr";e14+="ack";m={type:e14,trackId:n,trackIndex:m};d.bb(this.kb,m.type,m);n01=5;break;}}};O90=24;break;case 3:l.prototype.txb=function(m,n,p,q,r){var U90,u;U90=2;for(;U90 !== 3;){switch(U90){case 2:var F14="h";F14+="eaderCach";F14+="eData";F14+="Hi";F14+="t";u=this.kb.QTa;this.kb.QTa=void 0;m={type:F14,movieId:m,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:r,actualStartPts:u && u.Kp,headerCount:u && u.eP,stats:u && u.Wb};d.bb(this.kb,m.type,m);U90=3;break;}}};l.prototype.Bxb=function(m,n,p,q){var V90;V90=2;for(;V90 !== 5;){switch(V90){case 2:var f14="max";f14+="Pos";f14+="i";f14+="ti";f14+="on";m={type:f14,index:m,endPts:n,maxPts:p,maxSeekPts:q};d.bb(this.kb,m.type,m);V90=5;break;}}};l.prototype.Kxb=function(m,n,p,q,r,u,v){var W90;W90=2;for(;W90 !== 3;){switch(W90){case 2:var B14="notif";B14+="yStre";B14+="aming";B14+="Err";B14+="or: ";var d14="e";d14+="rr";d14+="o";d14+="r";void 0 === v && (v=!1);m={type:d14,error:m,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:r,manifestIndex:u,temporaryFailure:v};this.G.error(B14 + JSON.stringify(m));d.bb(this.kb,m.type,m);W90=3;break;}}};l.prototype.u5=function(m,n){var X90;X90=2;for(;X90 !== 5;){switch(X90){case 2:var x14="se";x14+="gmentStarti";x14+="ng";n={type:x14,segmentId:m.id,contentOffset:n,maxBitrates:{audio:m.O.yt[0],video:m.O.yt[1]}};m.oF || d.bb(this.kb,n.type,n);X90=5;break;}}};O90=6;break;case 29:l.prototype.vxb=function(m){var m94=a000;var z01,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,H;z01=2;for(;z01 !== 6;){switch(z01){case 2:z01=m?1:6;break;case 1:var z14="h";z14+="indsigh";z14+="tr";z14+="epor";z14+="t";(n={type:z14},p=this.kb.J.i$);for(H in p){var h14="hvmaf";h14+="d";h14+="p";var j14="hvm";j14+="af";j14+="g";j14+="r";var X14="hv";X14+="maf";X14+="tb";var Q14="h";Q14+="t";Q14+="w";Q14+="b";Q14+="r";q=p[H];r=0;u=0;v=0;w=0;x=0;y=0;z=void 0;A=void 0;B=!1;C=-1;D=-1;F=-1;G=-1;E=-1;I=-1;for(L in m){A=m[L];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,v+=z.dlvdur,r+=z.dltwbr * z.dlvdur,u+=z.dlvmaf * z.dlvdur);y+=A.pbdur;w+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (C=1 * w / y,G=1 * x / y);B && (0 < v && (D=1 * r / v,E=1 * u / v),0 < v + y && (F=1 * (r + w) / (v + y),I=1 * (u + x) / (v + y)));switch(q){case Q14:n.htwbr=F;n.hptwbr=D;n.pbtwbr=C;z && (n.rr=z,n.ra=A);break;case X14:n.hvmaftb=I;n.hpvmaftb=E;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case j14:n.hvmafgr=I;n.hpvmafgr=E;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case h14:(n.hvmafdp=I,n.hpvmafdp=E,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}z01=4;break;case 4:z01=this.kb.zW || this.kb.Fy?3:9;break;case 9:z01=this.kb.Fy?8:7;break;case 3:n.report=m;z01=9;break;case 7:d.bb(this.kb,n.type,n);z01=6;break;case 8:for(var K in m){if((p=m[K],void 0 !== p.qhb))for(q in p.qhb){if((z=p.qhb[q],void 0 !== z.iea)){var H14=" a";H14+="n";H14+="d";H14+=" ";var i14="e";i14+="xpect s";i14+="ol.str";i14+="msel.len";i14+="gth === sol.fragsel.length but got ";var J14="expect";J14+=" repo";J14+="rt.fragmentsPrebuffered";J14+=" !== undefined";var v14="e";v14+="xpe";v14+="ct report.fragmentsP";v14+="rebuffered !==";v14+=" undefined";H=void 0 !== p.e3a;H || (console.error(v14),f.assert(H,J14));H=[];for(var R in p.e3a){r=p.e3a[R];H.push({aa:r.aa,Mn:r.duration / 1E3,quality:r.cb});}H=z.iea.length === z.f3a.length;r=i14 + z.iea.length + H14 + z.f3a.length;H || (console.error(r),f.assert(H,r));H=[];r=0;for(var O in z.iea){v=z.iea[O];u=z.f3a[O];m94.h9X(7);r=v=m94.X9X(r,v);H.push({Voc:v,ypc:z.k1a[O],slc:z.Na[O],Ina:z.Ina[O],Hna:z.Hna[O],cYa:z.cYa[O],Ikc:{aa:u.aa,Mn:u.duration / 1E3,quality:u.cb?u.cb:z.gd[v].cb,apc:u.Lf,Jkc:u.pe},keb:0,woc:0,Vxa:z.Vxa[O]});}z=[];H=0;for(var J in p.pC.trace){r=p.pC.trace[J];m94.h9X(7);H=r=m94.Q9X(H,r);z.push(r);}}}}z01=7;break;}}};l.prototype.rxb=function(m){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:var W14="endOfS";W14+="tre";W14+="a";W14+="m";m={type:W14,mediaType:m};d.bb(this.kb,m.type,m);A01=5;break;}}};l.prototype.Ro=function(m){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:var s14="a";s14+="see";s14+="xception";var M14="aseexc";M14+="e";M14+="p";M14+="tion";this.kb.emit(M14,{type:s14,msg:m});B01=1;break;}}};l.prototype.Z_b=function(m,n,p,q){var C01;C01=2;for(;C01 !== 5;){switch(C01){case 2:var P14="ma";P14+="xvide";P14+="o";P14+="bitratechanged";var U14="maxvi";U14+="d";U14+="eobi";U14+="tratechang";U14+="ed";m={type:U14,time:h.default.time.ia(),spts:q,maxvb_old:m,maxvb:n,reason:p};this.kb.emit(P14,m);C01=5;break;}}};O90=42;break;case 24:l.prototype.nxb=function(m,n){var o01;o01=2;for(;o01 !== 3;){switch(o01){case 2:var r14="audi";r14+="oTrackS";r14+="witc";r14+="hSta";r14+="rted";m=m.Er;n=n.Er;n={type:r14,oldLangCode:m.language,oldNumChannels:m.channels,newLangCode:n.language,newNumChannels:n.channels};o01=4;break;case 4:d.bb(this.kb,n.type,n);o01=3;break;}}};l.prototype.mxb=function(m,n){var p01,p;p01=2;for(;p01 !== 5;){switch(p01){case 2:p=this;setTimeout(function(){var q01,q;q01=2;for(;q01 !== 5;){switch(q01){case 2:var a14="audioT";a14+="r";a14+="ac";a14+="kSwitchComp";a14+="lete";q={type:a14,trackId:m,trackIndex:n};d.bb(p.kb,q.type,q);q01=5;break;}}},0);p01=5;break;}}};l.prototype.qxb=function(m){var r01,n;r01=2;for(;r01 !== 4;){switch(r01){case 2:var b14="buff";b14+="eri";b14+="ngS";b14+="t";b14+="arted";n={type:b14,time:h.default.time.ia(),percentage:m || 0};d.bb(this.kb,n.type,n);this.dla=m || 0;r01=4;break;}}};O90=21;break;case 6:l.prototype.pla=function(m){var Y90,n;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var L14="se";L14+="gmentAborte";L14+="d";n={type:L14,segmentId:m.id};m.oF || d.bb(this.kb,n.type,n);Y90=5;break;}}};l.prototype.Xvb=function(m,n){var Z90,p,q;Z90=2;for(;Z90 !== 12;){switch(Z90){case 2:var t14="s";t14+="e";t14+="am";t14+="less";var T14="r";T14+="ese";T14+="t";var O14="s";O14+="ki";O14+="p";var V14="l";V14+="o";V14+="n";V14+="g";var p14="lo";p14+="n";p14+="g";var y14="se";y14+="a";y14+="ml";y14+="e";y14+="ss";(p={segment:m,srcsegment:n.Xda,srcoffset:n.mR,seamlessRequested:n.xe,atRequest:{},discard:{}},q=n.ue[m]);q?p.atRequest={weight:q.weight,abuflmsec:q.Ps.Hs,vbuflmsec:q.Ps.ip,abuflbytes:q.Ps.AD,vbuflbytes:q.Ps.bu}:(q=this.kb.Ta.x5a(n.Xda,m),void 0 !== q && (p.atRequest.weight=q));c.Df(n.ue,function(r,u){var a01;a01=2;for(;a01 !== 1;){switch(a01){case 2:u != m && (p.discard[u]={weight:r.weight,abuflmsec:r.Ps.Hs,vbuflmsec:r.Ps.ip,abuflbytes:r.Ps.AD,vbuflbytes:r.Ps.bu});a01=1;break;}}});q=n.xe?n.MX?y14:p14:n.Gab?V14:n.Jl?O14:T14;p.transitionType=q;n.Gpa || (p.delayToTransition=n.Q7);q=t14 === q?0:h.default.time.ia() - n.startTime;Z90=7;break;case 7:p.durationOfTransition=q;p.atTransition=n.ojb;p.srcsegmentduration=this.kb.Ta.cSb(n.Xda);return p;break;}}};l.prototype.Hxb=function(m,n,p){var b01;b01=2;for(;b01 !== 4;){switch(b01){case 2:var A14="seg";A14+="men";A14+="tPre";A14+="se";A14+="nting";p=p?this.Xvb(m.id,p):void 0;m={type:A14,segmentId:m.id,contentOffset:n,metrics:p,playlistSegment:m.oF,manifestIndex:m.O.Pb};d.bb(this.kb,m.type,m);b01=4;break;}}};l.prototype.Fxb=function(m,n){var c01;c01=2;for(;c01 !== 5;){switch(c01){case 2:var S14="segme";S14+="ntAp";S14+="p";S14+="ended";n={type:S14,segmentId:m.id,metrics:n};m.oF || d.bb(this.kb,n.type,n);c01=5;break;}}};l.prototype.Gxb=function(m,n,p){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var n14="se";n14+="gme";n14+="ntCo";n14+="mple";n14+="te";m={type:n14,mediaType:m,manifestIndex:n,segmentId:p.id};d.bb(this.kb,m.type,m);d01=5;break;}}};l.prototype.ola=function(m,n){var e01;e01=2;for(;e01 !== 5;){switch(e01){case 2:var c14="l";c14+="as";c14+="tSegme";c14+="ntPts";n={type:c14,segmentId:m.id,pts:Math.floor(n)};m.oF || d.bb(this.kb,n.type,n);e01=5;break;}}};O90=20;break;}}})();b.yMa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.TIa=void 0;c=a(0);t=a(11);k=c.__importStar(a(9));a(2);a(246);g=a(255);h=a(403);d=a(85);a(402);a(409);f=a(124);l=c.__importDefault(a(28));a(250);m=a(1008);n=c.__importDefault(a(151));a(14);p=c.__importDefault(a(4));a(182);a(257);a(180);a(97);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");r=p.default.pL;u=q.trace.bind(q);a.trace.bind(a);v=q.warn.bind(q);w=q.error.bind(q);x=q.info.bind(q);a=(function(y){var G01;G01=2;for(;G01 !== 39;){switch(G01){case 8:z.prototype.list=function(){var P01;P01=2;for(;P01 !== 1;){switch(P01){case 2:return this.Ep;break;case 4:return this.Ep;break;P01=1;break;}}};G01=7;break;case 26:z.prototype.B4=function(A){var n11,B;n11=2;for(;n11 !== 9;){switch(n11){case 2:this.Bc(A) && delete this.d5[A.Qa];this.Bc(A) || delete A.response;A.Yc();B=this.tg[A.I] || A.An;n11=3;break;case 3:var K14="s";K14+="avetodis";K14+="k";B && 0 === B.x6a && 0 === B.$V && (this.ezb(B,A.Gf),B.ri && this.mk && (B.Wb.vnc || (this.jH?this.mk.H7b(B):this.mk.ZQ(K14,{Ifb:B.Wb.Xt}))));n11=9;break;}}};z.prototype.Swb=function(A,B,C){var o11,D,F;o11=2;for(;o11 !== 8;){switch(o11){case 5:o11=0 < D?4:3;break;case 2:D=A.K7;B.ri && this.mk && (A.K$a?D=A.K$a:A.r$a && 0 < A.r$a && (D=2E3 * A.r$a));o11=5;break;case 4:return function(G,E){var p11;p11=2;for(;p11 !== 1;){switch(p11){case 2:a000.j9X(17);return a000.X9X(E,D);break;}}};break;case 3:F=C && C.length < A.k0a?C.length:A.k0a;return function(G){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:a000.h9X(17);return a000.X9X(G,F);break;}}};break;}}};z.prototype.Ila=function(A,B){var r11,I,L,C,D,F,G,R,O,K,H,E;r11=2;for(;r11 !== 53;){switch(r11){case 36:++L;r11=33;break;case 14:E.Ipa=A;r11=13;break;case 42:var G14="u";G14+="n";G14+="d";G14+="ef";G14+="ined";k.na(E.Kp) && (E.Kp=K.ba);K.ri && (K.responseType=0);A.ri && this.mk && A.VY && A.VY[D] && G14 !== typeof K.ba && A.VY[D][K.ba] || (R=this.Zub(K,A.Qe),R.ri && (R.An=A.An),R.MJ(),++E.$V,B.push(R));++H;F+=K.duration;r11=37;break;case 11:A.mediaType === l.default.$a.cc && G.mo && !G.OH && F.Af && (B=Math.max(F.Z && F.Z.ak(0) || 0,B + F.Af.T));(I=A.stream.Z,L=I && I.kn(B));r11=20;break;case 43:++R;r11=28;break;case 20:r11=-1 === L || void 0 === L?19:18;break;case 5:this.xM.push({OTb:A,Nd:B});r11=4;break;case 30:r11=!k.na(I) && !K.Ca?29:42;break;case 2:(C=A.I,D=A.Qa,F=A.stream,G=A.Qe);r11=1;break;case 12:B=E.Kp;r11=11;break;case 44:(K.p6(I.get(R)),K.$P=R + 1,L=R);r11=43;break;case 6:r11=void 0 === E.Kp?14:12;break;case 28:r11=R < I.length && (K.aa < O || K.duration < G)?44:42;break;case 34:G=R === l.default.$a.Jb?G.$Zb:G.SZb;r11=33;break;case 24:void 0 === E.data[D] && (E.data[D]=[]);B=E.data[D];C=this.Swb(G,A,I);H=F=0;(R=K && K.mediaType,O=R === l.default.$a.Jb?G.iba:G.aba);r11=34;break;case 18:K=A.stream.th(L);r11=17;break;case 25:void 0 === E.data && (E.data={});r11=24;break;case 16:K.ri=A.ri;H=K.ara(B);H && (K.mediaType === l.default.$a.cc && !G.XY && H.Nd < (G.mo && !G.OH && F.Af?Math.floor(F.Af.T):0) && (++H.Wi,H.Nd+=K.ka.T),0 < H.Wi && K.ti({start:H.Wi}));r11=26;break;case 4:r11=this.xM.length > G.KTb?3:53;break;case 29:a000.h9X(7);R=a000.X9X(L,1);r11=28;break;case 19:var l14="no ";l14+="proper ";l14+="fragment found to request data at pts";w(l14,B);r11=53;break;case 33:r11=L < (I && I.length || 0) && !C(H,F)?32:54;break;case 8:r11=E?7:53;break;case 31:K.ri=A.ri;r11=30;break;case 3:this.xM.shift();r11=4;break;case 7:r11=A.mediaType === l.default.$a.cc?6:11;break;case 26:var k14="ma";k14+="nagerd";k14+="ebuge";k14+="vent";var m14=", ";m14+="sta";m14+="rtPts: ";var R14=", p";R14+="ts";R14+=":";R14+=" ";var q14=",";q14+=" ";q14+="str";q14+="eamId: ";var Z14=", headerCache req";Z14+="uest";Z14+="Data: movieId: ";G.Ni && (B="@" + p.default.time.ia() + Z14 + C + q14 + D + R14 + B + m14 + K.ba,this.emit(k14,{message:B}));r11=25;break;case 9:E=this.tg[C] || A.An;r11=8;break;case 1:r11=this.O4?5:9;break;case 13:return;break;case 32:r11=(void 0 === K && (K=A.stream.th(L)),void 0 !== K)?31:36;break;case 54:E.Ipa && !k.na(E.Kp) && (A=E.Ipa,delete E.Ipa,this.Ila(A,E.Kp));r11=53;break;case 17:r11=!k.na(K)?16:25;break;case 37:K=void 0;r11=36;break;}}};G01=23;break;case 41:z.prototype.Bc=function(A){var N11;N11=2;for(;N11 !== 1;){switch(N11){case 2:return ! !A.Bc;break;}}};return z;break;case 18:z.prototype.$Sa=function(){var f11;f11=2;for(;f11 !== 1;){switch(f11){case 2:0 === this.qx.length && (this.qx=[f.Dq.instance.Yu(0,void 0,!1,!1,this.Im,this.Bp),f.Dq.instance.Yu(1,void 0,!1,!1,this.Im,this.Bp)],this.qx.forEach(function(A){var g11;g11=2;for(;g11 !== 1;){switch(g11){case 2:return A.za();break;}}}),r.gg());f11=1;break;}}};z.prototype.fTa=function(){var h11,A;h11=2;for(;h11 !== 4;){switch(h11){case 2:A=this.qx;this.qx=[];A.forEach(function(B){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 4:f.Dq.instance.eO(B);i11=4;break;i11=1;break;case 2:f.Dq.instance.eO(B);i11=1;break;}}});h11=4;break;}}};z.prototype.Kwb=function(){var j11,A;j11=2;for(;j11 !== 5;){switch(j11){case 2:A=this;!this.O4 && 0 < this.xM.length && (this.xM.forEach(function(B){var k11;k11=2;for(;k11 !== 1;){switch(k11){case 2:A.Ila(B.OTb,B.Nd);k11=1;break;}}}),this.xM=[]);j11=5;break;}}};z.prototype.YSa=function(A,B){var l11,C;l11=2;for(;l11 !== 8;){switch(l11){case 2:C=A.stream.mediaType;2 > this.qx.length && this.$Sa();B=new h.Gfa(A.stream,B,this.qx[C],A,this,!0,q);B.ri=A.ri;B.Sf=this;return B;break;}}};z.prototype.Zub=function(A,B){var m11,C;m11=2;for(;m11 !== 8;){switch(m11){case 2:C=A.stream.mediaType;2 > this.qx.length && this.$Sa();m11=5;break;case 5:B=g.B1.create(A.stream,B,this.qx[C].track,A,this,!0,q);B.ri=A.ri;B.Sf=this;m11=9;break;case 9:return B;break;}}};G01=26;break;case 12:z.prototype.KB=function(A){var Y01,B;Y01=2;for(;Y01 !== 5;){switch(Y01){case 2:B=this.tg[A.I];B && (this.Bc(A)?k.na(B.Wb.PTb) && !k.na(A.loadTime) && (B.Wb.PTb=A.loadTime):k.na(B.Wb.jdb) && !k.na(A.loadTime) && (B.Wb.jdb=A.loadTime));Y01=5;break;}}};z.prototype.hm=function(A){var Z01;Z01=2;for(;Z01 !== 1;){switch(Z01){case 2:this.Bc(A)?this.F1b(A):this.G1b(A);Z01=1;break;}}};z.prototype.EZ=function(A){var a11;a11=2;for(;a11 !== 5;){switch(a11){case 2:var N14="_o";N14+="nE";N14+="rror";N14+=":";N14+=" ";v(N14,A.toString());this.B4(A);a11=5;break;}}};z.prototype.F1b=function(A){var b11,B;b11=2;for(;b11 !== 9;){switch(b11){case 5:this.lub(A);k.na(A.LTb) || A.LTb(A.Rac);this.Qyb(A,function(){var c11;c11=2;for(;c11 !== 1;){switch(c11){case 2:k.na(A) || (k.na(A.An) || A.An.x6a--,B.B4(A));c11=1;break;}}});b11=9;break;case 2:B=this;A.Rac=A.Gf;b11=5;break;}}};z.prototype.G1b=function(A){var d11,F,B,C,D;d11=2;for(;d11 !== 8;){switch(d11){case 4:F=p.default.time.now();this.mk.F7b(A,D,function(G){var e11;e11=2;for(;e11 !== 4;){switch(e11){case 2:G || k.na(D) || (G=p.default.time.ia() - F,k.na(D.Wb) && (D.Wb={}),k.na(D.Wb.Xt) && (D.Wb.Xt=0),D.Wb.Xt+=G);--D.$V;B.B4(A);e11=4;break;}}});d11=8;break;case 5:var E14="m";E14+="anagerdebugeve";E14+="nt";var g14=",";g14+=" remaining:";g14+=" ";var I14=",";I14+=" ";I14+="pt";I14+="s: ";var u14=", s";u14+="tr";u14+="ea";u14+="m";u14+="Id: ";var o14=", headerC";o14+="ache d";o14+="ataC";o14+="omplete: movi";o14+="eId: ";d11=(this.Bp.Ni && (C="@" + p.default.time.ia() + o14 + C + u14 + A.Qa + I14 + A.ba + g14 + (D.$V - 1),this.emit(E14,{message:C})),A.ri && 0 === A.responseType && this.mk && !this.jH)?4:9;break;case 9:(--D.$V,B.B4(A));d11=8;break;case 1:d11=D?5:8;break;case 2:(B=this,C=A.I,D=this.tg[C] || A.An);d11=1;break;}}};G01=18;break;case 7:z.prototype.IY=function(A,B){var Q01;Q01=2;for(;Q01 !== 4;){switch(Q01){case 9:Q01=(A=this.tg[A])?0:5;break;Q01=(A=this.tg[A])?1:4;break;case 2:Q01=(A=this.tg[A])?1:4;break;case 1:Q01=(B=A.headers[B])?5:4;break;case 5:return B;break;case 7:return B;break;Q01=4;break;}}};z.prototype.hYb=function(A,B){var R01,C,D;R01=2;for(;R01 !== 5;){switch(R01){case 2:(C=this,D=this.gYb(A));return D || !this.mk?Promise.resolve(D):(this.jH?this.Ewb(A,B):this.Dwb(A,B)).then(function(F){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 4:return C.Cdb(F);break;S01=1;break;case 2:return C.Cdb(F);break;}}});break;}}};z.prototype.gYb=function(A){var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:return this.Cdb(this.tg[A]);break;case 4:return this.Cdb(this.tg[A]);break;T01=1;break;}}};z.prototype.O2a=function(){var U01,C,D,F;U01=2;function B(E,I){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:E && E.data && E.data[I].forEach(function(L){var X01;X01=2;for(;X01 !== 5;){switch(X01){case 2:L.abort();C+=L.bytesReceived;X01=5;break;}}});W01=1;break;}}}function A(E){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:E.bZa();V01=1;break;}}}for(;U01 !== 4;){switch(U01){case 2:C=0;for(D in this.tg){F=this.tg[D];if(F.data){for(var G in F.data){var C84="in";C84+=" ";C84+="entr";C84+="y";C84+=":";var D14="missing head";D14+="erEntry for st";D14+="reamId:";F.headers[G] || w(D14,G,C84,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}this.Myb(C);U01=4;break;}}};G01=12;break;case 29:z.prototype.Ewb=function(A,B){var C11,C;C11=2;for(;C11 !== 5;){switch(C11){case 2:var Y84="Medi";Y84+="a cache is not ena";Y84+="b";Y84+="led";C=this;return this.mk?this.mk.LXb(A,B).then(function(D){var D11;D11=2;for(;D11 !== 5;){switch(D11){case 3:D11=D || D.An?7:6;break;D11=D && D.An?1:5;break;case 2:D11=D && D.An?1:5;break;case 1:return (C.tg[A]=D.An,++C.UG,C.eka(),C.Ep.push(D.An),C.Ep.sort(C.wdb),C.HSa(A,D),C.cache[A]);break;}}}):Promise.reject(Y84);break;}}};z.prototype.Dwb=function(A,B){var E11,C,D,F;E11=2;for(;E11 !== 8;){switch(E11){case 2:C=this;E11=1;break;case 1:E11=this.mk?5:9;break;case 9:var w84="Me";w84+="dia ca";w84+="che ";w84+="is not enab";w84+="led";return Promise.reject(w84);break;case 5:(D=void 0,F=!1);this.mk.V7a(this.tg[A])?(D=Promise.resolve(this.tg[A]),F=!0):D=this.mk.NXb(A);E11=3;break;case 3:return D.then(function(G){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:return !k.na(G) && C.mk?C.mk.KXb(A,B,G).then(function(E){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 2:E && (F || (C.tg[A]=G,++C.UG,C.eka(),C.Ep.push(G),C.Ep.sort(C.wdb)),C.HSa(A,E));return C.tg[A];break;}}}):Promise.resolve(void 0);break;}}});break;}}};z.prototype.HSa=function(A,B){var H11,D,F,G,C;H11=2;for(;H11 !== 7;){switch(H11){case 3:H11=B.data?9:7;break;case 5:(D=this.tg[A],F=B.headers);D && F && Object.keys(F).forEach(function(E){var I11;I11=2;for(;I11 !== 1;){switch(I11){case 4:C.kub(F[E],D);I11=2;break;I11=1;break;case 2:C.kub(F[E],D);I11=1;break;}}});H11=3;break;case 1:H11=B?5:7;break;case 9:G=B.data;Object.keys(G).forEach(function(E){var J11,I,L;J11=2;for(;J11 !== 9;){switch(J11){case 2:I=G[E];k.na(D.data) && (D.data={});k.na(D.data[E]) && (D.data[E]=[]);L=D.data;J11=3;break;case 3:I.forEach(function(K){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 4:L[E].push(K);K11=2;break;K11=1;break;case 2:L[E].push(K);K11=1;break;}}});J11=9;break;}}});H11=7;break;case 2:C=this;H11=1;break;}}};z.prototype.wdb=function(A,B){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 2:return B.priority - A.priority;break;}}};z.prototype.Cdb=function(A){var M11,D,B,C;M11=2;for(;M11 !== 11;){switch(M11){case 1:M11=A && A.data?5:11;break;case 8:B.Ox=A.Ox;B.jB=A.jB;B.FE=A.FE;M11=14;break;case 5:for(C in A.data){D=A.data[C];0 < D.length && (B[D[0].mediaType]={Qa:C,header:A.headers[C],data:D});}B.Kp=A.Kp;B.eP=A.eP;B.Wb=A.Wb;M11=8;break;case 14:B.Zp=A.Zp;B.$p=A.$p;return B;break;case 2:B={};M11=1;break;}}};G01=41;break;case 23:z.prototype.lub=function(A){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:this.GSa(A,A.An);s11=1;break;case 4:this.GSa(A,A.An);s11=7;break;s11=1;break;}}};z.prototype.kub=function(A,B){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 4:this.GSa(A,B);t11=4;break;t11=1;break;case 2:this.GSa(A,B);t11=1;break;}}};z.prototype.GSa=function(A,B){var u11,C;u11=2;for(;u11 !== 4;){switch(u11){case 5:(B.$Ab || B.ri && !this.jH || (B.$Ab=!0,++this.UG),B.headers || (B.headers={}),B.headers[C]=A,this.Bp.nMb && (B.eP || (B.eP=0),++B.eP),this.eka());u11=4;break;case 2:C=A.Qa;u11=1;break;case 1:u11=(B=this.tg[A.I] || B)?5:4;break;}}};z.prototype.eka=function(){var v11,D,B,C;v11=2;function A(G){var w11;w11=2;for(;w11 !== 5;){switch(w11){case 2:G.abort();C+=G.bytesReceived;w11=5;break;}}}for(;v11 !== 12;){switch(v11){case 3:D=B.I;v11=9;break;case 2:C=0;v11=1;break;case 9:v11=B.data?8:7;break;case 1:v11=!(this.UG <= this.oUa)?5:12;break;case 5:v11=this.UG > this.oUa?4:13;break;case 4:v11=(B=this.Ep.shift())?3:5;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}v11=7;break;case 7:delete this.tg[D];--this.UG;v11=14;break;case 14:this.Jyb(D);v11=5;break;case 13:this.Kyb(C);v11=12;break;}}};G01=34;break;case 32:z.prototype.Jyb=function(A){var z11;z11=2;for(;z11 !== 5;){switch(z11){case 2:var e84="cac";e84+="he";e84+="Evic";e84+="t";A={type:e84,movieId:A};this.emit(A.type,A);z11=5;break;}}};z.prototype.Qyb=function(A,B){var A11,C;A11=2;for(;A11 !== 3;){switch(A11){case 4:C.bDa || 0 !== Object.keys(this.d5).length || this.fTa();A11=3;break;case 2:C=A.Qe;k.na(A.K6b) || this.Ila(A,A.K6b);!this.mk || !A.ri || this.jH || k.na(A.VY) || A.VY[A.Qa] && A.VY[A.Qa].header?B():this.mk.G7b(A,B);A11=4;break;}}};z.prototype.ezb=function(A,B){var B11;B11=2;for(;B11 !== 4;){switch(B11){case 2:var F84="prebuf";F84+="f";F84+="s";F84+="tats";A.Wb.K3b=B;A={type:F84,movieId:A.I,stats:{prebuffstarted:A.Wb.jdb,prebuffcomplete:A.Wb.K3b}};this.emit(A.type,A);B11=4;break;}}};G01=29;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 4:return this.tg;break;K01=1;break;case 2:return this.tg;break;}}},enumerable:!1,configurable:!0}});z.prototype.wKb=function(){var L01;L01=2;for(;L01 !== 5;){switch(L01){case 2:this.flush();this.fTa();L01=5;break;}}};z.prototype.Oea=function(A){var M01;M01=2;for(;M01 !== 5;){switch(M01){case 2:this.Im=A;this.qx.forEach(function(){});M01=5;break;}}};z.prototype.Yq=function(A,B,C){var N01,D,F;N01=2;for(;N01 !== 9;){switch(N01){case 3:F?(this.O4=!1,this.Kwb()):this.O4=!0;N01=9;break;case 2:(D=this.vH,F=A);N01=1;break;case 5:for(var G in D){D.hasOwnProperty(G) && !1 === D[G] && (F=!1);}N01=4;break;case 4:C && delete D[B];N01=3;break;case 1:N01=(D[B]=A)?5:4;break;}}};z.prototype.flush=function(){var O01,B;O01=2;for(;O01 !== 8;){switch(O01){case 2:this.O2a();for(var A in this.d5){B=this.d5[A];B.abort();}this.tg=Object.create(null);this.UG=0;this.Ep=[];O01=9;break;case 9:var d84="m";d84+="ana";d84+="gerdebugevent";var f84=", headerCach";f84+="e flush";f84+=": ";this.Bp.Ni && (B="@" + p.default.time.ia() + f84,this.emit(d84,{message:B}));O01=8;break;}}};G01=8;break;case 34:z.prototype.Kyb=function(A){var x11;x11=2;for(;x11 !== 1;){switch(x11){case 2:var B84="d";B84+="iscardedBy";B84+="tes";0 !== A && (A={type:B84,bytes:A},this.emit(A.type,A));x11=1;break;}}};z.prototype.Myb=function(A){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:var x84="flushe";x84+="d";x84+="B";x84+="yt";x84+="es";0 !== A && (A={type:x84,bytes:A},this.emit(A.type,A));y11=1;break;}}};G01=32;break;}}function z(A,B,C,D){var H01;H01=2;for(;H01 !== 25;){switch(H01){case 12:A.qx=[];A.O4=!1;A.xM=[];H01=20;break;case 3:A.Gjc=x;A.d5=Object.create(null);A.Bp=B;A.tg=Object.create(null);A.UG=0;A.Ep=[];A.oUa=B.L7;H01=12;break;case 26:return A;break;case 2:A=y.call(this) || this;A.Bj=u;A.fl=w;A.Mb=v;H01=3;break;case 20:var X84="1SIYbZrNJ";X84+="C";X84+="p9";A.vH={};A.cma=(A.Bp.eDa || A.Bp.fDa) && 0 < (A.Bp.mW || (p.default.options || ({})).QP || 0);A.jH=A.Bp.uwa;A.mk=void 0;A.cma && (A.Bp.mW || (B=(p.default.options || ({})).QP || 0,A.Bp.set?A.Bp.set({mW:B}):A.Bp.mW=(p.default.options || ({})).QP || 0),A.mk=new m.BLa(A.Bp,p.default,A),A.mk.za(A,D).then(function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:var z84="Media";z84+=" cach";z84+="e i";z84+="n";z84+="itialized";u(z84);I01=1;break;}}}).catch(function(F){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 2:var Q84="Med";Q84+="ia";Q84+=" cache did not";Q84+=" init";Q84+="ialize";w(Q84,F);J01=1;break;}}}));A.Im=C;X84;H01=26;break;}}}})(d.Ew);b.TIa=a;n.default(t.EventEmitter.prototype,a.prototype);},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;c=a(0);k=a(11);g=c.__importStar(a(1009));h=c.__importStar(a(9));a(2);d=a(255);f=a(7);t=a(35);l=c.__importStar(a(1020));m=l.ZKa;a=(function(){var O11;O11=2;for(;O11 !== 18;){switch(O11){case 7:n.prototype.V7a=function(p){var A21;A21=2;for(;A21 !== 1;){switch(A21){case 2:return !(h.na(p) || h.qb(p) || h.na(p.Wb) || h.qb(p.Wb) || h.na(p.I) || h.qb(p.I) || h.na(p.priority) || h.qb(p.priority));break;}}};n.prototype.ZQ=function(p,q){var B21,r;B21=2;for(;B21 !== 9;){switch(B21){case 2:var J84="m";J84+="ed";J84+="iacac";J84+="h";J84+="e";var v84="mediaca";v84+="ch";v84+="elookup";var h84="sa";h84+="veto";h84+="dis";h84+="k";var j84="med";j84+="iaca";j84+="ches";j84+="t";j84+="ats";r={type:j84,operation:p};h84 === p && (r.saveTime=q.Ifb);v84 === p && (r.lookupTime=q.waa,r.dataFound=q.C7);r.oneObject=this.jH;this.vvb && this.emit(J84,r);B21=9;break;}}};n.prototype.U4b=function(p,q){var C21,r,u;C21=2;for(;C21 !== 5;){switch(C21){case 2:(r=this,u=Object.keys(p).map(function(v){var D21;D21=2;for(;D21 !== 1;){switch(D21){case 4:return r.gIb(p[v]);break;D21=1;break;case 2:return r.gIb(p[v]);break;}}}));return Promise.all(u).then(function(v){var E21;E21=2;for(;E21 !== 5;){switch(E21){case 2:v.sort(function(w,x){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:return w.Bc === x.Bc?0:w.Bc?-1:1;break;}}});return l.zsa(r.J,r.G,r.Yd,v,q);break;}}});break;}}};O11=13;break;case 2:n.prototype.za=function(p,q){var Q11,r;Q11=2;for(;Q11 !== 4;){switch(Q11){case 2:var H84="M";H84+="edi";H84+="a ca";H84+="che i";H84+="s disabled";r=this;this.cma?this.zu=new Promise(function(u,v){var R11;R11=2;for(;R11 !== 1;){switch(R11){case 2:(void 0 !== q && null !== q?q.mP:function(w){var S11;S11=2;for(;S11 !== 1;){switch(S11){case 2:return g.mP(r.Dp,r.J,w);break;}}})(function(w){var T11,x;T11=2;for(;T11 !== 4;){switch(T11){case 2:var i84="Media c";i84+="ache did not in";i84+="itia";i84+="lize";r.zp=w;x=w.Gv;(w=w.dJ)?v(w):x?(r.o9b(p),u()):v(Error(i84));T11=4;break;}}});R11=1;break;}}}):(this.zu=Promise.reject(H84),this.zu.catch(function(){}));return this.zu;break;}}};n.prototype.NXb=function(p){var U11,q,r,u;U11=2;for(;U11 !== 5;){switch(U11){case 2:(q=this,r=[m.cLa,p].join("."),u=this.Dp.time.ia());return this.zu.then(function(){var V11;V11=2;for(;V11 !== 1;){switch(V11){case 2:return new Promise(function(v){var W11;W11=2;for(;W11 !== 1;){switch(W11){case 2:q.zp.j_(m.ks,r,function(w){var X11,x;X11=2;for(;X11 !== 3;){switch(X11){case 8:X11=~w && 6 > w.length?2:2;break;X11=!w || 0 >= w.length?1:5;break;case 2:X11=!w || 0 >= w.length?1:5;break;case 1:var W84="mediaca";W84+="chel";W84+="ooku";W84+="p";(v(),q.ZQ(W84,{waa:q.Dp.time.ia() - u,C7:!1}));X11=3;break;case 5:x=w[0];X11=4;break;case 6:x=w[9];X11=8;break;X11=4;break;case 4:q.zp.read(m.ks,x,function(y,z){var Y11,B,Z11,A;Y11=2;for(;Y11 !== 14;){switch(Y11){case 9:h.na(A) || (B=l.ysa(A));Y11=7;break;case 5:Y11=z instanceof ArrayBuffer?4:3;break;case 2:var s84=" ";s84+="fa";s84+="il";s84+="e";s84+="d";var M84="Reading mo";M84+="vie";M84+=" entry ";y && q.G.warn(M84 + x + s84,y);Y11=1;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};Y11=9;break;case 1:Y11=!h.na(z)?5:9;break;case 4:try{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));Z11=1;break;}}}catch(C){}Y11=9;break;case 7:h.na(B) || h.qb(B) || (B.Wb=B.Wb || ({}),B.headers=B.headers || ({}));q.V7a(B)?v(B):(q.$yb(p),v());Y11=14;break;}}});X11=3;break;}}});W11=1;break;}}});break;}}});break;}}};O11=5;break;case 5:n.prototype.KXb=function(p,q,r){var a21,u,v;a21=2;for(;a21 !== 9;){switch(a21){case 2:u=this;a21=1;break;case 5:var U84="M";U84+="edia cache is n";U84+="ot";U84+=" en";U84+="abled";return Promise.reject(U84);break;case 1:a21=!this.zu?5:4;break;case 7:u=this;a21=2;break;a21=1;break;case 14:return Promise.reject("");break;a21=4;break;case 3:return this.zu.then(function(){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 2:return new Promise(function(w){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:u.zp.j_(m.ks,p,function(x){var d21;d21=2;for(;d21 !== 5;){switch(d21){case 2:x=x.reduce(function(y,z){var e21,A;e21=2;for(;e21 !== 9;){switch(e21){case 2:A=z.substr(0,z.lastIndexOf("."));e21=1;break;case 1:var P84="drmHeade";P84+="r._";P84+="_embe";P84+="d__";e21=-1 !== A.indexOf(P84)?5:4;break;case 5:return y;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;case 14:return y;break;e21=4;break;}}},{});u.U4b(x,q).then(function(y){var f21,z,A;f21=2;for(;f21 !== 8;){switch(f21){case 9:w(y);f21=8;break;case 1:return w();break;case 2:f21=void 0 === r || void 0 === y?1:5;break;case 5:var a84="mediacache";a84+="loo";a84+="kup";var r84="No cont";r84+="ent data f";r84+="ound";r84+=" fo";r84+="r ";(z=u.Dp.time.ia() - v,A=!1);h.na(y) || h.na(y.data) || !h.Mj(y.data)?u.G.trace(r84 + p,r):A=!0;u.ZQ(a84,{waa:z,C7:A});f21=9;break;}}},function(){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 2:w();g21=1;break;}}});d21=5;break;}}});c21=1;break;}}});break;}}});break;case 4:v=this.Dp.time.ia();a21=3;break;case 6:a21=~this.zu?8:2;break;a21=!this.zu?5:4;break;}}};n.prototype.LXb=function(p,q){var h21,r,u;h21=2;for(;h21 !== 5;){switch(h21){case 2:(r=this,u=this.Dp.time.ia());return this.zu.then(function(){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 4:return r.wwb(p);break;i21=1;break;case 2:return r.wwb(p);break;}}}).then(function(v){var j21;j21=2;for(;j21 !== 5;){switch(j21){case 8:return r.Cyb(p.toString(),q,u);break;j21=4;break;case 2:j21=v?1:4;break;case 1:return r.Cyb(p.toString(),q,u);break;case 4:var b84="medi";b84+="a";b84+="cachelookup";r.ZQ(b84,{waa:r.Dp.time.ia() - u,C7:!1});j21=5;break;}}});break;}}};n.prototype.G7b=function(p,q){var k21,r,u,v,w,x,y;k21=2;for(;k21 !== 13;){switch(k21){case 4:k21=p.stream.Ud && !h.na(p.stream.Z)?3:14;break;case 1:x[u + "." + m.Jha]={Rr:w,Ac:m.rG};x[u + "." + m.bqb]={Rr:f.Tu(p.Dg.map(function(z){var l21;l21=2;for(;l21 !== 1;){switch(l21){case 2:return z.data;break;}}})),Ac:m.rG};k21=4;break;case 2:(r=this,u=[p.I,p.Qa,m.Apb].join("."),v=this.Dp.time.ia(),w=l.s4a(p),x={});k21=1;break;case 3:w={timescale:p.stream.Z.U,startTicks:p.stream.Z.On,offset:p.stream.Z.ji(0)};y=p.stream.Z.Ly;k21=8;break;case 8:x[u + "." + m.XHa]={Rr:w,Ac:m.rG};x[u + "." + m.spb]={Rr:y.sizes.buffer,Ac:m.rG};k21=6;break;case 14:this.zp.Hfb(m.ks,x,function(z){var m21;m21=2;for(;m21 !== 5;){switch(m21){case 1:q();m21=5;break;case 2:z || (z=r.Dp.time.ia() - v,p.An && (h.na(p.An.Wb.Xt) && (p.An.Wb.Xt=0),p.An.Wb.Xt+=z));m21=1;break;}}});k21=13;break;case 6:x[u + "." + m.rpb]={Rr:y.ae.buffer,Ac:m.rG};k21=14;break;}}};n.prototype.F7b=function(p,q,r){var n21,u,v,y,w,x;n21=2;for(;n21 !== 14;){switch(n21){case 2:(u=this,v=p.response);n21=1;break;case 1:n21=v instanceof ArrayBuffer?5:6;break;case 4:p=l.usa(p);y={};y[x + "." + m.Jha]={Rr:p,Ac:m.rG};n21=8;break;case 8:h.na(v) || (y[x + "." + m.Vqb]={Rr:v,Ac:m.rG});this.zp.Hfb(m.ks,y,function(z){var o21;o21=2;for(;o21 !== 5;){switch(o21){case 2:var L84="Failed t";L84+="o ";L84+="save";L84+=" fragment";z?u.G.warn(L84,z):(z=u.Dp.time.ia() - w,h.na(q.Wb.Xt) && (q.Wb.Xt=0),q.Wb.Xt+=z);r();o21=5;break;}}});n21=14;break;case 6:var y84="Unab";y84+="le to save fragment because response is n";y84+="ot an ArrayB";y84+="uffer";r(Error(y84));n21=14;break;case 5:(w=this.Dp.time.ia(),x=[p.I,p.Qa,p.Zc].join("."));n21=4;break;}}};n.prototype.H7b=function(p){var p21,q,r,u,v,w,x,y,A,B,r21,C,D,F,G,s21,E,I,L,K,t21,u21,v21,w21,x21,y21,z;p21=2;for(;p21 !== 20;){switch(p21){case 2:(v=this,w=this.Dp.time.ia(),x={},y=l.R4a(p));p21=1;break;case 1:x.movieEntry=y;p21=5;break;case 5:p21=p.headers?4:8;break;case 9:x.headers=z;p21=8;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{r21=2;for(;r21 !== 6;){switch(r21){case 2:(C=c.__values(B),D=C.next());r21=1;break;case 1:r21=!D.done?5:6;break;case 3:r21=G?9:7;break;case 5:(F=D.value,G=A[F]);B={};r21=3;break;case 8:y[F]=B;r21=7;break;case 9:try{s21=2;for(;s21 !== 7;){switch(s21){case 2:(E=(r=void 0,c.__values(G)),I=E.next());s21=1;break;case 1:s21=!I.done?5:7;break;case 5:L=I.value;s21=4;break;case 4:s21=L instanceof d.B1 && L.response instanceof ArrayBuffer && !h.na(L.Zc)?3:8;break;case 9:B[L.Zc]={mediaType:K.mediaType,streamId:K.streamId,movieId:K.movieId,bitrate:K.bitrate,location:K.location,serverId:K.serverId,saveToDisk:K.saveToDisk,offset:K.offset,bytes:K.bytes,timescale:K.timescale,startTicks:K.startTicks,durationTicks:K.durationTicks,response:L.response};s21=8;break;case 3:K=l.usa(L);s21=9;break;case 8:I=E.next();s21=1;break;}}}catch(R){r={error:R};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:I && !I.done && (u=E.return) && u.call(E);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 9:throw r.error;v21=4;break;v21=5;break;case 2:v21=r?1:5;break;case 3:v21=r?0:4;break;v21=r?1:5;break;case 1:throw r.error;v21=5;break;}}}t21=1;break;}}}r21=8;break;case 7:D=C.next();r21=1;break;}}}catch(R){var H;H={error:R};}finally{w21=2;for(;w21 !== 1;){switch(w21){case 2:try{x21=2;for(;x21 !== 1;){switch(x21){case 2:D && !D.done && (q=C.return) && q.call(C);x21=1;break;}}}finally{y21=2;for(;y21 !== 5;){switch(y21){case 3:y21=H?2:4;break;y21=H?1:5;break;case 2:y21=H?1:5;break;case 1:throw H.error;y21=5;break;case 9:throw H.error;y21=0;break;y21=5;break;}}}w21=1;break;}}}p21=13;break;case 4:z={};Object.keys(p.headers).forEach(function(R){var q21,O;q21=2;for(;q21 !== 5;){switch(q21){case 2:O=l.p4a(p.headers[R]);z[R]=O;q21=5;break;}}});p21=9;break;case 13:x.data=y;p21=12;break;case 8:p21=p && p.data?7:12;break;case 12:H={lifespan:259200};this.Rwb && (H.convertToBinaryData=!0);this.zp.save(m.ks,p.I,x,H,function(R){var z21;z21=2;for(;z21 !== 1;){switch(z21){case 2:var p84="s";p84+="a";p84+="vetodisk";R || v.ZQ(p84,{Ifb:v.Dp.time.ia() - w});z21=1;break;}}});p21=20;break;}}};O11=7;break;case 13:n.prototype.gIb=function(p){var G21,q,r,u,v;G21=2;for(;G21 !== 5;){switch(G21){case 2:(q=this,v={});return new Promise(function(w,x){var H21,y;H21=2;for(;H21 !== 5;){switch(H21){case 2:q.zp.Oca(m.ks,p,function(z,A){var I21,J21,B;I21=2;for(;I21 !== 1;){switch(I21){case 2:try{J21=2;for(;J21 !== 19;){switch(J21){case 3:J21=r instanceof ArrayBuffer?9:7;break;case 20:y=l.Gra(u,{response:v.response});J21=6;break;case 1:return x(z);break;case 7:y=l.Hra(u,v,r);J21=6;break;case 11:J21=l.Aua(y)?10:12;break;case 8:return x(B);break;case 14:J21=l.Bua(y)?13:12;break;case 13:var V84="M";V84+="issing or invalid header data parts for s";V84+="tream";V84+=" ";return (B=V84 + y.Qa,x(B));break;case 9:var O84="Header fragments was an ar";O84+="ray bu";O84+="f";O84+="f";O84+="er, is invalid type ";B=O84 + y.Qa;J21=8;break;case 4:J21=l.Q7a(u)?3:20;break;case 6:J21=y.Bc?14:11;break;case 12:w(y);J21=19;break;case 5:Object.keys(A).map(function(C){var K21,D,L21,F;K21=2;for(;K21 !== 3;){switch(K21){case 1:K21=D === m.Jha?5:4;break;case 4:D === m.XHa?r=A[C]:v[D]=A[C];K21=3;break;case 2:D=C.substr(C.lastIndexOf(".") + 1);K21=1;break;case 5:try{L21=2;for(;L21 !== 5;){switch(L21){case 2:F=new Uint8Array(A[C]);u=JSON.parse(String.fromCharCode.apply(null,F));L21=5;break;}}}catch(G){u=A[C];}K21=3;break;}}});J21=4;break;case 10:var T84="Mi";T84+="ssing or invalid media data pa";T84+="rts f";T84+="or stream ";return (B=T84 + y.Qa,x(B));break;case 2:J21=z || void 0 === A?1:5;break;}}}catch(C){x(C);}I21=1;break;}}});H21=5;break;}}});break;}}};n.prototype.Cyb=function(p,q,r){var M21,u;M21=2;for(;M21 !== 5;){switch(M21){case 2:u=this;return new Promise(function(v,w){var N21,x;N21=2;for(;N21 !== 5;){switch(N21){case 2:u.zp.read(m.ks,p,function(y,z){var O21,P21,H,E,I,L,K,R,Q21,R21,S21,F,G,A,B,C,D,T21,P,U21,S,U,T,W,V21,W21,X21,J,M,Y21,Z21,a31;O21=2;for(;O21 !== 4;){switch(O21){case 13:O21=F.headers?12:10;break;case 11:try{P21=2;for(;P21 !== 12;){switch(P21){case 7:P21=l.Bua(R)?6:14;break;case 9:return w(H);break;case 6:var t84="Missing or invalid ";t84+="h";t84+="eader data part";t84+="s fo";t84+="r stream ";return (H=t84 + R.Qa,w(H));break;case 1:P21=!I.done?5:12;break;case 13:I=E.next();P21=1;break;case 3:var A84="Header";A84+=" fragments wa";A84+="s an array buf";A84+="fer, is invalid type ";H=A84 + K.streamId;P21=9;break;case 14:z.push(R);P21=13;break;case 2:(E=c.__values(G),I=E.next());P21=1;break;case 4:P21=K.fragments instanceof ArrayBuffer?3:8;break;case 5:(L=I.value,K=F.headers[L]);P21=4;break;case 8:R=l.Hra(K,K,K.fragments);P21=7;break;}}}catch(pa){var O;O={error:pa};}finally{Q21=2;for(;Q21 !== 1;){switch(Q21){case 2:try{R21=2;for(;R21 !== 1;){switch(R21){case 2:I && !I.done && (A=E.return) && A.call(E);R21=1;break;}}}finally{S21=2;for(;S21 !== 5;){switch(S21){case 2:S21=O?1:5;break;case 9:throw O.error;S21=4;break;S21=5;break;case 1:throw O.error;S21=5;break;}}}Q21=1;break;}}}O21=10;break;case 8:F=z[p];O21=7;break;case 6:y=l.ysa(F.movieEntry);z=[];O21=13;break;case 5:w(y);O21=4;break;case 3:O21=h.na(z)?9:8;break;case 17:x=l.zsa(u.J,u.G,u.Yd,z,q);O21=16;break;case 12:G=Object.keys(F.headers);O21=11;break;case 2:O21=1;break;case 1:O21=y?5:3;break;case 7:O21=F.movieEntry?6:15;break;case 20:O=F.data;A=Object.keys(O);O21=18;break;case 10:O21=F.data?20:17;break;case 9:v();O21=4;break;case 18:try{T21=2;for(;T21 !== 8;){switch(T21){case 5:L=M.value;P=Object.keys(O[L]);try{U21=2;for(;U21 !== 7;){switch(U21){case 3:var S84="Missing or inva";S84+="lid media data parts fo";S84+="r stream ";return (H=S84 + W.Qa,w(H));break;case 2:(S=(C=void 0,c.__values(P)),U=S.next());U21=1;break;case 5:(T=O[L][U.value],W=l.Gra(T,T));U21=4;break;case 1:U21=!U.done?5:7;break;case 4:U21=l.Aua(W)?3:9;break;case 8:U=S.next();U21=1;break;case 9:z.push(W);U21=8;break;}}}catch(pa){C={error:pa};}finally{V21=2;for(;V21 !== 1;){switch(V21){case 2:try{W21=2;for(;W21 !== 1;){switch(W21){case 2:U && !U.done && (D=S.return) && D.call(S);W21=1;break;}}}finally{X21=2;for(;X21 !== 5;){switch(X21){case 1:throw C.error;X21=5;break;case 2:X21=C?1:5;break;case 9:throw C.error;X21=0;break;X21=5;break;}}}V21=1;break;}}}T21=9;break;case 2:(J=c.__values(A),M=J.next());T21=1;break;case 1:T21=!M.done?5:8;break;case 9:M=J.next();T21=1;break;}}}catch(pa){var ia;ia={error:pa};}finally{Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:try{Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:M && !M.done && (B=J.return) && B.call(J);Z21=1;break;}}}finally{a31=2;for(;a31 !== 5;){switch(a31){case 1:throw ia.error;a31=5;break;case 2:a31=ia?1:5;break;}}}Y21=1;break;}}}O21=17;break;case 16:void 0 !== x && (x.An=y);O21=15;break;case 15:var n84="med";n84+="i";n84+="acacheloo";n84+="kup";u.ZQ(n84,{waa:u.Dp.time.ia() - r,C7:!0});v(x);O21=4;break;}}});N21=5;break;}}});break;}}};n.prototype.wwb=function(p){var b31,q;b31=2;for(;b31 !== 5;){switch(b31){case 2:var c84="M";c84+="edia ";c84+="cach";c84+="e is not enabl";c84+="ed";q=this;return this.zu?this.zu.then(function(){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return new Promise(function(r){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:q.zp.j_(m.ks,p.toString(),function(u){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:u && 0 !== u.length?1 === u.length && u[0] === p.toString()?r(!0):r(!1):r(!1);e31=1;break;}}});d31=1;break;}}});break;}}}):Promise.reject(c84);break;}}};O11=10;break;case 10:n.prototype.$yb=function(p){var f31,u,v;f31=2;function r(w){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:w.map(q);h31=1;break;case 4:w.map(q);h31=5;break;h31=1;break;}}}for(;f31 !== 4;){switch(f31){case 2:(u=this,v=p.toString());this.zp.j_(m.ks,[m.cLa,p].join("."),r);this.zp.j_(m.ks,v,r);f31=4;break;}}function q(w){var g31;g31=2;for(;g31 !== 1;){switch(g31){case 2:u.zp.delete(m.ks,w);g31=1;break;}}}};n.prototype.o9b=function(p){var i31,q;i31=2;for(;i31 !== 4;){switch(i31){case 2:var l84="me";l84+="dia";l84+="cache-error";var K84="m";K84+="ediaca";K84+="c";K84+="he";q=new k.Zf();q.on(this.zp,K84,function(r){var j31;j31=2;for(;j31 !== 4;){switch(j31){case 1:r.keys || r.items.map(function(u){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:return u.key;break;}}});j31=5;break;case 9:j31=r.keys && r.items?2:9;break;j31=r.keys || r.items?1:5;break;case 2:j31=r.keys || r.items?1:5;break;case 5:var G84="me";G84+="d";G84+="iacach";G84+="e";p.emit(G84,r);j31=4;break;}}});q.on(this.zp,l84,function(r){var l31;l31=2;for(;l31 !== 5;){switch(l31){case 2:var q84="med";q84+="i";q84+="a";q84+="cach";q84+="e";var Z84="e";Z84+="r";Z84+="r";Z84+="o";Z84+="r";r.type=Z84;p.emit(q84,r);l31=5;break;}}});i31=4;break;}}};return n;break;}}function n(p,q,r){var P11;P11=2;for(;P11 !== 12;){switch(P11){case 5:this.vvb=p.aMb?p.aMb:!1;this.jH=p.uwa?p.uwa:!1;this.Rwb=p.J$a?p.J$a:!1;this.J=p;P11=8;break;case 2:var m84="m";m84+="ed";m84+="ia|asej";m84+="s";var R84="ME";R84+="D";R84+="IACACH";R84+="E";this.G=new q.Console(R84,m84);this.cma=(p.eDa || p.fDa) && 0 < (p.mW || (q.options || ({})).QP || 0);P11=5;break;case 8:var N84="1SI";N84+="YbZrNJC";N84+="p9";var k84="M";k84+="edia cache has ";k84+="not bee";k84+="n in";k84+="itiaized";this.Dp=q;this.Yd=r;this.zu=Promise.reject(k84);this.zu.catch(function(){});N84;P11=12;break;}}}})();b.BLa=a;t.Je(k.EventEmitter,a);},function(t,b,a){var c,k,g,h,d;c=a(9);g=[];d=!1;t.exports={mP:function(f,l,m){var n;if(d)c.fd(m) && (k.Gv || k.dJ?setTimeout(function(){m(k);},0):g.push(m));else {d=!0;n=a(127);n.VX(f);h=new n.Console("MEDIACACHE","media|asejs");k=new (a(427))(l,function(p){p && h.warn("Failed to initialize MediaCache",p);c.fd(m) && setTimeout(function(){m(k);},0);g.map(function(q){setTimeout(function(){q(k);},0);});});}return k;},Rlc:function(f,l){k=new (a(427))(f,function(m,n){m && h.warn("Failed to initialize MediaCache",m);c.fd(l) && setTimeout(function(){l(n);},0);});}};},function(t,b,a){var k,g,h,d,f;function c(l){this.xs=l;this.context=l.context;this.$ab="NULLCONTEXT" === l.context?!0:!1;}k=a(9);g=a(127);h=new g.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(l,m,n,p,q){q("MediaCache is not supported");},remove:function(l,m,n){n("MediaCache is not supported");},create:function(l,m,n,p){p("MediaCache is not supported");},append:function(l,m,n,p){p("MediaCache is not supported");},query:function(l,m,n){n([]);}};c.prototype.BH=function(){var l,m,n;l=Array.prototype.slice.call(arguments);m=l[0];n=l[l.length - 1];l=l.slice(1,l.length - 1);l.push(function(p){n(null,p);});try{if(this.$ab)throw Error("Media Cache not supported");m.apply(this.xs,l);}catch(p){n(p);}};c.prototype.query=function(l,m,n,p){try{if(this.$ab)throw Error("Media Cache not supported");this.xs.query(l,m,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(l,m,n,p,q){this.BH(this.xs.read,l,m,n,p,q);};c.prototype.remove=function(l,m,n){this.BH(this.xs.remove,l,m,n);};c.prototype.create=function(l,m,n,p){this.BH(this.xs.create,l,m,n,p);};c.prototype.append=function(l,m,n,p){this.BH(this.xs.append,l,m,n,p);};c.prototype.info=function(l){this.BH(this.xs.info,l);};c.prototype.validate=function(l){this.BH(this.xs.validate,l);};c.prototype.flush=function(l){this.BH(this.xs.flush,l);};c.prototype.clear=function(){this.xs.clear();};t.exports={jIb:function(l){var m,n,p,q,r;m=l.mlc || "NRDMEDIADISKCACHE";f=l.mW || 0;0 !== f || k.na(g.options) || k.na(g.options.QP) || (f=g.options.QP);l=f;try{p=g.storage.PKb;if(!p || !k.Mj(p))throw (h.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[m]){h.warn("Disk store exists, returning");q=new c(n);}else {if(k.na(g.storage) || !k.fd(g.storage.i_a) || g.options && 0 === g.options.QP)throw (h.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");h.warn("Disk store context doesn't exist, creating with size " + l);r=g.storage.i_a({context:m,size:l,encrypted:!0,signed:!0});if(!r || !r.valid)throw "Failed to create disk store context";q=new c(r);}}catch(u){h.warn("Exception creating disk store context - returning NullContext (noops)",u);q=new c(d);}return q;},cQb:function(){return f;},Sfc:c};},function(t,b,a){var f,l,m,n,p,q,r,u,v;function c(){}function k(w,x,y,z,A){var B;B=f.fd(z)?z:c;this.ox=w;this.ug=y.fr;this.dA=0;this.Bvb=y.QMb || "NONE";this.Mz=f.na(A) || f.qb(A)?0:A;this.Oe={};this.vu=y.unc || l.storage.gT;this.gx=x;this.fN=p.create(this.gx,y.iJb * this.Mz,this.ox);this.on=this.addEventListener=v.addEventListener;this.removeEventListener=v.removeEventListener;this.emit=this.bb=v.bb;this.OTa=h(this,k.Ke.REPLACE);this.dwb=h(this,k.Ke.rSa);this.uH;this.uH=y.zkb?a(1016):a(1017);this.gx.query(this.vu,this.Hr(""),(function(C,D){var F;if(C)B(C);else {F=this.fN.osa();C=Object.keys(D).filter(function(G){return G !== F && q.sP(G);}).map(this.CCa.bind(this));this.Oca(C,(function(G,E){Object.keys(E).map((function(I){var L,K;L=E[I];this.Oe[q.x8(I)]=L;if(L.Tza && 1 < Object.keys(L.Tza).length){K=0;Object.keys(L.Tza).forEach((function(H){D[this.Hr(H)] && f.Ja(D[this.Hr(H)].size) && (K+=D[this.Hr(H)].size);}).bind(this));I=q.x8(I);this.Oe[I].size=K;}else (I=q.x8(I),D[this.Hr(I)] && (this.Oe[I].size=D[this.Hr(I)].size));}).bind(this));g(this.gx,this.vu,this.ox,(function(I,L){this.dA=L;I?B(I):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function g(w,x,y,z){var A;A=f.fd(z)?z:c;w.query(x,y,function(B,C){B?A(B):(B=Object.keys(C).reduce(function(D,F){return D + (C[F].size || 0);},0),A(null,B));});}function h(w,x){return function(y,z,A,B,C){return function(D,F){var G;if(D)(z || w.bb(k.Ke.Yf,{itemKey:y,error:D}),A(D));else {G={ll:0,duration:0,items:[],time:l.time.now()};Object.keys(F.actions).map(function(E){var I;I=F.actions[E];E={key:w.CCa(I.baa),xl:E};I.ca?(G.ll+=I.ll,E.aaa=I.ll,f.Ja(I.duration) && (G.duration+=I.duration)):E.error=I.error;G.items.push(E);});D=f.fd(B)?B():0;0 < C && (G.ZN=C - D);g(w.gx,w.vu,w.ox,function(E,I){E?A(E):(w.dA=I,G.Eo=w.ug - I,z || w.bb(x,u.O3a(G)),A(null,G));});}};};}function d(w,x){return 0 < x && w >= x?!0:!1;}f=a(9);l=a(127);m=a(261);b=a(86);n=new l.Console("MEDIACACHE","media|asejs");p=a(1012);q=a(428);r=a(128);u=a(262);v=a(429).EventEmitter;b({Ke:{rSa:"writeitem",REPLACE:"replaceitem",mha:"journalupdate",Yf:"mediacache-error"}},k);k.prototype.jRb=function(){return this.ox;};k.prototype.CCa=function(w){return w.slice(this.ox.length + 1);};k.prototype.dsa=function(){return Object.keys(this.Oe).filter((function(w){w=q.zra(this.Oe[w]);return void 0 === w || 0 >= w.IZa();}).bind(this));};k.prototype.tRb=function(){return Object.keys(this.Oe).reduce((function(w,x){var y;y=this.Oe[x];return y && y.creationTime < w.creationTime?{resourceKey:x,creationTime:y.creationTime}:w;}).bind(this),{resourceKey:null,creationTime:l.time.now()}).Aoc;};k.prototype.nQb=function(){var w;switch(this.Bvb){case "FIFO":w=this.tRb();}return w;};k.prototype.gKb=function(w){var x;x=f.fd(w)?w:c;this.z4a((function(y){var z,A,B;z=this.Oe;A=Object.keys(z).reduce(function(C,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(F){C.push(F);});return C;},[]);if((y=y.filter(function(C){return !q.sP(C) && 0 > A.indexOf(C);})) && 0 < y.length){B=this;y=l.Promise.all(y.map(function(C){return new l.Promise(function(D,F){B.delete(C,function(G){G?F(G):D();});});})).then(function(){x(void 0,{mza:!0});},function(C){x(C,{mza:!1});});u.zy(y);}else w(void 0,{mza:!1});}).bind(this));};k.prototype.j5b=function(w,x,y){var z,A;z=f.fd(x)?x:c;x=this.Hr(w);A=l.time.now();this.gx.read(this.vu,x,0,-1,(function(B,C){var D;if(B)z(B);else if(C && C.ca && C.value){f.fd(y) || (y=this.uH.iX(r.ls.dG),q.sP(w)?y=this.uH.iX(r.ls.y3):(B=this.Oe[w],!f.na(B) && f.Ja(B.resourceIndex[w])?(B=B.resourceIndex[w],f.na(B) && (B=r.ls.dG),y=this.uH.iX(B)):n.warn("Metadata is undefined or does not contain a resource format for key",w,":",B)));try{D=y(C.value);}catch(F){return z(m.QL.fs(F.message));}C={duration:l.time.now() - A};this.Oe[w] && f.Ja(this.Oe[w].size) && (C.rA=f.Ja(this.Oe[w].size)?this.Oe[w].size:0);z(null,D,C);}else z(m.QL.fs(C.error));}).bind(this));};k.prototype.read=function(w,x,y){this.j5b(w,x,y);};k.prototype.Oca=function(w,x,y){var z,A,B;z=f.fd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(w))z(m.QL.fs("item keys must be an array"));else {A={};B=[];w=l.Promise.all(w.map((function(C){return new l.Promise((function(D,F){var G;y && !f.na(y[C]) && (G=this.uH.iX(y[C]));this.read(C,function(E,I,L){E?(I={},I[C]=E,F(I)):(A[C]=I,B.push({duration:L.duration,rA:L.rA}),D());},G);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < B.length && (C=B.reduce(function(D,F){f.Ja(F.duration) && (D.duration+=F.duration);f.Ja(F.rA) && (D.rA+=F.rA);return D;},{duration:0,rA:0}));z(null,A,C);},function(C){z(C);});u.zy(w);}};k.prototype.write=function(w,x,y,z,A){var B,C,D;y=f.fd(y)?y:c;B=this.Hr(w);C="function" === typeof A?A():0;D=r.hta(x);D=this.uH.Psa(D)(x);D.byteLength + this.dA >= this.ug?y(m.lL):d(D.byteLength + C,this.Mz)?y(m.r4):this.fN.save(this.vu,B,x,this.dwb(w,z,y,A,this.Mz),D.byteLength);};k.prototype.replace=function(w,x,y,z,A){var B,C,D,F;B=f.fd(y)?y:c;C=this.Hr(w);D=0;"function" === typeof A && (D=A());y=r.hta(x);F=this.uH.Psa(y)(x);y=(this.Oe[w] || ({})).size || 0;0 >= y && this.Oe[w]?this.b5a([w],(function(G){n.trace("Replacing key",w,"which exists:",! !this.Oe[w],this.Oe[w]?this.Oe[w]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.dA,"vs capacity",this.ug);F.byteLength - G + this.dA >= this.ug?B(m.lL):d(F.byteLength - G + D,this.Mz)?B(m.r4):this.fN.replace(this.vu,C,x,this.OTa(w,z,B,A,this.Mz),F.byteLength);}).bind(this)):(n.trace("Replacing key",w,"which exists:",! !this.Oe[w],this.Oe[w]?this.Oe[w]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.dA,"vs capacity",this.ug),F.byteLength - y + this.dA >= this.ug?B(m.lL):d(F.byteLength - y + D,this.Mz)?B(m.r4):this.fN.replace(this.vu,C,x,this.OTa(w,z,B,A,this.Mz),F.byteLength));};k.prototype.u6b=function(w,x,y,z){var A;A=f.fd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(w)?A(m.q4.fs("items must be a map of keys to objects")):(x=l.Promise.all(Object.keys(w).map((function(B){return new l.Promise((function(C){this.replace(B,w[B],function(D,F){D?C({error:D,Rr:B}):C(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var C,D,F,G;try{C=Number.MAX_VALUE;D=B.reduce(function(E,I){I.error || (E.ll+=I.ll,f.Ja(I.duration) && (E.duration+=I.duration),!f.na(I.Eo) && I.Eo < C && (C=I.Eo),I.items.map(function(L){E.items.push({key:L.key,xl:L.xl,aaa:L.aaa,bYb:L.bYb,duration:L.duration});}),C < Number.MAX_VALUE && (E.Eo=C));return E;},{ll:0,items:[],time:l.time.now(),duration:0});0 < this.Mz && (D.ZN=this.Mz - z());F=B.filter(function(E){return !f.na(E.error);});G=u.U5a(F);y || (G?G.forEach((function(E){this.bb(k.Ke.Yf,E);}).bind(this)):this.bb(k.Ke.REPLACE,u.O3a(D)));A(G,D);}catch(E){A(E);}}).bind(this),(function(B){y || this.bb(k.Ke.Yf,B);A(B);}).bind(this)),u.zy(x));};k.prototype.delete=function(w,x){var y;y=f.fd(x)?x:c;this.gx.remove(this.vu,this.Hr(w),(function(z,A){z?y(z):A && A.ca?g(this.gx,this.vu,this.Hr(""),(function(B,C){B?y(B):(this.dA=C,y());}).bind(this)):y(m.aob.fs(A.error));}).bind(this));};k.prototype.z4a=function(w){this.query("",function(x,y){x?(n.error("Failed to get keys",x),w([])):w(y);});};k.prototype.query=function(w,x){var y,z;y=f.fd(x)?x:c;z=this.fN.osa();this.gx.query(this.vu,this.Hr(w),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(C){return C !== z;}).map(this.CCa.bind(this)));}).bind(this));};k.prototype.Hr=function(w){return this.ox + "." + w;};k.prototype.clear=function(w){var x;x=f.fd(w)?w:c;this.z4a((function(y){var z;z=l.Promise.all(y.map((function(A){return new l.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.bb(k.Ke.Yf,A);x([],A);}).bind(this));u.zy(z);}).bind(this));};k.prototype.b5a=function(w,x){var y,z;y=f.fd(x)?x:c;z=(w || []).map((function(A){return this.Hr(A);}).bind(this));this.gx.query(this.vu,this.ox,(function(A,B){A?(n.error("failed to get persisted size for keyset ",w,A),y(0)):(A=Object.keys(B).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,D){return C + (B[D].size || 0);},0),y(A));}).bind(this));};k.prototype.DPb=function(w){return this.fN.E3a(w);};k.prototype.constructor=k;t.exports=k;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r){var A,B;function u(C,D,F,G){C.info.call(C,(function(E,I){var L;if(E)G(E);else {try{L=I.values[this.context].entries[D][F].size;}catch(K){L=-1;}-1 < L?G(null,L):this.validate(function(K,H){K?G(K):(H[F] && (L=H[F].size),G(null,L));});}}).bind(C));}function v(C,D,F,G,E,I,L){var K;I?I.actions || (I.actions={}):I={actions:{}};A(G);K=g.time.now();G=new m(function(H,R){C.create(g.storage.gT,D,F,function(O,J){O?R(O):H(J);});}).then(function(H){H.ca?u(C,g.storage.gT,D,function(R,O){R?L(R):(B(O),A(O),I.actions[c.o1.mha]={ca:!0,time:E,ll:O,baa:D,Xdb:H,duration:g.time.now() - K},I.Eo=H.Eo,L(null,I));}):(I.actions[c.o1.mha]={ca:!1,baa:D,error:H.error},L(null,I));},function(H){L(H);});f.zy(G);}function w(C,D,F,G,E,I){G.Ar(F.time,F);for(var L=F.time - 864E5,K=G.sy();K && !isNaN(K.time) && K.time < L;){K=G.cO();A(0 - (K.aa || 0));K=G.sy();}G=G.Tn().map(function(H){return H.time + ";" + H.aa;});v(C,D,Array.prototype.join.call(G,"|"),F.aa,F.time,E,I);}function x(C,D,F,G,E,I,L,K,H){var R;R=g.time.now();C.create(F,G,E,function(O,J){var M;if(O)l.error("Failed to replace item",G,O);else if(J.ca){M=J.Eo;u(C,F,G,function(P,S){var U,T;if(P)H(P);else {P={time:K,aa:S || 0};U={Eo:M,actions:{}};T=g.time.now() - R;U.actions[c.o1.REPLACE]={ca:!0,time:K,ll:S,baa:G,Xdb:J,duration:T};I?w(C,D,P,L,U,H):(A(S),H(null,U));}});}else H(h.q4.fs(J.error || "Failed to create item"));});}function y(C,D,F,G,E,I,L,K,H){var R;R=g.time.now();C.append(F,G,E,function(O,J){var M;if(O)(l.error("Failed to save item " + G,O),H(O));else if(J.ca){M=J.Eo;u(C,F,G,function(P,S){var U,T;if(P)H(P);else {P={time:K,aa:S || 0};U={Eo:M,actions:{}};T=g.time.now() - R;U.actions[c.o1.btb]={ca:!0,time:K,ll:S,baa:G,Xdb:J,duration:T};I?w(C,D,P,L,U,H):(A(S),H(null,U));}});}else H(h.q4.fs(J.error || "Failed to save item"));});}function z(C,D){C && k.fd(C.remove) && C.xs.valid && C.remove(g.storage.gT,D.HM,function(F,G){if(F)l.error("Failed to delete old journal key",F);else try{G && (k.na(G.error) || G.error.some(function(E){return "NFErr_FileNotFound" === E.Dlc;})) && w(C,D.HM,{time:0,aa:0},D.yU,0,function(){});}catch(E){}});}if(!p.xs.valid)return n;this.eTa=k.na(q) || k.qb(q)?0:q;this.uka=p;this.ala=this.LT=0;this.yU=new d();this.hyb=r || "default";this.HM=this.hyb + ".NRDCACHEJOURNALKEY";A=(function(C){isNaN(C) || (this.LT+=C);return this.LT;}).bind(this);B=(function(C){isNaN(C) || (this.ala+=C);return this.ala;}).bind(this);this.osa=function(){return this.HM;};this.save=function(C,D,F,G){var E;E=g.time.now();y(this.uka,this.HM,C,D,F,0 <= this.eTa,this.yU,E,G);};this.replace=function(C,D,F,G){var E;E=g.time.now();x(this.uka,this.HM,C,D,F,0 <= this.eTa,this.yU,E,G);};this.E3a=function(C){var D,E;D=this.LT;C-=864E5;for(var F=this.yU.Tn(),G=0;G < F.length;G++){E=F[G];E.time < C && !isNaN(E.aa) && (D-=E.aa);}return D;};(function(C){var D;D=C.uka;C.LT=0;D.read(g.storage.gT,C.HM,0,-1,function(F,G){var E,I,L,H;E=[];I=0;L=!0;if(F)l.error("Failed to compile records",F);else if(G.ca){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(R,O){return R + (O.length + 40);},0);A(G);E=F.map(function(R){R=R.split(";");return {time:Number(R[0]),aa:Number(R[1])};});try{if(!isNaN(E.reduce(function(R,O){return R + O.aa;},0))){L=!1;for(var K=g.time.now() - 864E5;I < E.length;I++){H=E[I];H.time < K || (C.yU.Ar(H.time,H),A(H.aa));}}}catch(R){}}L && z(D,C);});})(this);}k=a(9);g=a(127);h=a(261);d=a(1013);b=a(86);f=a(262);l=new g.Console("DISKWRITEMANAGER","media|asejs");m=g.Promise;b({o1:{btb:"saveitem",REPLACE:"replaceitem",mha:"journalupdate"}},c);n={save:function(p,q,r,u){u(h.$Ka);},replace:function(p,q,r,u){u(h.$Ka);},osa:function(){return "";},E3a:function(){return 0;}};c.prototype.constructor=c;t.exports={create:function(p,q,r){return new c(p,q,r);},Ohc:n};},function(t){function b(k){if(!(this instanceof b))return new b(k);if("undefined" === typeof k)this.fo=function(g,h){return g <= h;};else {if("function" !== typeof k)throw Error("heap comparator must be a function");this.fo=k;}this.Oq=[];}function a(k,g){var h,d,f,l,m,n,p;h=k.Oq;d=k.fo;f=2 * g + 1;l=2 * g + 2;m=h[g];n=h[f];p=h[l];n && d(n.priority,m.priority) && (!p || d(n.priority,p.priority))?(c(h,g,f),a(k,f,d)):p && d(p.priority,m.priority) && (c(h,g,l),a(k,l,d));}function c(k,g,h){var d;d=k[g];k[g]=k[h];k[h]=d;}b.prototype.clear=function(){this.Oq=[];};b.prototype.Ar=function(k,g){this.Oq.push({priority:k,value:g});k=this.Oq;g=this.fo;for(var h=k.length - 1,d=0 === h?null:Math.floor((h - 1) / 2);null !== d && g(k[h].priority,k[d].priority);){c(k,h,d);h=d;d=0 === h?null:Math.floor((h - 1) / 2);}};b.prototype.remove=function(){var k;if(0 !== this.Oq.length){k=this.Oq[0];c(this.Oq,0,this.Oq.length - 1);this.Oq.pop();a(this,0);return k.value;}};b.prototype.sy=function(){if(0 !== this.Oq.length)return this.Oq[0].value;};b.prototype.enqueue=b.prototype.Ar;b.prototype.cO=b.prototype.remove;b.prototype.M$=function(){return 0 === this.Oq.length;};b.prototype.Tn=function(){return this.Oq.map(function(k){return k.value;});};t.exports=b;},function(t){function b(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Gd)return (this.Gd={},this.Gd[c]=[k],!0);g=this.Gd[c];return void 0 === g?(this.Gd[c]=[k],!0):0 > g.indexOf(k)?(g.push(k),!0):!1;}function a(c,k){c=this.Gd?this.Gd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(k);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Gd)return !1;g=this.Gd[c];if(void 0 === g)return !1;k=g.indexOf(k);if(0 > k)return !1;if(1 === g.length)return (delete this.Gd[c],!0);g.splice(k,1);return !0;},bb:a,emit:a,removeAllListeners:function(c){this.Gd && (void 0 === c?delete this.Gd:delete this.Gd[c]);return this;}};},function(t){function b(c,k,g,h){c.trace(":",g,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,g,h){g=h?g.bind(h):g;h=!1;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addEventListener)h=c.addEventListener(k,g);else if("function" === typeof c.addListener)h=c.addListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,h;g=k[0];h=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,k):"function" === typeof g.removeListener && g.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){var c,k,g,h;c=a(9);k=a(128);g={};g[k.ls.dG]=function(d){return d;};g[k.ls.Y3]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};g[k.ls.y3]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var l=0;l < f.byteLength;l++){d+=String.fromCharCode(f[l]);}return JSON.parse(d);};h={};h[k.ls.dG]=function(d){return d;};h[k.ls.Y3]=function(d){for(var f=new ArrayBuffer(d.length),l=new Uint8Array(f),m=0,n=d.length;m < n;m++){l[m]=d.charCodeAt(m);}return f;};h[k.ls.y3]=function(d){return c.na(d) || c.qb(d)?d:h[k.ls.Y3](JSON.stringify(d));};t.exports={iX:function(d){return g[d] || g[k.ls.dG];},Psa:function(d){return h[d] || h[k.ls.dG];}};},function(t,b,a){function c(g){return g;}function k(){return c;}a(9);t.exports={iX:k,Psa:k};},function(t,b,a){var g;function c(h,d){return h.length > d.length?1:d.length > h.length?-1:0;}function k(h,d){var f,l,m;f=[];if(g.Mj(d)){l={};m={};m[h]=l;f.push(m);f=Object.keys(d).reduce(function(n,p){var q,r,u;q=d[p];r={};if(g.H$(q)){u=h + ".__embed__." + p;r[u]=q;n.push(r);}else g.Mj(q)?(u=h + ".__sub__." + p,q=k(u,q),l[p]=q[0][u],n=n.concat(q.slice(1))):l[p]=q;return n;},f);}else (m={},m[h]=d,f.push(m));return f;}g=a(128);t.exports={OKb:k,kVb:function(h){var d,f,l,u;d=Object.keys(h).map(function(v){return v.split(".");});d.sort(c);f=d[0];l=f.length;f=h[f.join(".")];for(var m=1;m < d.length;m++){for(var n=!1,p=!1,q=f,r=l;r < d[m].length;r++){u=d[m][r];switch(u){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[u],p=!1):n && (q[u]=h[d[m].join(".")],n=!1);}}}return f;},PVb:function(h){return h && (0 <= h.indexOf("__sub__") || 0 <= h.indexOf("__embed__"));}};},function(t,b,a){var h,d;function c(f,l,m){Object.keys(f).forEach(function(n){var p,q;if(h.Mj(f[n]))if(f[n].H$){p=f[n];q=m + p.offset;f[n]=l.slice(q,q + p.byteLength);}else f[n]=c(f[n],l,m);});return f;}function k(f,l,m){Object.keys(f).forEach(function(n){var p;if(h.H$(f[n])){p=f[n];l.push(p);f[n]={H$:!0,offset:m.ppa,byteLength:p.byteLength};m.ppa+=p.byteLength;}else h.Mj(f[n]) && k(f[n],l,m);});return f;}function g(){var f,l,m;f=Array.prototype.concat.apply([],arguments);l=f.reduce(function(n,p){return n + p.byteLength;},0);m=new Uint8Array(l);f.reduce(function(n,p){m.set(new Uint8Array(p),n);return n + p.byteLength;},0);return m.buffer;}h=a(128);d=a(86);t.exports={lGb:function(f){var l,m,n;l=d(f,{});f=[];l=k(l,f,{ppa:0});l=JSON.stringify(l);m=new ArrayBuffer(l.length + 4);n=new DataView(m);n.setUint32(0,l.length);for(var p=4,q=0,r=l.length;q < r;q++){n.setUint8(p,l.charCodeAt(q));p++;}f=[m].concat(f);return g.apply(null,f);},kGb:function(f){for(var l=new DataView(f,0,4).getInt32(0),m=new Uint8Array(f,4,l),n="",p=0;p < m.byteLength;p++){n+=String.fromCharCode(m[p]);}l=4 + l;n=JSON.parse(n);return c(n,f,l);}};},function(t,b,a){var k,g,h,d,f;function c(l){return {mediaType:l.mediaType,streamId:l.Qa,movieId:l.I,bitrate:l.bitrate,location:l.location,serverId:l.ye,saveToDisk:!0,offset:l.offset,bytes:l.aa,timescale:l.U,frameDuration:l.stream.ka && l.stream.ka.Xa,encrypted:l.Zl,initSegments:1 < l.Dg.length?l.Dg.map(function(m){return {fi:m.me,s:m.data.byteLength,e:! !m.Zl};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Aua=b.Bua=b.Q7a=b.R4a=b.p4a=b.s4a=b.usa=b.zsa=b.ysa=b.Gra=b.Hra=b.ZKa=void 0;k=a(0).__importStar(a(9));g=a(1021);h=a(404);d=a(7);f=a(20);b.ZKa={cLa:"movieEntry",Apb:"header",Jha:"metadata",bqb:"headerData",Vgc:"headerMetadata",spb:"sizes",rpb:"durations",XHa:"fragments",Vqb:"response",ks:"billboard",rG:{lifespan:259200}};b.Hra=function(l,m,n){var p,q;p=m.headerData;n && m.sizes instanceof ArrayBuffer && m.durations instanceof ArrayBuffer && (q={On:n.startTicks,offset:n.offset,U:n.timescale,sizes:new Uint32Array(m.sizes),ae:new Uint32Array(m.durations)});return {Bc:!0,mediaType:l.mediaType,I:l.movieId,Qa:l.streamId,bitrate:l.bitrate,location:l.location,ye:l.serverId,aa:l.bytes,offset:l.offset,xta:p,u$:l.initSegments,Zl:l.encrypted,U:l.timescale,ka:l.frameDuration,ri:l.saveToDisk,Z:q};};b.Gra=function(l,m){var n,p,q;m=m.response;n=l.startTicks;p=l.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Bc:!1,mediaType:l.mediaType,I:l.movieId,Qa:l.streamId,bitrate:l.bitrate,location:l.location,ye:l.serverId,aa:l.bytes,offset:l.offset,response:m,U:l.timescale,Ua:l.startTicks,dv:p,ri:l.saveToDisk,fb:q};};b.ysa=function(l){return {priority:l.priority,I:l.movieId,headers:{},eP:0,$V:0,x6a:0,ri:l.saveToDisk,Wb:l.stats,Ox:l.firstSelectedStreamBitrate,jB:l.initSelectionReason,FE:l.histDiscountedThroughputValue,$p:l.histTdigest,Zp:l.histAge,Kp:void 0};};b.zsa=function(l,m,n,p,q){var r,u;r={headers:{},data:{}};p.forEach(function(v){var w,x,A;w=v.mediaType;w=q && q.Ux(w,v.Qa);x=[];if(v.Bc)if(!Array.isArray(v.u$) || 2 > v.u$.length)x.push({me:0,data:v.xta});else for(var y=0,z=0;z < v.u$.length;++z){A=v.u$[z];x.push({me:A.fi,data:v.xta.slice(y,y + A.s),Zl:A.e});y+=A.s;}w?(v.Z && w.Kba(x,v.U,v.ka?new f.M(v.ka,v.U):void 0,v.Z),v.Bc && w && w.Ud?(void 0 === r.headers && (r.headers={}),r.headers[v.Qa]=new h.C1(w,{aa:v.aa,offset:v.offset,Dg:x,Zl:v.Zl},m)):v.response instanceof ArrayBuffer && void 0 !== w.Z && void 0 !== v.Ua && void 0 !== v.U && void 0 !== v.fb && (x=w.Z.E8(new f.M(v.Ua,v.U).T),void 0 !== x && (w=new g.hEa(w,{U:v.U,Ua:v.Ua,fb:v.fb,index:x.index,offset:v.offset,aa:v.aa},v.response,n,l,m),void 0 === r.data && (r.data={}),r.data[v.Qa] || (r.data[v.Qa]=[]),r.data[v.Qa].push(w)))):m.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + v.Qa + " movieId: " + v.I);});if(!k.na(r.data)){u=r.data;Object.keys(u).forEach(function(v){u[v].sort(function(w,x){return w.Ua - x.Ua;});});}return r;};b.usa=function(l){return {mediaType:l.mediaType,streamId:l.Qa,movieId:l.I,bitrate:l.bitrate,location:l.location,serverId:l.ye,saveToDisk:!0,offset:l.offset,bytes:l.aa,timescale:l.U,startTicks:l.Ua,durationTicks:l.dv};};b.s4a=c;b.p4a=function(l){var m,n,p,q;m=c(l);if(l.stream.Ud && l.stream && l.stream.Z){n={timescale:l.stream.Z.U,startTicks:l.stream.Z.On,offset:l.stream.Z.ji(0)};p=l.stream.Z.Ly;q=p.sizes.buffer;p=p.ae.buffer;}return {mediaType:m.mediaType,streamId:m.streamId,movieId:m.movieId,bitrate:m.bitrate,location:m.location,serverId:m.serverId,saveToDisk:!0,offset:m.offset,bytes:m.bytes,timescale:m.timescale,frameDuration:m.frameDuration,headerData:d.Tu(l.Dg.map(function(r){return r.data;})),initSegments:m.initSegments,encrypted:l.Zl,fragments:n,sizes:q,durations:p};};b.R4a=function(l){return {priority:l.priority,movieId:l.I,saveToDisk:l.ri,firstSelectedStreamBitrate:l.Ox,initSelectionReason:l.jB,histDiscountedThroughputValue:l.FE,histTdigest:l.$p,histAge:l.Zp};};b.Q7a=function(l){return !k.has(l,"startTicks");};b.Bua=function(l){return !l.xta || !l.U || !l.Z || void 0 === l.Z.On || void 0 === l.Z.offset || void 0 === l.Z.ae || !l.Z.ae.length || void 0 === l.Z.sizes || !l.Z.sizes.length;};b.Aua=function(l){return void 0 === l.aa || void 0 === l.offset || void 0 === l.U || void 0 === l.Ua || void 0 === l.dv;};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hEa=void 0;c=a(0);k=a(7);t=a(35);g=a(73);a=(function(h){function d(f,l,m,n,p,q){n=h.call(this,f,l,n,p,q) || this;l.aa=m.byteLength;g.Zk.za(n,f,l);n.TM=m;n.Kub=l.aa;return n;}c.__extends(d,h);Object.defineProperties(d.prototype,{Bc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jv:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.TM;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{QXb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DO:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jza:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Kub;},enumerable:!1,configurable:!0}});d.prototype.kt=function(){return !0;};d.prototype.NH=function(f){this.Pe=f.appendBuffer(this.response,k.fy(this));return {ca:this.Pe};};d.prototype.Ri=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.Yc=function(){};d.prototype.mea=function(){return !1;};return d;})(a(177).XF);b.hEa=a;t.Je(g.Zk,a);},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.EQa=void 0;c=a(0);t=a(11);k=a(39);g=c.__importDefault(a(4));h=a(14);d=a(263);f=a(7);l=a(2);m=a(1113);n=a(227);p=new g.default.Console("ASEJS","media|asejs");p.trace.bind(p);t=(function(q){var m31;m31=2;for(;m31 !== 17;){switch(m31){case 5:Object.defineProperties(r.prototype,{Qo:{get:function(){var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:return this.Ga.Qo;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{hi:{get:function(){var q31;q31=2;for(;q31 !== 1;){switch(q31){case 2:return this.Ga.hi;break;case 4:return this.Ga.hi;break;q31=1;break;}}},enumerable:!1,configurable:!0}});r.prototype.za=function(u,v,w,x,y,z,A,B){var r31;r31=2;for(;r31 !== 5;){switch(r31){case 2:this.Ga.OAa({audio:u,video:v,ina:A,mDa:B},{T:x,aa:y});this.Ga.open(this.config,this.KF);r31=5;break;}}};r.prototype.X_=function(u,v,w){var s31;s31=2;for(;s31 !== 1;){switch(s31){case 2:this.Ga.OAa({total:u},{T:v,aa:w});s31=1;break;}}};r.prototype.createSession=function(u,v,w,x,y,z,A,B,C,D){var t31,F,G;t31=2;for(;t31 !== 19;){switch(t31){case 5:F=Number(u.movieId);C=this.O9(F,y.ga);this.fC[C]={g7:function(){},ga:y.ga,equals:function(E){var u31;u31=2;for(;u31 !== 1;){switch(u31){case 2:return E.K === F && (y.ga === E.ga || !E.ga || !y.ga);break;}}},ur:!1,jp:Promise.resolve({ea:u,Mi:! !x.Mi,Xe:! !x.Xe,zd:h.Waa(! !x.kV,! !x.RF),config:B}),K:F};B.NA && this.Ga.xF(this.fC[C],{Xo:y.Xo,ga:y.ga,gE:y.gE});t31=8;break;case 2:var o84="creating";o84+=" s";o84+="ession";this.console.trace(o84);this.Ga.Vb.reset();t31=5;break;case 10:B.Js || B.FJ || this.OD();return this.maa;break;case 8:D=this.HIb(F,u,B.Wcb,B,y,D || r.OJb,x);G=D[0];C=G.fa.N[G.fa.Vd].qa;t31=14;break;case 14:var u84="endP";u84+="ts is n";u84+="ot supp";u84+="ort";u84+="ed";G=[this.DX(F,G.fa,w,C)];D[1] && G.push(this.DX(F,D[1].fa,w,C));l.assert(void 0 === x.Ma,u84);this.maa=new m.FQa(this.console,this,u,D,v,G,x,y,z,A,B);t31=10;break;}}};r.prototype.DX=function(u,v,w,x){var v31;v31=2;for(;v31 !== 1;){switch(v31){case 2:var I84="i";I84+="nvalid start pos";I84+="ition relat";I84+="ive to playgraph";return v.N[v.Vd].qa === x?(u=n.QN(v,u,f.M.Ha(w)),l.assert(u,I84),u):{Y:v.Vd,offset:f.M.La};break;}}};r.prototype.Uy=function(u,v,w){var w31;w31=2;for(;w31 !== 1;){switch(w31){case 2:return c.__awaiter(this,void 0,void 0,function(){var x31,x,y,z,A;x31=2;for(;x31 !== 5;){switch(x31){case 2:return c.__generator(this,function(B){var y31,z31;y31=2;for(;y31 !== 3;){switch(y31){case 4:return (B.Eb(),[2]);break;case 5:return (A=B.Eb(),this.fC[y]={g7:function(){},ga:w.ga,equals:function(C){var A31;A31=2;for(;A31 !== 1;){switch(A31){case 2:return C.K === u && (w.ga === C.ga || !C.ga || !w.ga);break;}}},ur:!1,jp:Promise.resolve({ea:v,Mi:A.Mi,Xe:A.Xe,zd:A.zd,config:A.config}),K:u},[4,this.Ga.Uy(this.fC[y])]);break;case 1:var g84="Can not update viewa";g84+="ble. Vi";g84+="ewable not fo";g84+="und ";return (x=this.am.bind(this,w.ga),y=this.O9(u,w.ga),z=x(u),l.assert(void 0 !== z,g84 + y),[4,z.jp]);break;case 8:y31=z31 === 2?4:3;break;case 2:z31=B.label;y31=z31 === 0?1:9;break;case 9:y31=z31 === 1?5:8;break;}}});break;}}});break;}}};m31=14;break;case 2:c.__extends(r,q);Object.defineProperties(r.prototype,{Vb:{get:function(){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 2:return this.Ga.Vb;break;case 4:return this.Ga.Vb;break;o31=1;break;}}},enumerable:!1,configurable:!0}});m31=5;break;case 11:r.prototype.m6b=function(u){var F31,v,w;F31=2;for(;F31 !== 13;){switch(F31){case 2:this.nFb();(v=this.O9(u.K,u.ga),w=this.fC[v]);w && (w.ur=!0);F31=4;break;case 4:this.Ga.lw(u.pa);u.Fa && this.Ga.FQ(u.Fa);u.Zg && this.Ga.lw(u.Zg);F31=8;break;case 8:u.Wj && this.Ga.FQ(u.Wj);u === this.maa && delete this.maa;this.Ga.tza(this.fC[v]);delete this.fC[v];F31=13;break;}}};r.prototype.xb=function(){var G31;G31=2;for(;G31 !== 9;){switch(G31){case 2:var Y94="A";Y94+="ttempt to destruct ShimManager with late";Y94+="st ses";Y94+="sion s";Y94+="till defined";var C94="Attempted to destruc";C94+="t ShimManager with session";C94+=" config active";var D84="Attempted to";D84+=" des";D84+="truct Shi";D84+="mManager with players present in ASE";var E84="Attem";E84+="pted to destruct ShimM";E84+="anager with playg";E84+="raphs present";E84+=" in ASE";l.assert(0 === this.Ga.mF.length,E84);l.assert(0 === this.Ga.Vcb.length,D84);l.assert(0 === Object.keys(this.fC).length,C94);l.assert(void 0 === this.maa,Y94);this.Ga.close();G31=9;break;}}};r.prototype.O9=function(u,v){var H31;H31=2;for(;H31 !== 1;){switch(H31){case 2:a000.h9X(10);return a000.X9X(u,v,"-");break;}}};m31=19;break;case 19:var w94="s";w94+="0";r.OJb=w94;return r;break;case 14:r.prototype.HIb=function(u,v,w,x,y,z,A){var B31,E,B,C,D,F,G;B31=2;for(;B31 !== 7;){switch(B31){case 3:E=C.m2b;B31=9;break;case 4:B31=C && C.m2b?3:8;break;case 2:var B94="v";B94+="i";B94+="de";B94+="o";var d94="a";d94+="u";d94+="d";d94+="io";var f94="a";f94+="u";f94+="d";f94+="io";var F94="v";F94+="i";F94+="d";F94+="e";F94+="o";var e94="Genera";e94+="ted playgraph from choicemap";e94+=".";(B=this,C=v.choiceMap);C?(u=k.wA(C,{config:x}),this.console.trace(e94)):u=k.AF(u,z,A.kV || A.RF?A.RF?[F94]:[f94]:[d94,B94]);(D=Object.create(x,{MA:{value:y.gE},qOb:{value:y.rN}}),F=this.am.bind(this,y.ga),G=[this.Ga.HH(u,w,D,{am:F})]);B31=4;break;case 9:Object.keys(E).forEach(function(I,L){var f34=a000;var C31;C31=2;for(;C31 !== 9;){switch(C31){case 7:f34.h9X(18);l.assert(f34.Q9X(L,7),"");C31=0;break;C31=1;break;case 2:var x94="Currently only one parallel g";x94+="raph ";x94+="is supported";f34.j9X(19);l.assert(f34.X9X(0,L),x94);C31=1;break;case 1:var Q94="Currently par";Q94+="allel graph can onl";Q94+="y be media type [aud";Q94+="io]";var z94="au";z94+="di";z94+="o";L=E[I];l.assert(L.zd && 1 === L.zd.length && z94 === L.zd[0],Q94);I=k.wA(C,c.__assign(c.__assign({},E[I]),{config:x}));G.push(B.Ga.HH(I,w,D,{am:F}));C31=9;break;}}});B31=8;break;case 8:return G;break;}}};r.prototype.nFb=function(){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:this.Vb.dR(null);D31=1;break;case 4:this.Vb.dR(1);D31=2;break;D31=1;break;}}};r.prototype.am=function(u,v){var E31;E31=2;for(;E31 !== 1;){switch(E31){case 2:return this.fC[this.O9(v,u)];break;}}};m31=11;break;}}function r(u,v,w,x){var n31,y;n31=2;for(;n31 !== 11;){switch(n31){case 2:y=q.call(this) || this;y.config=u;y.OD=v;n31=4;break;case 4:y.Yq=w;y.KF=x;y.fC={};n31=8;break;case 12:return y;break;case 8:var h94="1SIYbZr";h94+="NJCp";h94+="9";var j94="DE";j94+="BU";j94+="G";j94+=":";var X94="nf-a";X94+="se shim ver";X94+="sion:";u=a(430);y.console=p;y.console.trace(X94,u,j94,!1);y.Ga=d.NI();h94;n31=12;break;}}}})(t.EventEmitter);b.EQa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S;Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;c=a(0);k=a(11);g=a(370);h=a(1024);d=a(246);f=a(1025);l=a(230);m=a(14);a(221);n=a(1026);p=a(426);q=a(22);r=a(2);u=a(152);v=a(1027);w=a(1028);x=a(1029);y=a(63);z=a(183);A=a(1030);B=a(58);C=a(264);D=a(7);F=c.__importDefault(a(4));G=a(1031);E=a(1032);I=a(1033);L=a(1034);K=a(52);H=a(1035);R=a(433);O=a(1046);J=a(1047);M=a(1048);P=a(1102);S=a(1112);t=(function(){function U(T){this.G=T;this.events=new k.EventEmitter();this.Nc=g.kp.CLOSED;this.fA=[];this.a0=[];this.rU=[];this.Pq=[];this.RSa={};this.K5={};this.UBa=g.fS.default;this.zzb=new y.ru({kq:this,source:"engine",Gr:10,console:T});}Object.defineProperties(U.prototype,{ew:{get:function(){r.assert(this.Wz);return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{state:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{Vcb:{get:function(){return this.rU;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{mF:{get:function(){return this.Pq.map(function(T){return T.fa;});},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{t3b:{get:function(){return this.Pq;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{Vb:{get:function(){this.SK();return this.zA.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{Qo:{get:function(){this.SK();return this.zA.Qo;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{hi:{get:function(){this.SK();return this.zA.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{Cdc:{get:function(){return this.fA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{zV:{get:function(){return this.RSa;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{$Xa:{get:function(){return this.wp;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{CF:{get:function(){return this.K5;},enumerable:!1,configurable:!0}});Object.defineProperties(U.prototype,{BZb:{get:function(){return this.uUa || (this.uUa=this.SDb());},enumerable:!1,configurable:!0}});U.prototype.open=function(T,W,ia,pa){var wa;wa=this;if(this.Nc === g.kp.OPEN)return !1;this.J=T;this.cs=new B.UL(new C.b4({Nj:!0,currentTime:function(){return D.M.Ha(F.default.time.ia());},speed:1}),this.G,"Engine Scheduler");this.MTa=new f.nIa(this.G,T);this.qD=new n.ZPa(this.$$.bind(this),T);T.Pea && (this.wp=new h.hFa(this.G,function(){return wa.zV;}));this.zA=l.nL.$4a(T,this.G,W);this.Nc=g.kp.OPEN;T=Object.create(T,{qBb:{value:T.FJ || T.Js}});this.Wz=R.wX(T);ia && this.Wz.Jgb(ia);pa && this.Wz.VAa(pa);this.Zcb=new O.hPa({zk:function(){wa.Nc !== g.kp.CLOSED && wa.qD.zk("playgraphOpportunity");}});this.vUa=new I.VLa(function(){return wa.x9();},function(){return wa.y9().global;},this.G);this.MIb();return !0;};U.prototype.HH=function(T,W,ia,pa,wa){var za,Ca,N;za=this;void 0 === wa && (wa=!0);this.SK();ia=Object.create(ia,{hR:{value:this.CF}});if(wa){Ca=this.ew.dFb(T,ia);if(Ca)return (Ca.jkb(W),T=this.Kt.bind(this,pa,Ca),Ca.W8b(T),Ca);}Ca=new H.aQa(function(Q){return za.Kt(pa,N,Q);});N=M.y7(this.J,[T,W,ia,U.I_b++,this.Vb,Ca,function(Q){return za.qD.zk(Q);},wa?this.ew.cFb.bind(this.ew):function(){},this.x9.bind(this),this.wp],this.G);N.wg(new w.UQa(N));N.wg(new x.nRa(N.jm));N.v9a.wg(new L.tEa(N));this.Zz.dK.forEach(function(Q){return N.wg(Q);});this.Zcb.HH(N);T=new k.Zf();T.on(N.events,"requestsPruned",this.P6b.bind(this));T.on(N.events,"weightUpdated",this.Fxa.bind(this));T.on(N.events,"underflow",this.Uj.bind(this,N));this.Pq.push({fa:N,wh:T,q_:0});this.Fxa();return N;};U.prototype.Uj=function(T){T=this.vUa.GOb(T);(null === T || void 0 === T?0:T.U7) || this.ew.reset();};U.prototype.lw=function(T){this.Zcb.lw(T);this.Pq=this.Pq.filter(function(W){return W.fa === T?(W.wh.clear(),!1):!0;});T.xb();this.Fxa();};U.prototype.rWa=function(T,W){var ia,pa,wa;this.SK();wa=W.zd;T=P.TN(this.J,[T,void 0 === wa?[0,1]:wa,c.__assign({hR:null !== (pa=null !== (ia=W.hR) && void 0 !== ia?ia:this.K5) && void 0 !== pa?pa:{}},W)]);this.rU.push(T);return T;};U.prototype.FQ=function(T){this.SK();this.rU=this.rU.filter(function(W){return W !== T;});T.xb();};U.prototype.OAa=function(T,W){this.RSa=T;this.K5=W;this.uUa=void 0;};U.prototype.xF=function(T,W){var ia,pa;pa=null === (ia=q.Xc(this.fA,function(wa){return wa.PV.equals(T);})) || void 0 === ia?void 0:ia.O;pa?pa.xF(c.__assign(c.__assign({},W),{Ro:this.gxa.bind(this)})):this.a0.push({Ykb:T,kBa:W});};U.prototype.tza=function(T){this.a0=this.a0.filter(function(W){return !W.Ykb.equals(T);});};U.prototype.close=function(){this.Nc !== g.kp.CLOSED && (this.b6b(),r.assert(0 === this.fA.length,"Unexpected viewable lease after Playgraph destruction."),this.a6b(),this.a0=[],delete this.zA,this.Nc=g.kp.CLOSED,this.cs.xb());};U.prototype.b9b=function(T){this.UBa=T;this.qD.zk("streamingModeChanged");};U.prototype.rl=function(){return this.Zz.rl();};U.prototype.MIb=function(){this.Zz=new K.aja(this.J);this.Zz.wg(new G.IHa(this));this.Zz.wg(new A.bQa(this.Vb,this.qD));this.Zz.wg(new v.FHa(this.Vb));this.Zz.wg(new z.$w(this.zzb));this.Zz.wg(new z.$w(this.qD.Dr));this.Zz.wg(new z.$w(this.MTa.Vh));this.Zz.wg(new z.$w(this.vUa.Vh));};U.prototype.gxa=function(){};U.prototype.Uy=function(T){return c.__awaiter(this,void 0,void 0,function(){var W,ia,pa,wa;return c.__generator(this,function(za){switch(za.label){case 0:return (r.assert(T,"ase.updateViewable(): Viewable config not found."),W=q.Xc(this.fA,function(Ca){return !0 !== Ca.PV.ur && Ca.PV.equals(T);}),r.assert(W,"ase.updateViewable(): Viewable entry not found."),[4,W.UF]);case 1:return (ia=za.Eb(),wa=(pa=ia).Uy,[4,T.jp]);case 2:return (wa.apply(pa,[za.Eb()]),[2]);}});});};U.prototype.Kt=function(T,W,ia){var pa,wa,za,Ca;pa=this;wa=ia.K;za=T.am(wa,ia.y_);r.assert(za,"ase.requestViewable(): Viewable config not found.");Ca=q.Xc(this.fA,function(N){return !0 !== N.PV.ur && N.PV.equals(za);});Ca || (Ca={PV:za,UF:(function(){return c.__awaiter(pa,void 0,void 0,function(){var N,Q;return c.__generator(this,function(V){switch(V.label){case 0:return [4,za.jp];case 1:return (N=V.Eb(),Q=this.Gx(wa,za,N),Ca.O=Q,[2,Q]);}});});})(),O:void 0,iXb:new u.uha(function(N){N() && pa.yza(Ca);},D.ii(F.default,this.G,"" + wa))},this.fA.push(Ca));T=new S.oSa(Ca,this.G,W,ia);T.events.once("error",this.yza.bind(this,Ca,!1));return T;};U.prototype.yza=function(T,W){var ia,pa;void 0 === W && (W=!0);r.assert(T,"expected viewableEntry to exist");ia=T.O;pa=T.UF;W && (ia?ia.xb():pa.then(function(wa){wa.xb();}));this.fA=this.fA.filter(function(wa){return wa !== T;});};U.prototype.Gx=function(T,W,ia){var wa,za,Ca,N,Q,V;function pa(ca){wa.events.emit("logdata",ca);}wa=this;this.SK();za=ia.ea;Ca=ia.Mi;N=ia.Xe;Q=ia.zd;Q=void 0 === Q?m.Of:Q;ia=ia.config;V=[new p.Rha(0),new p.Rha(1)];za={ea:za,config:ia,Mi:Ca,zd:Q,Z8:void 0,Vb:this.zA.Vb,hi:this.zA.hi,T1a:{et:function(){return wa.qD.zk("networkFailureReset");},If:this.If.bind(this,T),No:this.No.bind(this,T),So:pa},w6a:{So:pa,CX:void 0,uE:function(ca){return V[ca];},K$:function(){return !0;},Sf:void 0,pm:void 0,Lh:void 0,EE:void 0},NQ:{Ju:this.Ju.bind(this),ZB:this.ZB.bind(this)},CF:this.K5,Pb:0,nq:void 0,H$a:{xua:! !N,f8a:!1},pZ:function(){}};T=new d.Nfa(T,za);ia.NA && (za=q.Xc(this.a0,function(ca){return ca.Ykb.equals(W);})) && (za=za.kBa,this.tza(W),T.xF(c.__assign(c.__assign({},za),{Ro:this.gxa.bind(this)})));return T;};U.prototype.$$=function(){var T,W;r.assert(this.state === g.kp.OPEN);T=this.y9();W=this.YO();return this.MTa.Ibb(T,W);};U.prototype.YO=function(){var T,W,ia;T=this;ia=null !== (W=this.J.T3b) && void 0 !== W?W:this.Pq.every(function(pa){return !pa.fa.Bv;});W=q.flatten(this.Pq.map(function(pa){return pa.fa.YO().map(function(wa){pa.fa.Bv || 1 === pa.q_ || (wa.TI=pa.q_);return wa;});}));this.UBa === g.fS.disabled?W=[]:this.UBa === g.fS.iYb && (W=W.filter(function(pa){return T.J.iwa >= pa.Vt - pa.Us;}));ia || (ia=W.filter(function(pa){var wa;return 1 === (null !== (wa=pa.TI) && void 0 !== wa?wa:1);}),ia.length && (W=ia));ia=this.fA.reduce(function(pa,wa){return wa.O?c.__spread(pa,wa.O.YO()):pa;},[]);return q.flatten(c.__spread(W,ia));};U.prototype.SK=function(){if(this.Nc === g.kp.CLOSED)throw Error("Engine CLOSED");};U.prototype.b6b=function(){var T,pa;try{for(var W=c.__values(this.Pq),ia=W.next();!ia.done;ia=W.next()){pa=ia.value;pa.wh.clear();this.lw(pa.fa);}}catch(za){var wa;wa={error:za};}finally{try{ia && !ia.done && (T=W.return) && T.call(W);}finally{if(wa)throw wa.error;}}};U.prototype.a6b=function(){var T;try{for(var W=c.__values(this.rU),ia=W.next();!ia.done;ia=W.next()){this.FQ(ia.value);}}catch(wa){var pa;pa={error:wa};}finally{try{ia && !ia.done && (T=W.return) && T.call(W);}finally{if(pa)throw pa.error;}}};U.prototype.If=function(T,W,ia,pa,wa,za,Ca){var N;void 0 === Ca && (Ca=!1);N=!1;this.h5a(T).forEach(function(Q){if(!Ca || m.aq(Q.wf.value))N=Q.If(W,T,ia,pa,wa,za,Ca);});return N;};U.prototype.No=function(T){return this.h5a(T).some(function(W){return W.No();});};U.prototype.h5a=function(T){return this.Pq.filter(function(W){var ia;for(W=W.fa;W.Lc;){W=W.Lc;}ia=W.fa;return Object.keys(ia.N).some(function(pa){return ia.N[pa].K === T;});}).map(function(W){return W.fa;});};U.prototype.y9=function(){var T;T=new E.lIa();this.Pq.forEach(function(W){var ia,pa;ia=W.fa;W=W.q_;pa=ia.y9();pa.TI=W;T.add(ia.id,pa);});return T;};U.prototype.x9=function(){return this.BZb;};U.prototype.SDb=function(){var T,W;W=J.wYa(this.J,this.zV);return {total:(T={},T[1]=this.zV.video || Infinity,T[0]=this.zV.audio || Infinity,T.total=this.zV.total || Infinity,T),JBa:W};};U.prototype.Ju=function(T){var W;this.qD.Ju(T);null === (W=this.wp) || void 0 === W?void 0:W.Ju(T);};U.prototype.ZB=function(T){this.qD.ZB(T);};U.prototype.Fxa=function(){var T;T=this.mF.reduce(function(W,ia){return Math.max(ia.weight,0) + W;},0);this.Pq.forEach(function(W){W.q_=0 >= W.fa.weight?0:W.fa.weight / T;});};U.prototype.P6b=function(T){var W;W=this;this.wp && T.requests.forEach(function(ia){return W.wp.ZB(ia);});};U.I_b=0;c.__decorate([y.jb({methodName:"open"})],U.prototype,"open",null);c.__decorate([y.jb({methodName:"addPlaygraph",context:function(T){var W,ia;return {playgraphCount:null !== (ia=null === (W=T.ubb.Pq) || void 0 === W?void 0:W.length) && void 0 !== ia?ia:0};}})],U.prototype,"HH",null);c.__decorate([y.jb({methodName:"removePlaygraph",context:function(T){return {playgraphCount:T.ubb.Pq.length};}})],U.prototype,"lw",null);c.__decorate([y.jb({methodName:"close"})],U.prototype,"close",null);c.__decorate([y.jb({methodName:"setStreamingMode",no:!0})],U.prototype,"b9b",null);c.__decorate([y.jb({methodName:"notifyAseException",no:!0})],U.prototype,"gxa",null);c.__decorate([y.jb({methodName:"updateViewable"})],U.prototype,"Uy",null);c.__decorate([y.jb({methodName:"requestViewable"})],U.prototype,"Kt",null);c.__decorate([y.jb({methodName:"removeViewable"})],U.prototype,"yza",null);c.__decorate([y.jb({methodName:"createViewable"})],U.prototype,"Gx",null);c.__decorate([y.jb({methodName:"issueRequestOpportunity",ol:!0,return:!0})],U.prototype,"$$",null);c.__decorate([y.jb({methodName:"reportStreamingFailure",no:!0})],U.prototype,"If",null);return U;})();b.UDa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=void 0;c=a(2);t=(function(){function k(g,h){this.G=g;this.Nvb=h;this.tx=this.bx=this.Vq=0;}k.prototype.Ju=function(g){var h;if(!g.Bc){h=g.aa;c.assert(0 < h);this.Vq+=h;0 === g.mediaType?this.bx+=h:this.tx+=h;c.assert(this.Vq === this.bx + this.tx);c.assert(0 < this.Vq);c.assert(0 <= this.bx);c.assert(0 <= this.tx);}};k.prototype.ZB=function(g){var h;if(!g.Bc){h=g.aa;c.assert(0 < h);this.Vq-=h;0 === g.mediaType?this.bx-=h:this.tx-=h;c.assert(this.Vq === this.bx + this.tx);c.assert(0 <= this.Vq);c.assert(0 <= this.bx);c.assert(0 <= this.tx);}};k.prototype.KEb=function(g,h){var d;c.assert(this.Vq === this.bx + this.tx);d=this.Nvb();if(void 0 !== d.total && this.Vq + h > d.total)return !1;d=0 === g?d.audio:d.video;g=0 === g?this.bx:this.tx;return void 0 !== d && g + h > d?!1:!0;};return k;})();b.hFa=t;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(h.bab(function(q){return q.MB;}),p).MB;}Object.defineProperties(b,{__esModule:{value:!0}});b.nIa=void 0;k=a(0);g=a(221);h=a(22);d=a(14);f=a(63);l=k.__importDefault(a(4));m=a(431);t=(function(){function n(p,q){this.G=p;this.config=q;this.W8a=0;this.Vh=new f.ru({Gr:10,kq:this,source:"GraphStreamingProcess"});}n.prototype.Ibb=function(p,q){var r,u,v,w,x,y,z,A,D,F,G,E,I;v=!1;w=[];if(0 < q.length){x=this.b$b(q);y=x.some(function(K){return 1 === m.yYa(K) && d.aq(K.wf);});z=x.slice();A=[!1,!1];try{for(var B=k.__values(x),C=B.next();!C.done;C=B.next()){D=C.value;if(D.NE && "global" !== A[D.mediaType]){F=D.q8a(p,null !== (u=D.TI) && void 0 !== u?u:1);G=g.ieb(F.reason);G && (A[D.mediaType]=G,h.gXa(z,D));if(F.result){E=c(z,D);if(this.SEb(D,y,E)){I=D.u8a();this.Hva(w,D,I.reason);I.ij && (this.W8a=l.default.time.ia());if(v=I.ij)break;if("globalVideoMemoryLimit" === I.reason || "globalAudioMemoryLimit" === I.reason){this.G.trace("GSP.onRequestOpportunity stopping at memory limit:",I.reason);break;}}else if((this.Hva(w,D,"concurrencyCheck"),!G))break;}else this.Hva(w,D,F.reason);}}}catch(K){var L;L={error:K};}finally{try{C && !C.done && (r=B.return) && r.call(B);}finally{if(L)throw L.error;}}}this.Vh.Iu({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.W8a});return v;};n.prototype.b$b=function(p){return this.q4b(p).sort(function(q,r){return q.priority - r.priority;}).map(function(q){return q.I$b;});};n.prototype.q4b=function(p){var q;q=this;return p.map(function(r){return {priority:-m.xYa(q.config,r,q.G),I$b:r};});};n.prototype.Hva=function(p,q,r){this.Vh.enabled && p.push(this.uSb(r,q));};n.prototype.uSb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.wf,currentPlayerMs:q.Us,pathCompletePlayerMs:q.MB,streamingPlayerMs:q.Vt};};n.prototype.SEb=function(p,q,r){return this.config.BV && (q || d.aq(p.wf))?this.TEb(p,r):this.UEb(p,r);};n.prototype.VEb=function(p){return p.Vt <= p.MB;};n.prototype.UEb=function(p,q){return p.Vt - (p.Us > q?p.Us:q) <= Math.max(this.config.Jwa,Math.min((p.MB - p.Us) * this.config.SBa,this.config.dZb));};n.prototype.TEb=function(p,q){var r,u;if(void 0 === this.config.BV)return !0;r=this.config.BV;u=p.Us + r;return p.Vt <= u?!0:this.VEb(p) && q >= u && p.Vt - q < r;};k.__decorate([f.jb({methodName:"onRequestOpportunity",ol:!0})],n.prototype,"Ibb",null);return n;})();b.nIa=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZPa=void 0;c=a(0);k=a(2);g=c.__importDefault(a(4));h=a(63);d=a(7);t=(function(){var I31;I31=2;function f(l,m){var J31,n;J31=2;for(;J31 !== 14;){switch(J31){case 2:n=this;this.$$=l;this.config=m;this.mH=0;J31=3;break;case 6:this.afb=new d.vT();J31=14;break;case 3:var H94="Req";H94+="uestPac";H94+="er";var i94="1SI";i94+="Y";i94+="b";i94+="ZrNJC";i94+="p9";var J94="med";J94+="ia|ase";J94+="js";var v94="ASEJS_REQ";v94+="U";v94+="E";v94+="ST_PAC";v94+="ER";this.console=new g.default.Console(v94,J94);this.nAa=!1;i94;this.Dr=new h.ru({kq:this,source:H94,Hma:function(){var K31;K31=2;for(;K31 !== 1;){switch(K31){case 2:return {numOutstanding:n.mH};break;}}},Gr:10});J31=6;break;}}}for(;I31 !== 13;){switch(I31){case 2:Object.defineProperties(f.prototype,{m0b:{get:function(){var L31;L31=2;for(;L31 !== 1;){switch(L31){case 2:return this.mH;break;}}},enumerable:!1,configurable:!0}});f.prototype.zk=function(){var M31,l,m;M31=2;for(;M31 !== 9;){switch(M31){case 1:M31=!this.nAa?5:9;break;case 7:l=this;M31=3;break;M31=1;break;case 2:l=this;M31=1;break;case 5:this.nAa=!0;m=g.default.time.ia();return Promise.resolve().then(function(){var N31;N31=2;for(;N31 !== 5;){switch(N31){case 2:l.nAa=!1;l.RYa(m);N31=5;break;}}});break;}}};f.prototype.Ju=function(l){var O31;O31=2;for(;O31 !== 4;){switch(O31){case 2:var W94="More than maxAllowedOuts";W94+="tandingRequests ";W94+="are outstanding";this.Dr.Iu({mediaType:l.mediaType,contentStartPts:l.Zc,contentEndPts:l.Ec});this.mH++;k.assert(this.mH <= this.config.Caa,W94);O31=4;break;}}};f.prototype.ZB=function(l){var P31;P31=2;for(;P31 !== 3;){switch(P31){case 4:var M94="r";M94+="emove";M94+="Request";this.zk(M94);P31=3;break;case 2:var s94="Received remove request when there are ";s94+="no re";s94+="quests outstanding";this.Dr.Iu({mediaType:l.mediaType,contentStartPts:l.Zc,contentEndPts:l.Ec});this.mH--;k.assert(0 <= this.mH,s94);P31=4;break;}}};f.prototype.RYa=function(l){var Q31,m,n,p;Q31=2;for(;Q31 !== 9;){switch(Q31){case 2:(m=this.config.Caa,n=g.default.time.ia() - l,p=0);Q31=1;break;case 1:this.afb.push(n);Q31=5;break;case 13:p--;Q31=1;break;Q31=5;break;case 6:this.afb.push(n);Q31=0;break;Q31=5;break;case 5:Q31=this.mH < m && this.$$()?4:3;break;case 4:p++;Q31=5;break;case 3:var U94="requestOp";U94+="portun";U94+="ityRunn";U94+="erComple";U94+="te";this.Dr.$U(U94,{requestsIssued:p,scheduledMs:l,timeSinceScheduled:n},!0);Q31=9;break;}}};I31=9;break;case 9:var V94="R";V94+="Y";V94+="a";var p94="checkRequestOppo";p94+="rtunity";p94+="Runner";var y94="Z";y94+="B";var L94="removeRe";L94+="q";L94+="uest";var b94="J";b94+="u";var a94="a";a94+="ddReq";a94+="u";a94+="e";a94+="st";var r94="z";r94+="k";var P94="chec";P94+="kReque";P94+="stOppor";P94+="tunity";c.__decorate([h.jb({methodName:P94,ol:!0,no:!0})],f.prototype,r94,null);c.__decorate([h.jb({methodName:a94,ol:!0})],f.prototype,b94,null);c.__decorate([h.jb({methodName:L94,ol:!0})],f.prototype,y94,null);c.__decorate([h.jb({methodName:p94,ol:!0})],f.prototype,V94,null);return f;break;}}})();b.ZPa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FHa=void 0;c=a(52);t=(function(){function k(g){this.Vb=g;}Object.defineProperties(k.prototype,{Se:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.rl=function(g){var h;if(g.Ti === c.ie.Sp && this.Vb){g={};h=this.Vb.get();h && h.avtp && h.avtp.oa && (g.avtp=h.avtp.oa,g.dltm=h.avtp.a8);h && h.initialThroughput && h.initialThroughput.oa && (g.initial_avtp=h.initialThroughput.oa);h && h.cdnavtp && (g.cdnavtp=h.cdnavtp,g.activecdnavtp=h.activecdnavtp);if(h=this.Vb.A9())(h.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=h.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=h.estimatedBytesPacedVideo,g.bytestotalVideo=h.bytestotalVideo,g.pacedAvtpVideo=h.pacedAvtpVideo),h.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=h.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=h.estimatedBytesPacedAudio,g.bytestotalAudio=h.bytestotalAudio,g.pacedAvtpAudio=h.pacedAvtpAudio),h.pacedAvtp && (g.pacedAvtp=h.pacedAvtp));this.Vb.flush();if(h=this.Vb.f4a())for(var d in h){h.hasOwnProperty(d) && (g["ne" + d]=Number(h[d]).toFixed(6));}return g;}};return k;})();b.FHa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.UQa=void 0;c=a(11);k=a(52);t=(function(){function g(h){this.gTa=!1;this.xI=new c.Zf();this.xI.addListener(h.events,"streamSelection",this.Cxa.bind(this));}g.prototype.Cxa=function(h){this.gTa || (0 === h.mediaType && void 0 === this.hua?this.hua=h:1 === h.mediaType && void 0 === this.lua && (this.lua=h));};g.prototype.xb=function(){this.lua=this.hua=void 0;this.xI.clear();this.gTa=!0;};Object.defineProperties(g.prototype,{Se:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.rl=function(h){var d;if(h.Ti === k.ie.tq)return (h=null !== (d=this.lua) && void 0 !== d?d:this.hua,d={histdiscbw:null === h || void 0 === h?void 0:h.result.Fv,histage:null === h || void 0 === h?void 0:h.result.Zp},h=null === h || void 0 === h?void 0:h.streamList.map(function(f){return void 0 !== f.q8?{vmaf:f.q8,streamIndex:f.Lf,streamId:f.Qa}:void 0;}).filter(function(f){return void 0 !== f;}),0 < (null === h || void 0 === h?void 0:h.length) && (d.vmafEstimates=h),this.xb(),d);this.xb();};return g;})();b.UQa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nRa=void 0;t=a(0);c=a(11);k=a(10);g=t.__importDefault(a(4));a=(function(){function h(d){this.de=d;this.x4=[];this.reset();}Object.defineProperties(h.prototype,{Se:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{FB:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return k.W;},enumerable:!1,configurable:!0}});h.prototype.reset=function(){var d,f;d=this;null === (f=this.yM) || void 0 === f?void 0:f.clear();this.yM=new c.Zf();this.yM.on(this.de,"clockChanged",function(){d.reset();d.ZW("initial");});this.yM.on(this.de,"stopping",function(){d.ZW("stopping");});this.yM.on(this.de.Aa,"clockAdjusted",function(){d.ZW("clockAdjusted");});this.yM.on(this.de.Aa,"stopStart",function(){d.ZW("stopStart");});this.yM.on(this.de.Aa,"speedChanged",function(){d.ZW("speedChanged");});};h.prototype.ZW=function(d){this.x4.push({reason:d,audit:this.de.qPb(),time:g.default.time.ia()});5 < this.x4.length && this.x4.shift();};h.prototype.rl=function(){return this.x4;};return h;})();b.nRa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bQa=void 0;c=a(52);t=(function(){function k(g,h){this.Vb=g;this.bfb=h;}Object.defineProperties(k.prototype,{Se:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.rl=function(g){var h;g=g.Ti;if(g === c.ie.Sp || g === c.ie.gp || void 0 === g){g={numOutstandingRequests:this.bfb.m0b,requestOpportunityDelayStats:this.bfb.afb};h=this.Vb.bWa;h && h.length && (g.activeRequests=JSON.stringify(h));return g;}};return k;})();b.bQa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IHa=void 0;t=(function(){function a(c){this.l8=c;this.FB="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{Se:{get:function(){return this.FB;},enumerable:!1,configurable:!0}});a.prototype.rl=function(){var c;c=this.l8.t3b.map(function(k){var g;g=k.fa;return {id:g.id,weight:g.weight,relativeWeight:k.q_};});return {prefetcher:this.l8.ew.getStats(),playgraphs:c,viewables:this.l8.Cdc,players:this.l8.Vcb.length};};return a;})();b.IHa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lIa=void 0;c=a(2);k=a(432);t=(function(){function g(){this.global=new k.dT();this.mF={};}g.prototype.add=function(h,d){c.assert(void 0 === this.mF[h],"Cannot add new memory object for playgraph");this.mF[h]=d;this.global.add(d.Ss);this.global.add(d.lW);};return g;})();b.lIa=t;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.VLa=void 0;c=a(0);k=a(10);g=a(431);h=a(63);t=(function(){function d(f,l,m){this.fsa=f;this.vQb=l;this.G=m;this.Vh=new h.ru({kq:this,console:m,source:"MemoryDeadlockProtector",Gr:5});}d.prototype.GOb=function(f){var l,m,n,p;n=f.config;p=n.kj + (null !== (m=null === (l=n.hR) || void 0 === l?void 0:l.T) && void 0 !== m?m:0);l=this.uTb(p,f);k.W && this.G.debug("MDP: has prebuf: " + l);return l?{U7:!0}:(m=this.WDb(n),l=m.Z1b,m=m.edc,l && m?(k.W && this.G.debug("MDP: utilizing " + Math.round(100 * m) + "%"),m >= n.zZb?this.kfb(f,l):{U7:!0}):{U7:!1});};d.prototype.kfb=function(f,l){var m,n,p,q,r,v,y,z;this.Vh.Iu({o:l});q=f.S;f=f.eb;r=q.eb;q=q.mB;for(var u=0;u < r.length;u++){if(!r[u].xk){q=r[u];r=r.slice(0,u + 1);break;}}u=!1;v=[{mediaType:0,ND:0},{mediaType:1,ND:0}];if(null === q || void 0 === q || !q.xk){f=f.map(function(B){return B;}).filter(function(B){return -1 === r.indexOf(B);}).sort(function(B,C){return g.Zna(B) - g.Zna(C);});try{for(var w=c.__values(f),x=w.next();!x.done;x=w.next()){y=x.value;z=y.UA();v[0].ND+=null !== (n=z.AD) && void 0 !== n?n:0;v[1].ND+=null !== (p=z.bu) && void 0 !== p?p:0;k.W && this.G.debug("Resetting discontiguous branch " + y.u.id,z);y.reset();if(u=v.every(function(B){return B.ND >= l[B.mediaType].ND;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (m=w.return) && m.call(w);}finally{if(A)throw A.error;}}}return {U7:u,Tlc:v};};d.prototype.WDb=function(f){var l,m,n,p;if(!f.AZb)return {};l=this.vQb();m=this.fsa().total;n=f.yZb;p=0;f=[0,1].map(function(q){var r;r=l[q] - m[q] * n;p=Math.max(0 < m[q]?l[q] / m[q]:0,p);return {ND:Math.max(0,r),mediaType:q};});return {edc:p,Z1b:f};};d.prototype.uTb=function(f,l){var m,n;m=!1;l=l.Bv?l.S:void 0;if(null === l || void 0 === l?0:l.YUb){m=l.oi.rn().map(function(p){return p.mediaType;});n=l.QPb();m=m.every(function(p){var q,r;if(0 === p)p=null !== (q=n.Hs) && void 0 !== q?q:0;else if(1 === p)p=null !== (r=n.ip) && void 0 !== r?r:0;else throw Error("Unsupported media type:" + p);return p >= f;});}return m;};c.__decorate([h.jb({methodName:"resetDiscontiguousBranches",return:!0,ol:!0})],d.prototype,"kfb",null);return d;})();b.VLa=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;t=a(0);c=a(7);k=t.__importDefault(a(28));g=a(22);h=t.__importDefault(a(408));d=a(52);a=(function(){function f(l){var m,n;m=this;this.fa=l;this.gv="aseReport";this.qYa=c.M.Yx;this.Cp=!1;if(0 === Math.floor(1E6 * Math.random()) % l.config.qN || l.config.qOb){this.qYa=c.M.Ha(l.config.D6);this.fa.rN=!0;n=[];n[k.default.$a.Jb]=new h.default(l.config,k.default.$a.Jb);n[k.default.$a.cc]=new h.default(l.config,k.default.$a.cc);this.Vla=n;this.fa.events.on("openComplete",function(){return m.open();});}}f.prototype.open=function(){this.fa.rN && !this.Cp && (this.Cp=!0,this.fa.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.fa.events.on("streamSelection",this.Cxa.bind(this)));};f.prototype.Cxa=function(l){this.Vla[l.mediaType].add(l.result,l.streamList);};f.prototype.Wsa=function(){var l;l=g.flatten(this.Vla.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.Vla.forEach(function(m){return m.reset(!0);});return l;};f.prototype.gg=function(l){var m;m=l.Ti;l=l.AVb;return this.fa.rN && this.Cp && (l || m === d.ie.Sp) && (m=this.Wsa()) && m.length?{$gb:!0,event:{type:"asereport",strmsel:m}}:{$gb:!1,event:{type:"asereport",strmsel:[]}};};return f;})();b.tEa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aQa=void 0;c=a(184);t=(function(){function k(g){this.B_=[];this.B_.push(g);}k.prototype.Kt=function(g,h){return c.uS.F$({K:g,y_:h},this.B_);};k.prototype.t6b=function(g){this.B_.pop();this.B_.push(g);};k.prototype.kWa=function(g){this.B_.unshift(g);};return k;})();b.aQa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.sPa=void 0;c=a(0);k=a(11);g=a(14);h=a(7);d=a(184);f=a(22);l=a(2);m=a(1037);n=a(10);p=a(97);q=a(1038);r=c.__importDefault(a(4));u=a(223);v=a(1039);w=a(1040);x=a(1041);y=a(185);z=a(1043);A=a(1045);t=(function(){function B(C,D,F,G,E){void 0 === G && (G=new w.CGa());void 0 === E && (E=new v.BGa());this.M1a=C;this.config=D;this.veb=G;this.Hn=[];this.odb=[];this.Zy=[];this.Wb={A8a:0,B8a:0,x8a:0,Rna:0,y8a:0,z8a:0,Sna:0};this.events=new k.EventEmitter();this.G=h.ii(r.default,F,"PREFETCH");this.sWa(new x.dGa(D));this.sWa(new A.CQa(D));this.ogb({$I:D.P3b});this.VAa(E);this.VUb();}Object.defineProperties(B.prototype,{Q3b:{get:function(){return this.Hn.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});B.prototype.Jgb=function(C){n.W && l.assert(C,"Reconciliation strategy is undefined");this.veb=C;return this;};B.prototype.sWa=function(C){this.odb.unshift(C);};B.prototype.Rgb=function(C){n.W && this.G.debug("Wish list changed",{Pnc:C.length});this.Zy=C;this.Qya();};B.prototype.reset=function(){var C,G,E,I,L,K;if(this.config.Y3b)try{for(var D=c.__values(this.Hn),F=D.next();!F.done;F=D.next()){G=F.value;E=G.fa;I=G.eaa;L=G.context;if(E){E.yd();I.Yca(function(R){return "segmentNormalized" !== R.gv;});K=y.Msa(L.fe,E.fa);E.ow(K);}}}catch(R){var H;H={error:R};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(H)throw H.error;}}else this.Rgb([]);};B.prototype.ogb=function(C){n.W && this.G.debug("Budget changed",{H0b:this.yV,D_b:C});this.yV=C;this.Qya();};B.prototype.dFb=function(C,D){var F,G,E,I;if(C=this.veb.B2a(this.Hn,{fa:C,pj:D}))if((D=this.Zy.indexOf(C.context.fe),n.W && this.G.debug("Claiming item: " + y.Jo(C.context.fe.key),{Qm:r.default.time.ia() - C.rea,buffer:null === (F=C.fa) || void 0 === F?void 0:F.Kh(h.M.La)}),this.iO(C.context,{Zua:! !C.fa}),C.fa)){F=C.fa;E=C.Jt;I=F.Gl;z.qPa.w6b(F,I,C.eaa,this.G);E.E7b(null !== (G=F.zv(I)) && void 0 !== G?G:h.M.La,D);F.Rjb({$I:this.config.Ov || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.fe,videoBytesBuffered:C.fa.Rx().bu,audioBytesBuffered:C.fa.Rx().AD});}this.config.qBb || this.reset();return null === C || void 0 === C?void 0:C.fa;};B.prototype.cFb=function(){};B.prototype.getStats=function(){var C;C=r.default.time.ia();return {wishListLength:this.Zy.length,prefetchList:this.Q3b.length,contents:this.Hn.map(function(D){var F,G,E,I,L;return {id:y.Jo(D.context.fe.key),buffer:null === (F=D.fa) || void 0 === F?void 0:F.Kh(h.M.La),pId:null === (G=D.fa) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.v8a.$I},weight:D.context.xca,age:C - D.rea,timeOpened:C - (null !== (E=D.Tac) && void 0 !== E?E:0),state:g.Hc[null !== (L=null === (I=D.fa) || void 0 === I?void 0:I.wf.value) && void 0 !== L?L:g.Hc.xj]};}),aggregated:{itemsRequested:this.Wb.A8a,itemsStarted:this.Wb.B8a,itemsClaimed:this.Wb.x8a,bytesClaimed:this.Wb.Rna,itemsCompleted:this.Wb.y8a,itemsDiscarded:this.Wb.z8a,bytesDiscarded:this.Wb.Sna}};};B.prototype.iO=function(C,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,E,I,L,K,H;return c.__generator(this,function(R){switch(R.label){case 0:G=c.__assign({Zua:!1,F8a:!1},D);E=G.Zua;I=G.F8a;L=f.Xc(this.Hn,function(O){return O.context === C;});if(!L)return [3,3];this.Hn.splice(this.Hn.indexOf(L),1);I || (K=this.Zy.length,this.Zy=this.Zy.filter(function(O){return O !== C.fe;}),n.W && this.G.info("Dropping items from wishlist",K - this.Zy.length),this.Zy.length >= K && n.W && this.G.warn("Unable to filter out wishlist item",this.Zy.map(function(O){return O.key;}),C.fe.key));n.W && this.G.debug("Dropping playgraph",{Qm:r.default.time.ia() - L.rea,buffer:null === (F=L.fa) || void 0 === F?void 0:F.Kh(h.M.La),K:y.Jo(C.fe.key),xoc:!E,Glc:!I});if(E)return [3,2];H=this.lw(L);return L.fa?[4,H]:[3,2];case 1:(R.Eb(),R.label=2);case 2:(this.Qya(),R.label=3);case 3:return [2];}});});};B.prototype.VAa=function(C){l.assert(C,"Playgraph resolver is undefined");this.uya=C;return this;};B.prototype.VUb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Wb.y8a++;});this.events.on("prefetchStarted",function(){return C.Wb.B8a++;});this.events.on("itemQueued",function(){return C.Wb.A8a++;});this.events.on("itemClaimed",function(D){var F,G;C.Wb.x8a++;C.Wb.Rna+=(null !== (F=D.tdc) && void 0 !== F?F:0) + (null !== (G=D.nCb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;C.Wb.z8a++;C.Wb.Sna+=(null !== (F=D.tdc) && void 0 !== F?F:0) + (null !== (G=D.nCb) && void 0 !== G?G:0);});};B.prototype.Qya=function(){var C,D,F,G,E,I;C=this;D=d.uS.F$({Vdc:this.Zy,VSb:this.yV},this.odb.map(function(L){return L.uYa.bind(L);})).Hn;F=f.Ku(D,this.Hn,function(L,K){return y.isEqual(L.fe.key,K.context.fe.key);});G=f.Ku(this.Hn,D,function(L,K){return y.isEqual(L.context.fe.key,K.fe.key);});E=f.Ku(this.Hn,G);n.W && this.G.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(L){var K;K=L.context.fe.key;n.W && C.G.debug("Releasing playgraph",y.Jo(K));return C.lw(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.fe});});});I=E.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var K,H;return c.__generator(this,function(R){switch(R.label){case 0:(K=f.Xc(D,function(O){return y.isEqual(O.fe.key,L.context.fe.key);}),l.assert(K,"Couldn't find the requested item context"),L.context=K,R.label=1);case 1:return (R.Wh.push([1,3,,4]),[4,L.wca]);case 2:return (H=R.Eb(),[3,4]);case 3:return (R.Eb(),[2]);case 4:return (f.Xc(this.Hn,function(O){return O === L;}) && (this.cXa(L.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.fe})),[2]);}});});});F=F.map(function(L){var K;K=C.IIb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.fe});return K;});this.Hn=c.__spread(E,F);E=F.map(function(L){return L.wca.catch(function(){});});E=G.concat(I).concat(E);Promise.all(E);};B.prototype.lw=function(C){var D;D=this;return C.wca.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(E){switch(E.label){case 0:return (n.W && this.G.debug("Removing prefetch playgraph",{size:F.Kh(h.M.La)}),C.xI.clear(),[4,this.M1a()]);case 1:return (G=E.Eb(),G.lw(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.fe,videoBytesBuffered:F.Rx().bu,audioBytesBuffered:F.Rx().AD}),[2]);}});});},function(){});};B.prototype.y7=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,I,L,K;K=this;return c.__generator(this,function(H){switch(H.label){case 0:return (D=C.context,F=y.Jo(D.fe.key),n.W && this.G.debug("Creating playgraph",F),[4,this.uya.Y9a(D)]);case 1:return (G=H.Eb(),[4,D.fe.bh.am(F).jp]);case 2:return (E=H.Eb(),E.ea.xo?(this.iO(D,{Zua:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.M1a()]);case 3:return (I=H.Eb(),L=I.HH(G,D.xca,D.pj,D.fe.bh,!1),C.xI.addListener(L.events,"error",function(R){n.W && K.G.debug("Prefetch playgraph resulted in error",R.Elc);K.iO(D);}),[2,L]);}});});};B.prototype.H1b=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,L,K;K=this;return c.__generator(this,function(H){switch(H.label){case 0:return (F=C.context,G=y.Jo(F.fe.key),E=F.fe.bh.am(G),[4,E.jp]);case 1:return (I=H.Eb(),this.cXa(F,D),this.JBb(F,D,! !I.Xe),D.open(),D.Jy({Pt:function(R,O){var J;J=R.recommendedMedia;return J?f.oo(O,function(M){return M.new_track_id === J.po;}):f.oo(O,function(M){return M.track_id === R.defaultTrackOrderList[0].audioTrackId;});}},{Pt:function(R,O){var J;J=R.recommendedMedia;return J?f.oo(O,function(M){return M.new_track_id === J.SR;}):f.oo(O,function(M){return M.track_id === R.defaultTrackOrderList[0].videoTrackId;});}}),D.ow(y.Msa(F.fe,D.fa)),L=function(R){n.W && K.G.debug("Viewable " + (R?"superseded":"expired"),y.Jo(C.context.fe.key));C.gnc=!0;K.iO(C.context,{F8a:!R});},E.events && (C.xI.addListener(E.events,"viewableEvicted",function(){L(!0);}),C.xI.addListener(E.events,"viewableExpired",function(){L(!1);})),E.ur && (n.W && this.G.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.iO(C.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.fe}),[2]);}});});};B.prototype.cXa=function(C,D){D.jkb(C.xca);D.Rjb(C.v8a);};B.prototype.JBb=function(C,D,F){var G;G=C.D$b;C=G.audio;G=G.video;F && G.push(new u.FL(this.G,D.config));D.Mda(new p.qu(C,!0),new p.qu(G,!0));};B.prototype.IIb=function(C){var D,F,G;D=this;F=new m.rPa();G={context:C,rea:r.default.time.ia(),xI:new k.Zf(),Jt:F};G.wca=this.y7(G).then(function(E){return c.__awaiter(D,void 0,void 0,function(){var I,L;L=this;return c.__generator(this,function(K){switch(K.label){case 0:for(I=E;I.Lc;){I=I.Lc;}E.wg(F);F.gCb(E);G.eaa=new q.QHa(I.events,{C9b:function(H){var R;R=H.gv;switch(R){case "buffering":return !1;case "bufferingStarted":G.eaa.Yca(function(O){return "bufferingComplete" === O.gv || "updateStreamingPts" === O.gv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.eaa.Yca(function(O){return O.gv === R;});default:return !0;}}});I.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.fe});});return [4,this.H1b(G,E)];case 1:return (K.Eb(),G.Tac=r.default.time.ia(),G.fa=E,[2,E]);}});});});G.wca.catch(function(E){n.W && D.G.error("Exception occurred creating playgraph",E);D.iO(G.context);});return G;};return B;})();b.sPa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rPa=void 0;c=a(0).__importDefault(a(4));k=a(52);t=(function(){function g(){this.creationTime=c.default.time.ia();this.Vc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.gCb=function(h){this.fa=h;};g.prototype.E7b=function(h,d){var f;h=null === (f=this.fa) || void 0 === f?void 0:f.Kh(h);this.Vc={isPrefetchItem:!0,prefetchedVideoMs:h.K0,prefetchedAudioMs:h.J0,prefetchClaimDurationMs:c.default.time.ia() - this.creationTime,prefetchRank:d};};Object.defineProperties(g.prototype,{Se:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.rl=function(h){if(h.Ti === k.ie.tq)return this.Vc;};return g;})();b.rPa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QHa=void 0;c=a(0);t=(function(){function g(h,d){void 0 === d && (d={});this.gn=h;this.options=d;this.wI=[];this.bY=new k(h,this.CAb.bind(this));}g.prototype.CAb=function(h){for(var d,f,l,m,n,p,q=[],r=1;r < arguments.length;r++){q[r - 1]=arguments[r];}q={gv:h,no:q};(null !== (l=null === (f=(d=this.options).C9b) || void 0 === f?void 0:f.call(d,q,this.wI)) && void 0 !== l?l:1) && this.wI.push(q);return null !== (p=null === (n=(m=this.options).Zoc) || void 0 === n?void 0:n.call(m,q)) && void 0 !== p?p:!0;};g.prototype.Yca=function(h){this.wI=this.wI.filter(function(d,f){return !h(d,f);});};g.prototype.Cza=function(){var h;h=this;this.bY.Jjb();this.wI.forEach(function(d){var f;(f=h.gn).emit.apply(f,c.__spread([d.gv],d.no));});this.bY.x7a();};Object.defineProperties(g.prototype,{length:{get:function(){return this.wI.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.wI=[];};g.prototype.xb=function(){this.bY.Jjb();};return g;})();b.QHa=t;k=(function(){function g(h,d){var f;f=this;this.gn=h;this.EV=d;this.bY=function(l){for(var m,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.EV.apply(f,c.__spread([l],n))?(m=f.Qbb).call.apply(m,c.__spread([f.gn,l],n)):!1;};this.Qbb=this.gn.emit;this.x7a();}g.prototype.x7a=function(){this.gn.emit=this.bY;};g.prototype.Jjb=function(){this.gn.emit=this.Qbb;};return g;})();},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BGa=void 0;c=a(0);k=a(39);g=a(185);t=(function(){function h(){}h.prototype.Y9a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,l,m,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.fe.key;if(!g.nY(f))return [3,2];l=f.K;m=d.fe.bh.am(l);return [4,Promise.resolve(m.jp)];case 1:return (n=q.Eb(),p=n.ea,p.so?[2,k.wA(p.so,{config:n.config})]:[2,k.AF(l,"ps0")]);case 2:return [2,f.fa];}});});};return h;})();b.BGa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CGa=void 0;c=a(0);k=a(2);g=a(185);t=(function(){function h(){}h.Jo=function(d){var f,l;f=d.N;d=d.Vd;l=f[d].K;Object.keys(f).forEach(function(m){return k.assert(f[m].K === l);});return f[d].K;};h.prototype.B2a=function(d,f){var l;l=Object.keys(f.fa.N).length;return c.__read(d.filter(function(m){var n,p;return h.Jo(f.fa) === g.Jo(m.context.fe.key) && (1 === l || l === Object.keys(null !== (p=null === (n=m.fa) || void 0 === n?void 0:n.fa.N) && void 0 !== p?p:{}).length);}),1)[0];};return h;})();b.CGa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dGa=b.gGa=void 0;c=a(97);k=a(1042);b.gGa=625E3;t=(function(){function g(h){this.config=h;}g.prototype.uYa=function(h){var d,f,l;d=this.config.L7;f=(this.config.K$a || this.config.K7) * b.gGa / 1E3;l=Math.floor(h.VSb.$I / f);return {Hn:h.Vdc.sort(function(m,n){return m.priority - n.priority;}).slice(0,d).map(function(m,n){var p;p=m.key.config;return {v8a:{$I:n > l - 1?0:f},fe:m,xca:1,pj:p,D$b:{audio:[c.XD(p),new k.sja()],video:[c.YD(p),new k.sja()]}};})};};return g;})();b.dGa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sja=void 0;c=a(14);t=(function(){function k(){}k.prototype.hn=function(g,h){return h === c.Hc.yj?[]:g;};return k;})();b.sja=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qPa=void 0;c=a(10);k=a(1044);b.qPa=(function(){function g(){}g.w6b=function(h,d,f,l){h.events.once("seeking",function(m){var n,p;n=m.position;p=f.length;m.duplicate || (f.Yca(function(q){return "segmentNormalized" !== q.gv;}),c.W && l.log("Discarding " + (p - f.length) + " events from prefetched playgraph for original seek postition " + k.S9(d) + (" due to seek to " + k.S9(n))));c.W && l.log("Replaying " + f.length + " events from prefetched playgraphfor seek postition " + k.S9(n));f.Cza();f.xb();});};return g;})();},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.S9=void 0;b.S9=function(a){return "( " + a.Y + ", " + a.offset.jc() + " )";};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CQa=void 0;t=(function(){function a(c){this.config=c;}a.prototype.uYa=function(c,k){var g,h;g=this;c=k(c);h=c.Hn.map(function(d){return d.fe.priority;}).sort();c.Hn.forEach(function(d){d.xca=g.config.S3b / (2 << h.lastIndexOf(d.fe.priority));});return c;};return a;})();b.CQa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hPa=void 0;t=(function(){function a(c){var k;k=this;c=c.zk;this.Vx=function(){k.zk();};this.zk=c;}a.prototype.HH=function(c){c.events.on("requestsPruned",this.Vx);};a.prototype.lw=function(c){c.events.removeListener("requestsPruned",this.Vx);};return a;})();b.hPa=t;},function(t,b){function a(c,k,g,h){return c && k?Math.min(c - k * g,c - h):(c || Infinity) - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.wYa=void 0;b.wYa=function(c,k){var g,h,d;h=a(k.audio,k.ina,c.ZZa,c.XZa);d=a(k.video,k.mDa,c.ZZa,c.YZa);return (g={},g[0]=h,g[1]=d,g.total=(k.total || Infinity) - c.XZa - c.YZa,g);};},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.y7=void 0;c=a(0);k=a(10);g=a(1049);h=a(185);d=a(184);b.y7=function(f,l,m){var n,p,q,r;n=[function(u){return new (g.Mfa.bind.apply(g.Mfa,c.__spread([void 0],u.tya)))();}];p=h.Jo({fa:l[0]});k.W && m.trace("Creating playgraph",{noc:p,Nkc:f.yW,Ul:f.sI});if(f.yW){q=a(1087);n.unshift(function(u,v){return q.RV({},u,v);});}if(f.sI){r=a(1091);n.unshift(function(u,v){return r.RV({},u,v);});}return d.uS.F$({tya:l,Qma:[]},n);};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca;function c(N){var Q;Q={};N.forEach(function(V){Q[V.mediaType]=V.bm();});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.Mfa=void 0;k=a(0);g=a(11);h=a(39);d=a(225);f=a(14);l=a(1050);m=a(7);n=a(1051);p=a(1059);q=k.__importDefault(a(4));r=a(2);u=a(1060);v=a(22);w=a(58);x=a(97);y=a(152);z=a(52);A=a(439);B=a(264);C=a(183);D=a(1066);F=a(63);G=k.__importDefault(a(145));E=a(1067);I=a(1068);L=a(440);K=a(1069);H=a(1070);R=a(1071);O=a(1072);J=a(1075);M=a(1076);P=a(1077);S=a(1078);U=a(1079);T=a(1080);W=a(1082);ia=a(1083);pa=a(1084);wa=a(1085);za=a(1086);Ca=a(129).vy.Dpa;t=(function(){function N(Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a){var sb;sb=this;this.io=Q;this.XVa=V;this.config=ca;this.id=sa;this.AU=Ja;this.zk=Na;this.eFb=Oa;this.wp=$a;this.ska=!1;this.Gj=this.Lc=void 0;this.MH="2.0";this.j7a=this.Lla=this.Uq=void 0;this.Nc=d.ek.CLOSED;this.Ika=!0;this.rN=!1;this.pDa=this.pV=void 0;this.UXa=new g.Zf();this.kE=0;this.gea=!1;this.gF=function(kb){var Bb,Pa,Xa;Pa=sb.navigator.Ye(kb.position.Y);if((Pa=sb.V4a(Pa)) && sb.S.Ze){Xa=m.bra(sb.S.eb.filter(function(eb){return eb.u.id === kb.position.Y;}),kb.playerTimestamp,{xZa:!0});r.assert(Xa,"Could not find corresponding branch for presentation event");null === (Bb=sb.S.Xr) || void 0 === Bb?void 0:Bb.Ny({u:Xa.u,get Cea() {return Xa.Hd.Ba(Xa.u.df);}},Pa,sb.rh.offset,!0,!1);}sb.Mp.start();};this.vZ=function(){sb.zk("onDrmReady");};this.b1b=function(kb){kb=kb.newValue;sb.ska || (sb.ska=kb);};this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Vh=new F.ru({Gr:10,kq:this,source:"AsePlaygraph",console:this.console});this.events=new g.EventEmitter();this.UAa(Q);this.eb=new J.VOa();this.Ug=new wa.XOa(this.console);this.mta=new K.mIa(this.config,m.M.Ha(this.config.tJ),{parent:this.B5a.bind(this)},this.events,this.console);this.hea=new p.eRa(this.console,this.events);this.yV={$I:ca.Ov || Infinity};this.S=new u.Aia(this);this.jm=new w.UL(this.S.Aa,this.console,"playgraph");this.cs=new w.UL(new B.b4({Nj:!0,currentTime:function(){return m.M.Ha(q.default.time.ia());},speed:1}),this.console,"wallclock");this.eg=new M.iFa(this.console,ca,Ha,this.events,this,this.cs);this.U6=new U.ZEa(this.jm,this.cs,this.config,this.Yi.bind(this),this.wf,this.console);this.Hba=this.eg.Hba.bind(this.eg);this.AZ=this.eg.AZ.bind(this.eg);this.Qba=this.eg.Qba.bind(this.eg);this.tK=this.tK.bind(this);this.eK=new z.aja(ca);ia.g_a({eg:this.eg,cs:this.cs},w.Zh.VF(m.M.Ha(this.config.RB)),function(){sb.S.Ze && sb.S.oi && (sb.eg.state.value === f.Hc.$f || sb.eg.state.value === f.Hc.sd) && sb.Ds(sb.S.oi);},"buffering");this.eK.wg(new C.$w(this.eg.Vh));this.eK.wg(new D.fOa(this.ARb.bind(this)));this.eK.wg(new C.$w(this.Vh));this.eK.wg(new E.UOa(this.eb,this));this.Thb=new pa.dRa(this,this.console,Ua);this.v9a=new I.PKa(this.cs,this.console,this.events);this.Mp=new za.$Oa(this.Uca.bind(this));this.Mda(x.YD(this.config),x.XD());}Object.defineProperties(N.prototype,{state:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Bv:{get:function(){return !(this.S instanceof u.Aia);},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{fa:{get:function(){return this.io;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{weight:{get:function(){return this.XVa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Gl:{get:function(){r.assert(this.ft,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Uq.position;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Qfb:{get:function(){r.assert(this.ft,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.bB(this.Gl).Ym;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{wf:{get:function(){return this.eg.state;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{af:{get:function(){return this.eg.af;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{ft:{get:function(){return void 0 !== this.Uq;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{rh:{get:function(){return this.S.Ze?this.S.rh:this.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Cf:{get:function(){return this.S.Ze?this.S.Cf:this.Qfb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{jna:{get:function(){return this.Aub;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{wC:{get:function(){return this.Nzb;},enumerable:!1,configurable:!0}});N.prototype.open=function(){this.Ika=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Nc !== d.ek.CLOSED)return !1;this.Nc=d.ek.OPEN;return !0;};N.prototype.xb=function(){this.cs.xb();this.jm.xb();this.Nc !== d.ek.CLOSED && (this.yd(),this.Mp.xb(),this.eg.stop(),this.Nc=d.ek.CLOSED);};N.prototype.EEb=function(Q,V){Q=P.Cqa(this.eb,this.tK.bind(this),Q,V).KYa;return this.AYa(Q);};N.prototype.Jy=function(Q,V){var ca,sa,Ha;ca=this;this.pV=Q;this.pDa=V;V=P.Cqa(this.eb,this.tK.bind(this));Q=V.KYa;V=V.hDb;if(!this.AYa(Q))return !1;if(0 === Q.length)return !0;sa=this.rh;Q.forEach(function(Ja){return ca.S.G_(Ja);});Ha=this.bB(sa).Ym;V.forEach(function(Ja){var Na;Na=Ja.Wa;Na.Jy(Ja.Ie,sa.Y === Na.u.id?Ha:void 0,void 0 !== ca.eb.BX(Na));});this.eg.D1b(sa,V[0].Ie);return !0;};N.prototype.XD=function(Q){return x.XD(this.config,Q);};N.prototype.YD=function(Q){return x.YD(this.config,Q);};N.prototype.SO=function(Q,V){var ca,sa;ca=this.navigator.Ye(Q);sa=this.navigator.Ye(V);return {Nkb:ca.BTb(V),AN:V !== Q && this.eb.has(V) && this.eb.Qx(V)[0].uh,Zc:sa.df.T,aQ:this.V4a(ca)};};N.prototype.Yi=function(Q,V,ca,sa){var Ha,Ja,Na,Oa;Ha=this;void 0 === sa && (sa=!0);if(!V)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(sa && this.Ug.get(Q))ca || this.Ug.set(Q,V);else {Na=this.Ora(Q)[0];Oa=this.navigator.Ye(Q);this.rh.Y === Q && Na && (null === (Ja=this.S.Xr) || void 0 === Ja?void 0:Ja.Ny({u:Na.u,get Cea() {return Na.Hd.Ba(Na.u.df);}},V,this.rh.offset,sa,ca));sa || (Q={offset:m.M.La,Y:V},this.Uq={position:Q,uh:!0,Ljb:Q});ca?this.Ug.B8b(Oa.id,V):this.Ug.set(Oa.id,V);this.Mp.start();sa && Oa.Ey && 0 < Oa.Ey.length && (r.assert(Na),Na.Gea(Oa.Ey) && this.Ora(V).forEach(function(Ua){return Ha.Aq(Na,Ua);}));sa || this.eg.Oba(this.Gl);}};N.prototype.AYa=function(Q){return 0 === Q.length?!0:1 !== Q.length || 0 !== Q[0]?!1:(Q=this.S.D9()) && Q.greaterThan(this.S.Cf)?!1:!0;};N.prototype.Aq=function(Q,V){var ca;ca=this;Q=Q.Qc.Ba(V.u.df);V.Aq(Q);this.eb.MPb(V).forEach(function(sa){return ca.Aq(V,sa);});};N.prototype.tj=function(Q){this.navigator.tj(Q);this.Mp.start();};N.prototype.Mda=function(Q,V){this.Aub=Q;this.Nzb=V;this.state === d.ek.yj && this.zk("setStreamFilters");};N.prototype.W8b=function(Q){this.AU.t6b(Q);};N.prototype.ow=function(Q,V){this.yda(Q,V);};N.prototype.yda=function(Q,V,ca,sa){var Ha,Ja,Na,Oa,Ua;Na=sa || this.fa;Oa=L.Okb(Na,Q);if(Oa.vP){Ua=this.D7b(Na,Q,V);if(void 0 === Ua)this.If("Invalid seekPosition after sanitization to " + Q.Y + ("(" + Q.offset.T + "ms), reason: ") + Oa.reason,null === (Ha=Na.N[Q.Y]) || void 0 === Ha?void 0:Ha.K);else if(void 0 === this.pV || void 0 === this.pDa)this.If("No track selectors available");else if((Ha=this.Bv && this.S.Av,Ha=!sa && !Ha && L.S5a(null === (Ja=this.Uq) || void 0 === Ja?void 0:Ja.Ljb,Ua),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:Ha}),!Ha)){this.Lla=ca;this.ft && (this.Ny(Ua),this.kFb(Q));Q=this.C4a();try{this.yd(!0);this.jFb();sa && this.UAa(sa);this.Uq={position:Ua,Ljb:Ua,uh:!1,uca:V};this.j7a=V?V.Ba(this.Qfb):m.M.La;this.eg.Oba();this.Nc=d.ek.yj;this.Mp.start();}finally{Q.release();}}}else this.If("Invalid seekPosition to " + (null === Q || void 0 === Q?void 0:Q.Y) + ("(" + Q.offset.T + "ms), reason: ") + Oa.reason,null === (Ua=Na.N[Q.Y]) || void 0 === Ua?void 0:Ua.K);};N.prototype.Ny=function(Q){var V,ca;ca=this.navigator.Ye(this.rh.Y);null === (V=this.S.Xr) || void 0 === V?void 0:V.Ny({u:ca,Cea:ca.duration},Q.Y,this.rh.offset,!1);};N.prototype.kFb=function(Q){var V,ca;if((null === (V=this.S.pX()) || void 0 === V?void 0:V.u.id) === Q.Y){if((this.Ug.lFb(Q.Y),!this.Ug.get(Q.Y) && this.S.Av)){Q=this.S.eb;ca=this.S.pX();ca && (Q=v.Xc(Q,function(sa){return sa.parent === ca;})) && this.Ug.set(ca.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.Ug.yoa();};N.prototype.C4a=function(){var Q,V;Q=this;V=this.eb.filter(function(ca){return ca.u.K !== h.qs;}).map(function(ca){return Q.AU.Kt(ca.u.K).xY;});return new y.uha(function(){V.forEach(function(ca){return ca.release();});},this.console).ux();};N.prototype.yd=function(Q){var V,ca,sa;sa=this.SSb();this.eb.reset();if(!Q && (this.Ug.yoa(),sa.length))try{for(var Ha=k.__values(sa),Ja=Ha.next();!Ja.done;Ja=Ha.next()){Ja.value.Ceb();}}catch(Oa){var Na;Na={error:Oa};}finally{try{Ja && !Ja.done && (V=Ha.return) && V.call(Ha);}finally{if(Na)throw Na.error;}}this.jm.reset();this.cs.reset();this.S.reset();this.Uq=void 0;this.U6.reset();null === (ca=this.UXa) || void 0 === ca?void 0:ca.clear();this.Nc === d.ek.yj && (this.Nc=d.ek.OPEN);};N.prototype.Ora=function(Q){return this.eb.Qx(Q);};N.prototype.Uj=function(Q){this.eg.Uj(Q);r.assert(this.S.mB,"Must have an appended branch on underflow");this.U6.vCa(this.S.mB,this.Cf);this.zk("onUnderflow");this.events.emit("underflow");};N.prototype.wg=function(Q){this.eK.wg(Q);};N.prototype.tN=function(Q){this.wg(new A.XPa(Q));return this.fCb(Q);};N.prototype.fCb=function(Q){if(!this.S.wCa(Q))return (this.If("player in use"),!1);this.S=Q;this.jm.lXa(this.S.Aa);this.S.events.on("segmentPresenting",this.gF);this.S.events.on("drmReady",this.vZ);this.S.Pv.addListener(this.b1b);this.events.emit("playerChanged",{type:"playerChanged"});return !0;};N.prototype.bB=function(Q){var V,ca;V=Q.offset;ca=this.navigator.Ye(Q.Y);Q=ca.K;V=ca.df.add(V);return {K:Q,Ym:V};};N.prototype.Fn=function(Q,V){var ca;ca=this.S.Fn(Q);if(void 0 !== ca)return ca;ca=this.S.mB;return L.Fn(Q,{pa:this,ZUb:ca && ({id:ca.u.id,W7b:ca.mq})},V);};N.prototype.zv=function(Q){return this.S.zv(Q);};N.prototype.T9=function(Q){return this.S.T9(Q);};N.prototype.iAa=function(Q){return L.hAa(this.fa,Q);};N.prototype.D7b=function(Q,V,ca){var sa,Ha;sa=L.hAa(Q,V);Ha=m.M.Ha(1E4);if(!sa || !ca || ca.greaterThan(Ha))return sa;Q=V.offset.add(m.M.Ha(Q.N[V.Y].qa));ca=ca.Ba(Q);if(ca.sn(m.M.La))return sa;Ha=m.M.max(m.M.La,Q.Ba(Ha)).add(ca);if(Ha.sn(m.M.La))return sa;Ha=sa.offset.add(Ha);return {Y:sa.Y,offset:Ha};};N.prototype.jn=function(Q,V){var ca;Q="string" === typeof Q?{K:this.fa.N[Q].K,Ym:m.M.Ha(V)}:Q;V=this.AU.Kt(Q.K);try{return null === (ca=V.O) || void 0 === ca?void 0:ca.jn(this.config,Q.Ym.T);}finally{V.xY.release();}};N.prototype.y9=function(){return T.z3a(this.eb,this.I$.bind(this));};N.prototype.I$=function(Q){Q=this.eb.BX(Q);return void 0 === Q || Q.xk && this.I$(Q);};N.prototype.x9=function(){return this.yV.$I;};N.prototype.kQb=function(Q){return W.D5a(this.eb,Q);};N.prototype.Kh=function(Q){var V,ca,sa;V=this;this.eb.GO(function(Ha){var Ja,Na;Ja=Ha.ZO(0);Na=Ha.ZO(1);if(Ha.u.tw || !V.eb.qta(Ha) || !Ha.xk){if(!ca || Ja < ca)ca=Ja;if(!sa || Na < sa)sa=Na;}return Ha.xk;});return {J0:ca?Math.max(ca - Q.T,0):0,K0:sa?Math.max(sa - Q.T,0):0};};N.prototype.Rx=function(){var Q,V,ca,sa;ca=this.ft?this.Kh(this.Cf):{J0:0,K0:0};sa=G.default.instance().get();return {totalabuflmsecs:ca.J0,totalvbuflmsecs:ca.K0,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (V=Number(0 < sa.confidence) && (null === (Q=sa.Na) || void 0 === Q?void 0:Q.oa)) && void 0 !== V?V:0};};N.prototype.YO=function(){var Q,V,ca,sa,Ha,Ja,Na,Oa;Q=this;if(this.No())return (this.Vh.Iu({isStreamingFailureReported:!0}),[]);ca=this.eb.size;this.Vh.Iu({branchCount:ca});if(!this.ft || 0 === ca)return [];sa=this.Cf;Ha=this.rh;Ja=[];ca=this.navigator.Ye(this.rh.Y);Na=ca.duration;Oa=this.Ug.get(ca.id)?1:null !== (V=ca.dC) && void 0 !== V?V:1;V=this.eb.reduce(function(Ua,$a,sb){var kb,Bb,eb,lb,ub;try{for(var Pa=k.__values($a.uX()),Xa=Pa.next();!Xa.done;Xa=Pa.next()){eb=Xa.value;if(!eb.ot()){lb="p" + Q.id + "-" + sb + "-" + (null === (Bb=$a.rd) || void 0 === Bb?void 0:Bb.T);ub=Q.A5a(eb);Ua.push(Q.OIb(eb,ub.T,lb,Na.T,Oa,sa.T,Ha));}!eb.NE() && Q.Vh.enabled && Ja.push({segmentId:eb.Y,isDoneStreaming:eb.ot(),isNormalized:eb.uh(),needsHeaderRequest:eb.track.qba});}}catch(Ib){var Cb;Cb={error:Ib};}finally{try{Xa && !Xa.done && (kb=Pa.return) && kb.call(Pa);}finally{if(Cb)throw Cb.error;}}return Ua;},[]);this.Vh.Iu({nonStreamables:Ja});return V;};N.prototype.A5a=function(Q){var V;if(Q.mma)return Q.mma;V=this.B5a(Q);return !V || this.config.h8 && this.navigator.yTb(V.Wa.u,Q.Y)?Q.NV:this.A5a(V);};N.prototype.B5a=function(Q){var sa;if(!Q.Wa.zg){for(var V=Q.Wa,ca;!ca;){sa=this.eb.BX(V);if(!sa)break;V=sa;ca=sa.MI(Q.mediaType);}return ca;}};N.prototype.E1b=function(Q){var V,ca;if(!this.hea.No()){V=void 0;ca=this.S.rh;ca && (V=this.navigator.Ye(ca.Y).K);this.If("BufferingStateTracker: Temporary failure while buffering",V,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Xg,null === Q || void 0 === Q?void 0:Q.XI,null === Q || void 0 === Q?void 0:Q.lj);}};N.prototype.If=function(Q,V,ca,sa,Ha,Ja,Na){void 0 === Na && (Na=!1);"string" === typeof Q?this.hea.If(Q,ca,{networkErrorCode:sa,httpCode:Ha,nativeCode:Ja,viewableId:V,temporaryFailure:Na}):this.hea.A6b(Q);return !0;};N.prototype.N0=function(Q,V){V=this.v9(V);this.events.emit("logdata",{type:"logdata",target:Q,fields:V});};N.prototype.v9=function(Q){var V;this.v9a.nXb(Q);V=this.eK.rl(Q);Q === z.ie.Sp && (Q=this.Rx(),V.vbuflmsec=Q.totalvbuflmsecs,V.abuflmsec=Q.totalabuflmsecs,V.vbuflbytes=Q.vbuflbytes,V.abuflbytes=Q.abuflbytes);return V;};N.prototype.Rjb=function(Q){this.yV=Q;this.zk("updateBudget");};N.prototype.No=function(){return this.hea.No();};N.prototype.jkb=function(Q){Q !== this.weight && (this.XVa=Q,this.events.emit("weightUpdated"));};N.prototype.zw=function(Q){var V,ca,sa,Ha,Ja,Na,$a,sb,kb,Bb,Pa,Xa,eb,lb,ub,Cb;sa=O.tYa(this.fa,Q);Ha=sa.GQ;Ja=sa.AEb;Na=sa.Rbc;if([sa.ZAb,Ha,Ja].every(function(Pb){return !Pb.length;}))return {ca:!0,reason:f.su.hsb};if(0 === Ja.length && 0 === Na.length && this.Bv && this.S.Ze)return {ca:!1,reason:f.su.vrb};if(this.S.eb.some(function(Pb){return -1 < Ha.indexOf(Pb.u.id);}))return {ca:!1,reason:f.su.ftb};if(this.ft && !this.S.Ze && -1 < Ha.indexOf(this.Gl.Y))return {ca:!1,reason:f.su.Iqb};if(this.ft)try{for(var Oa=k.__values(Ja),Ua=Oa.next();!Ua.done;Ua=Oa.next()){$a=Ua.value;sb=this.fa.N[$a];kb=sb.qa;Bb=sb.sa;Pa=sb.K;Xa=Q.N[$a];eb=Xa.sa;lb=Xa.qa;ub=Xa.K;if(this.rh.Y === $a && eb !== Bb){if(!eb)return {ca:!1,reason:f.su.gtb};Cb=m.M.Ha(eb - lb);if(null === (ca=this.rh.offset) || void 0 === ca?0:ca.greaterThan(Cb))return {ca:!1,reason:f.su.Klb};}if(kb !== lb)return {ca:!1,reason:f.su.lpb};if(Pa !== ub)return {ca:!1,reason:f.su.mpb};}}catch(Pb){var Ib;Ib={error:Pb};}finally{try{Ua && !Ua.done && (V=Oa.return) && V.call(Oa);}finally{if(Ib)throw Ib.error;}}this.UAa(Q);this.Mp.start();return {ca:!0,reason:f.su.gsb};};N.prototype.UAa=function(Q){var V;V={type:"playgraphUpdating",H0b:this.io,D_b:Q};this.io=Q;this.navigator=new R.ePa(Q);this.XSb=O.QZa(this.navigator);this.events.emit("playgraphUpdating",V);};N.prototype.BZ=function(Q,V){this.Oeb(Q);Q.yO.addListener("criticalNetworkError",this.Hba);Q.yO.addListener("temporaryNetworkError",this.AZ);Q.yO.addListener("updatingLastSuccessEvent",this.Qba);this.Nc === d.ek.yj && V && this.Kfb();};N.prototype.Exa=function(Q){0 === this.eb.filter(function(V){return V.ht && V.O === Q;}).length && this.Oeb(Q);};N.prototype.Oeb=function(Q){Q.yO.removeListener("criticalNetworkError",this.Hba);Q.yO.removeListener("temporaryNetworkError",this.AZ);Q.yO.removeListener("updatingLastSuccessEvent",this.Qba);};N.prototype.dWa=function(Q){var V;r.assert(Q.uh,"expected branch to be normalized on addBranchToPlayer");this.S.Av || (null === (V=this.Uq) || void 0 === V?0:V.uh) || this.cOb(Q);this.eg.Oea(Q.Ie);this.S.Av && (V=this.S.mB) && this.Ug.clear(V.u.id);this.S.tqa(Q);this.U6.vCa(Q,this.Cf);};N.prototype.cOb=function(Q){r.assert(Q.dc,"Normalized branch should have a defined content start timestamp");r.assert(this.Uq,"AsePlaygraph should have a seek position on first branch normalization");r.assert(!this.Uq.uh,"Seek position should not already be normalized on first branch normalization");this.Uq=k.__assign(k.__assign({},this.Uq),{position:{Y:Q.u.id,offset:Q.dc.Ba(Q.u.df)},uh:!0});this.eg.v8b(this.Uq.position,Q.Ie.filter(function(V){return 0 === V.mediaType;})[0]);};N.prototype.jFb=function(){var Q;this.U6.reset();this.S.SD();this.Uq=void 0;null === (Q=this.UXa) || void 0 === Q?void 0:Q.clear();};N.prototype.OIb=function(Q,V,ca,sa,Ha,Ja,Na){var Oa,Ua,$a,sb,kb;Oa=this;sb=null !== ($a=null === (Ua=Q.Wa.rd) || void 0 === Ua?void 0:Ua.T) && void 0 !== $a?$a:Q.Wa.jt.T;Ua=Q.GF.T;$a=this.Ug.get(Q.Y)?1:Q.Wa.u.dC;return {identifier:Q.Y,mediaType:Q.mediaType,Rh:Q.Rh,wf:this.wf.value,MB:V,Vt:Ua,Us:Ja,J2a:Q.AI.T,Gya:Na.offset.T,Fya:sa,b_:Ha,dC:$a,en:Q.Wa.ev.T,Uhb:Math.max(Ua - sb,0),NE:Q.NE(),ot:Q.ot(),groupId:ca,q8a:function(Bb,Pa){Bb=Oa.Thb.jEb(Bb,Q.mediaType,1 > Pa || !Q.Wa.zg && !Oa.I$(Q.Wa));1 === Pa && "global" === f.gza(Bb.reason) && Oa.eg.X0b(Q.mediaType,Oa.Kh(Oa.Cf));return Bb;},u8a:function(){var Bb,Pa,Xa,eb,lb,ub,Cb,Ib,Pb,ec;eb=Q.mediaType;lb=Oa.mta.b8b(Oa.wf.value,Oa.Cf,Q.GF,Oa.S.playbackRate,Q,0 === eb?Oa.jna:Oa.wC,Oa.rN);ub=lb.stream;Cb=lb.d0;Ib=lb.lP;Pb=lb.eC;ec=lb.qy;lb=lb.reason;if(!ub)return {ij:!1,reason:lb || "selectLocationsAndStream"};if(Oa.wf.value === f.Hc.yj && Q.Wa && Q.Wa.O.Lo && !Q.Wa.O.TY && !Oa.S.Mo(Q.Wa.O.K)){lb=Q.GF.T - Oa.Cf.T;if(!Q.Wa.O.zf.Xe && lb > Oa.config.iwa)return {ij:!1,reason:"maxBufferingCompleteBufferInMs"};if(!ub.Lj && 1 === ub.mediaType && lb >= Oa.config.Faa)return {ij:!1,reason:"maxFastPlayBufferInMs"};}lb=1;if(null === (Bb=Q.Wa) || void 0 === Bb?0:Bb.Ie.every(function(Fb){return 0 === Fb.mediaType;}))lb=0;Oa.eg.Eg && eb === lb && Oa.eg.J8b(Q.ck.YQ,ub.bitrate,Ib);Oa.bR(Cb);Bb=null === (Pa=Q.Wa.zq) || void 0 === Pa?void 0:Pa.T;Pa=Q.yjb(ub,ec,Pb);Pa.ij?(Oa.Ika && (Oa.Lm("firstDriveStreaming"),Oa.Ika=!1),0 < Oa.kE && (ub=null === (Xa=Q.Wa.zq) || void 0 === Xa?void 0:Xa.T,Bb && ub && (Oa.kE-=Bb - ub,0 >= Oa.kE && Oa.Kfb()))):"exceedsLiveEdge" === Pa.reason && (null === kb || void 0 === kb?void 0:kb.xb(),kb=Oa.cs.UN(w.Zh.VF(ub.QO().ev),function(){kb=void 0;Oa.zk("liveEdgeRetry");}));return Pa;}};};N.prototype.bR=function(Q){var V;V=this;Q.forEach(function(ca){ca.O.C8b(ca,function(){var sa,Ha;r.assert(V.ft,"Speculative header callback after streaming is cancelled");sa=V.Cf.T;Ha=sa + V.config.aZ;return {Rh:[],wf:V.eg.state.value,MB:Ha,Vt:Ha,Us:sa};});});};N.prototype.Kfb=function(){var Q;Q=this;this.Mp.cfa(za.qG.kz,function(){return Q.Mp.start();});};N.prototype.Uca=function(){var Q,V,ca,sa,Ha,Ja;Q=this;if(this.Nc === d.ek.yj){V=this.rh;ca=this.S.eb;sa=this.eb.JSb();Ha=k.__read(ca,1)[0];V=Ha?this.navigator.Ye(Ha.u.id):this.navigator.Ye(V.Y);ca=ca.map(function(Na){return Na.u.id;});ca=H.Uca(this.console,this.XSb,V,sa,this.Ug,ca,m.M.Ha(this.config.fDb),this.config.Mwa,m.M.Ha(this.config.Bna));sa=ca.eda;ca=ca.kE;V=k.__read(sa);Ja=V[0];V=V.slice(1);Ha=V.filter(function(Na){return Na.dw;});r.assert(V.length === Ha.length,"Missing parent branch");r.assert(!V.length || V.some(function(Na){return Na.dw === Ja;}),"Disconnected tree");this.kE=ca || 0;this.eb.bcc(sa,function(Na,Oa){var Ua,$a;$a=Q.navigator.Ye(Na);Na=Na === Q.Gl.Y?Q.Gl.offset:Na === (null === (Ua=Q.Lla) || void 0 === Ua?void 0:Ua.Y)?Q.Lla.offset:m.M.La;Ua=$a.df.add(Na);return Q.Fbc($a,Ua,Oa);}).GQ.forEach(function(Na){Na.yd("aborted");});this.yeb();this.PYa();this.Mp.cfa(za.qG.kz,function(){var Na;(null === (Na=Q.eb.root()) || void 0 === Na?0:Na.ht) && Q.zk("reevaluateBranches");Q.Mp.ZY(za.qG.rT);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};N.prototype.SSb=function(){return v.fV(this.eb.filter(function(Q){return Q.ht;}).map(function(Q){return Q.O;}));};N.prototype.yeb=function(){var Q,V;Q=this;if(this.Nc === d.ek.yj){if(!this.S.mB){V=k.__read(this.eb.Qx(this.Gl.Y),1)[0];(null === V || void 0 === V?0:V.uh) && this.dWa(V);}if(this.S.mB)for(;;){V=this.q4a(this.S.mB.u);if(!V)break;V=k.__read(this.eb.Qx(V).filter(function(ca){return ca.parent === Q.S.mB;}),1)[0];if(!V)break;if(null === V || void 0 === V || !V.uh)break;else if(this.S.b6a(V))break;this.dWa(V);}}};N.prototype.V4a=function(Q){var V,ca,sa,Ha;if(this.S.Av){V=this.S.oi;ca=!1;sa=this.S.eb.filter(function(Ja){ca || (ca=Ja === V);return ca;});Ha=v.oo(sa,function(Ja){return Ja.u.id === Q.id;});if(sa=sa[Ha + 1])return sa.u.id;}return this.q4a(Q);};N.prototype.q4a=function(Q){var V;V=this.Ug.get(Q.id);if(void 0 !== V)return V;Q=this.navigator.bQb(Q);if(1 === Q.length)return Q[0].id;};N.prototype.PYa=function(){var Q;Q=0 !== this.cPb();Q || this.gea?Q && this.gea && (this.gea=!1):(this.eg.Eg && (Q=this.Kh(this.Cf),this.eg.hf("complete",Q.J0,Q.K0)),this.Jxb(),this.gea=!0);};N.prototype.cPb=function(){return this.eb.filter(function(Q){return !Q.xk;}).length;};N.prototype.Ds=function(Q){this.I$(Q) && this.eg.qoa(this.Cf,this.S.playbackRate,Q,{poa:this.mta.poa.bind(this.mta,this.Thb)});};N.prototype.P0b=function(Q,V){var ca,sa;ca=this;if(V.didNormalizeSegment){sa=S.yQa.RSb(Q);r.assert(sa,"Segment should be normalized");Promise.resolve().then(function(){return ca.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:V.segmentContentStart,normalizedEnd:V.branchContentEnd,viewableContentEnd:sa.Zkb,viewableEarliestContentEnd:sa.$kb});});}Promise.resolve().then(function(){ca.yeb();});this.zk("branchNormalized");};N.prototype.Q0b=function(){this.PYa();};N.prototype.O0b=function(){this.Mp.start();};N.prototype.Fbc=function(Q,V,ca){var sa,Ha,Ja,Na,Oa,Ua;sa=this;if(this.eFb(Q,V))throw Error("Not implemented");Ha=!this.S.Av && !this.eb.has(this.Gl.Y);Ja=new l.aFa(Q.K,this.AU.Kt.bind(this.AU),function($a,sb,kb){sa.state !== d.ek.CLOSED && (sa.BZ(sb,kb),sa.Mp.cfa(za.qG.rT,function(){$a.zg || sa.u5($a,sb,Ha);}));},this.Exa.bind(this));Na=ca?ca.Qc.Ba(V):this.j7a || m.M.La;Oa=n.PZa({config:this.config,console:this.console,u:Q,events:this.events,tK:this.tK,xn:V,md:Na,Fe:function(){return sa.Cf.T;},wf:this.wf,jm:this.jm,eL:Ja,$Xa:this.wp,sya:this.eb});Ua=new g.Zf();Ua.addListener(Oa.events,"needsRequest",function(){var $a;$a=sa.eb.root();$a && !$a.ht || sa.zk("branchNeedsHeader");});Ua.addListener(Oa.events,"branchNormalized",this.P0b.bind(this,Oa));Ua.addListener(Oa.events,"lastRequestIssued",this.O0b.bind(this,Oa));Ua.addListener(Oa.events,"branchStreamingComplete",this.Q0b.bind(this,Oa));Ua.addListener(Oa.events,"checkBufferingProgress",this.Ds.bind(this,Oa));Ua.addListener(Oa.events,"branchDestroyed",function($a){Ua.clear();sa.eb.contains(Oa) && (sa.eb.Xca(Oa),sa.Mp.start());"aborted" === $a.reason && (sa.S.b6a(Oa) || sa.Mp.cfa(za.qG.kz,function(){return sa.pla(Oa.u.id);}));});void 0 === ca && (this.Lm("createDlTracksStart"),Oa.events.once("requestQueuesCreated",function(){sa.Lm("createDlTracksEnd");}));return Oa;};N.prototype.ARb=function(Q){if(this.S.Ze)return this.S.oi.Za(Q);};N.prototype.tK=function(Q,V,ca){return [[0,null !== V && void 0 !== V?V:this.pV,"audio_tracks"],[1,null !== ca && void 0 !== ca?ca:this.pDa,"video_tracks"]].map(function(sa){var Ha,Ja;Ha=k.__read(sa,3);Ja=Ha[1];sa=Ha[2];if(Q.ea && (r.assert(Ja,"Expected mediaType " + Ha[0] + " track selector to be defined"),Ha=Ja.Pt(Q.ea,Q.ea[sa]),void 0 !== Ha))return Q.getTrackById(Q.ea[sa][Ha].GR);}).filter(v.Bba);};N.prototype.u5=function(Q,V,ca){r.assert(Q.Ie.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.md.T,maxBitrates:{audio:V.yt[0],video:V.yt[1]},media:c(Q.Ie),initial:ca};this.events.emit(Q.type,Q);};N.prototype.pla=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};N.prototype.Jxb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.ia()};this.events.emit(Q.type,Q);};N.prototype.Lm=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.ia()};this.events.emit(Q.type,Q);};k.__decorate([Ca.return.hj()],N.prototype,"Gl",null);k.__decorate([F.jb({methodName:"checkCanSetTracks",return:!0})],N.prototype,"EEb",null);k.__decorate([F.jb({methodName:"setTracks",return:!0})],N.prototype,"Jy",null);k.__decorate([F.jb({methodName:"setNextSegment",no:!0})],N.prototype,"Yi",null);k.__decorate([F.jb({methodName:"seekStreaming"}),k.__param(0,Ca.hj())],N.prototype,"ow",null);k.__decorate([F.jb({methodName:"seekStreamingWithPlaygraph"}),k.__param(0,Ca.hj()),k.__param(2,Ca.hj()),k.__param(2,Ca.mxa)],N.prototype,"yda",null);k.__decorate([Ca.return.UZa(),k.__param(0,Ca.hj())],N.prototype,"bB",null);k.__decorate([Ca.return.hj()],N.prototype,"Fn",null);k.__decorate([k.__param(0,Ca.hj())],N.prototype,"zv",null);k.__decorate([k.__param(0,Ca.hj())],N.prototype,"T9",null);k.__decorate([Ca.return.hj(),k.__param(0,Ca.hj())],N.prototype,"iAa",null);k.__decorate([k.__param(0,Ca.UZa()),k.__param(0,Ca.Y())],N.prototype,"jn",null);k.__decorate([F.jb({methodName:"getStreamables",ol:!0})],N.prototype,"YO",null);k.__decorate([F.jb({methodName:"updatePlaygraphMap",return:!0})],N.prototype,"zw",null);return N;})();b.Mfa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aFa=void 0;c=a(0);t=(function(){function k(g,h,d,f){this.K=g;this.Kt=h;this.BZ=d;this.Exa=f;}Object.defineProperties(k.prototype,{O:{get:function(){var g;return null === (g=this.f1) || void 0 === g?void 0:g.O;},enumerable:!1,configurable:!0}});k.prototype.xb=function(){var g;this.O && (this.O.LCa(this.Wa),this.Exa(this.O));null === (g=this.f1) || void 0 === g?void 0:g.xY.release();this.f1=void 0;};k.prototype.za=function(g){return c.__awaiter(this,void 0,void 0,function(){var h,d,f,l,m;return c.__generator(this,function(n){switch(n.label){case 0:return (this.Wa=g,h=this.Kt(this.K),d=h.UF,f=h.O,l=h.xY,this.f1={xY:l,O:f},f?(this.i7a(f,g,!1),[2,f]):[4,d]);case 1:return (m=n.Eb(),this.i7a(m,g,!0),[2,m]);}});});};k.prototype.i7a=function(g,h,d){this.f1 && (this.f1.O=g,g.pza(h),this.BZ(h,g,d));};return k;})();b.aFa=t;},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.PZa=void 0;c=a(39);k=a(1052);g=a(7);h=a(1053);b.PZa=function(d){var f,l,m,n,p,q,r,u,v,w,x,y,z;f=d.config;l=d.console;m=d.sya;n=d.u;p=d.events;q=d.tK;r=d.xn;u=d.md;v=d.Fe;w=d.wf;x=d.jm;y=d.eL;d=d.$Xa;if(n.K === c.qs && f.sI){p=a(1057).iNa;q=new k.jNa(n.K,f.Nxa);z=new p(l,n,g.M.La,function(){return m.BX(z);},q,f);}else z=new h.YEa(f,l,p,n,q,r,u,v,function(){return m.BX(z);},w,x,y,d);return z;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jNa=void 0;c=a(39);t=(function(){function k(g,h){this.K=g;this.ydc=h;this.I="" + c.qs;}k.prototype.getTrackById=function(){};k.prototype.Uj=function(){};k.prototype.Ceb=function(){};k.prototype.If=function(){return !0;};k.prototype.gK=function(){};return k;})();b.jNa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r;Object.defineProperties(b,{__esModule:{value:!0}});b.YEa=b.GC=void 0;c=a(0);k=a(7);g=a(20);t=a(74);h=a(35);d=a(2);f=a(180);l=a(254);m=a(10);n=a(1054);p=a(434);q=a(1055);(function(u){u[u.sS=0]="CREATED";u[u.kS=1]="CANCELLED";})(r=b.GC || (b.GC={}));a=(function(u){function v(w,x,y,z,A,B,C,D,F,G,E,I,L){var K;K=u.call(this,z,F,C,B,x) || this;K.J=w;K.ica=y;K.t9=A;K.YT=D;K.Jz=G;K.Bu=E;K.eL=I;K.wp=L;K.Zx=new l.GL();K.Iza=0;K.uxa=function(){!K.zg && K.b$ && (K.O.Ev.IB("onHeaderFragments",K.uxa),K.y$.resolve());};K.gm=new k.JC();K.y$=new k.JC();return K;}c.__extends(v,u);Object.defineProperties(v.prototype,{Ie:{get:function(){var w;this.ht && 0 === (null === (w=this.KU) || void 0 === w?void 0:w.length) && this.t9 && (this.KU=this.t9(this.O).sort(p.QF));return this.KU;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{aV:{get:function(){return this.xk?this.rn().every(function(w){return w.Sa.aV;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{QWa:{get:function(){return this.rn().some(function(w){return w.xBb;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Lv:{get:function(){var w;return !(null === (w=this.Md) || void 0 === w || !w.Lv);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{xk:{get:function(){var w;return !(null === (w=this.Md) || void 0 === w || !w.xk);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Is:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.Is) && void 0 !== x?x:0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{uh:{get:function(){var w;return !(null === (w=this.Md) || void 0 === w || !w.uh);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{g1:{get:function(){return this.gm.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ht:{get:function(){var w;return !(null === (w=this.eL) || void 0 === w || !w.O);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{b$:{get:function(){return ! !this.Ie.length && this.Ie.every(function(w){return w.Ud;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{O:{get:function(){d.assert(this.eL.O,"viewable should be available");return this.eL.O;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{U:{get:function(){var w;return (null === (w=this.Md) || void 0 === w?void 0:w.U) || this.xn.U;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ua:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.Ua) && void 0 !== x?x:this.xn.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fb:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.fb) && void 0 !== x?x:this.u.Cg.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qj:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.qj) && void 0 !== x?x:this.md.Wf(this.U).Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jt:{get:function(){var w,x,y;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.jt) && void 0 !== x?x:null === (y=this.xn) || void 0 === y?void 0:y.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{AI:{get:function(){var w,x;x=null === (w=this.u.u.Up) || void 0 === w?void 0:w[0];return x && this.dc?g.M.Ha(Math.max(0,x[0] - this.dc.T - this.u.df.T)):g.M.La;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mq:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.mq) && void 0 !== x?x:this.u.df.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{OB:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.OB) && void 0 !== x?x:this.u.Cg.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vY:{get:function(){var w;return null === (w=this.Md) || void 0 === w?void 0:w.vY;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{md:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.md) && void 0 !== x?x:this.ws;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{zq:{get:function(){var w,x;return null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.zq) && void 0 !== x?x:this.u.Cg.Ba(this.xn || this.u.df);},enumerable:!1,configurable:!0}});v.prototype.za=function(){return c.__awaiter(this,void 0,void 0,function(){var w,x,y;y=this;return c.__generator(this,function(z){switch(z.label){case 0:u.prototype.za.call(this);if(this.zg)return [2];m.W && this.console.log("AseBranch {" + this.u.id + "} awaiting viewable");return [4,this.eL.za(this)];case 1:z.Eb();m.W && this.console.log("AseBranch {" + this.u.id + "} viewable available, branch " + (this.zg?"cancelled":"active"));if(this.zg)return [2];w=this.Ie.map(function(A){var B;return null === (B=y.parent) || void 0 === B?void 0:B.XO(A.mediaType);});this.zgb(this.xn);return [4,this.o2a()];case 2:return (z.Eb(),m.W && this.console.log("AseBranch {" + this.u.id + "} have headers"),this.zg?[2]:(x=this.parent)?[4,x.g1]:[3,4]);case 3:z.Eb();if(this.zg)return [2];this.Zx.forEach(function(A){var B,C;C=null === (B=y.parent) || void 0 === B?void 0:B.XO(A.mediaType);d.assert(C,"Parent state should be defined");-1 === w.indexOf(C) && (A.ck.ze.xb(),B=new f.d4(function(){var D;return null === (D=y.parent) || void 0 === D?void 0:D.XO(A.mediaType);}),A.ck.ze=B);});z.label=4;case 4:return (this.normalize(),[2]);}});});};v.prototype.o2a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.b$?this.y$.resolve():(this.O.Ev.on("onHeaderFragments",this.uxa),this.events.emit("needsRequest"));return [2,this.y$.promise];});});};v.prototype.normalize=function(){this.zg || (this.Md=new q.xMa(this,this.J,this.console,this.O,this.ica,this.Gp,this.xn,this.Zx.items,this.ws,this.YT,this.Jz,this.events,this.Bu,this.wp),this.iqa(this.Md.fE),this.gm.resolve(this.Md));};v.prototype.update=function(w){var x;this.Gp=w;(null === (x=this.Md) || void 0 === x?0:x.update(w)) && this.iqa(!0);};v.prototype.Aq=function(w,x){var y;void 0 === x && (x="unknown");u.prototype.Aq.call(this,w,x);null === (y=this.Md) || void 0 === y?void 0:y.Aq(w);};v.prototype.Tx=function(w){return c.__awaiter(this,void 0,void 0,function(){var x;return c.__generator(this,function(y){switch(y.label){case 0:return [4,this.gm];case 1:return (x=y.Eb(),[2,null === x || void 0 === x?void 0:x.Tx(w)]);}});});};v.prototype.mE=function(){var w;null === (w=this.Md) || void 0 === w?void 0:w.mE();};v.prototype.reset=function(){var w;null === (w=this.Md) || void 0 === w?void 0:w.reset();};v.prototype.yd=function(w){var x;void 0 === w && (w="other");u.prototype.yd.call(this,w);this.Nc=r.kS;this.ht && this.O.Ev.IB("onHeaderFragments",this.uxa);null === (x=this.Md) || void 0 === x?void 0:x.yd();this.Zx.forEach(function(y){return y.cancel();});this.eL.xb();this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:w});this.events.removeAllListeners();};v.prototype.nP=function(w){var x;return !(null === (x=this.Md) || void 0 === x || !x.nP(w));};v.prototype.Za=function(w){var x;return null === (x=this.Md) || void 0 === x?void 0:x.Za(w);};v.prototype.d$=function(w){return this.Ie.some(function(x){return x.mediaType === w;});};v.prototype.rn=function(w){var x,y;void 0 === w && (w=p.QF);return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.rn(w)) && void 0 !== y?y:[];};v.prototype.XO=function(w){var x,y;return (null === (x=this.Za(w)) || void 0 === x?void 0:x.ck.ze) || (null === (y=this.Zx.get(w)) || void 0 === y?void 0:y.ck.ze);};v.prototype.uX=function(){var w,x;return this.b$?null !== (x=null === (w=this.Md) || void 0 === w?void 0:w.uX()) && void 0 !== x?x:[]:this.Zx.items;};v.prototype.MI=function(w){var x;return (null === (x=this.Md) || void 0 === x?void 0:x.MI(w)) || this.Zx.get(w);};v.prototype.Kh=function(w,x){var y;return (null === (y=this.Md) || void 0 === y?void 0:y.Kh(w,x)) || 0;};v.prototype.UA=function(){var w;return (null === (w=this.Md) || void 0 === w?void 0:w.UA()) || ({});};v.prototype.ZO=function(w){var x;return (null === (x=this.Md) || void 0 === x?void 0:x.ZO(w)) || this.jt.T;};v.prototype.Jy=function(w,x,y){return c.__awaiter(this,void 0,void 0,function(){var z,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:this.KU=w.sort(p.QF);this.zgb(x);if(!this.uh)return [3,4];d.assert(this.Md);z=this.Zx.filter(function(F){return F.track.Ud;}).items;A=this.Md.akb(z,x,y);B=A.kW;C=A.fE;B && this.iqa(C);if(this.b$)return [3,4];this.y$=new k.JC();this.gm=new k.JC();m.W && this.console.log("AseBranch {" + this.u.id + "} setTracks waiting for headers");return [4,this.o2a()];case 1:return (D.Eb(),this.zg?[2]:this.parent?[4,this.parent.g1]:[3,3]);case 2:(D.Eb(),D.label=3);case 3:(this.Md.akb(this.Zx.items,x,y),m.W && this.console.log("AseBranch {" + this.u.id + "} setTracks pipelines updated"),this.gm.resolve(this.Md),this.events.emit("needsRequest"),D.label=4);case 4:return [2];}});});};v.prototype.zgb=function(w){var x;x=this;this.Iza=0;this.Zx=new l.GL(this.Ie.map(function(y){var z;z=x.Zx.find(function(A){return A.track === y;});z || (++x.Iza,z=new n.XIa(x,y,function(){return (null === w || void 0 === w?void 0:w.add(x.md)) || g.M.La;},x.J,x.console,function(){var A;return null === (A=x.parent) || void 0 === A?void 0:A.XO(y.mediaType);},x.ica,function(){0 === --x.Iza && x.events.emit("requestQueuesCreated");}));return z;}));};v.prototype.ym=function(w){var x;return (null === (x=this.Md) || void 0 === x?void 0:x.ym(w)) || [];};v.prototype.WD=function(w){var x;return !(null === (x=this.Md) || void 0 === x || !x.WD(w));};v.prototype.gX=function(w){return this.Md?this.Md.gX(w):g.M.La;};v.prototype.Gea=function(w){var x;return !(null === (x=this.Md) || void 0 === x || !x.Gea(w));};v.prototype.iqa=function(w){w={type:"branchNormalized",segmentContentStart:this.u.df,branchContentStart:this.dc,branchContentEnd:this.Hd,didNormalizeSegment:w};this.events.emit(w.type,w);m.W && this.console.trace("branchNormalized:",w);};v.prototype.toJSON=function(){var w;return (null === (w=this.Md) || void 0 === w?void 0:w.toJSON()) || ({});};return v;})(p.Yfa);b.YEa=a;h.Je(t.eu,a);h.Je(t.bz,a);},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XIa=void 0;c=a(0);k=a(418);g=a(124);h=a(180);d=a(257);f=a(2);t=(function(){function l(m,n,p,q,r,u,v,w){this.Wa=m;this.track=n;this.m$b=p;this.config=q;this.console=r;this.events=v;this.v1b=w;this.fm=0;this.rdb=this.xk=!1;this.ck=this.NIb(u);}Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Y:{get:function(){return this.Wa.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rh:{get:function(){return this.Wa.Rh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aea:{get:function(){return this.m$b();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{NV:{get:function(){return this.aea;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{GF:{get:function(){return this.aea;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{AI:{get:function(){return this.Wa.AI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jf:{get:function(){return this.De || (this.De=this.Yu());},enumerable:!1,configurable:!0}});l.prototype.NE=function(){return this.track.qba;};l.prototype.ot=function(){return this.track.Ud;};l.prototype.uh=function(){return !1;};l.prototype.o4a=function(){return {Z:[],dca:0,mj:0,In:0};};l.prototype.nbc=function(){var m;f.assert(this.ot());m=this.Jf;this.De=void 0;return m;};l.prototype.yjb=function(m){return (m=m.PF(this.Jf))?{ij:m,reason:"success"}:{ij:m,reason:"pipelineTryIssueHeaderRequest"};};l.prototype.cancel=function(){this.De && (this.Wa.O.gN(this.mediaType,this.De),g.Dq.instance.eO(this.De),this.De.removeAllListeners(),this.De=void 0);};l.prototype.NIb=function(m){var n,p;n=0 === this.mediaType?this.config.sXa:this.track.Oc?this.config.HXb:this.config.QBa;m=new h.d4(m);m.Y_(this.track);p=this.config;return new d.uja(n,this.config,m,0 === this.mediaType?p.kqa:p.lqa);};l.prototype.Yu=function(){var m,n;m=this;n=this.track.Oc?c.__assign(c.__assign({},this.config),{Akb:!0}):this.config;n=k.Yu(this.mediaType,this.track.O,n,this.console,function(p){return m.events.emit("transportReport",p);},function(p){return m.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.v1b);return n;};return l;})();b.XIa=t;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y){return (1 === x.mediaType?0:1) - (1 === y.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.xMa=b.zia=void 0;k=a(0);g=a(412);h=a(85);d=a(125);f=a(14);l=a(1056);m=a(7);n=a(22);p=a(2);q=a(20);r=k.__importDefault(a(4));t=a(74);u=a(35);v=a(254);w=a(435);b.zia={QF:c};a=(function(x){function y(z,A,B,C,D,F,G,E,I,L,K,H,R,O){var J,M;M=x.call(this,C) || this;M.Wa=z;M.J=A;M.O=C;M.ica=D;M.Gp=F;M.ws=I;M.YT=L;M.Jz=K;M.events=H;M.Bu=R;M.wp=O;M.re=new v.GL([]);M.Hm=!1;M.fU=0;M.KT=M.txa.bind(M);p.assert(C.K === M.u.K || isNaN(C.K) && isNaN(M.u.K));M.console=m.ii(r.default,B,F.id && F.id.length?"{" + F.id + "}":"");M.xn=null !== G && void 0 !== G?G:q.M.Ha(M.u.ba);z=M.parent;M.wla=null === z || void 0 === z?void 0:z.Qc;null === (J=M.Jz) || void 0 === J?void 0:J.addListener(M.KT);E=M.q_a(E,M.xn,! !z).fE;M.fE=E;return M;}k.__extends(y,x);Object.defineProperties(y.prototype,{zg:{get:function(){return this.Hm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{u:{get:function(){return this.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Lv:{get:function(){return this.re.every(function(z){return z.Lv;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xk:{get:function(){return this.re.every(function(z){return z.xk;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Is:{get:function(){return this.rn().reduce(function(z,A){return z + A.Is;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uh:{get:function(){return this.rn().every(function(z){return z.uh();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ie:{get:function(){return this.Wa.Ie;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){return this.Cu.U;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ua:{get:function(){return this.Cu.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fb:{get:function(){return this.Cu.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qj:{get:function(){return this.md.Wf(this.U).Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jt:{get:function(){return this.xn.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mq:{get:function(){return this.u.df.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OB:{get:function(){return this.u.Cg.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vY:{get:function(){return this.re.reduce(function(z,A){return z && A.Qc?q.M.max(z,A.Qc):A.Qc?A.Qc:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jua:{get:function(){return this.jt.T;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Re:{get:function(){return this.md.T;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zq:{get:function(){return this.Cu.zq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{md:{get:function(){return this.ws;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{parent:{get:function(){return this.Wa.parent;},enumerable:!1,configurable:!0}});y.prototype.akb=function(z,A,B){var C;void 0 === A && (A=null !== (C=this.dc) && void 0 !== C?C:this.xn);return this.q_a(z,A,B);};y.prototype.update=function(z){var A,B,C;C=z.Cg.exa(this.Gp.Cg);this.Gp=z;return C && this.nD?(C=k.__read(this.nD.r6b(z,z.Cg),2),z=C[0],C=C[1],p.assert(z && C,"branch.update: lastFragment should be defined"),null === (A=this.Za(0)) || void 0 === A?void 0:A.truncate(z),null === (B=this.Za(1)) || void 0 === B?void 0:B.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.Aq=function(z){this.md.equal(z) || (this.ws=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.Tx=function(z){return k.__awaiter(this,void 0,void 0,function(){var A;return k.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Eb(),(A=this.Za(z))?[2,A.Tx()]:[2,d.AsyncIterator.d4a()]);}});});};y.prototype.mE=function(){this.rn().forEach(function(z){return z.mE();});};y.prototype.PU=function(){this.re.forEach(function(z){return z.PU();});};y.prototype.reset=function(){this.re.forEach(function(z){z.reset();});};y.prototype.yd=function(){var z,A;this.Hm || (this.Hm=!0,null === (z=this.nD) || void 0 === z?void 0:z.Yc(),this.nD=void 0,this.re.forEach(function(B){B.yd();}),null === (A=this.Jz) || void 0 === A?void 0:A.removeListener(this.KT));};y.prototype.nP=function(){return !0;};y.prototype.Za=function(z){return this.re.get(z);};y.prototype.rn=function(z){void 0 === z && (z=c);return this.re.items.slice().sort(z);};y.prototype.uX=function(){return this.re.items;};y.prototype.MI=function(z){return this.Za(z);};y.prototype.Kh=function(z,A){z=this.Za(z);if(!z)return 0;if(A)return z.Ln;A=z.gr;if(void 0 === A)return 0;z=this.YT();return A - z;};y.prototype.UA=function(){var z,A,B,C,D,F,G;G=null === (z=this.Za(0)) || void 0 === z?void 0:z.wo;z=null === (A=this.Za(1)) || void 0 === A?void 0:A.wo;return {ip:null !== (B=null === z || void 0 === z?void 0:z.T) && void 0 !== B?B:0,Hs:null !== (C=null === G || void 0 === G?void 0:G.T) && void 0 !== C?C:0,bu:null !== (D=null === z || void 0 === z?void 0:z.aa) && void 0 !== D?D:0,AD:null !== (F=null === G || void 0 === G?void 0:G.aa) && void 0 !== F?F:0};};y.prototype.ZO=function(z){var A;return (z=this.Za(z))?null !== (A=z.gr) && void 0 !== A?A:0:0;};y.prototype.ym=function(z){z=this.Za(z);return (null === z || void 0 === z?void 0:z.ym()) || [];};y.prototype.txa=function(z){f.aq(z.newValue) && this.Ds();};y.prototype.WD=function(z){return this.re.every(function(A){return A.WD(z);});};y.prototype.gX=function(z){var A,B;return null !== (B=null === (A=this.re.get(z)) || void 0 === A?void 0:A.O_a) && void 0 !== B?B:q.M.La;};y.prototype.Gea=function(z){var A,B,C;A=this.Cu.SWb;if(!A)return !1;B=n.Xc(z,function(D){return A.T <= D.dc.T;});if(!B)return !1;z=!1;C=k.__read(w.Aza(this.J,this.re,B.dc),2);B=C[0];if(C=C[1])(this.Za(1).truncate(C),z=!0);B && (this.Za(0).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};y.prototype.hm=function(z){this.Hm || (z.o6 || p.assert(!z.Bc),this.Ds(),this.xk && this.tla());this.qv(z);};y.prototype.KJ=function(z){this.J.i8 && this.Ds(!0);this.CI(z);};y.prototype.JJ=function(z){this.J.i8 && this.Ds(!0);this.rE(z);};y.prototype.q_a=function(z,A,B){var C,D,F;C=this;D=new v.GL();F=!1;z.forEach(function(G){var E;E=C.re.find(function(I){return I.track === G.track;});void 0 === E?(F=!0,E=new g.yia(C,C.J,C.console,C.ica,C.Wa,G.track,A,G.ck,!0,void 0,G.nbc(),C.Bu,C.wp),E.events.on("lastRequestIssued",function(){return C.Lv && C.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(C.re.remove(E),E.PU());D.add(E);});this.re.forEach(function(G){return G.yd();});this.re=D;return F?this.normalize(A,B):{kW:!1,fE:!1};};y.prototype.normalize=function(z,A){var B,C;null === (B=this.nD) || void 0 === B?void 0:B.Yc();this.nD=new l.dOa({console:this.console,config:this.J,O:this.O,u:this.u,Bl:this.re,dc:z,Hd:null !== (C=this.u.Cg) && void 0 !== C?C:void 0 !== this.u.Ma?q.M.Ha(this.u.Ma):void 0,splice:A});this.Cu=this.re.d_;A=this.nD.normalize();z=A.kW;A=A.fE;z && this.wla && (this.ws=this.wla.Ba(this.dc));return {kW:z,fE:A};};y.prototype.fBa=function(z){var A;return f.aq((null === (A=this.Jz) || void 0 === A?void 0:A.value) || f.Hc.yj) && (!z || this.fU + this.J.dba < r.default.time.ia());};y.prototype.Ds=function(z){void 0 === z && (z=!1);this.fBa(z) && (this.fU=r.default.time.ia(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.tla=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,A;return {segment:this.u.id,branchOffset:this.Re,viewableId:this.Gp.K,contentStartPts:null === (z=this.dc) || void 0 === z?void 0:z.T,contentEndPts:null === (A=this.Hd) || void 0 === A?void 0:A.T};};return y;})(h.Ew);b.xMa=a;u.Je(t.eu,a);},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dOa=void 0;c=a(0);k=a(435);g=a(2);t=(function(){function h(d){var f,l,m,n,p,q,r,u;f=this;l=d.console;m=d.config;n=d.O;p=d.Bl;q=d.u;r=d.dc;u=d.Hd;d=d.splice;this.YX=this.NN=!1;this.MYa=function(){f.NN || f.Kma() && f.cxa();};this.console=l;this.config=m;this.Bl=p;this.O=n;this.u=q;this.dc=r;this.Hd=u;this.splice=d;}h.prototype.za=function(d){if(this.NN)throw Error("Cannot call init() after cleanup");if(this.YX)throw Error("Cannot call init() twice");this.YX=!0;this.Fbb=d;this.O.Ev.addListener("onHeaderFragments",this.MYa);this.Kma() && this.cxa();};h.prototype.normalize=function(){if(this.NN)throw Error("Cannot call normalize() after cleanup");if(this.YX)throw Error("Cannot call init() / normalize() twice");this.YX=!0;g.assert(this.Kma());return this.cxa();};h.prototype.r6b=function(d,f){g.assert(this.YX,"expected to be called init() before renormalize");this.u=d;this.Hd=f;d=k.Aza(this.config,this.Bl,this.Hd);this.Aba();return d;};h.prototype.Yc=function(){this.NN || (this.NN=!0,this.Fbb=void 0,this.O.Ev.removeListener("onHeaderFragments",this.MYa));};h.prototype.cxa=function(){var d,f,l;if(this.NN)return {kW:!1,fE:!1};f=this.Q_b();l=!1;this.u && !this.u.gm && (l=this.Aba());null === (d=this.Fbb) || void 0 === d?void 0:d.call(this,f,l);this.Yc();return {kW:f,fE:l};};h.prototype.Kma=function(){return this.Bl.every(function(d){return d.track.Ud;});};h.prototype.Q_b=function(){var d,f;d=c.__read(k.Wab(this.config,this.Bl,this.dc,this.Hd,this.splice),2);f=d[0];return d[1] || void 0 === this.Bl.get(1) && f;};h.prototype.Aba=function(){var d,f,l;g.assert(this.u);g.assert(!this.u.gm);d=this.Bl.d_;f=k.Yab(this.config,d,this.u.df);if(void 0 === f || void 0 === d.Hd)return !1;d=d.Hd;l=this.config.aDa && "lazy" === this.u.oe?k.c$a(this.console,this.u,this.Bl):[];this.u.normalize(f,d,l);return !0;};return h;})();b.dOa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.iNa=b.GC=void 0;c=a(0);k=a(62);g=a(397);h=a(20);t=a(74);d=a(1058);f=a(35);l=a(179);m=a(2);n=a(385);p=a(7);q=c.__importDefault(a(4));r=a(248);u=a(401);v=a(10);a=a(434);(function(x){x[x.sS=0]="CREATED";x[x.kS=1]="CANCELLED";})(w=b.GC || (b.GC={}));a=(function(x){function y(z,A,B,C,D,F){z=x.call(this,A,C,B,h.M.La,p.ii(q.default,z,"AsePadding")) || this;z.O=D;z.config=F;z.gm=new p.JC();z.console.trace("AsePaddingBranch {" + A.id + "}: created");return z;}c.__extends(y,x);y.prototype.VHb=function(z){var A,B,C,D,F,G;return c.__awaiter(this,void 0,void 0,function(){var E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia;ia=this;return c.__generator(this,function(pa){switch(pa.label){case 0:return (m.assert(!this.vN),(E=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Za(0)) || void 0 === B?void 0:B.ze.Po)?[3,2]:[4,null === (D=null === (C=this.parent) || void 0 === C?void 0:C.Za(0)) || void 0 === D?void 0:D.ze.jlb]);case 1:(pa.Eb(),pa.label=2);case 2:return (E=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.Za(0)) || void 0 === G?void 0:G.ze.Po,m.assert(E,"Parent of padding branch must have last selected audio stream"),I=E.Af || h.M.La,L=-1 !== E.profile.indexOf("heaac")?"heaac":"ddp",K=n.c4.instance(),H=K.oSb(L,z.Ba(I),E.bitrate,E.track.ny),R=new h.M(H.duration),O=new h.M(H.ka),J=O.U,M=H.profile,P=H.bitrate,S=H.channels,U=R.add(I),T={D7a:!0,mediaType:0,Te:M,profile:M,U:J,Dg:[{me:0,data:H.za}],ka:O,Af:I,O:this.O,bitrate:P,bm:function(){return g.YF.prototype.bm.bind(T.track)();},track:{mediaType:0,Lo:!1,ka:O,Af:I,O:this.O,channels:S,sampleRate:48E3,Te:M,profile:M,gd:[],ny:E.track.ny,bm:function(){return g.YF.prototype.bm.bind(T.track)();},toString:function(){return "[0]: padding";}}},v.W && this.console.trace("AsePaddingBranch {" + this.u.id + "}: audio queue",T,U.jc()),T.track.gd.push(T),W=new d.Jfa(H.za,H.ta,T,J,I.Wf(J).Xa,U.Wf(J).Xa,new h.M(H.ka),p.ii(q.default,this.console,"[0]"),this,function(){return ia.md.Wf(J).Xa;},z.T),W.ti({start:-Math.ceil(I.Dk(O))}),this.vN=new l.kL(this.console,1),this.vN.enqueue(W),[2]);}});});};y.prototype.XIb=function(){var z,A,B,C,D,F,G,E,I,L;return c.__awaiter(this,void 0,void 0,function(){var K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,N,Q,V,ca;ca=this;return c.__generator(this,function(sa){switch(sa.label){case 0:return (m.assert(!this.QR),(K=null === (A=null === (z=this.parent) || void 0 === z?void 0:z.Za(1)) || void 0 === A?void 0:A.ze.Po)?[3,2]:[4,null === (C=null === (B=this.parent) || void 0 === B?void 0:B.Za(1)) || void 0 === C?void 0:C.ze.jlb]);case 1:(sa.Eb(),sa.label=2);case 2:return (K=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.Za(1)) || void 0 === F?void 0:F.ze.Po,m.assert(K,"Parent of padding branch must have last selected video stream"),H=n.c4.instance(),this.u.Cg.Ba(this.u.df),this.QR=new l.kL(this.console,1),R=null === (I=null === (E=null === (G=this.parent) || void 0 === G?void 0:G.Za(1)) || void 0 === E?void 0:E.track.ka) || void 0 === I?void 0:I.ueb(),m.assert(R,"padding branches should always have a frameRate"),O=H.pSb(this.O.ydc,R,null === (L=K.track.om) || void 0 === L?void 0:L.gV,K.track.ny),J=new h.M(O.duration),M=O.profile,P=O.bitrate,S=O.width,U=O.height,T=O.k2b,W=O.l2b,ia=O.ka.U,pa=new h.M(O.ka.Xa,ia),wa=new r.ZL(ia,O.ka.Xa),za={D7a:!0,mediaType:1,Te:M,profile:M,U:ia,Dg:[{me:0,data:O.za}],ka:pa,O:this.O,bitrate:P,bm:function(){return g.YF.prototype.bm.bind(za.track)();},track:{mediaType:1,Lo:!1,ka:pa,frameRate:wa,Gaa:wa,om:new u.Ija({w:S,dt:U},{w:T,dt:W}),O:this.O,Te:M,profile:M,bm:function(){return g.YF.prototype.bm.bind(za.track)();},gd:[],ny:K.track.ny,toString:function(){return "[1]: padding";}}},Ca=new k.Rw(this.console,za,O.za,["moov"],!0,{vfb:!0,Qxa:!0}),N={ka:pa},Q=Ca.parse(N),m.assert(Q.ry,"Failed to parse padding fragment header"),m.assert(Q.Dg,"Failed to get initialization segments from padding fragment header"),za.Dg=Q.Dg,v.W && this.console.trace("AsePaddingBranch {" + this.u.id + "}: video queue",za),za.track.gd.push(za),this.u.normalize(new h.M(this.Ua,J.U),J,[]),V=new d.Jfa(O.za,O.ta,za,ia,this.Ua,this.fb,new h.M(O.ka),p.ii(q.default,this.console,"[1]"),this,function(){return ca.md.Wf(ia).Xa;}),this.QR.enqueue(V),[2,{duration:new h.M(O.duration)}]);}});});};Object.defineProperties(y.prototype,{Lv:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Is:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uh:{get:function(){return this.gm.Sza;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{g1:{get:function(){return this.gm.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ht:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){return this.u.df.U;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ua:{get:function(){return this.u.df.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fb:{get:function(){return this.u.Cg.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qj:{get:function(){return this.md.Wf(this.U).Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jt:{get:function(){return this.u.df.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{AI:{get:function(){m.assert(!this.u.u.Up,"exit zone not supported for padding segments");return h.M.La;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{aV:{get:function(){return this.vN && this.QR?this.vN.mt && this.QR.mt:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{QWa:{get:function(){return !(!this.vN && !this.QR);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mq:{get:function(){return this.u.df.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OB:{get:function(){return this.u.Cg.add(this.md);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vY:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{md:{get:function(){return this.ws;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zq:{get:function(){return h.M.La;},enumerable:!1,configurable:!0}});y.prototype.za=function(){return c.__awaiter(this,void 0,void 0,function(){var z;return c.__generator(this,function(A){switch(A.label){case 0:return (x.prototype.za.call(this),this.console.trace("AsePaddingBranch {" + this.u.id + "}: init"),this.parent?[4,this.parent.g1]:[3,2]);case 1:(A.Eb(),A.label=2);case 2:return (this.console.trace("AsePaddingBranch {" + this.u.id + "}: parent normalized"),[4,this.XIb()]);case 3:return (z=A.Eb().duration,this.console.trace("AsePaddingBranch {" + this.u.id + "}: video duration " + z.jc()),[4,this.VHb(z)]);case 4:return (A.Eb(),this.gm.resolve(),[2]);}});});};y.prototype.update=function(z){this.Gp=z;};y.prototype.Tx=function(z){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace("AsePaddingBranch {" + this.u.id + "}: getRequestIterator(" + z + ")");return 0 === z?[2,this.vN.Jra()]:[2,this.QR.Jra()];});});};y.prototype.mE=function(){};y.prototype.reset=function(){};y.prototype.yd=function(z){void 0 === z && (z="other");x.prototype.yd.call(this,z);this.Nc=w.kS;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};y.prototype.nP=function(){return !0;};y.prototype.Za=function(){};y.prototype.d$=function(z){return [0,1].some(function(A){return A === z;});};y.prototype.rn=function(){return [];};y.prototype.XO=function(z){var A;return null === (A=this.parent) || void 0 === A?void 0:A.XO(z);};y.prototype.uX=function(){return [];};y.prototype.MI=function(){};y.prototype.Kh=function(){return this.u.Cg.Ba(this.u.df).T;};y.prototype.UA=function(){return {};};y.prototype.ZO=function(){return this.u.Cg.T;};y.prototype.Jy=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,Promise.resolve()];});});};y.prototype.ym=function(){return [];};y.prototype.WD=function(z){var A,B;return ! !((null === (A=this.Qc) || void 0 === A?0:A.greaterThan(z)) && (null === (B=this.rd) || void 0 === B?0:B.lessThan(z)));};y.prototype.gX=function(){return this.u.Cg.Ba(this.u.df);};y.prototype.Gea=function(){return !1;};y.prototype.toJSON=function(){var z,A;return {segment:this.u.id,viewableId:this.Gp.K,contentStartPts:null === (z=this.dc) || void 0 === z?void 0:z.T,contentEndPts:null === (A=this.Hd) || void 0 === A?void 0:A.T};};return y;})(a.Yfa);b.iNa=a;f.Je(t.eu,a);},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Jfa=void 0;c=a(0);k=a(39);g=a(7);t=a(35);h=a(177);d=a(74);f=a(114);a=(function(l){function m(n,p,q,r,u,v,w,x,y,z,A){n=l.call(this,q,{index:0,offset:0,aa:0,Ua:u,fb:v,U:r,nv:!0,Oo:!0,nC:A},z) || this;n.response=p;n.i2b=q;n.G=x;n.Sa={Wa:y,console:x,$Wb:void 0,mediaType:q.mediaType,x_:function(){}};n.G.log("AsePaddingRequest [" + n.mediaType + "], constructed " + n.toString() + (", " + n.response.byteLength + " bytes, ") + (n.Px + " samples"));return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{profile:{get:function(){return this.i2b.profile;},enumerable:!1,configurable:!0}});m.prototype.za=function(){};m.prototype.kt=function(){return !this.Pe;};m.prototype.NH=function(n,p,q,r){this.G.log("AsePaddingRequest [" + this.mediaType + "], appending " + this.toString() + (", " + (r || this.response.byteLength) + " bytes, ") + ((r?"":"not ") + "edited"));this.Pe=n.appendBuffer(r || this.response,q || g.fy(this));return {status:this.Pe?f.uj.Jw:f.uj.Yf};};m.prototype.abort=function(){return !1;};m.prototype.Yc=function(){};m.prototype.toJSON=function(){return {viewableId:k.qs,startPts:this.ba,endPts:this.ba + this.duration,"contentStartTicks:":this.Ua,contentEndTicks:this.fb,contentStartPts:this.Zc,contentEndPts:this.Ec};};Object.defineProperties(m.prototype,{Qa:{get:function(){return "" + k.qs;},enumerable:!1,configurable:!0}});m.prototype.toString=function(){return "[padding c:" + this.dc.T + "-" + this.Hd.T + ",p:" + (this.rd.T + "-" + this.Qc.T + ",d:") + (this.Hd.T - this.dc.T + "]");};return m;})(a(73).Zk);b.Jfa=a;t.Je(h.XF,a,!1);t.Je(d.eu,a);t.Je(d.bz,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eRa=void 0;c=a(0);t=(function(){function k(g,h){this.G=g;this.ih=h;this.TBa=!1;}k.prototype.A6b=function(g){this.If(g.message,void 0,c.__assign(c.__assign({},g.U1a),{err:g.toString()}));};k.prototype.If=function(g,h,d){void 0 === h && (h=void 0);void 0 === d && (d={});this.TBa || (d.temporaryFailure || (this.TBa=!0),g=c.__assign({type:"error",error:null !== h && void 0 !== h?h:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.G.error("notifyStreamingError:",g),this.ih.emit("error",g));};k.prototype.No=function(){return this.TBa;};return k;})();b.eRa=t;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Aia=void 0;c=a(0);k=a(2);g=a(7);h=a(10);d=a(264);f=a(58);t=(function(l){function m(n){var p;p=l.call(this) || this;p.pa=n;p.eb=[];p.qM=new d.b4({Nj:!1,currentTime:function(){return p.Ze?p.Cf:g.M.Yx;},speed:1});p.Bu=new f.UL(p.qM,p.G,"player");return p;}c.__extends(m,l);Object.defineProperties(m.prototype,{Aa:{get:function(){return this.qM;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jm:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xr:{get:function(){return this.ama;},enumerable:!1,configurable:!0}});m.prototype.H6=function(n,p){var q;q=!this.pa;q && (this.pa=n,this.nka=(null === p || void 0 === p?0:p.Ze)?p.Cf:void 0,this.ama=null === p || void 0 === p?void 0:p.Xr);return q;};m.prototype.SD=function(){this.eb=[];this.nka=void 0;};m.prototype.Lpa=function(n){h.W && k.assert(this.pa === n);this.pa=void 0;this.SD();};m.prototype.tqa=function(){for(var n,p=[],q=0;q < arguments.length;q++){p[q]=arguments[q];}(n=this.eb).push.apply(n,c.__spread(p));};m.prototype.HI=function(){return this.nka?this.nka:l.prototype.HI.call(this);};m.prototype.Mo=function(){return !1;};m.prototype.zF=function(){};m.prototype.HK=function(){};return m;})(a(437).Nia);b.Aia=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kYa=void 0;c=a(265);k=a(1063);b.kYa=function(){return function(g){var f,l,m,n;function h(p){n[p]=function(q){return l({rules:[{Fl:p,config:q}]},!0);};}function d(p){f[p]=function(q){return l({rules:[{Fl:p,config:q}]});};}f={};l=c.map(g.a$a);for(m in g.QQ){d(m);}f.mxa=l({rules:[],Nma:!0});f.Qn=l({rules:[],Qn:!0});n={};for(m in g.QQ){h(m);}n.mxa=l({rules:[],Nma:!0},!0);n.Qn=l({rules:[],Qn:!0},!0);f.return=n;return {Dpa:f,Zza:g,Tya:function(p,q,r,u){return k.w_a(p,q,r,g.QQ,g.a$a,u);}};};};},function(t,b,a){(function(c,k){var g;(function(h){(function(d){var l,m;function f(n,p){return function(q,r){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:r});p && p(q,r);};}l="object" === typeof k?k:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();m=f(h);"undefined" === typeof l.Reflect?l.Reflect=h:m=f(l.Reflect,m);d(m);})(function(d){var I,L,K,H,R,O,J,M,P,S,U;function f(T,W,ia){var pa;pa=U.get(T);if(v(pa)){if(!ia)return;pa=new P();U.set(T,pa);}T=pa.get(W);if(v(T)){if(!ia)return;T=new P();pa.set(W,T);}return T;}function l(T,W,ia){if(m(T,W,ia))return !0;W=C(W);return null === W?!1:l(T,W,ia);}function m(T,W,ia){W=f(W,ia,!1);return v(W)?!1:! !W.has(T);}function n(T,W,ia){if(m(T,W,ia))return p(T,W,ia);W=C(W);if(null !== W)return n(T,W,ia);}function p(T,W,ia){W=f(W,ia,!1);if(!v(W))return W.get(T);}function q(T,W){var ia,za,Ca;ia=r(T,W);T=C(T);if(null === T)return ia;W=q(T,W);if(0 >= W.length)return ia;if(0 >= ia.length)return W;T=new S();for(var pa=[],wa=0;wa < ia.length;wa++){za=ia[wa];Ca=T.has(za);Ca || (T.add(za),pa.push(za));}for(ia=0;ia < W.length;ia++){za=W[ia];(Ca=T.has(za)) || (T.add(za),pa.push(za));}return pa;}function r(T,W){var ia,pa;ia=[];T=f(T,W,!1);if(v(T))return ia;T=T.keys();W=B(T,H);if(!A(W))throw new TypeError();T=W.call(T);if(!w(T))throw new TypeError();for(W=0;;){pa=T.next();pa=pa.done?!1:pa;if(!pa)return (ia.length=W,ia);pa=pa.value;try{ia[W]=pa;}catch(za){var wa;try{wa=T["return"];wa && wa.call(T);}finally{throw za;}}W++;}}function u(T){if(null === T)return 1;switch(typeof T){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === T?1:6;default:return 6;}}function v(T){return void 0 === T;}function w(T){return "object" === typeof T?null !== T:"function" === typeof T;}function x(T,W){var ia;switch(u(T)){case 0:return T;case 1:return T;case 2:return T;case 3:return T;case 4:return T;case 5:return T;}W=3 === W?"string":5 === W?"number":"default";ia=B(T,K);if(void 0 !== ia){T=ia.call(T,W);if(w(T))throw new TypeError();return T;}a:{if("string" === ("default" === W?"number":W)){W=T.toString;if(A(W) && (W=W.call(T),!w(W)))break a;W=T.valueOf;}else {W=T.valueOf;if(A(W) && (W=W.call(T),!w(W)))break a;W=T.toString;}if(!A(W) || (W=W.call(T),w(W)))throw new TypeError();}return W;}function y(T){T=x(T,3);return "symbol" === typeof T?T:"" + T;}function z(T){return Array.isArray?Array.isArray(T):T instanceof Object?T instanceof Array:"[object Array]" === Object.prototype.toString.call(T);}function A(T){return "function" === typeof T;}function B(T,W){T=T[W];if(void 0 !== T && null !== T){if(!A(T))throw new TypeError();return T;}}function C(T){var W,ia;W=Object.getPrototypeOf(T);if("function" !== typeof T || T === M || W !== M)return W;ia=T.prototype;ia=ia && Object.getPrototypeOf(ia);if(null == ia || ia === Object.prototype)return W;ia=ia.constructor;return "function" !== typeof ia || ia === T?W:ia;}function D(){var pa,wa,za;function T(Ca){return Ca;}function W(Ca,N){return N;}function ia(Ca,N){return [Ca,N];}pa={};wa=[];za=(function(){function Ca(N,Q,V){this.pe=0;this.rf=N;this.Pf=Q;this.dzb=V;}Ca.prototype["@@iterator"]=function(){return this;};Ca.prototype[H]=function(){return this;};Ca.prototype.next=function(){var N,Q;N=this.pe;if(0 <= N && N < this.rf.length){Q=this.dzb(this.rf[N],this.Pf[N]);N + 1 >= this.rf.length?(this.pe=-1,this.Pf=this.rf=wa):this.pe++;return {value:Q,done:!1};}return {value:void 0,done:!0};};Ca.prototype.throw=function(N){0 <= this.pe && (this.pe=-1,this.Pf=this.rf=wa);throw N;};Ca.prototype.return=function(N){0 <= this.pe && (this.pe=-1,this.Pf=this.rf=wa);return {value:N,done:!0};};return Ca;})();return (function(){function Ca(){this.rf=[];this.Pf=[];this.cx=pa;this.uu=-2;}Object.defineProperty(Ca.prototype,"size",{get:function(){return this.rf.length;},enumerable:!0,configurable:!0});Ca.prototype.has=function(N){return 0 <= this.Nz(N,!1);};Ca.prototype.get=function(N){N=this.Nz(N,!1);return 0 <= N?this.Pf[N]:void 0;};Ca.prototype.set=function(N,Q){N=this.Nz(N,!0);this.Pf[N]=Q;return this;};Ca.prototype.delete=function(N){var Q,V;Q=this.Nz(N,!1);if(0 <= Q){V=this.rf.length;for(Q+=1;Q < V;Q++){this.rf[Q - 1]=this.rf[Q];this.Pf[Q - 1]=this.Pf[Q];}this.rf.length--;this.Pf.length--;N === this.cx && (this.cx=pa,this.uu=-2);return !0;}return !1;};Ca.prototype.clear=function(){this.rf.length=0;this.Pf.length=0;this.cx=pa;this.uu=-2;};Ca.prototype.keys=function(){return new za(this.rf,this.Pf,T);};Ca.prototype.values=function(){return new za(this.rf,this.Pf,W);};Ca.prototype.entries=function(){return new za(this.rf,this.Pf,ia);};Ca.prototype["@@iterator"]=function(){return this.entries();};Ca.prototype[H]=function(){return this.entries();};Ca.prototype.Nz=function(N,Q){this.cx !== N && (this.uu=this.rf.indexOf(this.cx=N));0 > this.uu && Q && (this.uu=this.rf.length,this.rf.push(N),this.Pf.push(void 0));return this.uu;};return Ca;})();}function F(){return (function(){function T(){this.kh=new P();}Object.defineProperty(T.prototype,"size",{get:function(){return this.kh.size;},enumerable:!0,configurable:!0});T.prototype.has=function(W){return this.kh.has(W);};T.prototype.add=function(W){return (this.kh.set(W,W),this);};T.prototype.delete=function(W){return this.kh.delete(W);};T.prototype.clear=function(){this.kh.clear();};T.prototype.keys=function(){return this.kh.keys();};T.prototype.values=function(){return this.kh.values();};T.prototype.entries=function(){return this.kh.entries();};T.prototype["@@iterator"]=function(){return this.keys();};T.prototype[H]=function(){return this.keys();};return T;})();}function G(){var pa,wa;function T(){var za,Q;do {za="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ia(new Uint8Array(16),16):ia(Array(16),16);za[6]=za[6] & 79 | 64;za[8]=za[8] & 191 | 128;for(var Ca="",N=0;16 > N;++N){Q=za[N];if(4 === N || 6 === N || 8 === N)Ca+="-";16 > Q && (Ca+="0");Ca+=Q.toString(16).toLowerCase();}za="@@WeakMap@@" + Ca;}while(J.has(pa,za));pa[za]=!0;return za;}function W(za,Ca){if(!I.call(za,wa)){if(!Ca)return;Object.defineProperty(za,wa,{value:J.create()});}return za[wa];}function ia(za,Ca){for(var N=0;N < Ca;++N){za[N]=255 * Math.random() | 0;}return za;}pa=J.create();wa=T();return (function(){function za(){this.Au=T();}za.prototype.has=function(Ca){Ca=W(Ca,!1);return void 0 !== Ca?J.has(Ca,this.Au):!1;};za.prototype.get=function(Ca){Ca=W(Ca,!1);return void 0 !== Ca?J.get(Ca,this.Au):void 0;};za.prototype.set=function(Ca,N){W(Ca,!0)[this.Au]=N;return this;};za.prototype.delete=function(Ca){Ca=W(Ca,!1);return void 0 !== Ca?delete Ca[this.Au]:!1;};za.prototype.clear=function(){this.Au=T();};return za;})();}function E(T){T.fub=void 0;delete T.fub;return T;}I=Object.prototype.hasOwnProperty;L="function" === typeof Symbol;K=L && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";H=L && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";L="function" === typeof Object.create;R=({__proto__:[]}) instanceof Array;O=!L && !R;J={create:L?function(){return E(Object.create(null));}:R?function(){return E({__proto__:null});}:function(){return E({});},has:O?function(T,W){return I.call(T,W);}:function(T,W){return (W in T);},get:O?function(T,W){return I.call(T,W)?T[W]:void 0;}:function(T,W){return T[W];}};M=Object.getPrototypeOf(Function);P=(L="object" === typeof c && c.Q1a && "true" === c.Q1a.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;S=L || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;U=new (L || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(T,W,ia,pa){var za;if(v(ia)){if(!z(T))throw new TypeError();if("function" !== typeof W)throw new TypeError();for(ia=T.length - 1;0 <= ia;--ia){if((pa=(0,T[ia])(W),!v(pa) && null !== pa)){if("function" !== typeof pa)throw new TypeError();W=pa;}}return W;}if(!z(T))throw new TypeError();if(!w(W))throw new TypeError();if(!w(pa) && !v(pa) && null !== pa)throw new TypeError();null === pa && (pa=void 0);ia=y(ia);for(var wa=T.length - 1;0 <= wa;--wa){za=(0,T[wa])(W,ia,pa);if(!v(za) && null !== za){if(!w(za))throw new TypeError();pa=za;}}return pa;});d("metadata",function(T,W){return function(ia,pa){var wa;if(!w(ia))throw new TypeError();if(wa=!v(pa)){a:switch(u(pa)){case 3:wa=!0;break a;case 4:wa=!0;break a;default:wa=!1;}wa=!wa;}if(wa)throw new TypeError();f(ia,pa,!0).set(T,W);};});d("defineMetadata",function(T,W,ia,pa){if(!w(ia))throw new TypeError();v(pa) || (pa=y(pa));f(ia,pa,!0).set(T,W);});d("hasMetadata",function(T,W,ia){if(!w(W))throw new TypeError();v(ia) || (ia=y(ia));return l(T,W,ia);});d("hasOwnMetadata",function(T,W,ia){if(!w(W))throw new TypeError();v(ia) || (ia=y(ia));return m(T,W,ia);});d("getMetadata",function(T,W,ia){if(!w(W))throw new TypeError();v(ia) || (ia=y(ia));return n(T,W,ia);});d("getOwnMetadata",function(T,W,ia){if(!w(W))throw new TypeError();v(ia) || (ia=y(ia));return p(T,W,ia);});d("getMetadataKeys",function(T,W){if(!w(T))throw new TypeError();v(W) || (W=y(W));return q(T,W);});d("getOwnMetadataKeys",function(T,W){if(!w(T))throw new TypeError();v(W) || (W=y(W));return r(T,W);});d("deleteMetadata",function(T,W,ia){var pa;if(!w(W))throw new TypeError();v(ia) || (ia=y(ia));pa=f(W,ia,!1);if(v(pa) || !pa.delete(T))return !1;if(0 < pa.size)return !0;T=U.get(W);T.delete(ia);if(0 < T.size)return !0;U.delete(W);return !0;});});})(g || (g={}));}).call(this,a(260),a(199));},function(t,b,a){var d,f,l,m,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function k(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function g(p,q){var v;for(var r=Object.getPrototypeOf(p),u=[];r !== Object.prototype;){u=u.concat(Object.getOwnPropertyNames(r));r=Object.getPrototypeOf(r);}p=Object.keys(p).concat(u);q.__proxyCtor || (q.__proxyCtor=void 0);v=Object.getPrototypeOf(q);p.forEach(function(w){Object.getOwnPropertyDescriptor(q,w) || Object.getOwnPropertyDescriptor(v,w) || q[w] || Object.defineProperty(q,w,{get:function(){},configurable:!0,enumerable:!0});});}function h(p,q,r,u){var x;for(var v=[],w=4;w < arguments.length;w++){v[w - 4]=arguments[w];}x=u();if((null === x || void 0 === x?0:x.Dwa) || (null === x || void 0 === x?0:x.Cb))v=v.map(function(y,z){var A;z=n.S$a(x.Dwa,null === (A=x.Cb) || void 0 === A?void 0:A[z]);return m.nda(q,y,r,z);});v=p.call.apply(p,d.__spread([void 0],v));return (null === x || void 0 === x?0:x.return)?m.nda(q,v,r,x.return,l.Pw.MCa):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.SOb=b.bKb=b.w_a=void 0;d=a(0);f=a(265);l=a(186);m=a(438);n=a(1064);b.w_a=function(p,q,r,u,v,w){var x,y;void 0 === w && (w=[]);x={};y=f.H4a(v);g(q,p);w.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=x[A];if(!B && !k(x,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=k(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,C=y.bind(null,C,A),z=h.bind(z,F.bind(z),r,u,C),Object.defineProperty(x,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(C=y.bind(null,z,A),z=h.bind(z,F.bind(z),r,u,C),x[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete x[A];return !0;}});};b.bKb=g;b.SOb=h;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.S$a=void 0;c=a(0);k=a(22);b.S$a=function(g,h){var d;if(g || h){d=(null === g || void 0 === g?0:g.rules) && (null === h || void 0 === h?0:h.rules)?k.B6(g.rules,h.rules):(null === g || void 0 === g?void 0:g.rules) || (null === h || void 0 === h?void 0:h.rules);return c.__assign(c.__assign(c.__assign({},g),h),{rules:d});}};},function(t,b,a){var k;function c(g,h){var d,f;d=k.__assign({},g);f=k.__read(null !== h && void 0 !== h?h:[],1)[0];f && g[f] && (g=g[f],"object" === typeof g?(h=h.concat(),h.shift(),d[f]=c(g,h)):d[f]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.wgb=b.Ioa=b.r9=b.I7a=b.L7a=b.g8a=b.n6a=b.b8a=b.Ze=void 0;k=a(0);b.Ze=function(g){return !(null === g || void 0 === g || !g.position);};b.b8a=function(g){return !(null === g || void 0 === g || !g.Y) && !(null === g || void 0 === g || !g.offset);};b.n6a=function(g){return !(null === g || void 0 === g || !g.Y) || !(null === g || void 0 === g || !g.segmentId);};b.g8a=function(g,h){return "string" === typeof g && !(!h.Qh.fa.N[g] && !h.Lc.fa.N[g]);};b.L7a=function(g){return !(null === g || void 0 === g || !g.K) && !(null === g || void 0 === g || !g.Ym);};b.I7a=function(g){return !(null === g || void 0 === g || !g.md);};b.r9=function(g,h){var d;d=g;h.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.Ioa=c;b.wgb=function(g,h,d){for(var f=0;f < h.length - 1 && g;f++){g=g[h[f]];}return g?(g[h[h.length - 1]]=d,!0):!1;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fOa=void 0;c=a(52);t=(function(){function k(g){this.Za=g;}Object.defineProperties(k.prototype,{Se:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.rl=function(g){var h,d;g=g.Ti;if(g === c.ie.gp || g === c.ie.Sp){g={};h=this.Za(1);d=this.Za(0);h && (g.videoPipelineSummary=this.kib(h));d && (g.audioPipelineSummary=this.kib(d));return g;}};k.prototype.kib=function(g){var h,d,f,l,m;m=g.Sa.Z;return {actualStartPlayerTimestamp:null === (h=m.rd) || void 0 === h?void 0:h.T,actualPartialPlayerTimestamp:m.qcb,actualCompletePlayerTimestamp:null === (d=g.mma) || void 0 === d?void 0:d.T,segmentId:g.Y,contentStartMs:null === (f=g.dc) || void 0 === f?void 0:f.T,contentEndMs:null === (l=g.Hd) || void 0 === l?void 0:l.T,streamingPlayerMs:g.GF.T,isStreamable:g.NE(),isNormalized:g.uh(),isDoneStreaming:g.ot(),trackNeedsHeaderRequest:g.track.qba,completedRequests:m.CZa,activeRequests:g.Sa.Wq,unsentRequests:g.Sa.Zt,bytes:{current:m.aa,received:m.oeb,partial:m.mj,completed:m.VD,unsent:m.Wbc}};};return k;})();b.fOa=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.UOa=void 0;c=a(0);k=a(10);g=a(7);h=a(52);d=a(439);t=(function(){function f(l,m){var n;n=this;this.sya=l;this.pa=m;this.Ycb=new g.vT();m.events.on("branchesReevaluated",function(){n.Ycb.push(l.size);});}Object.defineProperties(f.prototype,{Se:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{FB:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return k.W;},enumerable:!1,configurable:!0}});f.prototype.rl=function(l){var m;l=l.Ti;if(l === h.ie.Sp || l === h.ie.gp){m={branchCountStats:this.Ycb.toJSON(),decisions:this.pa.Ug.toJSON(),player:this.pa.S.Av?this.pa.S.eb.map(function(n){return n.u.id;}):[]};this.sya.forEach(function(n,p){var q,r;r=d.Nra(n);m[p]=c.__assign({probabilities:n.Rh.map(function(u){return {duration:u.duration,immediate:u.GE,seamless:u.xe};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.u.id,normalized:n.uh,hasViewable:n.ht,headerRequested:n.ht && n.O.OX},r);});return m;}};return f;})();b.UOa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=void 0;t=(function(){function a(c,k,g){this.de=c;this.G=k;this.events=g;this.dK=[];}a.prototype.wg=function(c){var k;k=this;this.dK.push(c);this.de.o_a(function(){k.ujb(c,{AVb:!0});},c.qYa,c.gv);};a.prototype.nXb=function(c){var k,g;k=this;g={Ti:c};this.dK.forEach(function(h){k.ujb(h,g);});};a.prototype.ujb=function(c,k){var g,h;try{g=c.gg(k);h=g.event;g.$gb && this.events.emit(c.gv,h);}catch(d){this.G.error("Error generating event for " + c.gv,d);}};return a;})();b.PKa=t;},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=void 0;t=a(0);c=a(14);k=t.__importDefault(a(29)).default.hJ;g=t.__importDefault(a(145));h=t.__importDefault(a(4));d=a(182);f=a(22);l=a(2);a=(function(){function m(n,p,q,r,u){this.config=n;this.V9b=p;this.navigator=q;this.events=r;this.console=u;n=d.TO(this.config);this.Iy=n.Iy.bind(n);this.AK=n.AK.bind(n);this.aX=n.aX.bind(n);this.HX=n.HX.bind(n);this.mdb=[n.WZ.bind(n),n.VJ.bind(n)];}m.prototype.b8b=function(n,p,q,r,u,v,w){var x,y,z,A,B,C,D,F,G;y=[];if(!this.zcb(u.track))return {stream:C,d0:y,reason:"locationSelectionFailure"};z=u.ck;A=z.ze;B=u.S8;C=A.Po;D=v?v.hn(u.track.gd,n,q.Ba(u.Wa.md),u.uh()):u.track.gd;if(0 === D.length && (null === v || void 0 === v?0:v.iEb))return {stream:void 0,d0:y,reason:"allStreamsFiltered"};C && !C.track.equals(u.track) && (C=this.TNb(C,D));F=u.mediaType;if((v=0 === F) && C && !this.z9b(A,C))return (this.config.T5a && this.Iy(C.bitrate),{stream:C,d0:y});n=c.rca(n);p=this.FIb(n,p,r,u,! !w);r=this.mdb[F];w=v?this.HX():this.aX();u=z.BAa(p,D,w,r,!0,u.track.O.pr,B);if(!u)return {stream:C,d0:y,reason:"streamSelectionFailure"};z={af:u.af,XZ:u.XZ};if(u.reason){G={reason:u.reason,zAa:u.Fv,iB:u.iB,Zp:u.Zp,$p:u.$p};this.noa(F,D,q);}this.JLb(F,u,D);C=D[u.bf];q=C.bitrate;v?this.config.T5a && this.Iy(q):this.AK(q);A.Kgb(C);if(null === (x=u.IA) || void 0 === x?0:x.length)y=u.IA.map(function(E){return f.Xc(D,function(I){return I.id === E;});}).filter(f.Bba);return {stream:C,d0:y,lP:G,eC:z,qy:u.qy};};m.prototype.poa=function(n,p,q,r,u,v,w){var x,y,z;if(!c.aq(p))return {complete:!0,reason:"playing"};if(!v.rdb)return {complete:!1,reason:"unknown"};if(v.$1b)return (l.assert(v.Wbb),v.Wbb);x=v.ck;y=x.ze;q=this.B3a(v,q);z=y.Po;y=q.Ak - q.mc;if(y < this.config.kj || void 0 === z)return {complete:!1,LD:y,reason:"preBuf"};if(0 === v.mediaType)return {complete:!0,LD:y,reason:"audio"};if(n=n.QYa(v.mediaType))return {complete:!0,LD:y,reason:n};this.zcb(v.track);x.zya([z],!1,c.rca(p),q,this.mdb[v.mediaType]);p=x.vA(q,p,u,z,{Zu:w});if(!p.complete && r)return {complete:!0,reason:"prebufferTimeLimit",LD:y};p.LD=y;return p;};m.prototype.JLb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};m.prototype.ILb=function(n,p,q,r){n={type:"maxVideoBitrateChanged",time:h.default.time.ia(),streaming:r,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};m.prototype.TNb=function(n,p){var q;q=p[0];p.filter(function(r){return r.Kv;}).every(function(r){return r.bitrate <= n.bitrate?q=r:!1;});return q;};m.prototype.z9b=function(n,p){return 0 < this.config.wR.length?!0:(n=n.yP) && n === p.location?!1:!0;};m.prototype.zcb=function(n){return n.O.zn.S0(n.O.K,n.gd);};m.prototype.B3a=function(n,p){var C;for(var q,r=p.Ba(this.V9b),u=[],v=n,w=p,x,y,z=0,A=0,B=!0;v;){C=v.o4a(r);if(!B && !v.xk)break;0 < C.Z.length && (w=C.Z[0].rd,void 0 === x && (x=C.Z[C.Z.length - 1].Qc,y=C.dca >= C.Z.length?x:C.Z[C.dca].rd),u=C.Z.concat(u),z+=0 < C.mj?C.mj:0,A+=C.In);v=this.navigator.parent(v);B=!1;}return {fr:h.default.Xp()[n.mediaType],ba:Math.floor(w.T),mc:p.T,ec:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.T) && void 0 !== q?q:p.T),Ak:Math.floor(y?y.T:p.T),Ae:u.reduce(function(D,F){return D + F.aa;},0),mj:z,In:A,b3a:u.length,Z:u};};m.prototype.FIb=function(n,p,q,r,u){var v,w,x;v=this.B3a(r,p);w=1 === r.mediaType?this.config.$0:this.config.iV;x=g.default.instance();return {state:n,Cr:n === c.va.Jc,me:r.fm,playbackRate:q,buffer:v,rW:w,B9a:!1,mO:u,Wq:null === x || void 0 === x?void 0:x.Wq,mediaType:r.mediaType,mc:p.T,qt:!1,zua:!1,Sca:0};};m.prototype.noa=function(n,p,q){var v,w;if(1 === n){n="manifest";for(var r=0,u=p.length - 1;0 <= u;--u){v=p[u];w=v.bitrate;if(k(v)){r=Math.max(r,w);break;}else this.config.n0 && !v.ov?n="bc":v.Iv?v.dB && (n="hf"):n="av";}this.D$a !== r && (this.ILb(this.D$a,r,n,q),this.D$a=r);}};return m;})();b.mIa=a;},function(t,b,a){var k,g,h,d;function c(f,l,m,n,p){var q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J;y=f.console;z=f.Xbc;A=f.Ug;B=f.S6b;C=f.SKb;D=f.Mwa;F=f.Bna;f=f.X1b;G=p || ({complete:!0,zq:0});E=G.root;I=G.complete;L=G.fAb;K=G.ffb;K=void 0 === K?0:K;G=G.zq;H=K < B.length && B[K] === l.id;R=K < B.length?B[K]:n && A.get(n.id);O=p && n && R !== l.id?void 0 !== R?{xe:0}:n.TDb(l.id):{xe:1};A=O.xe;O=O.GE;J=void 0 === O?0:O;O=(A + J) * (null !== (q=null === p || void 0 === p?void 0:p.r4b) && void 0 !== q?q:1);d && y.trace("reevaluateBranches: visiting " + l.id + ", distance: " + (m + ", probability: ") + (O + ", predecessor: ") + ((null === n || void 0 === n?void 0:n.id) + ", decision: ") + (R + ", predecessorComplete: ") + (I + ", isOnRequiredPath: ") + (H + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (L + ", seamless ") + (A + ", immediate ") + (J + ", predecessor sum of: successor weights=") + ((null === n || void 0 === n?void 0:n.$Ba) + ", immediate weights= ") + (null === n || void 0 === n?void 0:n.jea));q=null !== (u=null === (r=z[l.id]) || void 0 === r?void 0:r.shift()) && void 0 !== u?u:l.duration.T;r=0 === q;if(!H){if(0 === O)return {afa:!1,r6:!0};if(!I && 0 === J && G > F)return (f.kE=Math.min(f.kE || Infinity,G - F),{afa:!1,r6:!0});if(!r && m >= C && 1 > O || !1 === E && O < D)return {afa:!1,r6:!0};}K < B.length && k.assert(B[K] === l.id,"");p=null !== (v=null === p || void 0 === p?void 0:p.Rh) && void 0 !== v?v:[];n && 1 > A && (0 === J?p=p.concat([{xe:A}]):(v=(null === (x=null === (w=n.u.Up) || void 0 === w?void 0:w[0]) || void 0 === x?void 0:x[0]) || 0,w=Math.max(0,n.duration.T - v),d && y.trace("reevaluateBranches: immediate: " + n.duration.T + ", " + v + ", " + w),p=p.concat([{xe:A,GE:J,duration:w}])));w=g.A6(f.eda,function(M){return M.u === n;});f.eda.push({u:l,dw:f.eda[w],Rh:p});m=I?m + l.duration.T:L;d && y.trace("reevaluateBranches: added " + l.id + ", visiting successors, active distance: " + (m + " probabilities: ") + JSON.stringify(p));return {afa:!0,r6:H,state:{root:!n,complete:r,r4b:O,Rh:p,fAb:m,ffb:K + 1,zq:G + q}};}Object.defineProperties(b,{__esModule:{value:!0}});b.kbc=b.Edc=b.Uca=void 0;k=a(2);t=a(10);g=a(22);h=a(441);d=t.W && !1;b.Uca=function(f,l,m,n,p,q,r,u,v){var w,x,y,z;x={eda:[]};y=(null === (w=m.Cg) || void 0 === w?void 0:w.Ba(m.df).T) || 0;0 < q.length && k.assert(m.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");d && f.trace("reevaluateBranches: starting at " + m.id + " requiredPath: " + JSON.stringify(q));z={console:f,Xbc:n,Ug:p,S6b:q,SKb:r.T + y,Mwa:u,Bna:v.T,X1b:x};l.Ddc(m,function(A,B,C,D){return c(z,A,B,C,D);});return x;};b.Edc=c;b.kbc=function(f,l){var m,n;m=new h.Dja();f.forEach(function(p){l("starting tree");m.add(p,p.dw);});n=h.udb(m,function(p){return "" + p.u.id;});l("requiredBranches " + f.length,n.replace(/\n/g,"<>"));l("requiredBranches " + f.length,f.map(function(p){var q;return p.u.id + "::" + (null === (q=p.dw) || void 0 === q?void 0:q.u.id);}).reduce(function(p,q){return p + ", " + q;}));};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ePa=void 0;c=a(0);k=a(436);t=(function(){function g(h){this.fa=h;this.N={};}g.prototype.m6a=function(h){return ! !this.fa.N[h];};g.prototype.Ye=function(h){var d;d=this.N[h];if(void 0 === d){d=this.fa.N[h];if(void 0 === d)throw Error("Segment not found (" + h + ")");d=new k.jPa(h,d,this.fa.oe);this.N[h]=d;}return d;};g.prototype.bQb=function(h){var d;d=this;return h.u.next?Object.keys(h.u.next).map(function(f){return d.Ye(f);}):[];};g.prototype.BWb=function(h){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,h];case 1:(f.Eb(),d=h,f.label=2);case 2:if(!d.u.Rb)return [3,4];d=this.Ye(d.u.Rb);return [4,d];case 3:return (f.Eb(),[3,2]);case 4:return [2];}});};g.prototype.yTb=function(h,d){return k.R7a(h.$O(d));};g.prototype.tj=function(h){var d;d=this;Object.keys(h).forEach(function(f){var l;return null === (l=d.Ye(f)) || void 0 === l?void 0:l.tj(h[f]);});};return g;})();b.ePa=t;},function(t,b,a){var g,h,d;function c(f,l){var m,n;m=Object.keys(f);if(m.some(function(p){var q,r,u,v;return (null === (q=f[p]) || void 0 === q?void 0:q.oe) !== (null === (r=l[p]) || void 0 === r?void 0:r.oe) || (null === (u=f[p]) || void 0 === u?void 0:u.weight) !== (null === (v=l[p]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(l);return 0 !== g.__spread(h.Ku(m,n),h.Ku(n,m)).length?!0:!1;}function k(f,l){return f.some(function(m,n){var p;return 0 !== h.Ku(m,null !== (p=l[n]) && void 0 !== p?p:[]).length;}) || f.length !== l.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.tYa=b.QZa=void 0;g=a(0);h=a(22);d=a(1073);b.QZa=function(f){return new d.OGa(function(l){return Object.keys(l.u.next || ({})).map(function(m){var n,p,q;m=f.Ye(m);q=null !== (p=null === (n=l.Cg) || void 0 === n?void 0:n.Ba(l.df).T) && void 0 !== p?p:Infinity;return {odc:m,weight:q};});});};b.tYa=function(f,l){var m,n,p,q,r,u;m=Object.keys(f.N);n=Object.keys(l.N);p=n.filter(function(v){return -1 === m.indexOf(v);});q=m.filter(function(v){return -1 === n.indexOf(v);});r=m.filter(function(v){var w,x,y,z,A;if(-1 === n.indexOf(v))w=!1;else {w=f.N[v];v=l.N[v];w=w.Rb !== v.Rb || w.sa !== v.sa || w.qa !== v.qa || w.oe !== v.oe || w.K !== v.K || k(null !== (x=w.Up) && void 0 !== x?x:[],null !== (y=v.Up) && void 0 !== y?y:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=v.next) && void 0 !== A?A:{})?!0:!1;}return w;});u=h.Ku(m,g.__spread(r,p,q));return {ZAb:p,GQ:q,AEb:r,Rbc:u};};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OGa=void 0;c=a(2);k=a(252);g=a(1074);t=(function(){function h(d){this.xLb=d;this.qDa=!1;this.bfa=new g.FPa();}h.prototype.Ddc=function(d,f){var m,n;function l(){var r,u,v,w,x,y;r=p.pop();u=r.node;v=r.u6;r=v.dw;w=v.nI;v=v.state;if(!q.bfa.has(u)){r=f(u,w,r,v);x=r.afa;y=r.state;r.r6 || q.bfa.add(u);n(u).forEach(function(z){var A;A=z.odc;m.bfa.has(A) || (z=w + z.weight,x && p.push({node:A,u6:{nI:z,dw:u,state:y}}));});}}m=this;n=this.xLb;c.assert(!this.qDa);this.qDa=!0;this.bfa.clear();for(var p=new k.q3([{node:d,u6:{nI:0,state:{root:!1,complete:!0,ffb:0,zq:0}}}],function(r,u){return r.u6.nI - u.u6.nI;}),q=this;!p.empty;){l();}this.qDa=!1;};return h;})();b.OGa=t;},function(t,b){var k,g,h;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.BSa);}function c(d){return (a(d)?d:Object.defineProperties(d,{BSa:{value:{},configurable:!1,enumerable:!1}})).BSa;}Object.defineProperties(b,{__esModule:{value:!0}});b.FPa=void 0;g=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;h=Date.now() % g;t=(function(){function d(){this.Eda=0;this.id=h=(h + 1) % g;}d.prototype.add=function(f){c(f)[this.id]=this.Eda;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Eda;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Eda=(this.Eda + 1) % g;return this;};return d;})();b.FPa=t;},function(t,b,a){var k,g,h,d;function c(f){return {value:f.Wa,parent:f.dw};}Object.defineProperties(b,{__esModule:{value:!0}});b.VOa=void 0;k=a(7);g=a(22);h=a(2);d=a(441);t=(function(){function f(){this.eb=new k.iMa();this.Yr=new d.Dja();}Object.defineProperties(f.prototype,{empty:{get:function(){return this.eb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.eb.size;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var l;l=this.eb.values();this.eb.clear();this.Yr.clear();l.forEach(function(m){return m.yd();});};f.prototype.Qx=function(l){return this.eb.get(l);};f.prototype.has=function(l){return this.eb.has(l);};f.prototype.root=function(){return this.Yr.root;};f.prototype.contains=function(l){var m;m=l.u.id;if(this.has(m))return -1 !== this.Qx(m).indexOf(l);};f.prototype.GO=function(l){this.Yr.GO(l);};f.prototype.BX=function(l){return this.Yr.parent(l);};f.prototype.MPb=function(l){return this.Yr.children(l);};f.prototype.qta=function(l){return this.Yr.qta(l);};f.prototype.Xca=function(l){var m;if(this.eb.delete(l.u.id,l)){m=this.Yr.children(l);this.Yr.root === l?0 === m.length?this.Yr.clear():(h.assert(1 === m.length,"cannot remove the root branch with multiple successors"),this.Yr.v6b(m[0])):(h.assert(0 === m.length,"cannot remove non-root branch with successors"),this.Yr.remove(l));}};f.prototype.forEach=function(l){var m;m=this;this.eb.forEach(function(n,p){return l(n,p,m);});};f.prototype.reduce=function(l,m){var n;n=this;return this.eb.reduce(function(p,q,r){return l(p,q,r,n);},m);};f.prototype.map=function(l){var m;m=this;return this.eb.map(function(n,p){return l(n,p,m);});};f.prototype.filter=function(l){var m;m=this;return this.eb.filter(function(n,p){return l(n,p,m);});};f.prototype.JSb=function(){var l;l={};this.forEach(function(m,n){var p;(m=m.zq) && (null !== (p=l[n]) && void 0 !== p?p:l[n]=[]).push(m.T);});return l;};f.prototype.bcc=function(l,m){var n,p;n=this;m=this.LYb(l,m);l=m.Zm;p=this.Yr.o5b(m.target.map(c));m=p.GQ;p=p.Teb;l.forEach(function(q){return q.za();});m.forEach(function(q){return n.eb.delete(q.u.id,q);});return {GQ:m,Teb:p.map(function(q){return q.value;})};};f.prototype.LYb=function(l,m){var p,q,r,u;function n(v,w){if(v=m(v.u.id,w))(q.push(v),p.eb.set(v.u.id,v));return v;}p=this;q=[];r=[];u=new Map();return {target:l.reduce(function(v,w,x){var y,z;h.assert(0 === x || w.dw);if(w.dw){y=u.get(w.dw);if(!y)return (r.push(w),v);}z=g.Xc(p.Qx(w.u.id),function(A){return p.Yr.parent(A) === y || 0 === x;});(z=null !== z && void 0 !== z?z:n(w,y)) && u.set(w,z);z.Rh=w.Rh;v.push({Wa:z,dw:y});(null === z || void 0 === z?0:z.ht) && z.update(w.u);return v;},[]),Zm:q};};return f;})();b.VOa=t;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(0);k=c.__importDefault(a(4));g=a(14);h=a(7);d=a(20);f=a(2);l=a(63);m=a(58);t=(function(){function n(p,q,r,u,v,w,x){var y;y=this;void 0 === x && (x=500);this.G=p;this.config=q;this.Vb=r;this.events=u;this.wqa=v;this.de=w;this.sDb=x;this.Hya=this.Vl=0;this.Xaa=[];this.zO={Zu:0};this.state=new h.ps(g.Hc.xj);this.af=new h.ps(g.va.dh);this.Vh=new l.ru({Gr:10,kq:this,source:"BufferStateTracker",Hma:function(){return {isBuffering:y.Eg,alwaysRunUnderflowTimer:y.config.mN};}});}Object.defineProperties(n.prototype,{Zu:{get:function(){return this.zO.Zu;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Eg:{get:function(){return g.aq(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Oea=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(r){0 === r.mediaType && (q.fYa=c.__assign(c.__assign({},q.fYa),{audio:{trackId:r.trackId,trackIndex:r.OF}}));});};n.prototype.Oba=function(p){this.set(g.Hc.xj);this.EK(p,g.Hc.sd);};n.prototype.Hba=function(){this.zO.Zu++;};n.prototype.AZ=function(p){this.config.mN || void 0 === this.oB && this.Eg && this.lpa();this.oB={XI:p.httpCode,Xg:p.errorCode,lj:p.nativeCode};};n.prototype.Qba=function(){this.oB=void 0;this.config.mN || this.S7();};n.prototype.Uj=function(p){this.Eg || (this.EK(p,g.Hc.$f),this.Eg && (this.oB || this.config.mN) && this.lpa());};n.prototype.D1b=function(p,q){this.state.value !== g.Hc.sd && this.EK(p,g.Hc.xT);this.Oea(q);};n.prototype.X0b=function(p,q){var r;r=this;this.config.rDb && this.Eg && (-1 === this.Xaa.indexOf(p) && this.Xaa.push(p),2 === this.Xaa.length && Promise.resolve().then(function(){r.Eg && void 0 !== r.My && r.hf("memoryLimit",q.J0,q.K0);}));};n.prototype.v8b=function(p,q){f.assert(this.state.value === g.Hc.sd && void 0 === this.My);this.My=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.OF}),this.Oea(q));};n.prototype.J8b=function(p,q,r){f.assert(this.Eg);this.kua=null !== p && void 0 !== p?p:this.kua;this.ZX=null !== q && void 0 !== q?q:this.ZX;void 0 === this.lP?this.lP=r:void 0 !== (null === r || void 0 === r?void 0:r.reason) && (this.lP.reason=r.reason);};n.prototype.hf=function(p,q,r){var u;f.assert(this.Eg && void 0 !== this.My && void 0 === this.TH && void 0 === this.Wea && void 0 === this.f6);this.TH=p;this.Wea=q;this.f6=r;this.er=100;this.Eoa();this.S7();null === (u=this.roa) || void 0 === u?void 0:u.xb();this.state.value === g.Hc.$f && (this.Hya=k.default.time.ia());this.g8();this.set(g.Hc.yj);this.f6=this.Wea=this.TH=this.lP=this.ZX=this.kua=this.My=void 0;};n.prototype.stop=function(){var p;this.set(g.Hc.xj);this.Eoa();this.S7();null === (p=this.roa) || void 0 === p?void 0:p.xb();};n.prototype.qoa=function(p,q,r,u){var v,w,x,y,z,A,B,C,D,F;v=this;f.assert(this.Eg);null === (w=this.roa) || void 0 === w?void 0:w.xb();if(this.state.value === g.Hc.$f && k.default.time.ia() < this.Hya + this.config.Lwa){z=this.config.Lwa - (k.default.time.ia() - this.Hya);this.roa=this.de.UN(m.Zh.VF(d.M.Ha(z)),function(){v.qoa(p,q,r,u);});}else {w=r.MI(0);A=r.MI(1);B=k.default.time.ia() - this.Vl;if(w || A){C=function(G){return G?G.NE() || G.ot()?u.poa(v.state.value,p,B >= v.config.RB,q,G,v.Zu):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(w);C=C(A);F=function(G){var E;return {reason:G.reason,complete:G.complete,bl:null !== (E=G.LD) && void 0 !== E?E:0};};this.Vh.Iu({as:F(D),vs:F(C),bt:B});F=A?C:D;F.rdc=A && C.LD || 0;F.lCb=w && D.LD || 0;D.complete && C.complete?(F.complete=!0,this.hf(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.rdc) && void 0 !== x?x:0,null !== (y=F.lCb) && void 0 !== y?y:0)):(F.complete=!1,this.LDb(F),this.Vh.Iu({bp:this.er}));}}};n.prototype.LDb=function(p){var q,r,u;u=p.progress;p.VE?u=(k.default.time.ia() - this.Vl) / this.config.RB:u || (u=(null !== (q=p.LD) && void 0 !== q?q:0) / this.config.kj);p=Math.min(Math.max(Math.round(100 * u),null !== (r=this.er) && void 0 !== r?r:0),99);p != this.er && (this.er=p);};n.prototype.EK=function(p,q){f.assert(q === g.Hc.sd || void 0 !== p);this.My=p;this.er=0;this.Cba=void 0;this.zO.Zu=0;this.Xaa=[];p=this.state.value === g.Hc.sd || this.state.value === g.Hc.$f;this.Vl=k.default.time.ia();this.set(q);p || (this.HLb(),this.f9b());};n.prototype.set=function(p){this.state.set(p);switch(p){case g.Hc.xj:this.af.set(g.va.xj);break;case g.Hc.sd:case g.Hc.xT:this.af.set(g.va.sd);break;case g.Hc.$f:this.af.set(g.va.$f);break;case g.Hc.yj:this.af.set(g.va.Jc);}};n.prototype.HLb=function(){f.assert(this.events && void 0 !== this.er);this.Cba=this.er;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:k.default.time.ia(),percentage:this.er});};n.prototype.f9b=function(){var p;p=this;this.Eoa();this.R_b=this.de.o_a(function(){return p.GLb();},d.M.Ha(this.sDb),"buffering-notification");};n.prototype.Eoa=function(){var p;null === (p=this.R_b) || void 0 === p?void 0:p.xb();};n.prototype.GLb=function(){this.Eg && this.events && void 0 !== this.er && this.er !== this.Cba && this.events.emit("buffering",{type:"buffering",time:k.default.time.ia(),percentage:this.er}) && (this.Cba=this.er);};n.prototype.g8=function(){var p;f.assert(this.events && this.My && void 0 !== this.TH && void 0 !== this.f6 && void 0 !== this.Wea);this.Cba=this.er;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:k.default.time.ia(),actualStartPosition:this.My,reason:this.TH,aBufferLevelMs:this.f6,vBufferLevelMs:this.Wea,selector:this.kua,initBitrate:this.ZX,initSelReason:null === (p=this.lP) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.bpc},this.fYa));};n.prototype.lpa=function(){var p;p=this;this.config.rkb && (!this.tC || this.tC.state !== m.bo.complete && this.tC.state !== m.bo.fO?void 0 === this.tC && (this.tC=this.de.aE(function(){return p.Hjb();},"underflow")):this.tC.Rk());};n.prototype.S7=function(){this.tC && (this.tC.state !== m.bo.fO && this.tC.xb(),this.tC=void 0);};n.prototype.Hjb=function(){var p,q,r;return c.__generator(this,function(u){switch(u.label){case 0:return (p=this.config.Daa,this.G.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,m.Zh.VF(d.M.Ha(p))]);case 1:(u.Eb(),u.label=2);case 2:if(!this.Eg)return [3,4];q=this.Vb.WWb || 0;r=k.default.time.ia() - q;if(r >= p)return (this.G.trace("Forcing streaming failure, " + r + "ms since data received"),this.wqa.E1b(this.oB),[2]);this.G.trace("BufferingStateTracker: network activity, wait " + (p - r) + "ms");return [4,m.Zh.VF(d.M.Ha(p - r))];case 3:return (u.Eb(),[3,2]);case 4:return [2];}});};c.__decorate([l.jb({methodName:"onTemporaryNetworkError",ol:!0})],n.prototype,"AZ",null);c.__decorate([l.jb({methodName:"onUnderflow",ol:!0})],n.prototype,"Uj",null);c.__decorate([l.jb({methodName:"bufferingComplete",ol:!0})],n.prototype,"hf",null);c.__decorate([l.jb({methodName:"stop",ol:!0})],n.prototype,"stop",null);c.__decorate([l.jb({methodName:"checkStreamingBufferingComplete",ol:!0})],n.prototype,"qoa",null);c.__decorate([l.jb({methodName:"createUnderflowTask",ol:!0})],n.prototype,"lpa",null);c.__decorate([l.jb({methodName:"destroyUnderflowTask",ol:!0})],n.prototype,"S7",null);c.__decorate([l.jb({methodName:"onUnderflowTimeout",ol:!0})],n.prototype,"Hjb",null);return n;})();b.iFa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cqa=void 0;c=a(22);b.Cqa=function(k,g,h,d){var f;f=[];k=k.filter(function(l){return l.ht;}).map(function(l){var m,n;m=g(l.O,h,d);n=c.Ku(m,l.Ie).map(function(p){return p.mediaType;});f=c.B6(f,n);return {Wa:l,Ie:m};});return {KYa:f,hDb:k};};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yQa=void 0;c=a(0);k=a(20);g=a(2);b.yQa=(function(){function h(){}h.RSb=function(d){var f,l,m;if(d.uh){m=c.__read(d.Ie,2);d=m[0];m=m[1];if(d.Oc || (null === m || void 0 === m?0:m.Oc))return {Zkb:k.M.Yx,$kb:k.M.Yx};d=null === (f=d.xq) || void 0 === f?void 0:f.Cg;f=null === (l=null === m || void 0 === m?void 0:m.xq) || void 0 === l?void 0:l.Cg;g.assert(d);l=f?k.M.min(d,f):d;return {Zkb:d,$kb:l};}};return h;})();},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZEa=void 0;t=a(0);c=a(11);k=a(7);g=a(58);h=a(10);d=a(14);f=t.__importDefault(a(4));a=(function(){function l(m,n,p,q,r,u){this.de=m;this.cs=n;this.config=p;this.M0b=q;this.wf=r;this.console=u;this.Aka=new c.Zf();this.console=k.ii(f.default,u,"BranchDecisionMaker");}l.APb=function(m){var n;return null !== (n=m.Qc) && void 0 !== n?n:m.OB;};l.tQb=function(m){var n,p;n=m.u;p=m.cQ;return n.Rb?n.Rb:p.length?p[0]:m.HB[0];};l.prototype.vCa=function(m,n){var p,q,r,u;p=this;r=m.u;h.W && this.console.trace("tracking " + m.u.id);this.reset();if(r.tw || 1 >= r.HB.length && (null === (q=r.Ey) || void 0 === q || !q.length))h.W && this.console.trace(m.u.id + " does not need tracking");else {u=this.MDb(m);q=u.pAa;n=n.lessThan(u.BUb);h.W && this.console.trace("tracking " + m.u.id,{Y:r.id,Zkc:n,Loc:null === q || void 0 === q?void 0:q.T});this.L7b(r,n?q:void 0);if(n)this.Aka.on(m.events,"branchEdited",function(){p.vCa(m,p.de.Aa.currentTime);});}};l.prototype.aZa=function(){var m;null === (m=this.d0a) || void 0 === m?void 0:m.xb();this.d0a=void 0;};l.prototype.reset=function(){this.aZa();this.Aka.clear();};l.prototype.MDb=function(m){var n,p;m=l.APb(m);n=k.M.Ha(this.config.aF);p=k.M.Ha(this.config.d_b + this.config.gZ);n=m.Ba(n);return {BUb:d.aq(this.wf.value)?m.Ba(p):n,pAa:n};};l.prototype.L7b=function(m,n){var p;p=this;this.aZa();this.d0a=n?this.de.UN(g.Zh.Yy(n),function(){return p.L9a(m);},"scheduled branch decision"):this.cs.UN(g.Zh.Jdc,function(){return p.L9a(m);},"immediate branch decision");};l.prototype.L9a=function(m){var n;this.Aka.clear();n=l.tQb(m);h.W && this.console.trace("BranchDecisionMaker making decision for " + m.id + ", decision is " + n);this.M0b(m.id,n,!0);};return l;})();b.ZEa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.z3a=void 0;c=a(1081);b.z3a=function(k,g){return k.reduce(function(h,d){var f;f=g(d);d.rn().forEach(function(l){return h.vma(l.mediaType,l.Is,!f);});return h;},new c.dPa());};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dPa=void 0;c=a(432);t=(function(){function k(){this.Ss=new c.dT();this.lW=new c.dT();}Object.defineProperties(k.prototype,{total:{get:function(){var g;g=new c.dT();g.add(this.Ss);g.add(this.lW);return g;},enumerable:!1,configurable:!0}});k.prototype.add=function(g){this.Ss.add(g.Ss);this.lW.add(g.lW);};k.prototype.vma=function(g,h,d){(d?this.lW:this.Ss).vma(g,h);};return k;})();b.dPa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.D5a=void 0;b.D5a=function(a,c){return a.reduce(function(k,g){return k + g.gX(c).T;},0);};},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.g_a=void 0;c=a(0);k=a(14);b.g_a=function(g){var l,m;function h(n){k.aq(n.newValue) && !k.aq(n.oldValue)?(null === m || void 0 === m?void 0:m.xb(),m=l.UN.apply(l,c.__spread(d))):null === m || void 0 === m?void 0:m.xb();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=g.eg;l=g.cs;f.state.addListener(h);h({oldValue:k.Hc.xj,newValue:f.state.value});};},function(t,b,a){var k,g;function c(h,d){return Object.keys(h.mF).map(function(f){return h.mF[f];}).filter(function(f){return void 0 === f.TI || 1 === f.TI;}).reduce(function(f,l){return f + l.Ss[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.dRa=void 0;k=a(14);g=a(10);t=(function(){function h(d,f,l){this.fa=d;this.console=f;this.fsa=l;}h.prototype.jEb=function(d,f,l){var m,n,p,q;m=l && this.fa.config.Ycc;n=this.fa.config.Pea || m;p=this.fsa();if(m){m=d.global;m=(q={},q[0]=m[0] - c(d,0),q[1]=m[1] - c(d,1),q);}q=m;p=this.QYa(f) || this.PEb(d) || this.NEb(d,p,q) || this.OEb(d,p,q,f);q=k.gza(p);if(p && (!q || n))return (g.W && this.console.log("canIssueRequest " + this.fa.id + " [" + f + "] static limit: " + (l + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});g.W && this.console.log("canIssueRequest " + this.fa.id + " [" + f + "] static limit: " + (l + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};h.prototype.QYa=function(d){var f;f=this.fa.config.hq;if(this.fa.kQb(d) >= (f || Infinity))return "mediaDurationLimit";};h.prototype.PEb=function(d){return d.mF[this.fa.id].total.total > (this.fa.x9() || Infinity)?"playgraphMemoryLimit":void 0;};h.prototype.NEb=function(d,f,l){d=d.global;return l?l[0] + l[1] > (f.JBa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};h.prototype.OEb=function(d,f,l,m){var n;n=d.global;return l?(g.W && this.console.log("checkRequestByMediaTypeMemory [" + m + "]: using static limit " + (f.JBa[m] + ", usage: " + l) + (" (global: " + n[m] + "  - certain contiguous: ") + (c(d,m) + ")")),l[m] > (f.JBa[m] || Infinity)?1 === m?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[m] > (f.total[m] || Infinity)?1 === m?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return h;})();b.dRa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XOa=void 0;t=(function(){function a(c){this.console=c;this.yoa();}a.prototype.get=function(c){return this.aO[c] || this.Ug[c];};a.prototype.set=function(c,k){void 0 === this.Ug[c] && (this.Ug[c]=k);};a.prototype.B8b=function(c,k){void 0 === this.get(c) && (this.aO[c]=k);};a.prototype.clear=function(c){this.aO[c]=void 0;this.Ug[c]=void 0;};a.prototype.lFb=function(c){var k;this.Ug=(k={},k[c]=this.Ug[c],k);this.aO={};};a.prototype.yoa=function(){this.Ug={};this.aO={};};a.prototype.toJSON=function(){return {Ug:this.Ug,aO:this.aO};};return a;})();b.XOa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Oa=b.qG=void 0;c=a(0);k=a(2);(function(h){h[h.sS=0]="CREATED";h[h.fja=1]="STARTED";h[h.rT=2]="REQUEST_ISSUED";h[h.kz=3]="EVALUATED";h[h.iGa=4]="DESTRUCTED";})(g=b.qG || (b.qG={}));t=(function(){function h(d){this.Gy=d;this.Nc=g.sS;this.EF={};this.j0={};}Object.defineProperties(h.prototype,{state:{get:function(){return this.Nc;},enumerable:!1,configurable:!0}});h.prototype.start=function(){var d;d=this;this.Nc !== g.fja && (this.ZY(g.fja),[g.kz,g.rT].forEach(function(f){var l;l=new Promise(function(m){k.assert(d.j0 && d.EF,"state promises should be defined");d.j0[f]=m;d.EF[f]=l;});}),this.Gy(),this.ZY(g.kz));};h.prototype.ZY=function(d){this.Nc=d;this.j0 && (d=this.j0[d],null === d || void 0 === d?void 0:d());};h.prototype.xb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Nc !== g.fja)return [3,2];k.assert(this.EF,"state resolves should be defined");return [4,this.EF[g.kz]];case 1:(d.Eb(),d.label=2);case 2:return (this.j0=this.EF=void 0,this.Nc=g.iGa,[2]);}});});};h.prototype.cfa=function(d,f){c.__awaiter(this,void 0,void 0,function(){var l;return c.__generator(this,function(m){switch(m.label){case 0:if(this.Nc === g.iGa)return [2];if(this.Nc === g.kz)return [3,6];k.assert(this.EF,"state promises should be defined");l=d;switch(l){case g.kz:return [3,1];case g.rT:return [3,3];}return [3,5];case 1:return [4,this.EF[g.kz]];case 2:return (m.Eb(),[3,6]);case 3:return [4,this.EF[g.rT]];case 4:return (m.Eb(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return h;})();b.$Oa=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.RV=void 0;c=a(0);k=a(443);g=a(444);h=a(129);d=a(445);b.RV=function(f,l,m){var n,p,q,r,u,v,w;n=l.tya;p=l.Qma;f=c.__assign({Qga:g.Pga},f).Qga;q=n[5];n=d.zxa(function(){return w;});q.kWa(n.Kt);r=m(l);l=new k.aia(function(){return r;});v={Kj:new f(function(){return u.fa;},l),get Qh() {return u;},Lc:r,pua:l,hXb:"content"};w=new d.ZFa(v,n.dib,h.vy.Zza.QQ);return u=h.vy.Tya(r,w,function(){return v;},p);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P8a=void 0;b.P8a=function(a){var c,k;c=a.next();do {if(!c.done)k=c.value;c=a.next();}while(!c.done);return k;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Fa=void 0;t=(function(){function a(c){this.xo=c;this.Se="content-playgraph";this.enabled=!0;}a.prototype.rl=function(){var c,k,g;c=this.xo.Lc;k=c.S;(k.Ze?k.rh:c.ft && c.Gl) && this.xo.xo && (k=k.rh,c=this.xo.Kj.Ty(k),k=this.xo.Lc.fa.N[k.Y].K,this.xo.fa.N[c.Y].K != k && (g=k));return {contentPlaygraph:this.xo.xo,auxMid:g};};return a;})();b.$Fa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xcb=void 0;b.Xcb={"*":{Y1a:["logdata"],rules:[{Fl:function(a){return a.xDa;}}]},locationSelected:[{Fl:function(a){return a.O_;}}],segmentComplete:[{Fl:function(a){return a.O_;}}],segmentStarting:[{Fl:function(a){return a.O_;}}],serverSwitch:[{Fl:function(a){return a.O_;}}],streamSelected:[{Fl:function(a){return a.Ze;}}]};},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.RV=void 0;c=a(0);k=a(443);g=a(444);h=a(445);d=a(129);f=a(1092);b.RV=function(l,m,n){var p,q,r,u,v,w;l=c.__assign({Qga:g.Pga},l).Qga;p=m.tya[5];q=h.zxa(function(){return v;});p.kWa(q.Kt);p=new k.aia(function(){return w;});u={Kj:new l(function(){return r.fa;},p,"Ads:"),get Qh() {return r;},get Lc() {return w;},pua:p,hXb:"ads"};v=new f.QDa(u,q.dib,d.vy.Zza.QQ);l=m.Qma;m.Qma=c.__spread(l,[v]);w=n(m);v.za();p.nza();return r=d.vy.Tya(w,v,function(){return u;},l);};},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QDa=void 0;c=a(0);k=a(10);g=a(1093);h=a(63);d=a(2);t=a(446);f=a(1094);a=(function(l){function m(n,p,q){n=l.call(this,n,p,q,"AdsPlaygraphHost",!1) || this;n.ET=void 0;return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{Qh:{get:function(){return this.lm.Qh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rg:{get:function(){var n;n=this.$D(this.Qh.fa);if(n !== this.Qh.fa)return n;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pm:{get:function(){return this.ET;},enumerable:!1,configurable:!0}});m.prototype.za=function(){var n;n=this;l.prototype.za.call(this);this.lm.Lc.wg(new g.RDa(this.lm));this.ET=new f.MDa(this.G,this.J,this.Lc,function(){return n.Qh;},function(p,q,r,u){return n.p_(p,q,r,u);});};m.prototype.qF=function(n){var p;p=l.prototype.qF.call(this,n);p && (d.assert(this.Pm,"missing manager"),this.Pm.Cj.BZ(n,this.P4),this.P4=void 0);return p;};m.prototype.If=function(n,p,q,r,u,v,w){var x,y;void 0 === w && (w=!1);x=!1;y=!1;p && !w && (x=this.Pm.lAb.ota(p));x || (y=this.lm.Lc.If(n,p,q,r,u,v,w));return y;};m.prototype.ow=function(n,p){var q,r;this.P4=void 0;if(this.Pm.Cj.l6a(n)){k.W && this.G.trace("ads::seekStreaming: " + JSON.stringify(n));q=this.Pm.Cj.Oba(n);n=q.Gl;r=q.IMb;q=q.E_b;k.W && this.G.trace("ads::seekStreaming: forwarding seek to " + JSON.stringify(n) + ", playerTimestamp: " + (p + ", entryPoint: ") + (JSON.stringify(r) + ", ") + (q?"with new playgraph":""));this.Lc.yda(n,p,r,q);}else (this.P4={Gl:n,uca:p},this.Lc.ow(n,p));};m.prototype.$D=function(n){return this.Pm.Cj.$D(n);};m.prototype.yd=function(n){l.prototype.yd.call(this,n);this.P4=void 0;};c.__decorate([h.jb({methodName:"ads::processViewableResponse"})],m.prototype,"qF",null);c.__decorate([h.jb({methodName:"ads::reportStreamingFailure"})],m.prototype,"If",null);c.__decorate([h.jb({methodName:"ads::seekStreaming"})],m.prototype,"ow",null);c.__decorate([h.jb({methodName:"ads::cancelStreaming"})],m.prototype,"yd",null);return m;})(t.Oia);b.QDa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RDa=void 0;t=(function(){function a(c){this.context=c;this.Se="ad-playgraph";this.enabled=!0;}a.prototype.rl=function(){var c,k,g,h,d,f;c=this.context;k=c.Qh;g=c.Lc;c=g.S;h=c.Ze?c.rh:g.ft?g.Gl:void 0;c=k.Rg;d="content";if(h && (g=g.fa.N[h.Y],(h=g.oc) && k.fa.N[h].K != g.K)){f=g.K;d=g.type;}return {adPlaygraph:c,adMid:f,auxMidType:d,manifestHasAds:! !c};};return a;})();b.RDa=t;},function(t,b,a){var c,k,g,h,d;Object.defineProperties(b,{__esModule:{value:!0}});b.MDa=void 0;c=a(1095);k=a(1097);g=a(1098);h=a(1099);d=a(1101);t=(function(){function f(l,m,n,p,q){this.CSa=new c.HDa(m,l,n,p,q,l);this.RUa=new k.SDa(n,p,this.Cj);this.yla=new g.KOa(this,n,l);this.VTa=new h.MJa(this.yla,this.RUa,l);this.CSa.za(this.VTa.events);this.iub=new d.IDa(n,this.Cj);}Object.defineProperties(f.prototype,{Cj:{get:function(){return this.CSa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{QB:{get:function(){return this.RUa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aw:{get:function(){return this.yla;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{CUb:{get:function(){return this.VTa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lAb:{get:function(){return this.iub;},enumerable:!1,configurable:!0}});f.prototype.Tg=function(l){return this.yla.Tg(l);};return f;})();b.MDa=t;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p){return null === p || void 0 === p?void 0:p.Ii.map(function(q){return q.Ul;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(r){return r.id;});}).reduce(function(q,r){return null === r || void 0 === r?void 0:r.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.HDa=void 0;k=a(0);g=a(11);h=a(39);d=a(10);f=a(152);l=a(7);m=a(2);n=a(1096);t=(function(){function p(q,r,u,v,w,x){this.config=q;this.console=r;this.qwb=u;this.Qh=v;this.p_=w;this.G=x;this.gA={};this.kUa=new f.U3();this.events=new g.EventEmitter();}Object.defineProperties(p.prototype,{Lc:{get:function(){return this.qwb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{s7a:{get:function(){return this.Lc.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ii:{get:function(){return this.XU.kAb;},enumerable:!1,configurable:!0}});p.prototype.za=function(q){this.XU=new n.TDa(q);};p.prototype.Oba=function(q){var r,u,v,w;r=this.Qh().Kj;m.assert(r,"Could not get graph location service");if(0 < this.XU.YCa){d.W && this.G.trace("ads::seekStreaming: recreating inner playgraph");u=this.Qh().fa;u=this.$D(u);r=r.Lkb(this.Qh().fa,u);this.XU.reset();this.process(q);}if(r=r.hE(q)){q=(null !== u && void 0 !== u?u:this.s7a).N[r.Y];"padding" === q.type && (r={Y:q.Rb,offset:l.M.La});q=r;v=this.Lc.S.pX();if(v && (v=v.u.id,d.W && this.G.trace("ads::seekStreaming: seek from segment " + v),v=this.JRb(v,r,u))){d.W && this.G.trace("ads::seekStreaming: prerollSegment " + v);q={Y:v,offset:l.M.La};w=r;}}d.W && this.G.trace("ads::seekStreaming: returning " + JSON.stringify(q));return {Gl:q,IMb:w,E_b:u};};p.prototype.BZ=function(q,r){var u,v;u=this.gPb(q);v=this.gA[q.I];this.gA[q.I]=u;if(v !== u && (null === v || void 0 === v?void 0:v.Ii.length) !== (null === u || void 0 === u?void 0:u.Ii.length)){if(null === u || void 0 === u?0:u.Ii)(this.XU.r8b(q.I,u.Ii),d.W && this.G.trace("Received ad metadata for",{O:q.I,Vjc:c(u)}));q=this.Lc.ska;u=this.Lc.config.C1a;if(r && this.l6a(r.Gl)){if(u && !q)return this.z4b(r);d.W && this.G.trace("ads::seekStreaming: Ignoring delayed seek request " + JSON.stringify(r) + ", didAppendData " + q + ", enablePrerollForInitialSeek " + u);}this.process();}};p.prototype.z4b=function(q){var r,u,v,w;d.W && this.G.trace("ads::processDelayedSeekRequest: seek request " + JSON.stringify(q));r=q.uca;u=q.Gl;q=this.Qh().Kj;m.assert(q,"Could not get graph location service");v=this.Qh().fa;w=this.$D(v);q=q.Lkb(this.Qh().fa,w);v=q.hE(u);if(u=this.IRb(w))return (u={Y:u,offset:l.M.La},d.W && this.G.trace("ads::processDelayedSeekRequest: executing delayed seek to " + JSON.stringify(u) + ", playerTimestamp " + r + ", entryPoint " + JSON.stringify(v)),u=q.Ty(u),this.process(u,r,v));this.process();};p.prototype.process=function(q,r,u){var v;v=this;this.kUa.wx || this.kUa.jfa(function(){var w;w=v.Qh().fa;v.p_(w,q,r,u);v.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.$D=function(q){var r,u,v;r=this;u=q;v=Object.keys(q.N).map(function(w){return "" + q.N[w].K;});Object.keys(this.gA).forEach(function(w){var x,y;if(-1 !== v.indexOf(w)){x=r.gA[w];if(x){y=x.Ii.map(function(z,A){z=r.Ii[w][A];return z.e6a || z.Ul.reduce(function(B,C,D){return C.gY?k.__spread(B,[D]):B;},[]);});x=h.d_a(parseInt(w),x,y,r.config.Mxa);u=h.Awa(u,x);}}});return u;};p.prototype.l6a=function(q){q=this.Qh().fa.N[q.Y].K;return ! !this.gA[q];};p.prototype.gPb=function(q){if(q.LH && (q=q.LH,q.Ii.length))return q;};p.prototype.$pa=function(q){this.XU.$pa(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});this.process();this.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});};p.prototype.JRb=function(q,r,u){var x;d.W && this.console.trace("AdComposer: getPrerollOnSeek: from " + (q + " to " + JSON.stringify(r)));if(u=null !== u && void 0 !== u?u:this.s7a){u=u.N;q=u[q].Rb;for(var v=void 0,w=void 0;q;){if(q === r.Y)return (r=v && "content" !== v?w:void 0,d.W && this.console.trace("AdComposer: getPrerollOnSeek: returning " + r),r);x=u[q];"ad" === x.type && "ad" !== v && (d.W && this.console.trace("AdComposer: getPrerollOnSeek: found start of ad break: " + q),w=q);v=x.type;q=x.Rb;}}d.W && this.console.trace("AdComposer: getPrerollOnSeek: returning undefined");};p.prototype.IRb=function(q){var r;d.W && this.console.trace("AdComposer: getPreroll");r=q.N[q.Vd].type;if(r && "content" !== r)return q.Vd;};return p;})();b.HDa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(2);k=a(229);t=(function(){function g(h){var d;d=this;this.YCa=0;this.dM={};h.on("adEvent",function(f){return d.J0b(f);});}Object.defineProperties(g.prototype,{kAb:{get:function(){return this.dM;},enumerable:!1,configurable:!0}});g.prototype.r8b=function(h,d){this.dM[h]=d.map(function(f){return new k.eEa(f);});};g.prototype.reset=function(){this.YCa=0;};g.prototype.J0b=function(h){var d;d=this;"adComplete" === h.event && Object.keys(this.dM).some(function(f){var l,m,n;f=null !== (l=(n=d.dM)[f]) && void 0 !== l?l:n[f]=[];c.assert(void 0 !== h.FH,"complete event should have an adBreakIndex");return null === (m=f[h.FH].Ul) || void 0 === m?void 0:m.some(function(p){return p.id === h.ea.I?(p.vta=!0,d.YCa++,!0):!1;});});};g.prototype.$pa=function(h){var d;d=this;Object.keys(this.dM).forEach(function(f){d.dM[f].forEach(function(l){l.Ul.forEach(function(m){m.id === h && (m.gY=!0);});});});};return g;})();b.TDa=t;},function(t,b,a){var k,g;function c(h){var d;d=(/^.+:ad\-(\d+)\-(\d+)$/).exec(h);if(d)return {nma:parseInt(d[2]),FH:parseInt(d[1]),jY:!1};if(h=(/^.+:pad((end)|(start))-(\d+)$/).exec(h))return {FH:parseInt(h[4]),jY:!0,fcb:h[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=void 0;k=a(7);g=a(229);t=(function(){function h(d,f,l){this.Rg=d;this.Vea=f;this.Cj=l;}h.prototype.hPb=function(d){var f,l,m,n,p,q,r,u,v;m=c(null === d || void 0 === d?void 0:d.Y);n=this.Rg.fa;p=this.Vea().fa;r=n.N[d.Y];u=r;v=[d.Y];for(p=p.N[u.oc].K;u && u.oc === r.oc && u.K !== p;){v.push(u.Rb);u=n.N[u.Rb];}v.pop();n=null !== (q=v.pop()) && void 0 !== q?q:d.Y;q=c(n);d=this.Rg.fa.N[d.Y];n=this.Rg.fa.N[n];d=(null !== (f=d.sa) && void 0 !== f?f:Infinity) - d.qa;f=(null !== (l=n.sa) && void 0 !== l?l:Infinity) - n.qa;return {start:(null === m || void 0 === m?0:m.jY)?new g.Ifa(g.E1.start,d):void 0,end:(null === q || void 0 === q?0:q.jY)?new g.Ifa(g.E1.end,f):void 0};};Object.defineProperties(h.prototype,{Ct:{get:function(){var d,f,l,m,n,p,q,r,u;if(this.Rg.S.Ze){f=this.Rg.S.rh;l=c(f.Y);if(l){m=null === (d=this.Vea().Kj) || void 0 === d?void 0:d.Ty(f);d=this.Vea().fa.N[m.Y];d=this.Cj.Ii[d.K][l.FH];m=this.hPb(f);m=new g.dEa(d,m.start,m.end);n=this.Rg.fa;p=this.Vea().fa;q=n.N[f.Y];r=q;u=-f.offset.T;for(p=p.N[r.oc].K;r && r.oc === q.oc && r.K !== p;){u+=r.sa - r.qa;r=n.N[r.Rb];}n=k.M.Ha(u);q=n.Ba(m.EW.duration);l.jY && ("end" === l.fcb?q=k.M.La:(r=m.$da.duration.Ba(f.offset),q=q.Ba(r)));m={iN:m,progress:{gAb:d.duration.Ba(q),hAb:1 - Math.max(0,q.T) / d.duration.T,iAb:m.duration.Ba(n),jAb:1 - Math.max(0,n.T) / m.duration.T},position:f,index:l.FH};n=this.Rg.fa.N[f.Y];n=n.sa - n.qa;f=f.offset.T / n;l.jY?m.$ba={h2b:f,aca:l.fcb,Zba:k.M.Ha(n)}:m.WU={Lp:d.Ul[l.nma],cWa:f,index:l.nma};return m;}}},enumerable:!1,configurable:!0}});h.prototype.fPb=function(d){return c(d);};return h;})();b.SDa=t;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KOa=void 0;c=a(0);k=a(11);g=a(10);h=c.__importDefault(a(4));d=a(7);f=a(22);t=(function(){function l(m,n,p){var q;q=this;this.ET=m;this.Rg=n;this.qTa=new k.Zf();this.G=d.ii(h.default,p,"PLAYERADMANAGER");this.events=new k.EventEmitter();this.Rg.events.on("playerChanged",function(){q.Rcb();});this.Rcb();this.Cj.events.on("adPlaygraphUpdated",function(r){return q.events.emit("adPlaygraphUpdated",r);});this.Cj.events.on("adSegmentDropped",function(r){q.K0b(r);});}l.prototype.Tg=function(m){var n;g.W && this.G.trace("PlayerAdManager.canSkip(): " + m.jc());if(!this.Rg.Bv)return !1;n=this.Rg.S;if(m.greaterThan(n.Cf))return !0;m=d.t2a(n.eb,m);return !(null === m || void 0 === m?0:m.some(function(p){return p.aV && "content" !== p.u.u.type;}));};Object.defineProperties(l.prototype,{Cj:{get:function(){return this.ET.Cj;},enumerable:!1,configurable:!0}});l.prototype.Rcb=function(){var m;m=this;this.G.trace("Player changed",this.Rg.Bv);this.qTa.clear();this.Rg.Bv && this.qTa.addListener(this.Rg.S.events,"segmentPresenting",function(){var n;n=m.QB.Ct;m.G.trace("Got segment presenting event",{Emc:m.e5,loc:n});(null === n || void 0 === n?0:n.iN)?m.e5 || (m.e5=!0,m.G.trace("Emitting adbreak"),m.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n})):m.e5 && (m.e5=!1,m.G.trace("Emitting adbreak ended"),m.events.emit("adBreakEnded",{type:"adBreakEnded"}));if(null === n || void 0 === n?0:n.WU)(m.G.trace("Emitting ad presenting"),m.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n}));});};l.prototype.Era=function(m){var n,p,q,r;n=this;p={GBb:[],result:{}};q=this.Cj.gA;r=Object.keys(q).filter(function(u){return q[u];});if(null === m || void 0 === m?0:m.blb)r=r.filter(function(u){var v;return -1 !== (null === (v=m.blb) || void 0 === v?void 0:v.indexOf(u));});p.GBb=r;r.forEach(function(u){var v,w,x;w=null === (v=q[u]) || void 0 === v?void 0:v.Ii;if(w){v=n.DNb(u,w);x=n.Cj.Ii[u];p.result["" + u]=v.map(function(y,z){return c.__assign(c.__assign({},y),{hasCompletedPlayback:x[z].e6a});});}});return p;};Object.defineProperties(l.prototype,{QB:{get:function(){return this.ET.QB;},enumerable:!1,configurable:!0}});l.prototype.DNb=function(m,n){var p,q;p=[];q=[];this.Cj.Ii[m].forEach(function(r){return r.Ul.forEach(function(u){u.gY && -1 === q.indexOf(u.id) && q.push(u.id);});});n.forEach(function(r){var u,v;r=c.__assign({},r);v=null === (u=r.ads) || void 0 === u?void 0:u.filter(function(w){return -1 === q.indexOf(w.id);});r.ads=v;p.push(r);});return p;};l.prototype.K0b=function(m){var n,p,q,r;n=this;p=m.adId;q=this.Cj.gA;m=Object.keys(q).filter(function(u){return q[u];});r=this.Rg.fa.N;m.forEach(function(u){var v,w;null === (w=null === (v=q[u]) || void 0 === v?void 0:v.Ii) || void 0 === w?void 0:w.forEach(function(x,y){var z;null === (z=x.Ul) || void 0 === z?void 0:z.forEach(function(A,B){A.id === p && (A=f.Xc(Object.keys(r),function(C){return (C=n.QB.fPb(C))?B === C.nma && y === C.FH:!1;})) && n.events.emit("segmentDropped",{type:"segmentDropped",auxMid:p,auxMidType:"ad",adBreakLocationMs:x.tt,reason:"network_error",sev:"error",segmentId:A});});});});};return l;})();b.KOa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.MJa=void 0;c=a(0);k=a(11);g=a(14);h=a(266);d=c.__importDefault(a(4));f=a(7);l=a(2);m=a(22);n=a(58);p=a(10);q=a(1100);t=(function(){function r(u,v,w){var x;x=this;this.aw=u;this.QB=v;this.events=new k.EventEmitter();this.G=f.ii(d.default,w,"IMPRESSION");u=this.aw.Rg.jm;this.oAb=u.aE(function(){return x.mbc();},"impressionLogging");this.aw.events.addListener("adBreakPresenting",function(){return x.fjb();});u.Aa.on("clockAdjusted",function(y){y.reason === g.vS.Jl && x.fjb();});}r.prototype.$Hb=function(){var u,v,w,x,y,z,A,B;p.W && this.G.trace("Creating cdn trackers");u=this.aw.Rg;l.assert(u.Bv,"player should exist at ad break");v=u.S;w=v.E9(0);x=v.E9(1);l.assert(w && x,"expected trackers to exist");y={};z={};A=w.G_a(function(){var C;C=m.Xc(w.kjb,function(D){return D instanceof h.tS;});l.assert(C,"could not find existing cdn list tracker");return C.clone(y,{priority:100,bib:q.kha});});B=x.G_a(function(){var C;C=m.Xc(x.kjb,function(D){return D instanceof h.tS;});l.assert(C,"could not find existing cdn list tracker");return C.clone(z,{priority:100,bib:q.kha});});return {xCb:function(){return A.zBa(v.Cf);},Bdc:function(){return B.zBa(v.Cf);},o6b:function(){u.Bv && (A && w.Neb(A),B && x.Neb(B));}};};r.prototype.fjb=function(){this.oAb.Rk();};r.prototype.mbc=function(){var u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U;return c.__generator(this,function(T){switch(T.label){case 0:(u=this.$Hb(),v=u.xCb,w=u.Bdc,x=u.o6b,T.label=1);case 1:(T.Wh.push([1,,18,19]),T.label=2);case 2:if(!this.QB.Ct)return [3,17];y=this.aw.Rg.S;z=this.QB.Ct;if(!z.$ba)return [3,4];if("end" === z.$ba.aca)return [3,17];A=this.U4a(z.position.Y);B=y.zv({Y:A,offset:f.M.La});l.assert(B,"paddingEnd should be defined for end of padding");p.W && this.G.trace("ImpressionLogger: waiting for padding until " + B);return [4,n.Zh.Yy(B)];case 3:(T.Eb(),y=this.aw.Rg.S,T.label=4);case 4:C=this.QB.Ct;if(!C)return [3,17];D=C.WU.Lp;F=C.position.Y;G=y.oi.O.ea;l.assert(G,"presenting ad should have a manifest");E=d.default.time.now();p.W && this.G.trace("Emitting start event",{position:C.position});this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},D.h6.start),{hj:C.position,ea:G,rq:E,igb:d.default.time.now(),Xv:this.zX(v(),w(),G.I),UU:C.iN.BD.tt}));I={Y:F,offset:f.M.La};T.label=5;case 5:(T.Wh.push([5,10,11,12]),L=(S=void 0,c.__values(D.pCa)),K=L.next(),T.label=6);case 6:if(K.done)return [3,9];H=K.value;I={offset:f.M.Ha(H.Sac),Y:F};R=y.zv(I);l.assert(R,"playerTs should be defined for timeMs");p.W && this.G.trace("ImpressionLogger: waiting for next event at " + R);return [4,n.Zh.Yy(R)];case 7:(T.Eb(),y=this.aw.Rg.S,p.W && this.G.trace("Emitting timed event",{position:I,Ucb:R}),this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},H),{hj:I,ea:G,rq:E,igb:d.default.time.now(),Xv:this.zX(v(),w(),G.I),UU:C.iN.BD.tt})),T.label=8);case 8:return (K=L.next(),[3,6]);case 9:return [3,12];case 10:return (O=T.Eb(),S={error:O},[3,12]);case 11:try{K && !K.done && (U=L.return) && U.call(L);}finally{if(S)throw S.error;}return [7];case 12:J={offset:D.endTime,Y:F};if(!J.offset.sn(I.offset))return [3,14];M=y.zv(J);l.assert(M,"playerTs should be defined for ad endTime");p.W && this.G.trace("ImpressionLogger: waiting for end of ad at " + M);return [4,n.Zh.Yy(M)];case 13:(T.Eb(),y=this.aw.Rg.S,T.label=14);case 14:p.W && this.G.trace("Emitting complete event",{position:C.position});this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},D.h6.complete),{FH:C.index,hj:J,ea:G,rq:E,igb:d.default.time.now(),Xv:this.zX(v(),w(),G.I),UU:C.iN.BD.tt}));if(y.rh.Y !== J.Y)return [3,16];A=this.U4a(J.Y);if(!A)return [3,16];P=y.zv({Y:A,offset:f.M.La});return [4,n.Zh.Yy(P)];case 15:(T.Eb(),T.label=16);case 16:return [3,2];case 17:return [3,19];case 18:return (x && x(),[7]);case 19:return [2];}});};r.prototype.U4a=function(u){return this.aw.Rg.fa.N[u].Rb;};r.prototype.i5a=function(u,v){var w,x,y;w=m.Xc(Object.keys(u),function(z){return u[z].I === "" + v;});x=Object.keys(w?u[w].JA:{}).map(function(z){return {Yb:z,duration:w?u[w].JA[z].totalTime:0};});y=x.reduce(function(z,A){return z + A.duration;},0);p.W && this.G.trace("Getting playtime journal",{I:v,goc:x.length,key:w,totalTime:y});return [x,y];};r.prototype.zX=function(u,v,w){var x;x=c.__read(this.i5a(u,w),2);u=x[0];x=x[1];v=c.__read(this.i5a(v,w),2);return {audio:u,video:v[0],text:[],total:Math.max(x,v[1])};};return r;})();b.MJa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kha=void 0;c=a(0);t=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.gsa=function(h){var d;d=h.yw.request.stream.track.I;return k.prototype.gsa.call(this,h) + "::" + d;};return g;})(a(266).tS);b.kha=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.IDa=void 0;c=a(22);t=(function(){function k(g,h){this.Rg=g;this.Cj=h;}k.prototype.ota=function(g){var h;h=this;return this.Rg.S.eb.some(function(d){return d.u.u.K === g && d.QWa;})?!1:c.Xc(Object.keys(this.Cj.gA),function(d){if(d=h.Cj.gA[d])return c.Xc(d.Ii,function(f){return f.Ul && c.Xc(f.Ul,function(l){return l.id === g;});});})?(this.Cj.$pa(g),!0):!1;};return k;})();b.IDa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TN=void 0;c=a(0);k=a(1103);g=a(184);b.TN=function(h,d){var f,l,m;f=[function(n){return new (k.Kfa.bind.apply(k.Kfa,c.__spread([void 0],n.n3b)))();}];if(h.yW){l=a(448).bpa;f.unshift(function(n,p){return l(n,p);});}if(h.sI){m=a(448).bpa;f.unshift(function(n,p){return m(n,p);});}return g.uS.F$({n3b:d},f);};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r;Object.defineProperties(b,{__esModule:{value:!0}});b.Kfa=void 0;c=a(0);k=a(11);g=a(7);h=a(2);d=a(58);f=a(22);t=a(129);l=a(1104);m=a(1105);n=a(437);p=a(1108);q=a(1109);r=t.vy.Dpa;a=(function(u){function v(w,x,y){var z;z=u.call(this) || this;z.S=w;z.zd=x;z.Fs=y;z.tW=[];z.yg=void 0;z.Bka=new k.Zf();z.Bs=void 0;z.oD=void 0;z.Bka.on(z.S,"underflow",function(){return z.Uj();});z.qM=new p.MOa(w);z.Bka.on(z.S,"skipped",function(){return z.zZ();});z.Bu=new d.UL(z.qM,z.G,"player");z.uDa=new g.vT();w.BYa && w.Rk && (z.cC=new q.qQa(z,w,z.G));return z;}c.__extends(v,u);Object.defineProperties(v.prototype,{Xr:{get:function(){var w;return null === (w=this.yg) || void 0 === w?void 0:w.Xr;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eb:{get:function(){var w,x;return null !== (x=null === (w=this.yg) || void 0 === w?void 0:w.Qx()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{pa:{get:function(){var w;return null === (w=this.yg) || void 0 === w?void 0:w.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Aa:{get:function(){return this.qM;},enumerable:!1,configurable:!0}});v.prototype.cR=function(w){-1 === this.tW.indexOf(w) && this.tW.push(w);this.yg && this.yg.vZ(w);this.events.emit("drmReady",{viewableId:w});};v.prototype.Kda=function(w){w=this.tW.indexOf(w);-1 !== w && this.tW.splice(w,1);};v.prototype.Mo=function(w){var x;return -1 !== this.tW.indexOf(w) || !(null === (x=f.Xc(this.eb,function(y){return y.ht && y.O.K === w;})) || void 0 === x || !x.O.Mi);};v.prototype.zF=function(w){var x;null === (x=this.yg) || void 0 === x?void 0:x.zF(w);};v.prototype.reset=function(){var w;this.uDa=new g.vT();u.prototype.reset.call(this);this.oD=void 0;null === (w=this.yg) || void 0 === w?void 0:w.reset();};v.prototype.G_=function(w){var x,y;u.prototype.G_.call(this,w);null === (x=this.yg) || void 0 === x?void 0:x.G_(w);null === (y=this.cC) || void 0 === y?void 0:y.X6b(w);};v.prototype.SD=function(){var w;null === (w=this.yg) || void 0 === w?void 0:w.SD();};v.prototype.pause=function(w){this.HK(w);u.prototype.pause.call(this,null !== w && void 0 !== w?w:this.zd);};v.prototype.resume=function(w){var x;null === (x=this.yg) || void 0 === x?void 0:x.resume(w);u.prototype.resume.call(this,null !== w && void 0 !== w?w:this.zd);};v.prototype.xb=function(){this.Bs=this.dP()?this.Ik():void 0;this.yg && this.Lpa(this.yg.pa);this.qM.xb();this.Bu.xb();this.Bka.clear();u.prototype.xb.call(this);};v.prototype.HI=function(){var w,x;if(null === (w=this.yg) || void 0 === w?0:w.o4b){w=this.S.mc;if(this.Aa.Nj){if(this.oD){if(this.oD.greaterThan(w))return (w=this.oD.Ba(w),this.uDa.push(w.T),this.oD);if(this.eb.length){x=this.yg.gXb;if(x && x.lessThan(w))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Vc:{clockdrift:{type:"count"}}}),this.oD);}}this.oD=w;}return w;}return u.prototype.HI.call(this);};v.prototype.Yp=function(){var w;w=this.S.playbackRate;void 0 === w && (w=u.prototype.Yp.call(this));return w;};v.prototype.E9=function(w){var x;return null === (x=this.yg) || void 0 === x?void 0:x.E9(w);};v.prototype.dP=function(){return ! !this.Bs || u.prototype.dP.call(this);};v.prototype.Ik=function(){return this.Bs?this.Bs:u.prototype.Ik.call(this);};v.prototype.pX=function(){var w;return null === (w=this.yg) || void 0 === w?void 0:w.YWb;};v.prototype.Lpa=function(w){var x;h.assert(w === this.pa);null === (x=this.yg) || void 0 === x?void 0:x.xb();this.yg=void 0;};v.prototype.H6=function(w,x){var y;this.Bs=void 0;y=u.prototype.H6.call(this,w,x);y && (this.yg=new m.CEa(w,this,this.G,w.config,this.Fs,this.events,this.zd,this.Bu,this.cC,this.iD,this.hD,null === x || void 0 === x?void 0:x.Xr),this.HK(this.mQ),this.cC && (x=w.eK.WRb(l.kja),x || (x=new l.kja(),w.wg(x)),this.cC.T5b(x)));return y;};v.prototype.tqa=function(){var y;for(var w=[],x=0;x < arguments.length;x++){w[x]=arguments[x];}y=this.yg;h.assert(y);w.forEach(function(z){return y.BMb(z);});};v.prototype.nBa=function(){var w;null === (w=this.yg) || void 0 === w?void 0:w.nBa();};v.prototype.Tg=function(w){var x,y,z;if(!this.yg)return !1;x=this.c9(w);if(!x)return !1;y=x.u;z=g.M.Ha(this.Fs.aF);return y.Cg.Ba(z).lessThan(w) || !x.WD(w)?!1:this.yg.Tg(w);};v.prototype.D9=function(){var w;return null === (w=this.cC) || void 0 === w?void 0:w.D9();};v.prototype.Uj=function(){var w,x,y;x=this.Cf;h.assert(this.pa);y=this.Fn(x);h.assert(y);null === (w=this.yg) || void 0 === w?void 0:w.Uj();w=this.c9(x);null === w || void 0 === w?void 0:w.O.Uj();this.pa.Uj(y);};v.prototype.zZ=function(){this.oD=void 0;};v.prototype.Ira=function(){var w;return null === (w=this.yg) || void 0 === w?void 0:w.Ira();};v.prototype.HK=function(w){var x;null === (x=this.yg) || void 0 === x?void 0:x.HK(w);};v.prototype.wCa=function(w){h.assert(this.pa && this.yg);return u.prototype.wCa.call(this,w);};c.__decorate([r.return.Cna(),r.return.Qn],v.prototype,"Ik",null);c.__decorate([r.return.Cna(),r.return.mxa],v.prototype,"pX",null);return v;})(n.Nia);b.Kfa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kja=void 0;t=(function(){function a(){this.FB=this.Se=a.Se;this.enabled=!0;this.I_=[];this.tfb=0;}a.prototype.RAb=function(c){this.I_.push(c);5 < this.I_.length && this.I_.shift();};a.prototype.SAb=function(){this.tfb++;};a.prototype.rl=function(){if(this.I_.length)return {restarts:this.I_.map(function(c){return {s:c.c$b,d:c.vKb,r:c.reason,atMs:c.Ucb.T};}),restartsCompleted:this.tfb};};a.Se="seamlessManager";return a;})();b.kja=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.CEa=void 0;c=a(0);k=a(11);g=a(421);h=c.__importDefault(a(4));d=a(179);a(14);f=a(251);l=a(7);m=a(22);n=a(58);p=a(224);q=a(2);r=a(1106);u=a(1107);v=a(266);t=(function(){function w(x,y,z,A,B,C,D,F,G,E,I,L){var K;K=this;this.pa=x;this.S=y;this.G=z;this.J=A;this.Fs=B;this.ih=C;this.zd=D;this.jm=F;this.cC=G;this.iD=E;this.hD=I;this.y4=!1;this.yTa=new l.IQa();this.qla=this.N0b.bind(this);this.Aj=new d.kL(this.G);this.ama=L || new u.GRa(this.G,x);this.EIb();this.el && (this.ryb=this.a9(this.LRb()),this.Qwb=l.ps.tDa(this.el.map(function(H){return H.Pv;}),function(H){return H.every(function(R){return R;});},function(H){return K.iD.set(H);}),this.Iub=new p.dia(this.el.map(function(H){return H.qY;}),function(H){return l.M.min.apply(l.M,c.__spread(H));},function(H){K.hD.set(H);},l.M.Ha(-Infinity)));this.Qq=F.aE(function(){return K.gDb();},"branchPruner");this.pTa=new k.Zf();this.pTa.on(this.ih,"segmentPresenting",function(){K.Cwb=K.S.Ik();});}Object.defineProperties(w.prototype,{Xr:{get:function(){return this.ama;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{YWb:{get:function(){return this.Cwb;},enumerable:!1,configurable:!0}});w.prototype.gDb=function(){var x,y,z,A,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.Aj.BZa)return [3,2];x=c.__read(this.Aj.xea(),1);y=x[0];z=null !== (D=null === (C=this.Fs.hR) || void 0 === C?void 0:C.T) && void 0 !== D?D:0;A=y.vY || y.Qc;B=A.add(l.M.Ha(z + 1E3));return [4,n.Zh.Yy(B)];case 1:return (F.Eb(),this.Aj.remove(y),y.events.removeListener("branchEdited",this.qla),y.yd("pruned"),[3,0]);case 2:return [2];}});};Object.defineProperties(w.prototype,{o4b:{get:function(){var x;return !(null === (x=this.ryb) || void 0 === x || !x.Pv.value);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gXb:{get:function(){return this.y4?l.M.max.apply(l.M,c.__spread(this.el.map(function(x){var y;return null === (y=x.iCb) || void 0 === y?void 0:y.R8a;}).filter(m.Bba))):void 0;},enumerable:!1,configurable:!0}});w.prototype.zF=function(x){this.el.forEach(function(y){y.zF(x);});};w.prototype.N0b=function(){var x;this.Qq.Rk();x=this.el.filter(function(y){return y.vVb;}).map(function(y){return y.mediaType;});this.HK(x);this.resume(x);};w.prototype.BMb=function(x){q.assert(-1 === this.Aj.xea().indexOf(x),"Branch " + x.u.id + " is already in the collection, cannot re-queue");x.events.addListener("branchEdited",this.qla);this.Aj.enqueue(x);this.Qq.state === n.bo.complete && this.Qq.Rk();x.u.tw && this.Aj.m8();this.y4 || this.dOb(x);};w.prototype.vZ=function(x){this.el.forEach(function(y){y.vZ(x);});};w.prototype.reset=function(){this.el.forEach(function(x){x.reset();});this.y4=!1;this.yTa.removeAllListeners();this.SD();};w.prototype.G_=function(x){x=this.a9(x);null === x || void 0 === x?void 0:x.reset();};w.prototype.SD=function(){var x;x=this;this.Aj.xea().forEach(function(y){return y.events.removeListener("branchEdited",x.qla);});this.Aj.clear();this.Qq.Rk();};w.prototype.resume=function(x){this.el.forEach(function(y){void 0 !== x && -1 === x.indexOf(y.mediaType) || y.resume();});};w.prototype.HK=function(x){this.el.forEach(function(y){return (void 0 === x || -1 !== x.indexOf(y.mediaType)) && y.stop();});};w.prototype.nBa=function(){this.el.forEach(function(x){return x.N9b();});};w.prototype.Uj=function(){this.G.trace("attached-player: onUnderflow");};w.prototype.y5a=function(){return this.Aj.getIterator();};w.prototype.EQb=function(){return this.Qx()[0];};w.prototype.Qx=function(){return this.Aj.xea();};w.prototype.E9=function(x){var y;return null === (y=this.a9(x)) || void 0 === y?void 0:y.ZZ;};w.prototype.EIb=function(){var x,y,z;x=this;this.Lm("createMediaSourceStart");if(this.Fs.tX)y=this.Fs.tX();else (y=new h.default.MediaSource(this.S.S),y.Kc || (y.Kc=h.default.MediaSource.Kc));if(1 !== y.readyState)this.Sq("exception in init","NFErr_MC_StreamingInitFailure");else {this.Lm("createMediaSourceEnd");this.cg=y;if(!y.l6(this.zd))throw (this.G.trace("Error:",y.error),this.Sq("error creating source buffers","NFErr_MC_StreamingInitFailure"),y.error);z={};this.pa.wg(new r.GFa(z,this.J));this.el=y.sourceBuffers.filter(function(A){return 0 <= x.zd.indexOf(A.mediaType);}).map(function(A){var B,C,D;C=new f.$fa(x.G,A.mediaType,y,A,x.J,!0,{Fe:function(){return x.S.Cf.T;},Mo:function(F){return x.S.Mo(F.K);}},x.jm);C.addListener("error",function(F){return x.Sq(F.errorstr);});C.addListener("logdata",function(F){return x.ih.emit("logdata",F);});C.addListener("managerdebugevent",function(F){x.ih.emit("managerdebugevent",F);});D=new g.Lfa(C,A.mediaType,x,x.J,x.G,x.S,x.Fs,x.jm,x.Xr,x.cC);if(1 === A.mediaType)D.on("drmNeeded",function(F){return x.ih.emit("drmNeeded",F);});null === (B=D.ZZ) || void 0 === B?void 0:B.xWa(new v.tS(z,x.G,x.S,C,x.S.events,x.Fs,x.jm));return D;});}};w.prototype.xb=function(){this.Qwb.clear();this.Iub.clear();this.el.forEach(function(x){return x.xb();});this.Fs.tX || this.cg.kr();this.SD();this.Qq.xb();this.pTa.clear();};w.prototype.Tg=function(x){return this.el.every(function(y){return y.Tg(x);});};w.prototype.Ira=function(){return {a5b:this.Qx(),m3b:this.el};};w.prototype.dOb=function(x){var y;y=this;this.y4=!0;x.Ie.forEach(function(z){var A;A=y.a9(z.mediaType);if(void 0 !== A)y.yTa.once(z.kra,function(B){return A.fOb(B);});});if(x.dc)this.p1a();else x.events.once("branchNormalized",function(){return y.p1a();});};w.prototype.p1a=function(){var x;x=this.EQb();x && (q.assert(x.rd),this.ih.emit("ptsChanged",{initialTimestamp:x.rd}));};w.prototype.a9=function(x){return m.Xc(this.el,function(y){return y.mediaType === x;});};w.prototype.LRb=function(){return -1 !== this.zd.indexOf(1)?1:0;};w.prototype.Lm=function(x){x={type:"startEvent",event:x,time:h.default.time.ia()};this.ih.emit(x.type,x);};w.prototype.Sq=function(x,y){this.pa.If(x,void 0,y);};return w;})();b.CEa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=void 0;c=a(52);t=(function(){function k(g,h){this.Ag=g;this.config=h;this.Se="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.vEb;},enumerable:!1,configurable:!0}});k.prototype.rl=function(g){var h;h=this;if(g.Ti === c.ie.Sp)return {cdndldist:JSON.stringify(Object.keys(this.Ag).map(function(d){var f;f=h.Ag[d];return {cdnid:f.Cx,pbcid:f.Xo,dls:Object.keys(f.JA).map(function(l){var m,n;l=f.JA[l];n=0 === l.mediaType?"adlid":"dlid";return (m={tm:l.totalTime,bitrate:l.bitrate},m[n]=l.Yb,m.vf=l.cb,m);})};}))};};return k;})();b.GFa=t;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GRa=void 0;c=a(0).__importDefault(a(4));k=a(20);g=a(29);t=(function(){function h(d,f){this.G=d;this.io=f;}h.prototype.Ny=function(d,f,l,m,n){var p,q;void 0 === n && (n=!1);p=d.u;q=this.Pvb(p);this.bN={startTime:c.default.time.ia(),e$b:d,d$b:l.T,uLb:f,oe:this.RQb(m,f),tbc:this.ESb(m,n),Gpa:n,xe:m,TYa:q,H_b:this.nRb(p,l)};};h.prototype.Q6a=function(){return ! !this.bN;};h.prototype.wsa=function(d){var f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I;if(this.bN && 0 !== Object.keys(this.bN.TYa).length && d === this.bN.uLb){v=this.bN;w=v.TYa;x=v.H_b;y=v.Gpa;z=v.xe;A=v.e$b;B=v.d$b;C=v.startTime;D=v.oe;v=v.tbc;this.bN=void 0;F=this.Lka(d).Ps;G=this.kPb(A.u.id,d,w);F=this.mUa(G.weight,F);E={};for(I in w){I !== d && (E[I]=w[I].details);}w=c.default.time.ia() - C;C=z?0:w;I={offset:k.M.Ha(this.mSb(A,B,z,y)),Y:A.u.id};B={offset:k.M.Ha(B),Y:A.u.id};x={segment:d,destPosition:{Y:d,offset:k.M.La},srcsegment:A.u.id,srcTransitionPosition:I,srcStartPosition:B,srcsegmentduration:A.Cea.T,srcoffset:I.offset.T,seamlessRequested:z,atRequest:G,atTransition:F,discard:E,transitionType:D,transitionTypeAtRequest:v,delayToTransition:this.WPb(w,z,y),durationOfTransition:C,nextExitPositionAtRequest:x};y=null !== (l=null === (f=this.io.fa.N[d]) || void 0 === f?void 0:f.type) && void 0 !== l?l:"content";f=null !== (n=null === (m=this.io.fa.N[A.u.id]) || void 0 === m?void 0:m.type) && void 0 !== n?n:"content";d=null !== (q=null === (p=this.io.fa.N[d]) || void 0 === p?void 0:p.K) && void 0 !== q?q:void 0;p=null !== (u=null === (r=this.io.fa.N[A.u.id]) || void 0 === r?void 0:r.K) && void 0 !== u?u:void 0;d && p && d !== p && (x.auxMidType=y,x.auxSrcmidType=f,x.auxMid=d,x.auxSrcmid=p);return x;}};h.prototype.kPb=function(d,f,l){var m,n,p;p={};(l=l[f])?p=l.details:(g.assert(this.io),p.weight=null === (n=null === (m=this.io.fa.N[d].next) || void 0 === m?void 0:m[f]) || void 0 === n?void 0:n.weight);return p;};h.prototype.WPb=function(d,f,l){var m;l || (m=f?d:0);return m;};h.prototype.nRb=function(d,f){var l,m,n;m=d.df.add(f);null === (l=d.Ey) || void 0 === l?void 0:l.some(function(p){m.lessThan(p.dc) && (n=p.dc.T);});return n;};h.prototype.mSb=function(d,f,l,m){return l || m?d.Cea.T:f;};h.prototype.RQb=function(d,f){return d?"seamless":this.Lka(f).MX?"reset":"long";};h.prototype.ESb=function(d,f){return d || f?"lazy":"immediate";};h.prototype.Pvb=function(d){var f,l;f=this;l={};d.HB.forEach(function(m){var n,p;n=d.K_b[m];p=f.Lka(m).Ps;l[m]={details:f.mUa(n,p)};});return l;};h.prototype.Lka=function(d){var f,l;d=this.io.Ora(d);f=0 < d.length?d[0]:void 0;d=null === f || void 0 === f?void 0:f.UA();if(!f || !d)return {MX:!1,Ps:{ip:0,Hs:0,bu:0,AD:0}};l=f.d$(0) && !d.Hs;f=f.d$(1) && !d.ip;return {MX:!l && !f,Ps:d};};h.prototype.mUa=function(d,f){return {weight:d,vbuflmsec:f.ip,abuflmsec:f.Hs,vbuflbytes:f.bu,abuflbytes:f.AD};};return h;})();b.GRa=t;},function(t,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.MOa=void 0;c=a(11);k=a(14);t=a(35);a=(function(){function g(h){var d;d=this;this.S=h;this.Zka=!1;this.kH=new c.Zf();this.kH.on(h,"paused",function(){return d.Pba();});this.kH.on(h,"playing",function(){return d.Pba(!0);});this.kH.on(h,"underflow",function(){return d.Pba();});this.kH.on(h,"skipped",function(){return d.zZ();});this.kH.on(h,"clockAdjusted",function(){return d.tZ();});this.kH.on(h,"playbackRateChanged",function(){return d.m1b();});}Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.DVa || this.S.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nj:{get:function(){return this.Zka;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){var h;return null !== (h=this.S.playbackRate) && void 0 !== h?h:1;},enumerable:!1,configurable:!0}});g.prototype.Pba=function(h){void 0 === h && (h=!1);h !== this.Zka && (this.DVa=(this.Zka=h)?void 0:this.S.mc);this.emit("stopStart",{type:"stopStart"});};g.prototype.zZ=function(){this.DVa=void 0;this.tZ(k.vS.Jl);};g.prototype.tZ=function(h){void 0 === h && (h=k.vS.jBb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:h});};g.prototype.m1b=function(){this.emit("speedChanged",{type:"speedChanged"});};g.prototype.xb=function(){this.Pba();this.kH.clear();};return g;})();b.MOa=a;t.Je(c.EventEmitter,a);},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qQa=void 0;c=a(0);k=a(11);g=a(10);h=c.__importDefault(a(4));d=a(7);f=a(2);t=(function(){function l(m,n,p){var q;q=this;this.Fa=m;this.S=n;this.pending=new Map();this.listeners=new k.Zf();this.bxa=!1;this.lTb=function(r){var u,v,y;if(q.pending.size){g.W && q.G.trace("playback ending, restarting player");v={};try{for(var w=c.__values(q.pending.entries()),x=w.next();!x.done;x=w.next()){y=c.__read(x.value,2);v[y[0]]=y[1].to.stream.bm();}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(z)throw z.error;}}g.W && q.G.debug("cancelling playback ending");r.cancel();g.W && q.G.debug("Restarting player",v);q.S.Rk(v).then(function(){var A,B;null === (A=q.bO) || void 0 === A?void 0:A.resolve();g.W && q.G.debug("Restart completed");null === (B=q.Mfb) || void 0 === B?void 0:B.SAb();q.reset();});}};this.listeners.addListener(n,"playbackEnding",this.lTb);this.G=d.ii(h.default,p,"SEAMLESSMANAGER");g.W && this.G.debug("construct");}l.prototype.xb=function(){g.W && this.G.debug("destruct");this.pending.clear();this.listeners.clear();};l.prototype.T5b=function(m){this.Mfb=m;};l.prototype.Idc=function(m){var n,p;0 === this.pending.size && (f.assert(void 0 === this.bO),this.bO=new d.JC());f.assert(this.bO);f.assert(!this.pending.has(m.mediaType));this.pending.set(m.mediaType,m);g.W && this.G.trace("got new transition [" + m.mediaType + "] --\x3e " + m.to.stream.id);if(this.pending.size === this.Fa.zd.length && !this.bxa){p=this.hWb();if(p.ddb)return (g.W && this.G.trace("seamless transition possible at " + m.timestamp.jc()),this.bO.resolve(),this.reset(),this.Z8a=m.timestamp,Promise.resolve());g.W && this.G.trace("starting non-seamless transition at " + m.timestamp.jc());null === (n=this.Mfb) || void 0 === n?void 0:n.RAb(p.info);this.l$b();}return this.bO.promise;};l.prototype.X6b=function(m){g.W && this.G.trace("reset media [" + m + "]");this.pending.delete(m);};l.prototype.D9=function(){return this.Z8a;};l.prototype.reset=function(){g.W && this.G.debug("resetting");this.bxa=!1;this.bO=this.Z8a=void 0;this.pending.clear();};l.prototype.hWb=function(){var m,n,p,u,v,w,x,y,z,A,B,C;try{for(var q=c.__values(this.pending.entries()),r=q.next();!r.done;r=q.next()){u=c.__read(r.value,2);v=u[0];w=u[1];if(w.from){x=w.from.stream;y=w.to.stream;if(x.track === y.track)g.W && this.G.debug("Seamless deemed possible due to same track",{mediaType:v});else {z=x.bm();A=y.bm();B=this.S.BYa({mediaType:v,from:z,to:A,Ulc:this.Fa.Fn(w.p4b),Apc:this.Fa.Fn(w.timestamp)});C=B.reason;if(!B.BYa)return (g.W && this.G.debug("Non-seamless transition; details:",{reason:C,mediaType:v,from:z,to:A}),{ddb:!1,info:{vKb:null !== (n=w.to.Y) && void 0 !== n?n:"unk",c$b:null !== (p=w.from.Y) && void 0 !== p?p:"unk",Ucb:w.timestamp,reason:C}});g.W && this.G.debug("Seamless deemed possible",{reason:C,mediaType:v,from:z,to:A});}}}}catch(F){var D;D={error:F};}finally{try{r && !r.done && (m=q.return) && m.call(q);}finally{if(D)throw D.error;}}return {ddb:!0};};l.prototype.l$b=function(){this.bxa=!0;g.W && this.G.debug("Marking EOS");this.Fa.nBa();};return l;})();b.qQa=t;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.POa=void 0;c=a(0);k=a(63);g=a(7);h=c.__importDefault(a(4));d=a(447);f=a(1111);t=(function(){function l(m,n){var p;p=this;this.$X=m;this.events=d.fpa(function(){return p.lm;},this.$X.events,n,f.Tcb);this.kwb=g.ii(h.default,this.$X.console,"PLAYERHOST");new k.ru({Gr:10,kq:this,source:"PlayerHost",console:this.kwb});}l.prototype.Foa=function(){this.lm=void 0;};l.prototype.WAa=function(m){this.lm=m;};c.__decorate([k.jb({methodName:"clearProxyPlaygraphContext"})],l.prototype,"Foa",null);c.__decorate([k.jb({methodName:"setProxyPlaygraphContext"})],l.prototype,"WAa",null);return l;})();b.POa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tcb=void 0;b.Tcb={"*":{Y1a:["logdata"],rules:[{Fl:function(a){return a.xDa;}}]},segmentPresenting:[{Fl:function(a){return a.xDa;},config:{Tr:["metrics"]}},{Fl:function(a){return a.Ze;}},{Fl:function(a){return a.Ze;},config:{Tr:["metrics","srcStartPosition"]}},{Fl:function(a){return a.Ze;},config:{Tr:["metrics","srcTransitionPosition"]}},{Fl:function(a){return a.Ze;},config:{Tr:["metrics","destPosition"]}}],streamPresenting:[{Fl:function(a){return a.Ze;}}],segmentAppended:[{Fl:function(a){return a.O_;}}]};},function(t,b,a){var c,k,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.oSa=void 0;c=a(0);k=a(11);g=a(10);h=a(368);t=(function(){function d(f,l,m,n){this.alb=f;this.console=l;this.TBb=m;this.y_=n;this.events=new k.EventEmitter();this.xY=f.iXb.ux();}Object.defineProperties(d.prototype,{O:{get:function(){var f;return null === (f=this.alb) || void 0 === f?void 0:f.O;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{UF:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var l;return c.__generator(this,function(m){switch(m.label){case 0:return (m.Wh.push([0,2,,3]),[4,this.alb.UF]);case 1:return [2,m.Eb()];case 2:throw (l=m.Eb(),h.wOa.bWb(l) && this.TBb.If(l),g.W && this.console.trace("Removing broken viewable entry due to error",this.y_),this.events.emit("error",{error:l}),l);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.oSa=t;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.FQa=void 0;c=a(0);k=a(11);g=c.__importStar(a(9));h=a(14);d=a(225);f=a(14);l=a(7);m=a(2);n=a(20);p=a(226);q=a(52);r=a(97);u=a(63);v=a(183);w=c.__importDefault(a(4));x=a(223);y=a(1114);z=a(1115);A=0;t=(function(B){function C(D,F,G,E,I,L,K,H,R,O,J){var M,P,S,U,T;U=B.call(this) || this;U.console=D;U.gq=F;U.kU=G;U.aN=I;U.g0=L;U.Hx=H;U.S=O;U.config=J;U.As=!1;U.HT=!1;U.Bs=void 0;U.hf=function(){var W,ia,pa,wa,za;null === (W=U.mM) || void 0 === W?void 0:W.clear();W=U.Jub;za=U.byb;m.assert(W);U.Zg && m.assert(za);U.Sl.value !== f.va.ss && U.Sl.value !== f.va.xj && (null !== (ia=U.Fa) && void 0 !== ia && ia.Ze?(ia=null === (wa=null === (pa=U.gq.Ga.Vb.get()) || void 0 === pa?void 0:pa.Na) || void 0 === wa?void 0:wa.oa,U.pa.N0("startplay",q.ie.tq),U.zea.$U("emitBufferingComplete",{}),y.g8(U,W,U.Fa.Cf,ia,za,U.pa.rN)):U.console.error("Shim received buffering complete but player has no position (player " + (U.Fa?"":"un") + "defined, state " + U.Sl.value + ")"));};U.qV=function(){var W,ia,pa;U.zea.$U("audioTrackSwitchComplete",{});m.assert(void 0 !== U.jo);ia=U.kU.audio_tracks[U.jo];pa=U.jo;U.jo=void 0;y.o1a(U,ia,pa);null === (W=U.sZ) || void 0 === W?void 0:W.call(U);U.sZ=void 0;};m.assert(2 >= E.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(E,2);D=G[0];G=G[1];U.Fi=new k.Zf();U.K=D.fa.N[L[0].Y].K;U.Sl=new l.ps(f.va.dh);U.wC=new r.NG(U.console);K.Xe && (U.Paa=new x.FL(U.console,J));U.pa=D;U.Zg=G;E.forEach(function(W){var ia,pa;ia=W.YD(U.wC);U.Paa && (ia=new r.qu([U.Paa,ia]));pa=W.XD();W.Mda(pa,ia);});U.klc=!1;U.E0a=!1;y.$9a(U.console,F,U,D,G);T=A++;U.zea=new u.ru({kq:U,source:"ShimSession",console:U.console,Gr:50,Hma:function(){return {shimId:T};}});U.pa.wg(new v.$w(U.zea));U.Gkb=void 0 !== (null === (S=null === (P=(M=U.S).sX) || void 0 === P?void 0:P.call(M)) || void 0 === S?void 0:S.$);U.Kd=z.wXa(O);F=U.e_a({zd:U.W9a(U.pa.fa.zd),tX:U.z9.bind(U)});U.Fa=F;U.Zg && (U.Wj=U.e_a({zd:U.W9a(U.Zg.fa.zd),tX:U.z9.bind(U)}));U.Fa.events.on("segmentPresenting",function(){U.Bs=U.ITa();});U.on("streamerend",function(){return U.K$b();});U.Ggb();return U;}c.__extends(C,B);Object.defineProperties(C.prototype,{I:{get:function(){return this.K;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ga:{get:function(){return this.Hx.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{wh:{get:function(){return this.Fi;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ue:{get:function(){return {Hmc:{1:{Z:{Ma:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ZK:{get:function(){return void 0 !== this.jo;},enumerable:!1,configurable:!0}});C.prototype.FXb=function(){var D,F,G,E,I;D=this;I=null === (E=null === (G=(F=this.S).sX) || void 0 === G?void 0:G.call(F)) || void 0 === E?void 0:E.$;m.assert(I,"video element is not defined");I.addEventListener("play",function(){return D.PVa();});I.addEventListener("pause",function(){return D.pk();});};C.prototype.K$b=function(){this.gq.Yq(!0,this.Hx.sessionId);};C.prototype.JR=function(D,F){var G;this.pa.tj((G={},G[D]=F,G));};C.prototype.open=function(){var D,F,G,E;D=this;if(!this.As){this.As=!0;this.gq.Yq(this.config.Js,this.Hx.sessionId);E=new Promise(function(I){setTimeout(I,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.pa.open();null === (F=this.Zg) || void 0 === F?void 0:F.open();this.pa.ow(this.g0[0]);m.assert(this.Fa,"asePlayer should be defined on session.open");this.g0[1] && (F=this.pa.bB(this.g0[0]),m.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.Zg) || void 0 === G?void 0:G.ow(this.g0[1],F.Ym));y.X9a(this.gq,this,this.Fa,this.console);this.Sl.set(f.va.sd);E.then(function(){D.$r(D.hf);});this.pa.tN(this.Fa);this.Zg && (m.assert(this.Wj,"parallelPlayer should be defined on session.open"),this.Zg.tN(this.Wj));this.Gkb && this.FXb();}};C.prototype.z9=function(){this.Tj || (this.Tj=new w.default.MediaSource(this.Kd),this.Tj.Kc || (this.Tj.Kc=w.default.MediaSource.Kc));return this.Tj;};C.prototype.e_a=function(D){void 0 === D && (D={});D=c.__assign({aF:this.config.aF,pya:this.config.pya},D);return this.gq.Ga.rWa(this.Kd,D);};C.prototype.W9a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(F){return "video" === F?1:0;}):[0,1];};C.prototype.close=function(){this.As && (this.As=!1);this.gq.Yq(!0,this.Hx.sessionId,!0);};Object.defineProperties(C.prototype,{MH:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});C.prototype.flush=function(){var D;this.As && this.Sl.value !== f.va.xj && this.Sl.value !== f.va.ss && this.stop();this.pa.N0("endplay",q.ie.Sp);this.pa.yd();null === (D=this.Zg) || void 0 === D?void 0:D.yd();this.gq.hi.save();this.gq.Qo.save();};C.prototype.paused=function(){this.Gkb || this.pk();};C.prototype.pk=function(){this.Sl.value === f.va.Jc && (this.Sl.set(f.va.Eh),this.Kd.emit("paused",{type:"paused",Nd:this.Kd.mc}));};C.prototype.PVa=function(){this.Sl.value === f.va.Eh && (this.Sl.set(f.va.Jc),this.Kd.emit("playing",{type:"playing",Nd:this.Kd.mc}));};C.prototype.Yc=function(){var D,F;this.As && this.Sl.value !== f.va.xj && this.Sl.value !== f.va.ss && this.stop();this.gq.m6b(this);this.As && this.close();this.Hz && (clearInterval(this.Hz),this.Hz=void 0);null === (D=this.mM) || void 0 === D?void 0:D.clear();this.Fa && this.gq.Ga.FQ(this.Fa);this.Wj && this.gq.Ga.FQ(this.Wj);null === (F=this.Tj) || void 0 === F?void 0:F.kr();};C.prototype.suspend=function(){};C.prototype.resume=function(){};C.prototype.play=function(){var D;D=this;this.pa.state !== d.ek.CLOSED && (m.assert(this.Fa,"ShimSession.play(), expected asePlayer to exist."),this.Fa.resume(this.HT?[1]:void 0),this.Zg && (m.assert(this.Wj,"ShimSession.play(), expected parallelPlayer to exist."),this.Wj.resume(this.HT?[1]:void 0)),this.Sl.set(f.va.Jc),this.Kd.emit("playing",{type:"playing",Nd:this.Kd.mc}),this.emit("play"),this.Hz || (this.Hz=setInterval(function(){return D.U_b();},this.config.zN)));};C.prototype.stop=function(){this.Sl.set(f.va.ss);m.assert(this.Fa,"ShimSession.stop(), expected asePlayer to exist.");this.Fa.pause();this.Zg && (m.assert(this.Wj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Wj.pause());this.Kd.emit("paused",{type:"paused",Nd:this.Kd.mc});this.emit("stop");};C.prototype.LA=function(D){var F,G,E,I;void 0 === F && (F=!0);this.Fa?(D=parseInt(D),g.isFinite(D) && (null === (G=this.Paa) || void 0 === G?void 0:G.uib(),F?(this.Fa.cR(D),null === (E=this.Wj) || void 0 === E?void 0:E.cR(D)):(this.Fa.Kda(D),null === (I=this.Wj) || void 0 === I?void 0:I.Kda(D)))):this.fail("Must call open prior to drmReady");};C.prototype.c$=function(){var D;if(!this.Fa || !this.Fa.Ze)return !1;D=this.Fa.Mo(this.pa.fa.N[this.Fa.rh.Y].K);return D && this.Zg && this.Wj?this.Wj.Mo(this.Zg.fa.N[this.Wj.rh.Y].K):D;};C.prototype.gp=function(){var D;null === (D=this.Paa) || void 0 === D?void 0:D.uib();this.Sl.set(f.va.$f);this.Kd.emit("underflow",{type:"underflow",Nd:this.Kd.mc});this.$r(this.hf);};C.prototype.v9=function(D){var F;F=q.ie.tq;switch(D){case "intrplay":F=q.ie.gp;break;case "endplay":F=q.ie.Sp;}D=this.pa.v9(F);return c.__assign(c.__assign({},D),{aseApiVersion:this.MH});};C.prototype.mya=function(){this.Kd.emit("playbackRateChanged",{type:"playbackRateChanged",Nd:this.Kd.mc});};C.prototype.Jl=function(D,F){D=this.Kd.Fe();F={type:"skipped",pts:n.M.Ha(D),previousPts:"number" === typeof F?n.M.Ha(F):void 0};this.Kd.emit(F.type,F);return new p.LG(Promise.resolve()).Wza;};C.prototype.$na=function(D,F){var G;F=this.Nsa(F || 0,D);return null === (G=this.pa.jn(F,D)) || void 0 === G?void 0:G.Zc;};C.prototype.Vu=function(D,F){var G;G=new n.M(F,1E3);return (G=this.pa.Fn(G,{ohb:!0,nhb:!0}))?this.pa.fa.N[G.Y].qa + Number(G.offset.T.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F);};C.prototype.RN=function(D,F){D=this.Nsa(D || 0,F);D={Y:D,offset:new n.M(F - this.pa.fa.N[D].qa,1E3)};return (D=this.pa.zv(D))?D.T:F;};C.prototype.D$=function(){var D,F,G;F={};G=null === (D=this.pa) || void 0 === D?void 0:D.Rx();D=this.Zg?this.Zg.Rx():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);D && (F.abuflmsec=D.totalabuflmsecs,F.abuflbytes=D.abuflbytes);return F;};C.prototype.i9=function(){return {Re:0};};C.prototype.Ik=function(){var D,F;return null !== (D=this.Bs) && void 0 !== D?D:(null === (F=this.Fa) || void 0 === F?0:F.dP())?this.ITa():{id:this.g0[0].Y,Re:0,Zc:0,Ec:Infinity,$e:Infinity,Ad:0};};C.prototype.ITa=function(){var D,F,G,E,I,L,K,H,R;m.assert(this.Fa,"attempted to get presenting branch information with no player");m.assert(this.Fa.dP(),"attempted to get presenting branch information but player has no branches");L=this.Fa.Ik() || ({});K=L.u;H=L.md;R=L.OB;L=L.mq;return {id:K.id,Re:null !== (D=null === H || void 0 === H?void 0:H.T) && void 0 !== D?D:0,Zc:null !== (F=null === K || void 0 === K?void 0:K.df.T) && void 0 !== F?F:0,Ec:null !== (G=null === K || void 0 === K?void 0:K.Cg.T) && void 0 !== G?G:Infinity,$e:null !== (E=null === R || void 0 === R?void 0:R.T) && void 0 !== E?E:Infinity,Ad:null !== (I=null === L || void 0 === L?void 0:L.T) && void 0 !== I?I:0};};C.prototype.Meb=function(){this.xJ("removeSession");};C.prototype.Ot=function(D,F){void 0 === F && (F=0);m.assert(!this.Zg,"Seeking with dual playgraphs not supported.");F=this.Nsa(F,D);this.gq.Yq(this.config.Js,this.Hx.sessionId);D={Y:F,offset:n.M.Ha(D - this.pa.fa.N[F].qa)};this.Bs=void 0;this.pa.ow(D);m.assert(this.Fa);this.Fa.resume();this.Sl.set(f.va.sd);this.$r(this.hf);D=this.pa.iAa(D);m.assert(D,"Valid position must be provided for seek");return D.offset.T;};C.prototype.seek=function(D,F){D=this.Vu(F,D);return this.Ot(D,F);};C.prototype.Qs=function(D,F,G){var E,I;E=this.Ik().id;I=this.pa.SO(E,D);if(F){if(!I.Nkb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + E)),!1);if(void 0 !== I.aQ)return (this.pa.Yi(E,D,!1,F),I.aQ === D);this.pa.Yi(E,D,!1,F);return !0;}if(void 0 !== I.aQ)return (G || this.Ot(I.Zc,0),!1);I.AN?(m.assert(this.Fa),this.Fa.reset(),this.pa.Yi(E,D,!1,F),this.Fa.resume(),this.Sl.set(f.va.sd),this.$r(this.hf)):G || this.Ot(I.Zc,0);return ! !I.AN;};C.prototype.lN=function(){this.xJ("addManifest");};C.prototype.RU=function(){return this.xJ("activateManifest");};C.prototype.wbb=function(){this.Nub();};C.prototype.nea=function(D){var F,G,E,I;F=this.Zg?this.Wj:this.Fa;G=D.po;m.assert(!this.Zg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.jo)return !1;D=this.kU.audio_tracks;if(!D.some(function(L,K){if(L.track_id === G)return (E=L,I=K,!0);}))return !1;D=D[this.aN[0]];this.jo=I;this.HT=!0;null === F || void 0 === F?void 0:F.pause([0]);this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:E.language,newNumChannels:E.channels});return !0;};C.prototype.Ur=function(D,F){this.wC.Ur(D,F);};C.prototype.Tg=function(D){return this.Fa?this.Fa.Tg(n.M.Ha(D)):!1;};C.prototype.r8=function(){this.xJ("evaluateQoE");};C.prototype.MBa=function(){this.xJ("stopBuffering");};C.prototype.EK=function(){return this.xJ("startBuffering");};C.prototype.C5a=function(){return this.xJ("getStreamingStatistics");};C.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};C.prototype.Nsa=function(D,F){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.QW(F);};C.prototype.QW=function(D){var F,G,I,L,K,H,R;F=this.pa.fa;G=[];m.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var E in F.N){I=F.N[E];L=I.qa;I=I.sa;K=D < Number(null !== I && void 0 !== I?I:Infinity);if(L <= D && K)G.push(E);else if((L=Math.min(Math.abs(D - L),Math.abs(D - I)),void 0 === H || L < H))(H=L,R=E);}m.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");D=G[0] || R;m.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};C.prototype.U_b=function(){var D,F;F=null === (D=this.pa) || void 0 === D?void 0:D.Rx();D=this.Zg?this.Zg.Rx():F;F && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};C.prototype.xJ=function(D){return this.fail("Method not implemented " + D);};C.prototype.Nub=function(){m.assert(void 0 !== this.jo);this.aN[0]=this.jo;this.Ggb();this.$r(this.qV);};C.prototype.Ggb=function(){var D;D=this;this.Zg?(this.pa.Jy({Pt:function(){}},{Pt:function(){return D.aN[1];}}),this.Zg.Jy({Pt:function(){return D.aN[0];}},{Pt:function(){}})):this.pa.Jy({Pt:function(){return D.aN[0];}},{Pt:function(){return D.aN[1];}});this.HT && ((this.Zg?this.Wj:this.Fa).resume([0]),this.HT=!1);};C.prototype.u8b=function(D){this.Jub=D;};C.prototype.Q8b=function(D){this.byb=D;};C.prototype.$r=function(D){var F,G;F=this;D !== this.qV && void 0 !== this.jo?this.sZ=D:(null === (G=this.mM) || void 0 === G?void 0:G.clear(),!this.Zg && this.Fa?this.mM=l.ps.tDa([this.pa.wf,this.Fa.qY],function(E){var I,L;E=c.__read(E,2);L=E[1];return E[0] === h.Hc.yj && (null === (I=F.Fa) || void 0 === I?void 0:I.Ze) && L.greaterThan(F.Fa.Cf);},this.f_a(D)):this.Fa && (this.mM=l.ps.tDa([this.pa.wf,this.Fa.qY,this.Zg.wf,this.Wj.qY],function(E){var I,L,K,H,R;E=c.__read(E,4);K=E[1];H=E[2];R=E[3];return E[0] === h.Hc.yj && (null === (I=F.Fa) || void 0 === I?void 0:I.Ze) && K.greaterThan(F.Fa.Cf) && H === h.Hc.yj && (null === (L=F.Wj) || void 0 === L?void 0:L.Ze) && R.greaterThan(F.Wj.Cf);},this.f_a(D))));};C.prototype.f_a=function(D){var F;F=this;return function(G){var E;G && (null === (E=F.mM) || void 0 === E?void 0:E.clear(),F.mM=void 0,Promise.resolve().then(D));};};c.__decorate([u.jb({methodName:"updateChoiceMapEntry",no:!0})],C.prototype,"JR",null);c.__decorate([u.jb({methodName:"open"})],C.prototype,"open",null);c.__decorate([u.jb({methodName:"close"})],C.prototype,"close",null);c.__decorate([u.jb({methodName:"paused"})],C.prototype,"pk",null);c.__decorate([u.jb({methodName:"unpaused"})],C.prototype,"PVa",null);c.__decorate([u.jb({methodName:"cleanup"})],C.prototype,"Yc",null);c.__decorate([u.jb({methodName:"suspend"})],C.prototype,"suspend",null);c.__decorate([u.jb({methodName:"resume"})],C.prototype,"resume",null);c.__decorate([u.jb({methodName:"play"})],C.prototype,"play",null);c.__decorate([u.jb({methodName:"stop"})],C.prototype,"stop",null);c.__decorate([u.jb({no:!0,methodName:"drmReady"})],C.prototype,"LA",null);c.__decorate([u.jb({methodName:"underflow"})],C.prototype,"gp",null);c.__decorate([u.jb({methodName:"getLogdataReport"})],C.prototype,"v9",null);c.__decorate([u.jb({methodName:"skipped"})],C.prototype,"Jl",null);c.__decorate([u.jb({methodName:"seekByContentPts"})],C.prototype,"Ot",null);c.__decorate([u.jb({methodName:"seek"})],C.prototype,"seek",null);c.__decorate([u.jb({methodName:"chooseNextSegment",no:!0})],C.prototype,"Qs",null);c.__decorate([u.jb({methodName:"onAudioTrackSwitchStarted"})],C.prototype,"wbb",null);c.__decorate([u.jb({methodName:"switchTracks"})],C.prototype,"nea",null);return C;})(k.EventEmitter);b.FQa=t;},function(t,b,a){var g,h;function c(d,f,l){var m,n;m=Array.isArray(l)?l[0]:l;n=Array.isArray(l)?l[1]:l;f.on(m,function(p){d.emit(n,g.__assign(g.__assign({},p),{type:n}));});}function k(d,f,l,m){var n,p;f.events.once(d,function(q){(n=q) && p && m(n,p);});l.events.once(d,function(q){p=q;n && p && m(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.o1a=b.g8=b.X9a=b.$9a=void 0;g=a(0);h=a(10);b.$9a=function(d,f,l,m,n){var q;function p(r,u){c(l,r,u);}f=n?[m,n]:[m];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(r){return p(m.events,r);});n?(p(n.events,"initialAudioTrack"),k("streamerEnd",m,n,function(r){l.emit("streamerend",g.__assign(g.__assign({},r),{type:"streamerend"}));})):(p(m.events,["streamerEnd","streamerend"]),p(m.events,"initialAudioTrack"));m.events.on("logdata",function(r){l.emit("logdata",g.__assign(g.__assign({},r),{fields:g.__assign(g.__assign({},r.fields),{aseApiVersion:l.MH})}));});q=!0;m.events.on("bufferingStarted",function(r){l.ZK && q?q=!1:(l.zea.$U("bufferingStarted",{}),l.emit("bufferingStarted",r));});m.events.on("bufferingComplete",function(r){l.ZK?q=!0:l.u8b(r);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(r){l.ZK || l.Q8b(r);});m.events.on("maxVideoBitrateChanged",function(r){l.emit("maxvideobitratechanged",g.__assign(g.__assign({},r),{type:"maxvideobitratechanged",hpc:r.streaming.T}));});m.events.on("error",function(r){r=g.__assign(g.__assign({},r),{manifestIndex:0});l.emit("error",r);});l.on("error",function(){});m.events.on("segmentComplete",function(r){l.emit("segmentComplete",{type:"segmentComplete",mediaType:r.mediaType,manifestIndex:0,segmentId:r.segmentId});});m.events.on("segmentNormalized",function(r){var u;u=Math.floor(r.viewableContentEnd.T);l.emit("maxPosition",{type:"maxPosition",index:0,endPts:u,maxPts:u,maxSeekPts:Math.floor(r.viewableEarliestContentEnd.T)});l.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:u,maxPts:u});});m.events.on("segmentStarting",function(r){l.emit("maxBitrates",{type:"maxBitrates",audio:r.maxBitrates.audio,video:r.maxBitrates.video});l.emit("segmentStarting",r);});f.forEach(function(r){r.events.on("serverSwitch",function(u){l.emit("serverSwitch",{type:"serverSwitch",segmentId:u.segmentId,mediatype:u.mediatype,server:u.server,reason:u.reason,location:u.location,bitrate:u.bitrate,confidence:u.confidence,throughput:u.throughput,oldserver:u.oldserver});});r.events.on("streamSelected",function(u){var v;v=r.bB(u.position);l.emit("streamSelected",{type:"streamSelected",nativetime:u.nativetime,mediaType:u.mediaType,streamId:u.streamId,manifestIndex:0,trackIndex:u.trackIndex,streamIndex:u.streamIndex,movieTime:v.Ym.T,bandwidth:u.bandwidth,longtermBw:u.longtermBw,rebuffer:u.rebuffer});});r.events.on("updateStreamingPts",function(u){var v;v=l.I;h.W && d.trace("converting updateStreamingPts, movieId:",v);l.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:u.mediaType,manifestIndex:0,trackIndex:u.trackIndex,segmentId:u.position.Y,movieTime:Math.floor(u.completePlayerStreamingTimestamp.T)});});});};b.X9a=function(d,f,l,m){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(f,l.events,n);});l.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.T;q=f.pa.bB(n.position);void 0 === q?m.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):f.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.Ym.T),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});l.events.on("segmentPresenting",function(n){var p,q,r;p=f.pa.bB(n.position);q=n.playerTimestamp.Ba(p.Ym);r=n.position.Y;f.E0a || (f.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.T,movieId:p.K.toString(),replace:!1,contentOffset:q.T}),f.E0a=!0);f.emit("segmentPresenting",{type:"segmentPresenting",segmentId:r,contentOffset:q.T,metrics:n.metrics});});l.events.on("ptsChanged",function(n){f.emit("ptschanged",n.initialTimestamp.T);f.Kd.emit("skipped");});};b.g8=function(d,f,l,m,n,p){var q;l=l.T;n=null !== n && void 0 !== n?n:f;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:f.reason,actualbw:m,initSelReason:null !== (q=f.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:f.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",l);d.emit("bufferingComplete",{type:"bufferingComplete",time:f.time,actualStartPts:l,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:f.vBufferLevelMs,selector:f.selector,initBitrate:f.initBitrate,skipbackBufferSizeBytes:f.skipbackBufferSizeBytes});};b.o1a=function(d,f,l){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:f.track_id,trackIndex:l});};},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wXa=void 0;t=a(0);c=a(11);k=t.__importDefault(a(151));g=a(7);b.wXa=function(h){if(h.gub)return h;k.default(c.EventEmitter.prototype,h);Object.defineProperties(h,{gub:{value:!0},mc:{get:function(){return new g.M(this.Fe(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Yp?this.Yp():1,.01);}}});return h;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aGb={Sv:["minInitVideoBitrate",-Infinity],Iwa:["minHCInitVideoBitrate",-Infinity],xB:["maxInitVideoBitrate",Infinity],eZ:["minInitAudioBitrate",-Infinity],cZ:["minHCInitAudioBitrate",-Infinity],PY:["maxInitAudioBitrate",Infinity],$aa:["minAcceptableVideoBitrate",-Infinity],$Y:["minAcceptableVMAF",0],PZb:["minAcceptableVMAFRebufferScalingFactor",0],Hwa:["minAllowedVideoBitrate",-Infinity],NYb:["maxAllowedVideoBitrate",Infinity],zJ:["minAllowedVmaf",-Infinity],e$a:["maxAllowedVmaf",Infinity],tR:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],j8:["enableResolutionVMAFStreamFilter",!1],bya:["percentCapTitlesForResolutionVMAFStreamFilter",100],ida:["resolutionVMAFCappingRuleList",[]],O6a:["ignoreUserFilterOnEmptyResult",!0],$E:["minRequiredBuffer",2E4],gba:["minRequiredAudioBuffer",0],kj:["minPrebufSize",5800],dba:["minCheckBufferingCompleteInterval",200],i8:["enableMoreFrequentBufferingCompleteCheck",!1],Lwa:["minimumBufferingCompleteInterval",1E4],cda:["requireDownloadDataAtBuffering",!1],b7a:["indicatorForDownloadDataAtBuffering","oncomplete"],dda:["requireSetupConnectionDuringBuffering",!1],iza:["rebufferingFactor",1],Fr:["maxBufferingTime",2E3],dDa:["useMaxPrebufSize",!0],Nv:["maxPrebufSize",4E4],qwa:["maxRebufSize",Infinity],nNb:["fastRebufferRecoveryThreshold",Infinity],mNb:["fastRebufferRecoverBwThrehold",3E3],w$:["initialBitrateSelectionCurve",null],g7a:["initSelectionLowerBound",-Infinity],h7a:["initSelectionUpperBound",Infinity],z0:["throughputPercentForAudio",15],sna:["bandwidthMargin",0],una:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],GXa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,uA:76376,scale:18862.4,gamma:3.0569}],tna:["bandwidthMarginContinuous",!1],HXa:["bandwidthMarginForAudio",!0],fCa:["switchConfigBasedOnInSessionTput",!0],Yoa:["conservBandwidthMargin",20],QV:["conservBandwidthMarginTputThreshold",6E3],Zoa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],tib:["switchAlgoBasedOnHistIQR",!1],HF:["switchConfigBasedOnThroughputHistory","iqr"],pwa:["maxPlayerStateToSwitchConfig",-1],Pva:["lowEndMarkingCriteria","iqr"],hha:["IQRThreshold",.5],Hta:["histIQRCalcToUse","simple"],Pu:["bandwidthManifold",{curves:[{min:.05,max:.82,uA:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,uA:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ov:["maxTotalBufferLevelPerSession",0],B6a:["highWatermarkLevel",3E4],bjb:["toStableThreshold",3E4],wea:["toUnstableThreshold",0],wBa:["skipBitrateInUpswitch",!1],vDa:["watermarkLevelForSkipStart",8E3],tBa:["simulationDurationStrategy","default"],R9b:["simulationFullBufferPercentage",1],iab:["minSimulationDuration",2E4],B$a:["maxSimulationDuration",3E5],$Ca:["upperThroughputPredictionFactor",1.6],h$:["highStreamRetentionWindow",9E4],yaa:["lowStreamTransitionWindow",51E4],Cta:["highStreamRetentionWindowUp",5E5],Rva:["lowStreamTransitionWindowUp",1E5],Bta:["highStreamRetentionWindowDown",6E5],Qva:["lowStreamTransitionWindowDown",0],Ata:["highStreamInfeasibleBitrateFactor",.5],sB:["lowestBufForUpswitch",9E3],taa:["lockPeriodAfterDownswitch",15E3],Tva:["lowWatermarkLevel",15E3],dy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Uva:["lowestWaterMarkLevelBufferRelaxed",!1],RYb:["maxContentDurationForMinBufferIncrease",6E4],Uaa:["mediaRate",1.5],tJ:["maxTrailingBufferLen",15E3],iV:["audioBufferTargetAvailableSize",262144],$0:["videoBufferTargetAvailableSize",1048576],E$a:["maxVideoTrailingBufferSize",8388608],g$a:["maxAudioTrailingBufferSize",393216],z8:["fastUpswitchFactor",3],l2a:["fastUpswitchFactorWithoutHeaders",3],Pqa:["fastDownswitchFactor",3],hq:["maxMediaBufferAllowed",27E4],Fnc:["minMediaBufferLen",1E4],rBa:["simulatePartialBlocks",!0],ehb:["simulateBufferFull",!0],$oa:["considerConnectTime",!0],Xoa:["connectTimeMultiplier",1],D9a:["lowGradeModeEnterThreshold",12E4],E9a:["lowGradeModeExitThreshold",9E4],j$a:["maxDomainFailureWaitDuration",3E4],f$a:["maxAttemptsOnFailure",18],$1a:["exhaustAllLocationsForFailure",!0],s$a:["maxNetworkErrorsDuringBuffering",20],Daa:["maxBufferingTimeAllowedWithNetworkError",6E4],mN:["alwaysRunUnderflowTimer",!0],i2a:["fastDomainSelectionBwThreshold",2E3],Gib:["throughputProbingEnterThreshold",4E4],Hib:["throughputProbingExitThreshold",34E3],r9a:["locationProbingTimeout",1E4],q2a:["finalLocationSelectionBwThreshold",1E4],Eib:["throughputHighConfidenceLevel",.75],Fib:["throughputLowConfidenceLevel",.4],Bva:["locationStatisticsUpdateInterval",6E4],UXb:["locationSelectorPersistFailures",!0],B1a:["enablePerfBasedLocationSwitch",!1],onc:["maxRateMaxFragmentGroups",4500],fya:["pipelineScheduleTimeoutMs",2],yB:["maxPartialBuffersAtBufferingStart",2],WZb:["minPendingBufferLen",3E3],Jaa:["maxPendingBufferLen",6E3],dMb:["enableNginxRateLimit",!1],zba:["nginxSendingRate",4E4],hMb:["enableRequestPacingToken",!1],vZb:["mediaRequestPacingSpeed",2],iua:["initialMediaRequestToken",2E4],Baa:["maxActiveRequestsSABCell100",2],u$a:["maxPendingBufferLenSABCell100",500],ifb:["resetActiveRequestsAtSessionInit",!0],kqa:["enableCprAudio",!1],lqa:["enableCprVideo",!1],gZa:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],t$b:["staticPacingRateKbps",0],e2b:["paceRateSelectorAlgorithm","default"],A1a:["enablePaceReportLogging",!1],Ubc:["unpacedFragmentInterval",0],xUb:["ignorePacedRequestStrategy","none"],IZ:["pacedThresholdPct",.1],hqa:["effectivePaceRateFactor",1],V5b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],g2b:["pacingTargetBufferStrategy","implicit"],yac:["targetBufferLevelStddevMultiplier",1],xac:["targetBufferLevelDurationMs",0],XZb:["minTargetBufferLevelMs",27E4],KBa:["stddevPredictorMultiplier",-.3],LBa:["stddevPredictorUpperMultiplier",2],v$b:["stddevPredictorSource","deliverytime"],woa:["ciPredictorSource","throughput-ci"],w1a:["enableInitialTputLogging",!1],XLb:["enableInitialThroughputHistory",!1],rwa:["maxStreamingSkew",2E3],QYb:["maxBufferOccupancyForSkewCheck",Infinity],Ncc:["useBufferOccupancySkipBack",!0],nwa:["maxPendingBufferPercentage",10],x$a:["maxRequestsInBuffer",120],f$:["headerRequestSize",4096],zqa:["estimateHeaderSize",!0],qmc:["headerCacheEstimateHeaderSize",!1],FJ:["neverWipeHeaderCache",!1],Xcc:["useSidxInfoFromManifestForHeaderRequestSize",!1],n2b:["parseAdditionalBoxesMp4Header",!0],k2a:["fastPlayHeaderRequestSize",0],JP:["maxRequestSize",0],TP:["minRequestSize",65536],aZ:["minBufferLenForHeaderDownloading",1E4],mhb:["smartHeaderPreDownloading",!1],OLb:["enableAllHeadersPreDownloading",!1],Wnc:["onlyAllowPtsUpdatePolling",!1],YZb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],F_:["reserveForSkipbackBufferMs",15E3],nxa:["numExtraFragmentsAllowed",2],Ir:["pipelineEnabled",!0],IP:["maxParallelConnections",3],Ucc:["usePipelineForAudio",!1],Tcc:["usePipelineDetectionForAudio",!1],phb:["socketReceiveBufferSize",0],K6:["audioSocketReceiveBufferSize",32768],RR:["videoSocketReceiveBufferSize",65536],Ckb:["usePipelineDetectionForVideo",!1],b_b:["minVideoSocketReceiveBufferSize",65536],yta:["headersSocketReceiveBufferSize",32768],p9b:["shareDownloadTracks",!0],q9b:["shareOpenRangeTracks",!1],lib:["supportOpenRangeRequests",!0],IKb:["disableHeaderDownloadTracks",!1],Kwa:["minTimeBetweenHeaderRequests",void 0],Nea:["updatePtsIntervalMs",1E3],Gna:["bufferTraceDenominator",0],zN:["bufferLevelNotifyIntervalMs",2E3],VBa:["streamingStatusIntervalMs",2E3],RB:["prebufferTimeLimit",6E4],cba:["minBufferLevelForTrackSwitch",2E3],fMb:["enablePenaltyForLongConnectTime",!1],Zxa:["penaltyFactorForLongConnectTime",2],Nva:["longConnectTimeThreshold",200],Fma:["additionalBufferingLongConnectTime",2E3],Gma:["additionalBufferingPerFailure",8E3],m_:["rebufferCheckDuration",6E4],y1a:["enableLookaheadHints",!1],A9a:["lookaheadFragments",2],NA:["enableOCSideChannel",!0],Lya:["probeRequestTimeoutMilliseconds",3E4],poc:["probeRequestConnectTimeoutMilliseconds",8E3],z3:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],iMb:["enableSCByteRangeHints",!1],Ujb:["updateDrmRequestOnNetworkFailure",!0],i$a:["maxDiffAudioVideoEndPtsMs",1E3],aKb:["deferAseHeaderCache",!1],q0a:["deferAseScheduling",!1],Mib:["timeBeforeEndOfStreamBufferMark",6E3],Faa:["maxFastPlayBufferInMs",2E4],TYb:["maxFastPlayContentTimeThresholdMs",112E3],kwa:["maxFastPlayBitThreshold",2E8],iwa:["maxBufferingCompleteBufferInMs",Infinity],rDb:["bufferingCompleteOnMemoryLimit",!1],aba:["minAudioMediaRequestSizeBytes",0],iba:["minVideoMediaRequestSizeBytes",0],PYb:["maxAudioMediaRequestSizeBytes",Infinity],iZb:["maxVideoMediaRequestSizeBytes",Infinity],YYb:["maxMediaRequestSizeBytesInFraction",1],my:["minAudioMediaRequestDuration",0],BB:["minVideoMediaRequestDuration",0],fZ:["minMediaRequestDuration",0],OYb:["maxAudioMediaRequestDuration",Infinity],hZb:["maxVideoMediaRequestDuration",Infinity],Haa:["maxMediaRequestDuration",Infinity],Lma:["allowFirstRequestAggregation",!1],SZb:["minAudioMediaRequestDurationCache",0],$Zb:["minVideoMediaRequestDurationCache",0],vkb:[["useHeaderCache","usehc"],!0],bDa:[["useHeaderCacheData","usehcd"],!0],L7:["defaultHeaderCacheSize",4],k0a:["defaultHeaderCacheDataCount",4],K7:["defaultHeaderCacheDataPrefetchMs",0],KTb:["headerCacheMaxPendingData",6],rmc:["headerCachePriorityLimit",5],v6a:["headerCacheAdoptBothAV",!1],Vcc:["usePipelineForBranchedAudio",!0],YEb:["childBranchBatchedAmount",1E4],aF:["minimumTimeBeforeBranchDecision",2E3],d_b:["minimumAppendedMediaBeforePlayback",5E3],boc:["parallelBranchesDuringBuffering",!1],aZb:["maxRequestsToAttachOnBranchActivation",void 0],gZ:["minimumJustInTimeBufferLevel",3E3],YLb:["enableJustInTimeAppends",!1],YWa:["appendPacingFactor",0],EBb:["appendPacingThreshold",3E3],t1a:["enableDelayedSeamless",!1],qkc:["branchEndPtsIntervalMs",250],yUb:["ignorePtsJustBeforeCurrentSegment",!1],n$a:["maxFragsForFittableOnBranching",300],C2b:["pausePlaylistAtEnd",!0],qAb:["adaptiveParallelTimeoutMs",1E3],oO:["enableAdaptiveParallelStreaming",!1],Fna:["bufferThresholdToSwitchToSingleConnMs",45E3],Ena:["bufferThresholdToSwitchToParallelConnMs",35E3],LLb:["enableAPSForBranching",!1],efa:["waitForPendingConnAdaptation",!1],Uwa:["networkFailureResetWaitMs",2E3],Twa:["networkFailureAbandonMs",6E4],Kaa:["maxThrottledNetworkFailures",5],pea:["throttledNetworkFailureThresholdMs",200],Sva:["lowThroughputThreshold",400],Gqa:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Qac:["timeAtEachBitrateRoundRobin",1E4],p7b:["roundRobinDirection","forward"],kUb:["httpsConnectErrorAsPerm",!1],uab:["mp4ParsingInNative",!1],Ni:["enableManagerDebugTraces",!1],Q9a:["managerDebugMessageInterval",1E3],P9a:["managerDebugMessageCount",20],gbb:["notifyManifestCacheEom",!0],nMb:["enableUsingHeaderCount",!1],rhb:["sourceBufferInOrderAppend",!0],iK:["requireAudioStreamToEncompassVideo",!1],HWa:["allowAudioToStreamPastVideo",!1],b_a:["countGapInBuffer",!1],IWa:["allowCallToStreamSelector",!1],aYa:["bufferThresholdForAbort",2E4],QBa:["ase_stream_selector","optimized"],sXa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],HXb:["liveStreamSelectorAlgorithm","throughputthreshold"],fua:["initBitrateSelectorAlgorithm","default"],Lna:["bufferingSelectorAlgorithm","default"],H$b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],E1a:["enableThroughputTraceResearchData",!1],Iib:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Fy:["researchEnvironmentEnabled",!1],kMb:["enableStreamSelectionAugmentData",!1],zCb:["augmentDataNumOfChunks",30],$_a:["ase_ls_failure_simulation",""],wpa:["ase_dump_fragments",!1],xpa:["ase_location_history",0],a0a:["ase_throughput",0],c0a:["ase_simulate_verbose",!1],Mxa:["paddingDurationMs",1E3],Nxa:["paddingMediaType","padding"],Ah:["stallAtFrameCount",void 0],whb:["stallAtFrameCountAudio",void 0],cwa:["marginPredictor","simple"],rkb:["useBackupUnderflowTimer",!0],N_b:["noDuplicateUnderflowTimer",!1],Ppc:["useManifestDrmHeader",!0],Qpc:["useOnlyManifestDrmHeader",!0],Vwa:["networkMeasurementGranularity","video_location"],C_b:["netIntrStoreWindow",36E3],Nnc:["minNetIntrDuration",8E3],Hvb:["fastHistoricBandwidthExpirationTime",10368E3],jwb:["bandwidthExpirationTime",5184E3],Gvb:["failureExpirationTime",86400],OUa:["historyTimeOfDayGranularity",4],Dvb:["expandDownloadTime",!0],Zwb:["minimumMeasurementTime",500],Ywb:["minimumMeasurementBytes",131072],tyb:["throughputMeasurementTimeout",2E3],syb:["initThroughputMeasureDataSize",262144],Gwb:["historicBandwidthUpdateInterval",2E3],Rjc:["throughputPredictor","ewma"],tAa:["secondThroughputEstimator","slidingwindow"],Ofb:["secondThroughputMeasureWindowInMs",3E5],Qjc:["throughputMeasureWindow",5E3],Sjc:["throughputWarmupTime",5E3],Pjc:["throughputIQRMeasureWindow",1E3],zjc:["IQRBucketizerWindow",15E3],o$a:["maxIQRSamples",100],eab:["minIQRSamples",5],Mjc:["connectTimeHalflife",10],Fjc:["responseTimeHalflife",10],UTa:["historicThroughputHalflife",14400],TTa:["historicResponseTimeHalflife",100],STa:["historicHttpResponseTimeHalflife",100],aJa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],AUa:["minReportedNetIntrDuration",4E3],Ojc:["throughputBucketMs",500],Cjc:["bucketHoltWintersWindow",2E3],uvb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],Evb:["experimentalFilter",["throughput-wssl"]],kVa:["reportedFilters",[]],Fka:["filterDefinitionOverrides",{}],kvb:["defaultFilter","throughput-ewma"],azb:["secondaryFilter","throughput-sw"],qka:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],rMb:["enableWsslEstimate",!1],snc:["maxWsslRequestSize",131072],rnc:["maxWsslRequestRatio",.2],tlb:["wsslAggregationMethod","max"],DW:["enableSessionHistoryReport",!0],gqa:["earlyStageEstimatePeriod",1E4],X8a:["lateStageEstimatePeriod",3E4],Iaa:["maxNumSessionHistoryStored",10],hba:["minSessionHistoryDuration",3E5],TTb:["highAndStableModelName","baseline"],nqa:["enableHighAndStablePredictor",!1],fba:["minNumSessionHistory",5],lkc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],g$:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],UTb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],tma:["addHeaderDataToNetworkMonitor",!0],EBa:["startMonitorOnLoadStart",!1],Fza:["reportFailedRequestsToNetworkMonitor",!1],hca:["periodicHistoryPersistMs",0],vda:["saveVideoBitrateMs",0],kZ:["needMinimumNetworkConfidence",!0],xna:["biasTowardHistoricalThroughput",!1],YXb:["logMemoryUsage",!1],hw:["probeServerWhenError",!0],jA:["allowSwitchback",!0],$J:["probeDetailDenominator",100],Eaa:["maxDelayToReportFailure",300],Js:["allowParallelStreaming",!1],xnc:["mediaPrefetchDisabled",!1],aab:["minBufferLevelToAllowPrefetch",5E3],wda:["seamlessAudio",!1],Ooc:["seamlessAudioProfiles",[]],Poc:["seamlessAudioProfilesAndTitles",{}],rAa:["seamlessAudioMaximumSyncError",void 0],sAa:["seamlessAudioMinimumSyncError",void 0],u7a:["insertSilentFrames",0],qua:["insertSilentFramesOnSeek",!1],v7a:["insertSilentFramesOnSeekForTitles",[]],gVb:["insertSilentFramesOnSeekCount",3],Qlc:["forceDiscontinuityAtTransition",!0],cCa:["supportAudioResetOnDiscontinuity",void 0],fac:["supportAudioEasingOnDiscontinuity",void 0],yLb:["editCompleteFragments",!0],e_b:["minimumAudioFramesPerFragment",1],OH:["applyProfileTimestampOffset",!1],mo:["applyProfileStreamingOffset",!0],Fdb:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}}}],tCb:["audioProfilesNonSyncSamples",["xheaac-dash"]],Dbc:["truncateEndOfStreamAudio",!1],Pcc:["useDpiAssumedAacEncoderDelay",!0],XY:["mediaSourceSupportsNegativePts",!1],SP:["minAudioPtsGap",void 0],rCb:["audioOverlapGuardSampleCount",2],D1a:["enableRecordJSBridgePerf",!1],nha:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Lac:["throughputThresholdSelectorParam",0],Kcc:["upswitchDuringBufferingFactor",2],vBb:["allowUpswitchDuringBuffering",!1],TZa:["contentOverrides",void 0],cpa:["contentProfileOverrides",void 0],Gta:["hindsightDenominator",0],Fta:["hindsightDebugDenominator",0],i$:["hindsightAlgorithmsEnabled",[]],j$:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],XWa:["appendMediaRequestOnComplete",!1],dfa:["waitForDrmToAppendMedia",!1],Fdc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],L8:["forceAppendHeadersAfterDrm",!1],ypa:["declareBufferingCompleteAtSegmentEnd",!1],iy:["maxActiveRequestsPerSession",void 0],xva:["limitAudioDiscountByMaxAudioBitrate",!1],Rma:["appendFirstHeaderOnComplete",!0],n0:["strictBufferCapacityCheck",!1],qN:["aseReportDenominator",0],D6:["aseReportIntervalMs",3E5],yCa:["translateToVp9Draft",!1],Bza:["reorderTrakMvex",!1],wR:["switchableAudioProfiles",[]],uCb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],vib:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],vCb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],C$a:["maxStartingVideoVMAF",110],Tv:["minStartingVideoVMAF",1],SU:["activateSelectStartingVMAF",!1],Bda:["selectStartingVMAFTDigest",-1],VQ:["selectStartingVMAFMethod","fallback"],Tfb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],oQ:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],JKb:["disablePtsStartsEvent",!0],kza:["recordFirstFragmentOnSubBranchCreate",!0],J$a:["mediaCacheConvertToBinaryData",!1],uwa:["mediaCacheSaveOneObject",!1],d$a:["markRequestActiveOnFirstByte",!1],cea:["stopOnAllInactiveRequests",!1],f8:["earlyAppendSingleChildBranch",!0],KR:["useNativeDataViewMethods",!0],Occ:["useCorrectDrainingAmounts",!0],rO:["enableNewAse",!1],V0:["useNewApi",!1],T7:["aseDiagnostics",[{Se:"queue-audit",enabled:!0},{Se:"task-audit",enabled:!0},{Se:"trace-ShimSession",enabled:!0},{Se:"trace-engine",enabled:!0},{Se:"trace-RequestPacer",enabled:!0},{Se:"trace-BufferStateTracker",enabled:!0},{Se:"trace-GraphStreamingProcess",enabled:!0},{Se:"trace-AsePlaygraph",enabled:!0},{Se:"playgraph-branch-audit",enabled:!0},{Se:"content-playgraph",enabled:!0},{Se:"trace-CphAsePlaygraph",enabled:!0},{Se:"trace-GraphLocation",enabled:!0}]],fDb:["branchDistanceThreshold",6E4],Caa:["maxAllowedOutstandingRequests",4],Jwa:["minStreamableConcurrencyWindow",3E3],dZb:["maxStreamableConcurrencyWindow",Infinity],SBa:["streamableConcurrencyFactor",.3],BV:["bufferingConcurrencyWindow",7800],Bna:["branchCreationThreshold",12E4],h8:["enableDiscontiguousBuffering",!1],sra:["forceImmediateTransitionTypeForTitles",[]],rra:["forceImmediateTransitionExitZone",0],ZZa:["contiguousBufferMultiplier",3],XZa:["contiguousBufferMinimumAudio",1048576],YZa:["contiguousBufferMinimumVideo",8388608],P3b:["prefetchBudgetInBytes",0],neb:["rebufferRiskHalfLife",1E4],Pea:["useBufferSizeLimiter",!1],Ycc:["useStaticBufferSizeLimiter",!1],S3b:["prefetchWeightBudget",32],Mwa:["minimumDownstreamBranchProbability",.075],aDa:["useExitZones",!0],T3b:["prefetchWhilePlaying",!0],Y3b:["prefetcherSoftReset",!0],Wcb:["playgraphDefaultWeight",65520],cKb:["delayNotificationOfEoS",!1],AZb:["memDeadlockShouldCheckMemory",!0],zZb:["memDeadlockOverageThreshold",.9],yZb:["memDeadlockMaxUtilizationPercentage",.5],pya:["playerPtsPadding",1],bZ:["minFragmentVmaf",void 0],yW:["enableCombinedPlaygraphs",!0],sI:["enableAdPlaygraphs",!0],C1a:["enablePrerollForInitialSeek",!1],cDa:["useLegacyFragmentRounding",!1],$7b:["selectGeneric",{bufferBins:{min:1E3,max:27E4,step:1E3,scale:2},accuracy:.01,nbBest:3,windows:[2E4],varscale:1,deliveryfactor:.5,rebufferRiskThreshold:0,networkOutageDecay:Infinity,rebufferRiskFactor:1.1,maxVMAFUp:20,search:"bitonic"}],Hqa:["excludedContentPlaygraphIds",[]],T5a:["graphSelectorSetAudioRate",!1],qMb:["enableVmafEstimationFromBitrate",!1],fZb:["maxVMAFMappingBitrate",16E3],gZb:["maxVMAFMappingVMAF",110],vEb:["cdndldistEnabled",!1],pw:["segmentFadeDuration",400],KP:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],jda:["retainSbrOnFade",!1]};b.sh=b.aGb;},function(t,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Qw=b.vG=b.Rw=b.FP=b.mja=void 0;c=a(0);k=a(62);Object.defineProperties(b,{vG:{enumerable:!0,get:function(){return k.vG;}}});Object.defineProperties(b,{Qw:{enumerable:!0,get:function(){return k.Qw;}}});Object.defineProperties(b,{FP:{enumerable:!0,get:function(){return k.FP;}}});Object.defineProperties(b,{mja:{enumerable:!0,get:function(){return k.mja;}}});g=c.__importDefault(a(4));t=(function(h){function d(f,l,m,n,p){return h.call(this,d.console,f,l,m,n,p) || this;}c.__extends(d,h);Object.defineProperties(d,{console:{get:function(){return this.G || (this.G=new g.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(k.Rw);b.Rw=t;},function(t,b,a){var g,h;function c(){}function k(d,f,l,m,n){this.debug=d;this.version=f;this.HWb=l;this.c3b=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wQa=void 0;t=a(0);g=a(1);h=a(5);k.prototype.wQb=function(){return this.config().UI;};k.prototype.Mra=function(){return this.config().RXa;};k.prototype.k5a=function(){return (0,h.tc)(this.config().B3b);};k.prototype.G4a=function(){return this.config().OXb;};k.prototype.I4a=function(){return this.config().EYb;};c.prototype.GI=function(d,f,l,m,n){return new k(d,f,l,m,n);};a=c;a=t.__decorate([(0,g.X)()],a);b.wQa=a;},function(t,b,a){var k,g;function c(h){this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.ERa=void 0;t=a(0);k=a(1);a=a(12);c.prototype.H4b=function(h,d,f,l){var m;if(this.config().l8b){m=h.metrics;void 0 !== m && m.segment !== m.srcsegment && d.HY.ob.transition({isBranching:l || void 0,isPlaygraph:!l || void 0,mid:d.I,xid:d.ga,srcxid:f.ga,srcmid:f.I,segment:h.position.segmentId,srcsegment:m.srcsegment,srcsegmentduration:m.srcsegmentduration,srcoffset:m.srcoffset,auxMid:m.auxMid,auxMidType:m.auxMidType,auxSrcmid:m.auxSrcmid,auxSrcmidType:m.auxSrcmidType,seamlessRequested:m.seamlessRequested,transitionType:m.transitionType,transitionTypeAtRequest:m.transitionTypeAtRequest,nextExitPositionAtRequest:m.nextExitPositionAtRequest,delayToTransition:m.delayToTransition,durationOfTransition:m.durationOfTransition,atRequest:m.atRequest,atTransition:m.atTransition,discard:m.discard});}};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.Ic))],g);b.ERa=g;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Vkb=void 0;t=a(1);c=a(361);k=a(1121);b.Vkb=new t.vd(function(g){g(c.hSa).to(k.gSa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L;function c(K){this.ic=K;}Object.defineProperty(b,"__esModule",{value:!0});b.gSa=void 0;t=a(0);k=a(1);g=a(78);h=a(32);d=a(27);f=a(6);l=a(110);m=a(220);n=a(450);p=a(1122);q=a(267);r=a(88);u=a(451);v=a(1123);w=a(271);x=a(82);y=a(19);z=a(115);A=a(272);B=a(460);C=a(12);D=a(461);F=a(462);G=a(30);E=a(273);I=a(463);L=a(36);c.prototype.TN=function(K,H,R,O,J,M){return this.ic.get(C.Ic)().Rea?new v.iSa(this.ic.get(f.sb),this.ic.get(w.Lia),this.ic.get(x.pz),this.ic.get(y.$c),this.ic.get(z.tG),this.ic.get(l.Lga),this.ic.get(A.Nha),this.ic.get(B.IIa),this.ic.get(D.ROa),this.ic.get(F.tja),this.ic.get(F.tja),this.ic.get(G.Bh),this.ic.get(I.XS),this.ic.get(E.Zga),this.ic.get(L.$i),O,R):new p.ZJa(this.ic.get(h.$h),this.ic.get(d.Kg),this.ic.get(f.sb),this.ic.get(l.Lga),this.ic.get(m.lja),this.ic.get(q.uia),this.ic.get(r.Kga),this.ic.get(u.ANa),this.ic.get(n.MGa),K,H,R,O,J,M);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.WJa))],a);b.gSa=a;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u,v,w,x,y,z,A,B,C,D,F,G){var E;E=this;this.Be=p;this.Bb=q;this.Sb=u;this.$v=w;this.MV=x;this.o3a=y;this.config=A;this.mi=C;this.u=D;this.j=B.create(D.I,D.oj,z,F,G,D.Cb,D.id,D.ea);this.j.background=!0;this.log=r.mb("VideoPlayer",this.j);this.ycb=[];this.ended=!1;this.fL();this.j.state.addListener(function(I){I.newValue === g.$b.Ce && E.Ab(g.Ia.Pua,{movieId:D.I});});this.j.gb.Ph && (this.yN=v.WHb(this,this.j),this.j.addEventListener(g.ja.qK,function(I){I=I.position.segmentId;E.bXb !== I && (E.bXb=I,E.Ab(g.Ia.Y7b,{segmentId:I}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;k=a(3);g=a(17);h=a(5);d=a(13);f=a(88);l=a(25);m=a(8);n=a(47);c.prototype.isReady=function(){return this.j.state.value === g.$b.Ce;};c.prototype.S4a=function(){return this.j.I;};c.prototype.$A=function(){return this.j.ga;};c.prototype.Go=function(){return this.j.Zo;};c.prototype.Cr=function(){return this.j.Zj.value;};c.prototype.kY=function(){return this.j.paused.value;};c.prototype.vua=function(){return this.ended;};c.prototype.ei=function(){var p;p=this.j.Qna.value;return p?{networkStalled:! !p.Tt,stalled:! !p.Tt,progress:p.progress,progressRollback:! !p.N4b}:null;};c.prototype.getError=function(){var p;p=this.j.Oi;return p?p.I0():null;};c.prototype.sv=function(){return this.j.sv();};c.prototype.vv=function(){return this.j.mediaTime.value;};c.prototype.D3a=function(){var p;p=(this.j9() || 0) + this.j.C3a();return Math.min(p,this.Tra());};c.prototype.j9=function(){return this.j.vE();};c.prototype.Tra=function(){return this.j.Uu.da(h.ma);};c.prototype.P5a=function(){var p;p=this.j.SF.value;return p?{width:p.width,height:p.height}:null;};c.prototype.k9=function(){return this.j.k9();};c.prototype.n3a=function(p){var q,r;return (null === (q=this.j.ea) || void 0 === q?0:q.Pj.qX("generateScreenshots"))?this.o3a.sr(this.log,this.j.ea.Pj,p):(q=null === (r=this.j.gb) || void 0 === r?void 0:r.Wo)?this.o3a.gg(this.log,Object.assign({packageId:q},p)):Promise.reject("Unknown packageId");};c.prototype.V3a=function(){return this.$Pb(this.j.T7);};c.prototype.v3a=function(){var p;p=this;return this.j.fj.map(function(q){return p.xr(q);});};c.prototype.M4a=function(){var p;return this.rX(this.j.fj,null === (p=this.j.ea) || void 0 === p?void 0:p.ab.v$a);};c.prototype.ata=function(p){var q;q=this;return this.AX(p).map(function(r){return q.xr(r);});};c.prototype.ssa=function(p){var q;return this.rX(this.AX(p),null === (q=this.j.ea) || void 0 === q?void 0:q.ab.w$a);};c.prototype.Eua=function(){return this.j.muted.value;};c.prototype.R5a=function(){return this.j.volume.value;};c.prototype.u3a=function(){var p,q;q=(null === (p=this.ty) || void 0 === p?void 0:p.yc) || this.j.yc.value;return q && this.xr(q);};c.prototype.$sa=function(){var p,q;q=(null === (p=this.ty) || void 0 === p?void 0:p.y0) || this.j.kc.value;return q && this.xr(q);};c.prototype.F7a=function(){return ! !this.j.background;};c.prototype.Dgb=function(p){this.j.muted.set(! !p);};c.prototype.Qgb=function(p){this.j.volume.set(this.p0b(p));};c.prototype.Egb=function(p){this.j.playbackRate.set(p);};c.prototype.Yp=function(){return this.j.playbackRate.value;};c.prototype.ngb=function(p){var q,r,u,v,w;q=this;u=this.PW(p);if(u){if(u.Si)return (this.j.yc.set(u),Promise.resolve());v=(p=(null === (r=this.ty) || void 0 === r?void 0:r.y0) || this.j.kc.value) && this.m8a(u,p)?p:u.vi[0];r=u.trackId;w=v.trackId;this.ty={yc:u,y0:v};this.Ab(g.Ia.Rm);this.Ab(g.Ia.ww);v !== p && this.Ab(g.Ia.um);return this.j.J6a(r,w).then(function(x){x=x.yc;q.ty=void 0;q.j.yc.set(x);}).catch(function(x){q.ty=void 0;x=q.Be.We(x);q.log.error(x);q.close(q.mi(k.V.CL,{wa:k.R.Fha,Ob:x,YI:{pUb:u.trackId,K6a:u.uf,qUb:v.trackId,L6a:v.uf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.$Aa=function(p){var q,r,u,v;q=this;u=(null === (r=this.ty) || void 0 === r?void 0:r.yc) || this.j.yc.value;if(null !== u){v=u.vi;r={};for(var w=0;w < v.length;(r={du:r.du},w++)){r.du=v[w];if(!p && null === r.du)return (this.j.kc.set(null),Promise.resolve());if(this.xr(r.du) === p){if(r.du.Si)return (this.log.info("Setting Timed Text, profile: " + r.du.profile),this.j.kc.set(r.du),Promise.resolve());p=u.trackId;v=r.du.trackId;this.ty={yc:u,y0:r.du};this.Ab(g.Ia.um);return this.j.J6a(p,v).then(function(x){x=x.y0;q.ty=void 0;q.j.kc.set(x);}).catch((function(x){return function(y){q.ty=void 0;y=q.Be.We(y);q.log.error(y);q.close(q.mi(k.V.CL,{wa:k.R.Fha,Ob:y,YI:{pUb:u.trackId,K6a:u.uf,qUb:x.du.trackId,L6a:x.du.uf}}));};})(r));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.NAa=function(p){this.j.background=p;};c.prototype.oR=function(){this.j.oR();};c.prototype.Lea=function(p){this.j.Lea(p);};c.prototype.Hk=function(p){return this.j.Hk(p);};c.prototype.f5a=function(){return this.j.gb;};c.prototype.py=function(){this.j.py();};c.prototype.IJ=function(p){this.j.IJ(p);};c.prototype.KX=function(p,q,r){return this.j.KX(p,q,r);};c.prototype.Ama=function(p,q){this.j.addEventListener(p,q,void 0);};c.prototype.addEventListener=function(p,q,r){this.Sb.addListener(p,q,r);};c.prototype.removeEventListener=function(p,q){this.Sb.removeListener(p,q);};c.prototype.WJ=function(){};c.prototype.load=function(){var p;p=this;this.loaded || (this.loaded=!0,this.j.load(function(q,r){try{p.Ab(g.Ia.o9a,void 0,!0);q.ea && (q.ea.ab.llb && p.Ab(g.Ia.Odc,q.ea.ab.llb,!0),q.ea.ab.so && p.Ab(g.Ia.X7b,{segmentMap:q.ea.ab.so},!0));r({ca:!0});}catch(u){r({wa:k.R.Bm,Ob:p.Be.We(u)});}}));};c.prototype.close=function(p){var q;q=this;this.jZa || (this.jZa=new Promise(function(r){p?q.j.bI(p,r):q.j.close(r);}));return this.jZa;};c.prototype.play=function(){this.j.Ji?this.j.fireEvent(g.ja.Ffb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ja.Jkb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ja.bdc));};c.prototype.seek=function(p,q,r,u){q=void 0 === q?g.ff.HG:q;this.j.Uf?this.j.Uf.seek(p,q,r,u):this.j.Ax=p;};c.prototype.Kcb=function(p){return this.yN?(this.log.trace("Playing a segment",p),this.yN.play(p)):Promise.resolve();};c.prototype.Rdb=function(p){return this.yN?(this.log.trace("Queueing a segment",p),this.yN.Gt(p)):Promise.resolve();};c.prototype.tj=function(p,q){return this.yN?(this.log.trace("Updating next segment weights",p,q),this.yN.tj(p,q)):Promise.resolve();};c.prototype.EX=function(){var p;p=this.j.fp.EX();return {bounds:p.xV,margins:p.xt,size:p.size,visibility:p.visibility};};c.prototype.fR=function(p){var q,r,u;q=p.bounds;r=p.margins;u=p.size;p=p.visibility;this.j.C0 && (q && this.j.C0.aBa(q),r && this.j.C0.bBa(r),"boolean" === typeof p && this.j.C0.cBa(p));this.j.fp && u && this.j.fp.c9b(u);};c.prototype.dBa=function(p){this.j.Un=p;};c.prototype.M5a=function(p){return this.j.qC && this.j.qC.uQb(p) || null;};c.prototype.s3a=function(){return this.Be.AJ({playerver:this.config.version,jssid:this.config.HWb,groupName:this.config.wQb(),xid:this.j.ga,pbi:this.j.index},this.config.c3b,{prefix:"pi_"});};c.prototype.c7a=function(p){this.j.Sd(k.V.yHa,k.R.co,p);};c.prototype.k9a=function(p,q,r,u){if(!this.Bb.PWa(p))throw Error("invalid url");this.ycb.push({url:p,name:q,DCb:r,options:u});this.Ddb();};c.prototype.Ssa=function(){var p,q,r,u,v,w,x,y;p={};q=this.j.i0;try{if((this.j.Oi && (p.errorCode=this.j.Oi.Y7,p.errorType=q?"endplay":"startplay"),p.playdelay=(0,l.hg)(this.j.DV()),p.xid=this.j.ga,this.j.ea && this.Bb.Hu(this.j.ea.ab.Wo) && (p.packageId=Number(this.j.ea.ab.Wo)),p.auth=this.j.rPb(),q)){p.totaltime=this.j.im?this.ln(this.j.im.Zs("content")):0;p.abrdel=this.j.im?this.j.im.Kra():0;r=this.j.Uf;u=r?r.II():null;this.Bb.ko(u) && (p.totdfr=u);u=r?r.fX():null;this.Bb.ko(u) && (p.totcfr=u);v=r?r.HQb():null;v && (p.rbfrs_decoder=v.G7,p.rbfrs_network=v.tba);p.rbfrs_delay=this.j.im?this.j.im.sua:0;p.init_vbr=this.j.B$;w=this.RI();this.Bb.lI(w) && (p.pdltime=w);x=this.j.we.value;y=x && x.stream;y && (p.vbr=y.bitrate,p.vdlid=y.Yb);p.bufferedTime=this.j.C3a();}}catch(z){this.log.error("error capturing session summary",z);}return p;};c.prototype.tO=function(p){this.j.gb.Nn && (this.j.gb.Nn.userEngageAction=1);return this.Bb.ko(this.j.mediaTime.value)?(p=Object.assign(Object.assign({},this.$v.create(this.j)),{action:p}),this.MV(f.Eq.tO).sr(this.log,this.j.ea.Pj,p).then(function(){return {success:!0};}).catch(function(q){return {success:!1,errorCode:q.code,errorSubCode:q.Cc,errorExternalCode:q.Td,errorData:q.data,errorDetails:q.details};})):Promise.resolve({success:!1});};c.prototype.$Pb=function(p){return {register:p.register.bind(p),notifyUpdated:p.kbb.bind(p),getModel:p.gRb.bind(p),getGroups:p.mX.bind(p),addEventListener:p.addEventListener.bind(p),removeEventListener:p.removeEventListener.bind(p),getTime:p.getTime.bind(p)};};c.prototype.xr=function(p){var q;q=p.Xya=p.Xya || ({trackId:p.trackId,bcp47:p.uf,displayName:p.displayName,trackType:p.wi,rawTrackType:p.uF,channels:p.channels});this.Jua(p) && (q.isNative=p.isNative,q.surroundFormatLabel=p.s0);this.Kua(p) && (q.isNoneTrack=p.Br(),q.isForcedNarrative=p.bq(),q.isImageBased=p.tl);q.subType=p.LK;q.variant=p.variant;return q;};c.prototype.Jua=function(p){return "undefined" !== typeof p.isNative;};c.prototype.Kua=function(p){return "undefined" !== typeof p.Br && "undefined" !== typeof p.bq;};c.prototype.PW=function(p){var q;q=this;return p && this.j.fj.find(function(r){return q.xr(r) === p;});};c.prototype.AX=function(p){var q,r;p=this.PW(p) || (null === (q=this.ty) || void 0 === q?void 0:q.yc) || this.j.yc.value;return null !== (r=null === p || void 0 === p?void 0:p.vi) && void 0 !== r?r:[];};c.prototype.rX=function(p,q){var r;r=p.length - 1;if("number" !== typeof q)return r;p=p.findIndex(function(u){return u.Zb > q;});return -1 === p?r:p - 1;};c.prototype.m8a=function(p,q){return 0 <= p.vi.indexOf(q);};c.prototype.p0b=function(p){return 0 <= p?1 >= p?p:1:0;};c.prototype.ln=function(p){return this.Bb.ko(p)?(p / 1E3).toFixed(0):"";};c.prototype.Ab=function(p,q,r){q=q || ({});q.target=this;this.Sb.Wc(p,q,!r);};c.prototype.fL=function(){var p,q;p=this;this.j.addEventListener(g.ja.lCa,function(){p.Ab(g.Ia.jr);});this.j.SF.addListener(function(){p.Ab(g.Ia.oDa);});this.j.addEventListener(g.ja.Njb,function(){p.Ab(g.Ia.Mjb);});this.j.addEventListener(g.ja.Qaa,function(){p.Ab(g.Ia.Jna);});this.j.addEventListener(g.ja.Pk,function(){p.Ab(g.Ia.Jna);});this.j.addEventListener(g.ja.hP,function(r){p.Ab(g.Ia.hP,{errorCode:r});});this.j.addEventListener(g.ja.mna,function(){p.Ab(g.Ia.AXa);});this.j.addEventListener(g.ja.Ji,function(r){p.Ab(g.Ia.O6,r);});this.j.addEventListener(g.ja.ljb,function(){p.Ab(g.Ia.M6);p.Ab(g.Ia.ww);});this.j.Zj.addListener(function(){p.Ab(g.Ia.vya);});this.j.paused.addListener(function(){p.Ab(g.Ia.scb);});this.j.muted.addListener(function(){p.Ab(g.Ia.Aab);});this.j.volume.addListener(function(){p.Ab(g.Ia.elb);});this.j.Db.addListener(function(){p.Vjb();});this.j.state.addListener(function(){p.Vjb();});this.j.Qna.addListener(function(r){p.PXb || p.j.state.value != g.$b.Ce || r.newValue || (p.PXb=!0,p.Ab(g.Ia.loaded),setTimeout(function(){p.log.debug.bind(p.log,"summary ",p.Ssa());}));p.Ab(g.Ia.CN);});this.j.yc.addListener(function(){p.Ab(g.Ia.Rm);p.Ab(g.Ia.ww);setTimeout(function(){var r,u;r=p.j.yc.value;u=p.j.kc.value;null === r || null === u || p.m8a(r,u) || (p.log.info("Changing timed text track to match audio track"),p.j.kc.set(r.vi[0]));},0);});this.j.kc.addListener(function(r){r.oldValue && r.newValue && r.oldValue.trackId == r.newValue.trackId || p.Ab(g.Ia.um);});this.j.addEventListener(g.ja.ww,function(){p.Ab(g.Ia.ww);});this.j.addEventListener(g.ja.L0,function(){p.Ab(g.Ia.L0);});this.j.state.addListener(function(r){switch(r.newValue){case g.$b.Ce:p.Ab(g.Ia.dqa);p.j.Oc && (q=m.ya.get(n.zj).L_((0,h.tc)(1E3),function(){p.Ab(g.Ia.dqa);}));p.Ab(g.Ia.oDa);p.Ab(g.Ia.M6);p.Ab(g.Ia.ww);p.Ab(g.Ia.n9a);p.Ddb();p.Tdc();break;case g.$b.CLOSING:p.j.Oi && p.Ab(g.Ia.y7a,p.j.Oi);null === q || void 0 === q?void 0:q.cancel();break;case g.$b.CLOSED:(p.Ab(g.Ia.closed),p.Sb.di());}});};c.prototype.Tdc=function(){var p;p=this;this.j.fp.addEventListener("showsubtitle",function(q){p.Ab(g.Ia.jBa,q,!0);});this.j.fp.addEventListener("removesubtitle",function(q){p.Ab(g.Ia.uza,q,!0);});this.j.sv().CD.addListener(function(){p.Ab(g.Ia.mBb);});};c.prototype.Ddb=function(){if(this.j.state.value == g.$b.Ce){for(var p,q,r;q=this.ycb.shift();){p=this.j.fp.qma(q.url,q.name,q.options);q.DCb && (r=p);}r && this.j.kc.set(r);}};c.prototype.Vjb=function(){var p;p=this.j.state.value == g.$b.Ce && this.j.Db.value == g.lb.hs;this.ended !== p && (this.ended=p,this.j.IH("Ended changed: " + p),(p || this.j.state.value === g.$b.CLOSING) && this.Ab(g.Ia.K1a));};c.prototype.RI=function(){var p,q;try{p=/playercore.*js/;q=d.Tw.getEntriesByType("resource").filter(function(r){return null !== p.exec(r.name);});if(q && 0 < q.length)return JSON.stringify(Math.round(q[0].duration));}catch(r){}};b.ZJa=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v;function c(w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O){var J,M,P;J=this;this.SZ=x;this.fB=y;this.Ea=z;this.Sj=A;this.Sb=B;this.OY=C;this.x3b=D;this.Ocb=F;this.$ea=G;this.L6=E;this.Aa=I;this.EP=L;this.config=K;this.FD=H;this.u=R;this.mi=O;this.FY=new p.Xb(!0);this.Zj=new p.Xb(!1);this.Tt=new p.Xb(!1);this.ended=new p.Xb(!1);this.a7=new p.Xb(0);this.Db=new p.Xb(g.lb.ag);this.KQ=new p.Xb(void 0);this.loaded=this.i0=this.closed=!1;this.sdb=function(S,U){return function(T){var W,ia,pa,wa,za;W=T.newValue;ia=W.Cx;T=W.Um;pa=W.stream;W=S.value;wa=W.streams.find(function(Ca){return Ca.bitrate === pa.stream.bitrate;});za=J.xa.Ag.find(function(Ca){return Ca.id === ia;});J.log.info("Presenting " + wa.type + " request with bitrate " + wa.bitrate + ", track " + (W.trackId + " [" + T.startTime + "..." + T.endTime + "]"));U.set({stream:wa,Um:T,wc:za});};};this.Vhb=function(S,U,T){return function(W){var ia,pa;ia=S.value;pa=ia.streams.find(function(wa){return wa.bitrate === W.newValue.stream.bitrate;});J.log.info("Streaming " + pa.type + " stream with bitrate " + pa.bitrate + ", track " + ia.trackId);U.set(pa,{ZH:W.bn.ZH,vV:void 0});ia=J.xa.Ag.filter(function(wa){return wa.id === W.bn.Cx;})[0];T.set(ia);};};this.H2a=new Set();this.log=w.mb("HLSVideoPlayer");this.$=(0,h.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.cdb;this.xa=this.SZ(d.WC.index++,R.I,R.id,null !== (M=R.Cb) && void 0 !== M?M:{},this.fB.DA(),this.Ea.Tb(),!1,void 0,function(){return J.vv();});this.xa.mediaTime.set(null !== (P=this.xa.Ax) && void 0 !== P?P:0);this.fL();this.Jwb=this.EP.create(this);this.Jwb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.iSa=void 0;k=a(31);g=a(17);h=a(43);d=a(64);f=a(102);l=a(57);m=a(3);n=a(61);p=a(69);q=a(5);r=a(15);u=a(103);v=a(25);c.prototype.lac=function(){return ! !this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.fL=function(){var w;w=this;this.$.addEventListener("loadedmetadata",function(){w.Ab(g.Ia.o9a);w.Ab(g.Ia.n9a);w.Ab(g.Ia.Rm);w.Ab(g.Ia.M6);w.Ab(g.Ia.um);w.Ab(g.Ia.ww);});this.$.addEventListener("error",function(x){x=w.mi(m.V.aNa,x);w.close(x);});this.$.addEventListener("timeupdate",function(){w.ended.set(!1);w.xa.mediaTime.set(w.vv());w.Mpa();w.Ab(g.Ia.jr);w.Ab(g.Ia.Mjb);});this.$.addEventListener("durationchange",function(){w.Ab(g.Ia.dqa);});this.$.addEventListener("resize",function(){w.Ab(g.Ia.oDa);});this.$.addEventListener("playing",function(){w.Mpa();w.Tt.set(!1);w.Zj.set(!0);w.ended.set(!1);w.Db.set(g.lb.Jc);});this.$.addEventListener("pause",function(){w.Zj.set(!1);w.Tt.set(!1);w.Db.set(g.lb.Eh);});this.$.addEventListener("waiting",function(){w.Db.set(g.lb.ag);});this.$.addEventListener("stalled",function(){w.Tt.set(!0);});this.$.addEventListener("seeking",function(){w.Tt.set(!1);w.KQ.set(w.xa.mediaTime.value);w.Db.set(g.lb.ag);});this.$.addEventListener("seeked",function(){void 0 !== w.KQ.value && (w.xa.im.jxa(w.KQ.value,w.vv()),w.KQ.set(void 0));w.Db.set(w.Cr()?g.lb.Jc:g.lb.Eh);});this.$.addEventListener("progress",function(){w.Ab(g.Ia.Jna);w.ccc();});this.$.addEventListener("ended",function(){w.Db.set(g.lb.hs);w.Tt.set(!1);w.Zj.set(!1);w.ended.set(!0);});this.$.addEventListener("volumechange",function(){w.Ab(g.Ia.elb);w.Ab(g.Ia.Aab);});this.Zj.addListener(function(){w.Ab(g.Ia.vya);w.Ab(g.Ia.scb);w.KN();});this.a7.addListener(function(){w.Ab(g.Ia.CN);});this.Tt.addListener(function(){w.Ab(g.Ia.CN);});this.FY.addListener(function(){w.KN();});this.ended.addListener(function(){w.Ab(g.Ia.K1a);});this.xa.playbackRate.addListener(function(x){w.$.playbackRate=x.newValue;});};c.prototype.KN=function(){!this.Cr() || this.FY.value || this.i0 || this.zXa || (this.i0=!0,this.xa.cJ=this.Aa.$Q,this.Ocb.tq(this,this.xa));};c.prototype.DV=function(){return this.RZ - (this.xa.oj.da(q.ma) + this.Ea.pB.da(q.ma));};c.prototype.FI=function(){var w;w=this.xa.gb.IR;return (0,r.Ja)(w)?w:this.xa.oj.da(q.ma) + this.Ea.pB.da(q.ma);};c.prototype.Vna=function(){return this.Aa.xf.da(q.ma) - this.FI();};c.prototype.Xna=function(){return this.RZ - this.FI();};c.prototype.ccc=function(){var w;w=this.$.readyState <= n.lp.c3.HAVE_METADATA?0:this.$.readyState <= n.lp.c3.HAVE_CURRENT_DATA?.5:1;1 === w && (this.RZ=this.Aa.xf.da(q.ma),this.FY.set(!1),this.cra(g.Ia.loaded));this.a7.set(w);};c.prototype.Mpa=function(){var w;w=this.vv();this.$ea.qgb(w);this.L6.qgb(w);};c.prototype.R_=function(){var w;w=this;this.xa.He("ats");return this.Sj.LI({ga:this.xa.ga,gb:this.xa.gb,K:this.xa.I,pv:f.Zn.Z3,ng:l.Bi.Iq}).then(function(x){var z;function y(A){var B;B=A;A && A.Br() && !A.bq() && (B=null);w.xa.ej.set(B);}w.xa.He("at");z=w.OY.create({}).mcb(x);w.xa.ea=x;w.xa.Pc=z;w.$.audioTracks.addEventListener("addtrack",function(){w.gkb(w.xa.yc.value);});w.$.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=na(w.$.audioTracks),F=D.next();!F.done;(C={ZR:C.ZR},F=D.next())){C.ZR=F.value;C.ZR.enabled && C.ZR.label !== (null === (A=w.xa.yc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=w.xa.fj.find((function(G){return function(E){return E.displayName === G.ZR.label;};})(C))) && void 0 !== B?B:null,w.xa.yc.set(F));}});w.xa.yc.addListener(function(A){w.gkb(A.newValue);w.Ab(g.Ia.Rm);w.Ab(g.Ia.ww);});w.$.textTracks.addEventListener("addtrack",function(){w.hkb(w.xa.kc.value);});w.$.textTracks.addEventListener("change",function(){var G;for(var A,B,C=w.$.textTracks,D={},F=0;F < C.length;(D={$R:D.$R},F++)){if((D.$R=C[F],"showing" === D.$R.mode && D.$R.label !== (null === (A=w.xa.kc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=w.xa.vi.find((function(E){return function(I){return I.displayName === E.$R.label;};})(D))) && void 0 !== B?B:null;w.xa.kc.set(G);y(G);}}});w.xa.kc.set(z.gW);y(z.gW);w.xa.kc.addListener(function(A){w.hkb(A.newValue);w.Ab(g.Ia.um);});return w.x3b.Li(x,function(A){return w.xa.He(A);});}).then(function(x){var y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J;y=x.yYb;z=x.uEb;x=x.E$b;A=x.audio;B=x.i0a;C=x.video;D=w.xa;F=D.Gh;G=D.yc;E=D.fj;I=D.nf;L=D.Jg;x=D.Ax;K=D.we;H=D.Hf;R=D.im;D=D.Pc;D.fj=E.filter(function(M){return A.find(function(P){return P.track.Fg === M.trackId;});});L.set(D.O7);G.set(E.find(function(M){return M.trackId === B;}));D=C[0];O=D.stream;E=A.find(function(M){return M.track.Fg === B;});J=E.stream;w.ZX=O.bitrate;w.$ea.Cya.addListener(w.sdb(L,K));w.$ea.WBa.addListener(w.Vhb(L,I,w.xa.wc[k.Nb.$a.Jb]));I=z.get(O.Ao).yQ.ro;w.$ea.za(C,D,I);w.L6.Cya.addListener(w.sdb(G,H));w.L6.WBa.addListener(w.Vhb(G,F,w.xa.wc[k.Nb.$a.cc]));z=z.get(J.Ao).yQ.ro;w.L6.za(A,E,z);w.$.src=y;w.$.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.$.load();R.jxa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,v.We)(x);w.log.error("uncaught exception",x,z);}w.close(w.mi(null !== (y=x.code) && void 0 !== y?y:m.V.TRa,x));});};c.prototype.hkb=function(w){var z;for(var x=this.$.textTracks,y=0;y < x.length;y++){z=x[y];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.gkb=function(w){for(var x=na(this.$.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== w.displayName || y.enabled || (!1,y.enabled=!0);y.label !== w.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.sv=function(){};c.prototype.vv=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.j9=function(){return this.vv();};c.prototype.Tra=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.S4a=function(){return this.u.I;};c.prototype.$A=function(){return this.xa.ga;};c.prototype.Go=function(){return this.$;};c.prototype.isReady=function(){return null === this.ei();};c.prototype.Cr=function(){return this.Zj.value;};c.prototype.kY=function(){return !this.Zj.value;};c.prototype.vua=function(){return this.$.ended;};c.prototype.ei=function(){return 1 !== this.a7.value?{stalled:this.Tt.value,progress:this.a7.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.Oi) || void 0 === w?void 0:w.I0()) && void 0 !== x?x:null;};c.prototype.D3a=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.P5a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.Eua=function(){return this.$.muted;};c.prototype.R5a=function(){return this.$.volume;};c.prototype.Dgb=function(w){this.$.muted=w;};c.prototype.Qgb=function(w){this.$.volume=w;};c.prototype.addEventListener=function(w,x,y){this.Sb.addListener(w,x,y);};c.prototype.removeEventListener=function(w,x){this.Sb.removeListener(w,x);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.FD.EY(function(x){w.lac()?x.ca?w.R_():w.close(w.mi(x.errorCode || m.V.fha,x)):w.close(w.mi(m.V.Cpb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.xa.mediaTime.set(this.vv());this.Mpa();this.xa.TV=this.j9();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === w || void 0 === w?void 0:w.Fgb(!this.FY.value);(this.Oi=w) && this.Ab(g.Ia.error,w.I0());this.Ab(g.Ia.closed);return this.Ocb.k0(this.xa);};c.prototype.play=function(){var w,x;w=this;x=this.$.play();this.zXa=!1;x && x.then(function(){w.cra(g.Ia.AXa);}).catch(function(y){w.Ab(g.Ia.CN);"NotAllowedError" === y.name && (w.log.warn("Playback is blocked by the browser settings",y),w.zXa=!0,w.Ji=!0,w.cra(g.Ia.O6,{player:{play:function(){return w.play();}}}));});};c.prototype.Ab=function(w,x,y){x=x || ({});x.target=this;this.Sb.Wc(w,x,!y);};c.prototype.cra=function(w,x){this.H2a.has(w) || (this.H2a.add(w),this.Ab(w,x,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.seek=function(w){this.$.currentTime=w / 1E3;};c.prototype.c7a=function(w){this.close(this.mi(m.V.yHa,m.R.co,w));};c.prototype.Yp=function(){return this.xa.playbackRate.value;};c.prototype.Egb=function(w){this.xa.playbackRate.set(w);};c.prototype.v3a=function(){var w;w=this;return this.xa.fj.map(function(x){return w.xr(x);});};c.prototype.ata=function(w){var x;x=this;return this.AX(w).map(function(y){return x.xr(y);});};c.prototype.u3a=function(){var w;w=this.xa.yc.value;return w && this.xr(w);};c.prototype.$sa=function(){var w;w=this.xa.kc.value;return w && this.xr(w);};c.prototype.ngb=function(w){if((w=this.PW(w)) && w.Si)return (this.xa.yc.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.$Aa=function(w){var x,y;x=this;y=this.xa.vi.find(function(z){return x.xr(z) === w;});if(y && y.Si)return (this.xa.kc.set(y),this.xa.ej.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.M4a=function(){var w;return this.rX(this.xa.fj,null === (w=this.xa.ea) || void 0 === w?void 0:w.ab.v$a);};c.prototype.ssa=function(w){var x;return this.rX(this.AX(w),null === (x=this.xa.ea) || void 0 === x?void 0:x.ab.w$a);};c.prototype.xr=function(w){var x;x=w.Xya=w.Xya || ({trackId:w.trackId,bcp47:w.uf,displayName:w.displayName,trackType:w.wi,rawTrackType:w.uF,channels:w.channels});this.Jua(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.s0);this.Kua(w) && (x.isNoneTrack=w.Br(),x.isForcedNarrative=w.bq(),x.isImageBased=w.tl);x.subType=w.LK;x.variant=w.variant;return x;};c.prototype.Jua=function(w){return "undefined" !== typeof w.isNative;};c.prototype.Kua=function(w){return "undefined" !== typeof w.Br && "undefined" !== typeof w.bq;};c.prototype.PW=function(w){var x;x=this;return w && this.xa.fj.find(function(y){return x.xr(y) === w;});};c.prototype.AX=function(w){var x;w=this.PW(w) || this.xa.yc.value;return null !== (x=null === w || void 0 === w?void 0:w.vi) && void 0 !== x?x:[];};c.prototype.rX=function(w,x){var y;y=w.length - 1;if("number" !== typeof x)return y;w=w.findIndex(function(z){return z.Zb > x;});return -1 === w?y:w - 1;};c.prototype.Lea=function(w){this.xa.gb=(0,u.Yaa)(this.xa.gb,w);};c.prototype.Hk=function(w){if(w !== this.xa.Y)throw (!1,Error("Unknown segmentId " + w));return this.xa;};c.prototype.f5a=function(){return this.xa.gb;};c.prototype.Ama=function(){!1;};c.prototype.py=function(){!1;};c.prototype.IJ=function(){!1;};c.prototype.KX=function(){!1;return Promise.reject();};c.prototype.Ssa=function(){return {};};c.prototype.k9=function(){};c.prototype.s3a=function(){return {};};c.prototype.NAa=function(){};c.prototype.oR=function(){};c.prototype.F7a=function(){return !1;};c.prototype.V3a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.tO=function(){!1;return Promise.resolve({success:!0});};c.prototype.M5a=function(){!1;};c.prototype.EX=function(){!1;};c.prototype.fR=function(){!1;};c.prototype.dBa=function(){!1;};c.prototype.k9a=function(){!1;};c.prototype.n3a=function(){!1;return Promise.reject();};c.prototype.Kcb=function(){!1;return Promise.reject();};c.prototype.Rdb=function(){!1;return Promise.reject();};c.prototype.tj=function(){!1;return Promise.reject();};c.prototype.WJ=function(){!1;};b.iSa=c;},function(t,b,a){var c;b=a(155);c=a(1125);a=b(function(k,g,h){return c(function(d,f,l){return k(f,l);},g,h);});t.exports=a;},function(t,b,a){var c,k;b=a(155);c=a(452);k=a(1126);a=b(function l(h,d,f){return k(function(m,n,p){return c(n) && c(p)?l(h,n,p):h(m,n,p);},d,f);});t.exports=a;},function(t,b,a){var c;b=a(155);c=a(268);a=b(function(k,g,h){var d,f;d={};for(f in g){c(f,g) && (d[f]=c(f,h)?k(f,g[f],h[f]):g[f]);}for(f in h){c(f,h) && !c(f,d) && (d[f]=h[f]);}return d;});t.exports=a;},function(t,b,a){var c;b=a(453);c=a(1136);a=a(1146);a=c([b,a]);t.exports=a;},function(t){t.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(t){t.exports=function(b,a){for(var c=0,k=a.length,g=[];c < k;){b(a[c]) && (g[g.length]=a[c]);c+=1;}return g;};},function(t,b,a){var c,k;b=a(130);c=a(455);k=a(1131);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || k(g)?!1:1 === g.nodeType?! !g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});t.exports=a;},function(t){t.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(t){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,k){return this.f(c,k);};return a;})();t.exports=function(a){return new b(a);};},function(t,b,a){var c;c=a(270);b=a(53)(function(k,g){return c(k.length,function(){return k.apply(g,arguments);});});t.exports=b;},function(t,b,a){var c,k;b=a(53);c=a(456);k=(function(){function g(h,d){this.l1=d;this.f=h;}g.prototype["@@transducer/init"]=c.za;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(h,d){return this.f(d)?this.l1["@@transducer/step"](h,d):h;};return g;})();a=b(function(g,h){return new k(g,h);});t.exports=a;},function(t,b,a){var c,k;c=a(268);k=Object.prototype.toString;t.exports=function(){return "[object Arguments]" === k.call(arguments)?function(g){return "[object Arguments]" === k.call(g);}:function(g){return c("callee",g);};};},function(t,b,a){var c;b=a(130);c=a(1137);a=b(function(k){return c(function(){return Array.prototype.slice.call(arguments,0);},k);});t.exports=a;},function(t,b,a){var c,k,g,h,d;b=a(53);c=a(458);k=a(459);g=a(1139);h=a(1140);d=a(1145);a=b(function(f,l){return k(d(g,0,h("length",l)),function(){var m,n;m=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,m);},l));});});t.exports=a;},function(t,b,a){var k,g;function c(h,d,f){return function(){var q;for(var l=[],m=0,n=h,p=0;p < d.length || m < arguments.length;){if(p < d.length && (!g(d[p]) || m >= arguments.length))q=d[p];else (q=arguments[m],m+=1);l[p]=q;g(q) || --n;p+=1;}return 0 >= n?f.apply(this,l):k(n,c(h,l,f));};}k=a(270);g=a(188);t.exports=c;},function(t,b,a){b=a(53)(function(c,k){return k > c?k:c;});t.exports=b;},function(t,b,a){var c,k;b=a(53);c=a(1141);k=a(1143);a=b(function(g,h){return c(k(g),h);});t.exports=a;},function(t,b,a){var c,k,g,h,d,f;b=a(53);c=a(454);k=a(458);g=a(269);h=a(1142);d=a(459);f=a(457);a=b(c(["fantasy-land/map","map"],h,function(l,m){switch(Object.prototype.toString.call(m)){case "[object Function]":return d(m.length,function(){return l.call(this,m.apply(this,arguments));});case "[object Object]":return g(function(n,p){n[p]=l(m[p]);return n;},{},f(m));default:return k(l,m);}}));t.exports=a;},function(t,b,a){var c,k;b=a(53);c=a(456);k=(function(){function g(h,d){this.l1=d;this.f=h;}g.prototype["@@transducer/init"]=c.za;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(h,d){return this.l1["@@transducer/step"](h,this.f(d));};return g;})();a=b(function(g,h){return new k(g,h);});t.exports=a;},function(t,b,a){var c;b=a(53);c=a(1144);a=b(function(k,g){return c([k],g);});t.exports=a;},function(t,b,a){b=a(53)(function(c,k){for(var g=0;g < c.length;){if(null == k)return;k=k[c[g]];g+=1;}return k;});t.exports=b;},function(t,b,a){b=a(155);a=a(269);a=b(a);t.exports=a;},function(t,b,a){var c,k;c=a(1147);b=a(53);k=a(453);a=b(function(g,h){return k(c(g),h);});t.exports=a;},function(t){t.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(t,b,a){var c,k;c=a(1149);b=a(155);k=a(1150);a=b(function(g,h,d){return k(g,c(h,d));});t.exports=a;},function(t){t.exports=function(b,a){var c,k,g,h;b=b || [];a=a || [];k=b.length;g=a.length;h=[];for(c=0;c < k;){h[h.length]=b[c];c+=1;}for(c=0;c < g;){h[h.length]=a[c];c+=1;}return h;};},function(t,b,a){var c;c=a(1151);b=a(53)(function(k,g){for(var h=0,d=g.length,f=[],l;h < d;){l=g[h];c(k,l,f) || (f[f.length]=l);h+=1;}return f;});t.exports=b;},function(t){t.exports=function(b,a,c){for(var k=0,g=c.length;k < g;){if(b(a,c[k]))return !0;k+=1;}return !1;};},function(t,b,a){b=a(53)(function(c,k){for(var g=[],h=0,d=k.length;h < d;){for(var f=h + 1;f < d && c(k[f - 1],k[f]);){f+=1;}g.push(k.slice(h,f));h=f;}return g;});t.exports=b;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.F6a=void 0;t=a(1);c=a(464);k=a(1154);g=a(466);h=a(1155);d=a(460);f=a(1156);l=a(467);m=a(1158);n=a(461);p=a(1159);q=a(462);r=a(1160);u=a(470);v=a(273);w=a(1161);x=a(468);y=a(1162);z=a(1163);A=a(463);B=a(1165);b.F6a=new t.vd(function(C){C(c.VIa).to(k.UIa).ha();C(g.ZIa).to(h.YIa).ha();C(d.IIa).to(f.HIa).ha();C(l.KIa).to(m.JIa).ha();C(x.JFa).to(y.IFa).ha();C(n.ROa).to(p.QOa).ha();C(q.tja).to(r.aRa);C(u.US).to(z.TS);C(A.XS).to(B.WS);C(v.Zga).to(w.bJa);});},function(t,b,a){var k,g,h,d;function c(f,l){this.jUb=f;this.log=l.mb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;t=a(0);k=a(1);g=a(6);h=a(465);d=a(70);c.prototype.download=function(f){var m,n,p,q,r;function l(u){if(r < n.length - 1)return (!1,r++,m.V0a(n[r].url,p,q).catch(l));throw u;}m=this;n=f.urls;p=f.offset;q=f.length;r=0;return this.V0a(n[r].url,p,q).catch(l);};c.prototype.V0a=function(f,l,m){return this.jUb.download({url:f,withCredentials:!1,responseType:d.ResponseType.Kmb,eE:"hls_headers",$t:!0,offset:l,length:m,Rt:d.bia},{z$a:1});};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.eJa)),t.__param(1,(0,k.l)(g.sb))],a);b.UIa=a;},function(t,b,a){var k,g,h;function c(d){this.Da=d.mb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;t=a(0);k=a(1);g=a(62);a=a(6);c.prototype.parse=function(d,f,l){d=new g.Rw(this.Da,{mediaType:d},f,["sidx"]).parse();if(d.ry && d.Z)return this.p6(d.Z,l);};c.prototype.p6=function(d,f){var l,m,n,p,q;l=0;m=0;n=0;p=d.offset;q=[];d.ae.forEach(function(r,u){m+=r;n+=d.sizes[u];if(1E3 * m / d.U >= f || u === d.ae.length - 1)(q.push({duration:m / d.U,ba:l / d.U,byteOffset:p,ADb:n}),l+=m,m=0,p+=n,n=0);});return q;};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.sb))],h);b.YIa=h;},function(t,b,a){var d,f,l,m,n,p,q,r,u,v,w,x;function c(y,z,A){this.hW=z;this.Ac=y.filter(function(B){return B.ECa[q.Em.p4];}).map(function(B){return {track:B,stream:B.ECa[q.Em.p4],id:B.$0a[q.Em.p4]};});A || (this.Ac=this.Ac.filter(function(B){return B.track.Fg === z;}));}function k(y,z,A){var B;this.PK=z;this.Tv=A;B=y[0];this.$K=B.streams.map(function(C){return {track:B,fP:C.xhb,stream:C};});}function g(y,z,A,B,C){function D(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.PK=A;this.hW=B;this.$K=z.map(function(F){var G;G=F.streams.reduce(D);return {track:F,fP:G.jC?G.jC.offset + G.jC.size:void 0,stream:G};});C || (this.$K=this.$K.filter(function(F){return F.track.Fg === B;}));}function h(y,z,A,B,C,D){this.MTb=y;this.NTb=z;this.y3b=A;this.rEb=B;this.WI=C;this.pg=D;this.Da=D.mb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Ktb=b.Vtb=b.rmb=b.HIa=void 0;t=a(0);d=a(1);f=a(62);l=a(464);m=a(466);n=a(3);p=a(37);q=a(42);r=a(467);u=a(468);v=a(273);w=a(6);x=a(1157);h.prototype.Li=function(y,z){var A,B,C,D,F,G;A=this;D=y.ab;y=this.nPb(D,z);F=this.PSb(D,z);G=null !== (C=null === (B=D.o_) || void 0 === B?void 0:B.BR) && void 0 !== C?C:D.D0.find(function(E){var I;return E.id === (null === (I=D.N7) || void 0 === I?void 0:I[0].gib);}).Fg;B=new c(D.D0,G,this.WI.Mma);return Promise.all([y,F,B]).then(function(E){var I,L;I=na(E);E=I.next().value;L=I.next().value;I=I.next().value;E={audio:E.getMetadata(),video:L.getMetadata(),text:I.getMetadata(),i0a:E.Wra(),PJb:I.Wra(),duration:D.duration,Il:D.Il};L=A.rEb.JPb(E);z("h_s");return {yYb:A.y3b.transform(E,L),uEb:L,E$b:E};});};h.prototype.PSb=function(y,z){var A;A=new k(y.Bw,this.WI.G6a,this.WI.Tv);return this.T0a(A.$K,f.$n.Jb,z).then(function(B){A.QAa(B);return A;});};h.prototype.nPb=function(y,z){var A,B,C,D;C=null !== (B=null === (A=y.o_) || void 0 === A?void 0:A.po) && void 0 !== B?B:y.Lu.find(function(F){var G;return F.id === (null === (G=y.N7) || void 0 === G?void 0:G[0].po);}).Fg;D=new g(this.Da,y.Lu,this.WI.my,C,this.WI.Mma);return this.T0a(D.$K,f.$n.cc,z).then(function(F){D.QAa(F);return D;});};h.prototype.Pxa=function(y,z,A,B){if(y=this.NTb.parse(z,y,A))return y;this.Da.error("Failed to parse headers",{type:z === f.$n.cc?"audio":"video",downloadableId:B.stream.Ao});};h.prototype.T0a=function(y,z,A){var B;B=this;return Promise.all(y.map(function(C,D){if(C.fP)return B.MTb.download({urls:C.stream.urls,offset:0,length:C.fP}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.Pxa(F,z,z == f.$n.cc?B.WI.my:B.WI.BB,C);}).catch(function(){A("h_" + C.track.wi[0] + "_" + D + "_f");B.Da.warn("Failed to download and parse headers for " + C.stream.Ao);});B.Da.warn("Stream data offset is missing",{downloadableId:C.stream.Ao});}));};a=h;a=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(l.VIa)),t.__param(1,(0,d.l)(m.ZIa)),t.__param(2,(0,d.l)(r.KIa)),t.__param(3,(0,d.l)(u.JFa)),t.__param(4,(0,d.l)(v.Zga)),t.__param(5,(0,d.l)(w.sb))],a);b.HIa=a;g.prototype.QAa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.jd.olb(n.V.EJa,n.R.Kha);this.Ac=this.$K.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,Z:B,PK:z.PK};}).filter(x.Mua);};g.prototype.getMetadata=function(){return this.Ac;};g.prototype.Wra=function(){var y,z;y=this;if(!this.Ac.find(function(A){return A.track.Fg === y.hW;}) && 0 < this.Ac.length){z=this.Ac[0].track.Fg;this.log.warn("Did not find metadata for audio track " + this.hW + ", falling back to " + z);return z;}return this.hW;};b.rmb=g;k.prototype.QAa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.jd.olb(n.V.EJa,n.R.Lha);A=this.$K.map(function(B,C){if(C=y[C])return {track:B.track,stream:B.stream,Z:C,PK:z.PK};}).filter(x.Mua);this.Ac=this.vRb(A);};k.prototype.getMetadata=function(){return this.Ac;};k.prototype.vRb=function(y){var z,A,B;z=this;y.sort(function(C){return C.stream.bitrate;});A=y.findIndex(function(C){var D;return (null !== (D=C.stream.cb) && void 0 !== D?D:0) >= z.Tv;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.Vtb=k;c.prototype.Wra=function(){return this.hW;};c.prototype.getMetadata=function(){return this.Ac;};b.Ktb=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;b.Mua=function(a){return void 0 !== a && null !== a;};},function(t,b,a){var k,g,h,d,f,l;function c(m){this.Da=m.mb("HLSPlaylistTransformerImpl");this.zdc=d.d2.Ts();this.sCb=f.xga.Ts();}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;t=a(0);k=a(1);g=a(6);h=a(131);d=a(274);f=a(469);l=[0,1];c.prototype.transform=function(m,n){var p,q,r,u,v,w,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];r=m.text;u=m.audio;v=m.video;w=m.duration;x=m.i0a;y=m.PJb;r.forEach(function(A){l.forEach(function(B){var C,D,F,G;C=0 === B;D=A.stream;F=A.track;G=n.get(A.id);C=C?G.yQ:G.xda;D=p.ySb({url:C.url,duration:w / 1E3,size:D.size,Xm:"Manifest for subtitles " + F.language + ' stream "' + F.RE + '", ' + F.Fg + ", cdn " + C.ro});p.Da.trace("Text variant manifest",D.join("\n"));B=p.zSb({groupId:B,name:F.RE,tua:F.Fg === y,bq:F.P$,wVb:F.wi === h.Jq.ufa,language:F.language,uri:p.Aaa(D)});q.push(B);});});u.forEach(function(A){l.forEach(function(B){var C,D,F,G,E,I;C=0 === B;D=A.stream;F=A.track;G=A.Z;E=A.PK;I=n.get(D.Ao);C=C?I.yQ:I.xda;D=p.Q4a({url:C.url,fP:D.jC.offset + D.jC.size,Z:G,yib:Math.floor(E / 1E3),Xm:"Manifest for audio " + F.language + ' stream "' + F.RE + '", ' + F.Fg + ", cdn " + C.ro});p.Da.trace("Audio variant manifest",D.join("\n"));B=p.oPb({groupId:B,language:F.language,name:F.RE,tua:F.Fg === x,uri:p.Aaa(D)});q.push(B);});});z=this.sCb[u[0].track.profile];v.forEach(function(A){l.forEach(function(B){var C,D,F,G,E,I;C=0 === B;D=A.stream;F=A.track;G=A.Z;E=A.PK;I=n.get(D.Ao);I=C?I.yQ:I.xda;C=0 < r.length;F=p.Q4a({url:I.url,fP:D.jC?D.jC.offset + D.jC.size:D.xhb,Z:G,yib:Math.floor(E / 1E3),Xm:"Manifest for video bitrate " + D.bitrate + ", stream " + F.Fg + ", cdn " + I.ro});p.Da.trace("Video variant manifest",F.join("\n"));B=p.QSb({groupId:B,vV:1E3 * D.bitrate,FCb:1E3 * D.bitrate,$Vb:0 <= D.hI.indexOf("-hdr-") || 0 <= D.hI.indexOf("-dv5-"),framerate:(D.j3a / D.i3a).toFixed(3),om:D.Nza + "x" + D.hfb,udc:p.zdc[D.hI],oCb:z,Fac:C});q.push(B);B=p.Aaa(F);q.push("" + B);});});this.Da.trace("Primary manifest",q.join("\n"));return this.Aaa(q);};c.prototype.oPb=function(m){var n;n=m.tua;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + m.groupId + '"','CHANNELS="2"','LANGUAGE="' + m.language + '"','NAME="' + m.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + m.uri + '"'].join(", ");};c.prototype.Q4a=function(m){var n;n=["#EXTM3U","# " + m.Xm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + m.yib,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + m.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m.fP + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.Z.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.ba.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.ADb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.QSb=function(m){var n,p;n=m.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + m.vV,"AVERAGE-BANDWIDTH=" + m.FCb,"VIDEO-RANGE=" + (m.$Vb?"PQ":"SDR"),"FRAME-RATE=" + m.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + m.om,'CODECS="' + m.udc + "," + m.oCb + '"'];m.Fac && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.ySb=function(m){var n;n=m.duration;return ["#EXTM3U","# " + m.Xm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + m.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + m.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.zSb=function(m){var n,p,q;n=m.tua;p=m.language;q=m.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + m.groupId + '"','NAME="' + m.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (m.bq?"YES":"NO")];m.wVb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.Aaa=function(m){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(m.join("\n"));};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb))],a);b.JIa=a;},function(t,b,a){var k,g,h,d,f;function c(l,m){var p;function n(){p.Xxa.then(function(q){p.Da.trace("Unloading PBO Playdata Services");q.close();});d.kf.removeListener(d.Ko,n);}p=this;this.wcb=m;this.Xxa=m();this.Da=l.mb("PlayerPlaydataMonitorImpl");d.kf.addListener(d.Ko,n);}Object.defineProperty(b,"__esModule",{value:!0});b.QOa=void 0;t=a(0);k=a(1);g=a(6);h=a(156);d=a(65);f=a(17);c.prototype.tq=function(l,m){this.Xxa.then(function(n){n.tq(m,!0,function(p){return l.close(p);});n.GBa(m);l.addEventListener(f.Ia.vya,function(){l.Cr() && n.Xfb(m).catch(function(p){(p=p.sQ) && l.close(p);});});l.addEventListener(f.Ia.um,function(){n.Cda(m).catch(function(p){(p=p.sQ) && l.close(p);});});l.addEventListener(f.Ia.Rm,function(){n.Cda(m).catch(function(p){(p=p.sQ) && l.close(p);});});});};c.prototype.k0=function(l){return this.Xxa.then(function(m){m.Khb();return m.k0(l).catch();});};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.mT))],a);b.QOa=a;},function(t,b,a){var k,g,h,d;function c(f){this.Cwa={};this.t$={};this.iaa=-1;this.WBa=new h.Xb(null);this.Cya=new h.Xb(null);this.Da=f.mb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.aRa=void 0;t=a(0);k=a(1);g=a(31);h=a(69);a=a(6);c.prototype.za=function(f,l,m){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.Cwa[q.url]=[p,q.ro];});});this.Epa=l;this.JJb=m;new PerformanceObserver(function(p){n.jcc(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.qgb=function(f){var l,m,n;if(this.Epa){m=this.q9(f);if(m !== this.iaa){for(this.iaa=m;0 <= m && !this.t$[m];){m--;}n=na(null !== (l=this.t$[m]) && void 0 !== l?l:[this.Epa,this.JJb]);l=n.next().value;n=n.next().value;this.Da.debug("Setting time to " + f + ", using metadata from fragment " + m + " for " + ((0,g.Q$a)(l.track.type) + " track with bitrate ") + (l.stream.bitrate + " from cdn " + n));f=l.Z[this.iaa];m=f.ba;this.Cya.set({stream:l,Um:{startTime:Math.floor(1E3 * m),endTime:Math.floor(1E3 * (m + f.duration))},Cx:n});}}};c.prototype.q9=function(f){var l,m,n,p,q;l=this.Epa.Z;f/=1E3;m=0;n=l.length - 1;if(f >= l[n].ba)return n;for(;n >= m;){p=m + Math.floor((n - m) / 2);q=l[p];if(f < q.ba)n=p - 1;else if(f >= q.ba + q.duration)m=p + 1;else return p;}return l.length - 1;};c.prototype.jcc=function(f){var l;l=this;f.filter(function(m){return "video" === m.initiatorType;}).forEach(function(m){var n,p,q;n=m.name.indexOf("&fi=");if(0 < n){p=m.name.substring(0,n);n=Number(m.name.substring(n + 4));if(l.Cwa[p]){q=na(l.Cwa[p]);m=q.next().value;q=q.next().value;p && !Number.isNaN(n) && m && (l.t$[n] && (l.iaa=-1),l.t$[n]=[m,q],p=m.Z[n].ba,!1,l.WBa.set(m,{ZH:Math.floor(1E3 * p),Cx:q}));}}});};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.sb))],d);b.aRa=d;},function(t,b,a){var k,g,h,d;function c(f){return g.pf.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);a=a(45);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{cdb:{configurable:!0,enumerable:!0,get:function(){return !0;}},my:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},BB:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},G6a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Tv:{configurable:!0,enumerable:!0,get:function(){return 80;}},Mma:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([a.config(a.xd,"playsInline")],d.prototype,"cdb",null);t.__decorate([a.config(a.JE,"minAudioMediaRequestDuration")],d.prototype,"my",null);t.__decorate([a.config(a.JE,"minVideoMediaRequestDuration")],d.prototype,"BB",null);t.__decorate([a.config(a.JE,"hlsVideoMediaRequestTargetDuration")],d.prototype,"G6a",null);t.__decorate([a.config(a.JE,"minStartingVideoVMAF")],d.prototype,"Tv",null);t.__decorate([a.config(a.xd,"allowMultipleAudioTextTracks")],d.prototype,"Mma",null);d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm))],d);b.bJa=d;},function(t,b,a){var k,g;function c(h){this.Da=h.mb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;t=a(0);k=a(1);a=a(6);c.prototype.JPb=function(h){var f,l,m,n,p,q,r;function d(u,v,w){var x,y,z;x=u.map(function(A){return A.ro;});x.sort(function(A,B){return v[A] - v[B];});if(1 === x.length)(!1,m.set(w,{yQ:u[0],xda:u[0]}));else {y=x.find(function(A){return f.has(A);});y || ((y=x.find(function(A){return !l.has(A);}))?f.add(y):(y=x[0],!1));z=x.find(function(A){return l.has(A) && A !== y;});z || ((z=x.find(function(A){return !f.has(A) && A !== y;}))?l.add(z):(z=x.find(function(A){return A !== y;}),!1));m.set(w,{yQ:u.find(function(A){return A.ro === y;}),xda:u.find(function(A){return A.ro === z;})});}}f=new Set();l=new Set();m=new Map();n=h.video;p=h.audio;q=h.text;r=h.Il.reduce(function(u,v){u[v.id]=v.Zb;return u;},{});n.forEach(function(u){u=u.stream;d(u.urls,r,u.Ao);});p.forEach(function(u){u=u.stream;d(u.urls,r,u.Ao);});q.forEach(function(u){var v,w;if(!u.track.ME || u.track.P$){v=u.track;w=u.id;u=Object.entries(u.stream.cv).map(function(x){var y;y=na(x);x=y.next().value;y=y.next().value;return {ro:Number(x),url:y};});v=v.FYa.reduce(function(x,y){x[y.id]=y.Zb;return x;},{});d(u,v,w);}});return m;};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.sb))],g);b.IFa=g;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r,u){this.pg=n;this.rB=p;this.og=q;this.zc=r;this.Ea=u;}Object.defineProperty(b,"__esModule",{value:!0});b.TS=void 0;t=a(0);k=a(1);g=a(19);h=a(6);d=a(50);f=a(189);l=a(87);m=a(1164);c.prototype.create=function(n){return new m.VS(this.pg,this.rB,this.og,this.Ea,this.zc,n);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.sb)),t.__param(1,(0,k.l)(l.qz)),t.__param(2,(0,k.l)(d.Yn)),t.__param(3,(0,k.l)(f.Aha)),t.__param(4,(0,k.l)(g.$c))],a);b.TS=a;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r,u,v){var w;w=this;this.rB=p;this.og=q;this.Ea=r;this.zc=u;this.Ewa=this.KE=this.w_=0;this.lJ=!1;this.YE=function(){var x;x=w.QZ();x.prstate=w.ZA();x.paustate=w.j.kY();x.midplayseq=w.Ewa++;w.zc.iP(x);w.Fc(k.bd.YE,void 0,m.Le | m.pu,x);};this.Ji=function(){w.Fc(k.bd.QXa,void 0,m.Le | m.Cq,{});};this.um=function(x){w.pva=w.getTime();w.qva=x.oldValue;};this.nV=function(x){w.cva=x.oldValue;};this.eca=function(x){x != w.lJ && (w.IBa(w.lJ,x),w.lJ=x);};this.IBa=function(x,y){var z;z=w.j.xa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};w.zc.zr(x,z.we.value && z.we.value.stream,z.Hf.value && z.Hf.value.stream);w.Fc(k.bd.Ihb,void 0,m.Le,x);};this.e0=function(x){w.Fc(k.bd.vhb,void 0,m.Le,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.oC=function(x){var y,z,A;y=w.j.xa;z=y.kc.value;if(x.newValue || z && z.Br() && !z.bq()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.uf,downloadableId:x.Yb,rank:x.Zb,isImageBased:x.tl}:{};x=(x=w.qva)?{trackId:x.trackId,bcp47:x.uf,downloadableId:x.Yb,rank:x.Zb,isImageBased:x.tl}:{};A={switchdelay:(0,g.hg)(w.getTime() - w.pva),track:A,oldtrack:x};w.zc.zr(A,y.we.value && y.we.value.stream,y.Hf.value && y.Hf.value.stream);w.Fc(k.bd.Vib,void 0,m.Le,A);}};this.iya=function(x,y){var z;z=w.j.xa;x={waittime:(0,g.hg)(x),abortedevent:"resumeplay",resumeplayreason:y};w.zc.zr(x,z.nf.value,z.Gh.value);w.Fc(k.bd.oca,void 0,m.Le | m.Cq,x);};this.PQ=function(x,y,z){x={playdelay:(0,g.hg)(x),reason:z,intrplayseq:w.KE - 1,skipped:y};"repos" === z && (x.prstate=!0 === w.j.Zj.value?"playing":"paused");w.Fc(k.bd.PQ,void 0,m.Le | m.ou,x);};this.kna=function(){var x,y,z,A;y=w.j.xa.yc.value;z=w.j.xa.Gh.value.Yb;y=y?{trackId:y.trackId,bcp47:y.uf,downloadableId:z,rank:y.Zb,chan:y.channels}:{};z=w.nB;A=null === (x=w.cva) || void 0 === x?void 0:x.Yb;x=z?{trackId:z.trackId,bcp47:z.uf,downloadableId:A,rank:z.Zb,chan:z.channels}:{};w.Fc(k.bd.uXa,void 0,m.Le,{switchdelay:(0,g.hg)(w.getTime() - w.dva),track:y,oldtrack:x});};this.Rm=function(x){w.dva=w.getTime();w.nB=x.oldValue;};this.jya=function(){var x,y,z;x=w.j.xa;y={abortedevent:"startplay",trackid:x.Xk,prstate:w.ZA(),paustate:w.j.kY()};try{z=(0,h.RI)();z && (y.pdltime=z);(0,g.ve)(y,x.qd,{prefix:"sm_"});}catch(A){}w.zc.s$(y,x);w.zc.jP(y,!1,x.Jg.value,x);w.zc.zr(y,x.nf.value,x.Gh.value);w.aJ(y);w.Fc(k.bd.oca,void 0,m.Le | m.pu | m.Cq,y);};this.MN=function(x,y,z,A){x={moff:(0,g.ln)(z),moffms:(0,g.hg)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Yb,vdlidold:x.Yb,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};w.Fc(k.bd.MN,void 0,0,x);};this.JQ=function(x,y,z){x={moffold:(0,g.ln)(x),reposseq:w.w_++,prstate:w.ZA(),paustate:w.j.kY()};w.zc.zr(x,z && z.stream,y && y.stream);w.Fc(k.bd.JQ,void 0,m.Le,x);};this.DF=function(x){var y,z,A,B,C;B=x.xa;C={playdelaysdk:(0,g.hg)(w.j.DV()),applicationPlaydelay:(0,g.hg)(w.j.Vna()),playdelay:(0,g.hg)(w.j.Xna()),trackid:B.Xk,bookmark:(0,g.hg)(B.Ax || 0),pbnum:B.index};w.j.Ji && (C.blocked=w.j.Ji);C.initvbitrate=w.j.ZX;w.zc.Yta(C);w.zc.U6a(C);C.esnSource=null === (y=mb._cad_global.device) || void 0 === y?void 0:y.p8;w.a7a(C,B);C.pdltime=(0,h.RI)();(0,g.ve)(C,B.qd,{prefix:"sm_"});C.ttTrackFields=null === (z=B.kc.value) || void 0 === z?void 0:z.xh;w.zc.R6a(C,B.yc.value,B);w.zc.jP(C,!0,B.Jg.value,B);C.packageId=null === (A=B.ea) || void 0 === A?void 0:A.ab.Wo;w.zc.iP(C);w.zc.s$(C,B);w.aJ(C);w.Fc(k.bd.DF,x.Oi,m.Le | m.ou | m.pu | m.eG | m.Cq,C);};this.tI=function(){var x,y,z;x=w.j;y=x.xa;x=x.Oi;z=w.QZ();z.paustate=!w.j.Cr();z.muted=w.j.Eua();z.endreason=x?"error":w.j.vua()?"ended":"stopped";w.zc.jP(z,!1,y.Jg.value,y);w.zc.iP(z);w.aJ(z);w.Fc(k.bd.tI,x,m.Le | m.ou | m.pu | m.eG | m.Cq,z);};this.zza=function(x,y,z){var A;A=w.j.xa.Hf;x={moff:(0,g.ln)(z),moffms:(0,g.hg)(z),vdlidold:x.Yb,vbitrateold:x.bitrate};w.zc.zr(x,y,A.value && A.value.stream);w.Fc(k.bd.Qeb,void 0,0,x);};this.ZA=function(){var x;x=w.j.Db.value;return x === f.lb.Jc?"playing":x === f.lb.Eh?"paused":x === f.lb.hs?"ended":"waiting";};this.Da=n.mb("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.VS=void 0;k=a(275);g=a(25);h=a(43);d=a(3);f=a(17);l=a(5);c.prototype.getTime=function(){return this.Ea.Tb().da(l.ma);};c.prototype.Rsa=function(){return this.getTime() - this.j.xa.oj.da(l.ma);};c.prototype.a7a=function(n,p){var q;if(p=null === (q=p.Jg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,h.cS)(p.map(function(r){return r.bitrate;})),n.maxresheight=(0,h.cS)(p.map(function(r){return r.height;})));};c.prototype.aJ=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.QZ=function(){var n,p,q,r;n=this.j.xa;p=n.im;q={totaltime:(0,g.ln)(p.Zs()),totalcontenttime:(0,g.ln)(p.FX()),reposcount:this.w_,intrplaycount:this.KE};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});r=n.nf.value;r && (q.videofr=r.framerate.toFixed(3));(r=p.Kra()) && (q.abrdel=r);(r=p.e$() && p.y3a()) && (q.tw_vmaf=r);(p=p.w3a()) && (0,g.ve)(q,p);q.rbfrs=this.KE;this.a7a(q,n);return q;};c.prototype.Fc=function(n,p,q,r){var u,v,w;u=this;p && (0,d.Iga)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.wa,this.Rsa(),void 0) && (v="info");w=this.j.xa;this.pma(r,p,q);p=v || (p?"error":"info");r=this.rB.Xu(n,p,r,w);this.og.Fc(r);"error" !== p && n !== k.bd.tI || this.og.flush(!1).catch(function(){u.Da.debug("Failed to flush the logblobs");});};c.prototype.pma=function(n,p,q){var r;r=this.j.xa;this.zc.r$(n,r);q & m.Le && this.zc.X6a(n,r,!1);q & m.ou && this.zc.Z6a(n,r);q & m.pu && this.zc.$6a(n,this.j.Go());p && q & m.eG && this.zc.V6a(n,r,p);q & m.Cq && this.zc.Yta(n);};b.VS=c;(function(n){n[n.Le=1]="MOFF";n[n.ou=2]="PRESENTEDSTREAMS";n[n.pu=4]="SCREEN";n[n.eG=8]="FATALERROR";n[n.Cq=16]="BROWSERINFO";})(m || (m={}));},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r,u){this.og=n;this.config=p;this.Aa=q;this.Ea=r;this.Lva=u;}Object.defineProperty(b,"__esModule",{value:!0});b.WS=void 0;t=a(0);k=a(1);g=a(19);h=a(30);d=a(12);f=a(50);l=a(470);m=a(1166);c.prototype.create=function(n){return new m.YS(n,this.og,this.config,this.Ea,this.Lva.create(n));};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(f.Yn)),t.__param(1,(0,k.l)(d.Ic)),t.__param(2,(0,k.l)(h.Bh)),t.__param(3,(0,k.l)(g.$c)),t.__param(4,(0,k.l)(l.US))],a);b.WS=a;},function(t,b,a){var k,g,h;function c(d,f,l,m,n){var p;p=this;this.j=d;this.og=f;this.config=l;this.Ea=m;this.ob=n;this.IV=function(){p.ph();p.j.xa.ej.removeListener(p.oC);p.j.xa.kc.removeListener(p.ob.um);p.j.xa.yc.removeListener(p.Rm);p.j.xa.Gh.removeListener(p.ob.nV);p.j.Zj.removeListener(p.bdb);p.j.KQ.removeListener(p.Pk);p.j.xa.we.removeListener(p.$Z);p.j.Db.removeListener(p.Dx);p.j.Db.removeListener(p.KN);p.j.xa.nf.removeListener(p.d1);p.j.xa.playbackRate.removeListener(p.ob.e0);p.j.removeEventListener(h.Ia.closed,p.IV);p.j.removeEventListener(h.Ia.O6,p.ob.Ji);};this.KN=function(){p.j.Db.value === h.lb.Jc && (p.j.Db.removeListener(p.KN),p.Yv());};this.oC=function(q){p.NB && p.ob.oC(q);};this.Pk=function(q){p.NB && void 0 !== q.newValue && (p.Mt && p.Bq && p.ob.iya(p.getTime() - p.Bq,p.Mt),p.Mt="repos",p.ob.JQ(q.newValue,p.j.xa.Hf.value,p.j.xa.we.value),p.Bq=p.getTime(),(0,g.fg)(p.Dx));};this.bdb=function(q){p.NB && p.ob.eca(!q.newValue);};this.Rm=function(q){q.oldValue && (p.nB=q.oldValue,p.ob.Rm(q),p.Mt="repos",p.Bq=p.getTime(),(0,g.fg)(p.Dx));};this.Dx=function(){var q;if(p.Bq && p.j.Db.value !== h.lb.ag){q=p.getTime() - p.Bq;p.ob.PQ(q,!1,p.Mt);p.nB && p.nB != p.j.xa.yc.value && p.ob.kna();p.Bq=void 0;p.Mt=void 0;}};this.Yv=function(){p.NB || (p.NB=!0,p.ob.DF(p.j),p.gua(),p.config().z$ && (p.kB=mb.setTimeout(function(){p.og.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.kB=void 0;},p.config().z$)));};this.ph=function(){p.kB && (mb.clearTimeout(p.kB),p.kB=void 0);p.R0 && p.R0();p.NB?p.ob.tI():p.j.Oi?p.ob.DF(p.j):p.ob.jya();};this.d1=function(q){q.oldValue && q.bn && q.bn.ZH && p.ob.MN(q.oldValue,q.newValue,q.bn.ZH,q.bn.vV);};this.$Z=function(q){var r;if(q.newValue){r=q.newValue.stream;p.mJ != r && (p.mJ && r && p.ob.zza(p.mJ,r,q.newValue.Um.startTime),p.mJ=r);}};this.Yda();}Object.defineProperty(b,"__esModule",{value:!0});b.YS=void 0;k=a(5);g=a(59);h=a(17);c.prototype.Yda=function(){this.j.addEventListener(h.Ia.closed,this.IV);this.j.addEventListener(h.Ia.O6,this.ob.Ji);this.j.xa.ej.addListener(this.oC);this.j.xa.kc.addListener(this.ob.um);this.j.xa.yc.addListener(this.Rm);this.j.xa.Gh.addListener(this.ob.nV);this.j.Zj.addListener(this.bdb);this.j.KQ.addListener(this.Pk);this.j.xa.we.addListener(this.$Z);this.j.Db.addListener(this.Dx);this.j.Db.addListener(this.KN);this.j.xa.nf.addListener(this.d1);this.j.xa.playbackRate.addListener(this.ob.e0);};c.prototype.getTime=function(){return this.Ea.Tb().da(k.ma);};c.prototype.gua=function(){var d,f,l;d=this;l=[];this.config().X$a && (this.config().Y$a.forEach(function(m){l.push(mb.setTimeout(d.ob.YE,m));}),this.config().Zaa && (f=mb.setInterval(this.ob.YE,this.config().Zaa)),this.R0=function(){l.forEach(function(m){mb.clearTimeout(m);});f && mb.clearInterval(f);});};b.YS=c;},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.RK=void 0;t=a(1);c=a(1168);k=a(1169);g=a(471);h=a(472);b.RK=new t.vd(function(d){d(h.wRa).to(c.vRa);d(g.tRa).vm(new k.sRa());d(h.uRa).ef(function(f){return function(){return f.ub.get(h.wRa);};});});},function(t,b,a){var k,g,h,d;function c(f){this.config=f;this.uBa=g.La;this.jR=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vRa=void 0;t=a(0);k=a(1);g=a(51);h=a(5);a=a(471);c.prototype.Io=function(){var l;for(var f;0 < this.jR.length;){f=this.jR.shift();this.gWa(f);}f=void 0 === this.pW || void 0 === this.oI?h.La:this.oI.Ba(this.pW);l=f.r8a()?0:this.uBa.da(g.$F) / f.da(h.ma);return {nCa:Math.floor(l),rlc:f.da(h.ma)};};c.prototype.uAb=function(f){this.uBa=this.uBa.add(f.size);this.jR.push(f.fLb);for(this.jR.sort(function(l,m){return l.start.Wl(m.start);});this.jR.length > this.config.gLb;){f=this.jR.shift();this.gWa(f);}};c.prototype.gWa=function(f){void 0 === this.pW && (this.pW=f.start);void 0 !== this.oI && 0 > this.oI.Wl(f.start) && (this.pW=this.pW.add(f.start.Ba(this.oI)));if(void 0 === this.oI || 0 > this.oI.Wl(f.end))this.oI=f.end;};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.tRa))],d);b.vRa=d;},function(t,b,a){function c(k){this.gLb=void 0 === k?10:k;}Object.defineProperty(b,"__esModule",{value:!0});b.sRa=void 0;t=a(0);a=a(1);c=t.__decorate([(0,a.X)()],c);b.sRa=c;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.zo=void 0;t=a(1);c=a(26);k=a(12);g=a(1171);h=a(157);d=a(158);f=a(1172);l=a(276);m=a(1173);n=a(473);p=a(474);q=a(1174);r=a(13);u=a(479);v=a(1178);w=a(480);x=a(1179);y=a(281);z=a(1180);A=a(481);B=a(38);C=a(478);D=a(1181);b.zo=new t.vd(function(F){F(d.wT).to(f.MQa).ha();F(c.hz).to(g.FGa).ha();F(l.cKa).to(m.bKa).ha();F(p.EFa).to(q.DFa).ha();F(l.hOa).vm({isTypeSupported:r.SC && r.SC.isTypeSupported});F(n.VHa).LF(function(G){return {oQb:function(){return G.ub.get(B.H3);}};});F(h.oL).LF(function(G){return G.ub.get(k.Ic);});F(u.ALa).to(v.xLa).ha();F(C.wLa).to(D.vLa).ha();F(w.zLa).to(x.yLa).ha();F(y.Mga).to(z.UHa).ha();F(A.yPa).vm(mb);});},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){this.config=m;this.CYa=n;this.b3b=p;this.I4b=this.JIb();}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;t=a(0);k=a(26);g=a(157);h=a(1);d=a(42);f=a(473);a=a(474);c.prototype.F5a=function(m){return this.t3a().G5a(m);};c.prototype.H5a=function(m){return this.xv().G5a(m);};c.prototype.t3a=function(){this.gna && this.gna.type == this.config().hna || (this.gna=this.CYa.UHb(this.config().hna));return this.gna;};c.prototype.xv=function(){this.Xea && this.Xea.type == this.config().Yea || (this.Xea=this.CYa.WIb(this.config().Yea),this.Xea.rma(this.b3b.oQb()));return this.Xea;};c.prototype.AQb=function(m){var q;if(!m || !m.length)return k.qf.s2;m=this.WNb(m);for(var n=[k.qf.tT,k.qf.s2,k.qf.YL,k.qf.wL,k.qf.Kw,k.qf.CC,k.qf.aD,k.qf.Ml],p=n.length;p--;){q=n[p];if((0,this.I4b[q])(m))return q;}return k.qf.tT;};c.prototype.NK=function(m){return this.xv().NK(m);};c.prototype.YH=function(m){return this.xv().YH(m);};c.prototype.JI=function(){return this.xv().JI();};c.prototype.n9=function(){return this.xv().n9();};c.prototype.q0=function(){return this.xv().q0();};c.prototype.o0=function(){return this.t3a().o0();};c.prototype.lea=function(){return this.xv().lea();};c.prototype.r0=function(){return this.xv().r0();};c.prototype.dX=function(m){return this.xv().dX(m);};c.prototype.yX=function(){return this.xv().yX();};c.prototype.B9=function(){return this.xv().B9();};c.prototype.WNb=function(m){var n;n={};m.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Te]="";});return Object.keys(n);};c.prototype.JIb=function(){var m;m={};m[k.qf.Ml]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};m[k.qf.CC]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};m[k.qf.aD]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};m[k.qf.Kw]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};m[k.qf.wL]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};m[k.qf.YL]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};m[k.qf.s2]=(function(n,p){var q;q={};n.forEach(function(r){return q[r]=1;});n=na(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.gG]);m[k.qf.tT]=function(){return !0;};return m;};l=c;l=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(g.oL)),t.__param(1,(0,h.l)(a.EFa)),t.__param(2,(0,h.l)(f.VHa))],l);b.FGa=l;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r){this.zo=p;this.Bb=q;this.$hb=r;this.Pzb="video/mp4;codecs={0}";this.Cub="audio/mp4;codecs={0}";p=this.zo.dX(g.qf.Kw);this.Ozb=d.Od.H_a(p);}Object.defineProperty(b,"__esModule",{value:!0});b.MQa=void 0;t=a(0);g=a(26);h=a(1);d=a(120);f=a(27);l=a(208);m=a(475);n=a(16);c.prototype.A7=function(p){p=this.zo.AQb(p);p=this.Bb.lI(p)?p:g.qf.tT;return this.$hb.format(this.Pzb,this.Ozb[p]);};c.prototype.u7=function(p){if(0 === p.length)return this.$hb.format(this.Cub,d.Od.qfa);p=m.GEa[p[0].Te] || k.DDa;return p === k.DDa?n.n3:p === k.Ylb?n.bLa:n.aLa;};a=k=c;a.DDa="AAC";a.Ylb="XHEAAC";a=k=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(g.hz)),t.__param(1,(0,h.l)(f.Kg)),t.__param(2,(0,h.l)(l.vja))],a);b.MQa=a;},function(t,b,a){var k,g,h,d,f;function c(l,m){this.config=l;this.NJb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;t=a(0);k=a(1);g=a(276);h=a(157);d=a(26);f=a(277);c.prototype.v_a=function(){switch(this.config().Yea){case d.Gm.vz:return f.QC.sIb();default:return this.NJb;}};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.oL)),t.__param(1,(0,k.l)(g.hOa))],a);b.bKa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z;function c(A,B,C,D,F,G,E,I,L,K){this.n8a=A;this.config=B;this.Mc=C;this.Aa=D;this.is=F;this.iq=G;this.vt=E;this.platform=I;this.pc=L;this.zB=K;}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;t=a(0);k=a(1);g=a(26);h=a(276);d=a(157);f=a(1175);l=a(1176);m=a(280);n=a(476);p=a(47);q=a(30);r=a(27);u=a(1177);v=a(96);w=a(6);x=a(48);y=a(33);a=a(478);c.prototype.UHb=function(A){var B;B=this.n8a.v_a();switch(A){case g.Gw.vz:return new f.$La(this.config,B,this.is,this.platform,this.zB);default:return new n.c2(this.config,B,this.zB);}};c.prototype.WIb=function(A){var B;B=this.n8a.v_a();switch(A){case g.Gm.mL:A=new u.LFa(this.config,B,this.is,this.iq,this.vt,this.Aa,this.zB);break;case g.Gm.vz:A=new l.fLa(this.config,B,this.is,this.Mc,this.Aa,this.vt,this.pc,this.zB,this.iq);break;default:A=new m.IC(this.config,B,this.is,this.zB);}return A;};z=c;z=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.cKa)),t.__param(1,(0,k.l)(d.oL)),t.__param(2,(0,k.l)(p.zj)),t.__param(3,(0,k.l)(q.Bh)),t.__param(4,(0,k.l)(r.Kg)),t.__param(5,(0,k.l)(v.uz)),t.__param(6,(0,k.l)(w.sb)),t.__param(7,(0,k.l)(x.Hq)),t.__param(8,(0,k.l)(y.zi)),t.__param(9,(0,k.l)(a.wLa))],z);b.DFa=z;},function(t,b,a){var k,g,h,d,f;function c(l,m,n,p,q){l=d.c2.call(this,l,m,q) || this;l.is=n;l.platform=p;l.type=k.Gw.vz;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;k=a(26);g=a(42);h=a(93);d=a(476);f=a(277);ka(c,d.c2);c.prototype.o0=function(){return Promise.resolve(this.config().pO && this.sA(h.zb.zz,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Ts=function(){var l,m;l={};l=(l[g.Xd.hG]="mp4a.40.2",l[g.Xd.iG]="mp4a.40.2",l);if("browser" === this.platform.Npa){m={};return Object.assign(Object.assign({},l),(m[g.Xd.wS]=this.config().pO?{jf:"avc1",keySystem:h.zb.zz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,m[g.Xd.xS]=this.config().pO?{jf:"avc1",keySystem:h.zb.zz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,m[g.Xd.K2]=void 0,m[g.Xd.Fz]=void 0,m[g.Xd.O1]=void 0,m));}m={};return Object.assign(Object.assign({},l),(m[g.Xd.wS]=this.config().s1a?"ec-3":void 0,m[g.Xd.O1]=this.config().r1a?"ec-3":void 0,m[g.Xd.xS]=this.config().pO?{jf:"avc1",keySystem:h.zb.zz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,m[g.Xd.K2]=void 0,m[g.Xd.Fz]=void 0,m));};c.prototype.Sqa=function(l){var m,n,p;l=this.f_[l];m=[];n=h.zb.zz;if(l){if(this.is.Hu(l))p=l;else (m=l.features,p=l.jf,n=l.keySystem);return this.sA(n,p,m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.sA=function(l,m,n){l=f.QC.w7(l,m,n);return this.YH(l);};b.$La=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D;function c(F,G,E,I,L,K,H,R,O){F=g.IC.call(this,F,G,E,R) || this;F.Mc=I;F.Aa=L;F.vt=K;F.pc=H;F.zB=R;F.iq=O;F.type=h.Gm.vz;F.rS="hvc1";F.lnb="avc1";F.Icb={};F.log=F.vt.mb("MicrosoftVideoCapabilityDetector");F.n$b();F.p0 && F.config().HZb?F.b1a=F.mIb():(F.b1a=Promise.resolve(""),F.config().JZb?F.qIb():F.config().IZb && F.pIb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;k=a(42);g=a(280);h=a(26);t=a(122);d=a(93);f=a(5);l=a(344);m=a(120);n=a(277);p=a(49);q=a(278);r=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=new t.JG();D=new l.Tfa();ka(c,g.IC);c.prototype.dX=function(F){return F === h.qf.Kw && this.config().Qcc?m.Od.Uga:g.IC.prototype.dX.call(this,F);};c.prototype.NK=function(F){switch(F){case h.Fq.l3:return this.pib();case h.Fq.pG:return this.h_;default:return Promise.resolve(!1);}};c.prototype.JI=function(){var G;function F(){return G.p0?G.mUb?G.pib().then(function(E){return Promise.resolve(E?d.zb.he:d.zb.CG);}):Promise.resolve(d.zb.CG):G.mac?Promise.resolve(d.zb.CG):Promise.resolve(d.zb.zz);}G=this;this.keySystem || (this.keySystem=this.config().au?this.iq.tE().then(function(E){return E.keySystem;}):F());return this.keySystem;};c.prototype.n9=function(){return this.b1a;};c.prototype.q0=function(){return Promise.resolve({result:this.oib(),reason:"is-type-supported"});};c.prototype.r0=function(){return this.p0 && this.rib()?this.h_:Promise.resolve(!1);};c.prototype.lea=function(){return Promise.resolve(this.nib()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.rma=function(F){this.Jr=F;Object.assign(this.Jr,this.Icb);F.itshwdrm=this.p0;F.itsqhd=this.qib();F.itshevc=this.rib();F.itshdr=this.oib();F.itsdv=this.nib();F.itsav1=this.jac();this.TCa();};c.prototype.ZU=function(F,G){(this.Jr?this.Jr:this.Icb)[F]=G;};c.prototype.yX=function(){var F;F=this;return this.NK(h.Fq.pG).then(function(G){return G?F.v7(h.Fq.pG):F.NK(h.Fq.l3).then(function(E){return E?F.v7(h.Fq.l3):F.v7(void 0);});});};c.prototype.B9=function(){return this.config().au?Promise.resolve(void 0):this.JI().then(function(F){return F === d.zb.he?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Sqa=function(F){var G;G=this;return this.JI().then(function(E){var I,L,K;I=G.f_[F];if(I){L=[];if(G.is.Hu(I))K=I;else (L=I.features,K=I.jf,E=I.keySystem);return G.sA(E,K,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Ts=function(){var F;F=g.IC.prototype.Ts.call(this);F[k.H.n4]=F[k.H.m4]=F[k.H.l4]=F[k.H.Gja]={jf:"vp09.00.11.08.02",keySystem:d.zb.he,features:r};F[k.H.O2]=F[k.H.N2]=F[k.H.M2]={jf:"hev1.2.6.L90.B0",keySystem:d.zb.he,features:u};F[k.H.R2]=F[k.H.Q2]=F[k.H.P2]={jf:"hev1.2.6.L93.B0",keySystem:d.zb.he,features:u};F[k.H.U2]=F[k.H.T2]=F[k.H.S2]={jf:"hev1.2.6.L120.B0",keySystem:d.zb.he,features:u};F[k.H.X2]=F[k.H.W2]=F[k.H.V2]={jf:"hev1.2.6.L123.B0",keySystem:d.zb.he,features:u};F[k.H.Z2]=F[k.H.GS]=F[k.H.Y2]={jf:"hev1.2.6.L150.B0",keySystem:d.zb.he,features:u};F[k.H.b3]=F[k.H.HS]=F[k.H.a3]={jf:"hev1.2.6.L153.B0",keySystem:d.zb.he,features:u};F[k.H.v2]=F[k.H.u2]=F[k.H.t2]={jf:"hev1.2.6.L90.B0",keySystem:d.zb.he,features:w};F[k.H.y2]=F[k.H.x2]=F[k.H.w2]={jf:"hev1.2.6.L93.B0",keySystem:d.zb.he,features:w};F[k.H.A2]=F[k.H.FS]=F[k.H.z2]={jf:"hev1.2.6.L120.B0",keySystem:d.zb.he,features:w};F[k.H.D2]=F[k.H.C2]=F[k.H.B2]={jf:"hev1.2.6.L123.B0",keySystem:d.zb.he,features:x};F[k.H.G2]=F[k.H.F2]=F[k.H.E2]={jf:"hev1.2.6.L150.B0",keySystem:d.zb.he,features:x};F[k.H.J2]=F[k.H.I2]=F[k.H.H2]={jf:"hev1.2.6.L153.B0",keySystem:d.zb.he,features:x};F[k.H.R1]=F[k.H.Q1]={jf:"hev1.2.6.L90.B0",keySystem:d.zb.he,features:y};F[k.H.T1]=F[k.H.S1]={jf:"hev1.2.6.L93.B0",keySystem:d.zb.he,features:y};F[k.H.U1]=F[k.H.sga]=F[k.H.yS]={jf:"hev1.2.6.L120.B0",keySystem:d.zb.he,features:y};F[k.H.W1]=F[k.H.tga]=F[k.H.V1]={jf:"hev1.2.6.L123.B0",keySystem:d.zb.he,features:z};F[k.H.Y1]=F[k.H.uga]=F[k.H.X1]={jf:"hev1.2.6.L150.B0",keySystem:d.zb.he,features:z};F[k.H.a2]=F[k.H.vga]=F[k.H.Z1]={jf:"hev1.2.6.L153.B0",keySystem:d.zb.he,features:z};F[k.H.AC]={jf:"av01.0.04M.10",keySystem:d.zb.he,features:r};F[k.H.BC]={jf:"av01.0.05M.10",keySystem:d.zb.he,features:r};F[k.H.u1]={jf:"av01.0.08M.10",keySystem:d.zb.he,features:r};F[k.H.v1]={jf:"av01.0.09M.10",keySystem:d.zb.he,features:r};F[k.H.w1]={jf:"av01.0.12M.10",keySystem:d.zb.he,features:v};F[k.H.x1]={jf:"av01.0.13M.10",keySystem:d.zb.he,features:v};return F;};c.prototype.sA=function(F,G,E){F=n.QC.w7(F,G,E);return this.YH(F);};c.prototype.qib=function(){return this.sA(d.zb.he,this.rS,u);};c.prototype.oib=function(){return this.sA(d.zb.he,this.rS,w);};c.prototype.nib=function(){return this.sA(d.zb.he,this.rS,y);};c.prototype.jac=function(){return this.sA(d.zb.he,m.Od.Ml,r);};c.prototype.rib=function(){return this.sA(d.zb.he,this.rS,v);};c.prototype.pib=function(){var F;F=this;return this.h_.then(function(G){return G?Promise.resolve(G):F.Hdb;});};c.prototype.TCa=function(){this.Jr && (this.Jr.itshdcp=JSON.stringify({hdcp1:this.q6a,time1:this.Kib - this.Chb,hdcp2:this.r6a,time2:this.Lib - this.Dhb}));};c.prototype.n$b=function(){var F;F=this;this.p0?(this.h_=this.j5a(this.config().W$a,this.config().LZb,function(){var G;G=F.yQb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.Hdb=this.h_.then(function(G){return G?!0:F.j5a(F.config().W$a,F.config().KZb,function(){var E;E=F.xQb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;});})):(this.Hdb=Promise.resolve(!0),this.h_=Promise.resolve(!1));};c.prototype.j5a=function(F,G,E){var I;I=this;return new Promise(function(L){var K,H,R,O;K=na(E());H=K.next().value;K=K.next().value;if(H)return L(K);R=I.Mc.L_((0,f.tc)(F),function(){var J,M;J=na(E());M=J.next().value;J=J.next().value;M && (R.cancel(),O.cancel(),L(J));});O=I.Mc.Uk((0,f.tc)(G),function(){R.cancel();O.cancel();L("timeout");});});};c.prototype.xQb=function(){var F;F=n.QC.w7(d.zb.CG,this.lnb,A).split("|");this.q6a=n.QC.dCa(F[0],F[1]);this.Kib=this.Aa.xf.da(f.ma);this.Chb=this.Chb || this.Kib;this.TCa();return this.q6a;};c.prototype.yQb=function(){var F;F=n.QC.w7(d.zb.he,this.rS,B).split("|");this.r6a=n.QC.dCa(F[0],F[1]);this.Lib=this.Aa.xf.da(f.ma);this.Dhb=this.Dhb || this.Lib;this.TCa();return this.r6a;};c.prototype.mIb=function(){var F;F=this;return this.hpa(d.zb.he,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.VMa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.ZU("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.pIb=function(){var F;F=this;this.hpa(d.zb.zz,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.pc.decode(G));F.ZU("itsHardwareInfo",E);F.log.debug("HardwareInfo: " + E);return G;}).catch(function(G){F.ZU("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.qIb=function(){var F;F=this;this.hpa(d.zb.zz,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.pc.decode(G));F.ZU("itsHardwareReset",E);F.log.debug("ResetHardwareDRMDisabled: " + E);return G;}).catch(function(G){F.ZU("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.hpa=function(F,G){var E;E=this;return new Promise(function(I,L){var M,P,S;function K(U){try{O(U.target,"Unexpectedly got an mskeyerror event: 0x" + D.EI(U && U.target && U.target.error && U.target.error.ppc || 0,4));}catch(T){O(U.target,T);}}function H(U){O(U.target,"Unexpectedly got an mskeyadded event");}function R(U){var T;try{T=E.Nqa(U.message,"PlayReadyKeyMessage","Challenge");J(U.target);I(T);}catch(W){O(U.target,W);}}function O(U,T){E.log.error("PlayReadyChallenge error",{cdmData:G});J(U);L(T);}function J(U){U.removeEventListener("mskeymessage",R);U.removeEventListener("mskeyadded",H);U.removeEventListener("mskeyerror",K);S && S.cancel();}try{M=new Uint8Array(C.Yhb(G));P=new mb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),M);P.addEventListener("mskeymessage",R);P.addEventListener("mskeyadded",H);P.addEventListener("mskeyerror",K);S=E.Mc.Uk((0,f.tc)(1E3),function(){O(P,Error("timeout"));});}catch(U){L(U);}});};c.prototype.Nqa=function(F,G){var I,L,K;for(var E=1;E < arguments.length;++E){;}E="";L=F.length;for(I=0;I < L;I++){K=F[I];0 < K && (E+=String.fromCharCode(K));}L="\\s*(.*)\\s*";for(I=arguments.length - 1;0 < I;I--){K=arguments[I];if(0 > E.search(K))return;K="(?:[^:].*:|)" + K;L="[\\s\\S]*<" + K + "[^>]*>" + L + "</" + K + ">[\\s\\S]*";}if(E=E.match(new RegExp(L)))return E[1];};c.prototype.Nua=function(F){var G;G=this;return this.JI().then(function(E){return [q.Nf.CC,q.Nf.aD].some(function(I){return I.test(F);}) && G.config().V$a && ![d.zb.CG,d.zb.oOa].some(function(I){return I === E;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Va.Object.defineProperties(c.prototype,{mUb:{configurable:!0,enumerable:!0,get:function(){return this.config().v1a && (!this.config().MZb || this.qib());}},p0:{configurable:!0,enumerable:!0,get:function(){try{return this.YH(d.zb.he + "|" + m.Od.Gwa);}catch(F){return !1;}}},mac:{configurable:!0,enumerable:!0,get:function(){try{return this.YH(d.zb.CG);}catch(F){return !1;}}}});b.fLa=c;},function(t,b,a){var k,g,h,d,f;function c(l,m,n,p,q,r,u){l=k.IC.call(this,l,m,n,u) || this;l.iq=p;l.vt=q;l.Aa=r;l.zB=u;l.type=g.Gm.mL;l.log=l.vt.mb("ChromeVideoCapabilityDetector");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;k=a(280);g=a(26);h=a(5);d=a(49);f=a(278);ka(c,k.IC);c.prototype.NK=function(l){switch(l){case g.Fq.pG:return this.kac;default:return Promise.resolve(!1);}};c.prototype.yX=function(){var l;l=this;return this.NK(g.Fq.pG).then(function(m){return m?g.Fq.pG:void 0;}).then(function(m){return l.v7(m);});};c.prototype.rma=function(l){this.Jr=l;};c.prototype.wWb=function(l){var m;return !(null === (m=l.getConfiguration().videoCapabilities) || void 0 === m || !m.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.kG;}));};c.prototype.bkb=function(){var l;if(this.Jr){l=this.s6a && this.u6a && this.s6a.Ba(this.u6a).da(h.ma);this.Jr.itshdcp=JSON.stringify({hdcp2:this.Cv,time2:l});}};c.prototype.Nua=function(l){var m;m=this;return this.iq.tE().then(function(n){n=(0,d.w9)(n);if([f.Nf.CC,f.Nf.aD].some(function(p){return p.test(l);}) && m.config().V$a && n === d.kG)return {supported:!1,reason:"mcclearen-restricted"};n=m.config().TLb && n === d.kG;return [f.Nf.ppb,f.Nf.YL].some(function(p){return p.test(l);}) && !n?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Va.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.O$a || (this.O$a=this.iq.tE().then(function(l){return l.createMediaKeys();}));return this.O$a;}},kac:{configurable:!0,enumerable:!0,get:function(){var l;l=this;this.eCa || (this.config().VLb?this.eCa=Promise.all([this.iq.tE(),this.mediaKeys]).then(function(m){var n;n=na(m);m=n.next().value;n=n.next().value;if(!l.wWb(m))return (l.Cv="not HW_SECURE_ALL",l.log.trace("hdcpStatus: " + l.Cv),!1);if(n && n.getStatusForPolicy)return (l.u6a=l.Aa.xf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){l.s6a=l.Aa.xf;l.Cv=p;l.log.trace("hdcpStatus: " + l.Cv);return "usable" === l.Cv;}));l.Cv="not available";l.log.trace("hdcpStatus: " + l.Cv);return !1;}).catch(function(m){l.Cv="exception";l.log.error("Exception in supportsHdcpLevel",{hdcpStatus:l.Cv},m);return !1;}).then(function(m){l.bkb();return m;}):(this.Cv="not enabled",this.log.trace("hdcpStatus: " + this.Cv),this.bkb(),this.eCa=Promise.resolve(!1)));return this.eCa;}}});b.LFa=c;},function(t,b,a){var k,g;function c(h){this.navigator=h;this.L$a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;t=a(0);k=a(1);a=a(38);c.prototype.Rqa=function(h){return this.L$a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:h.contentType,width:h.width,height:h.height,bitrate:h.bitrate,framerate:h.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.JL))],g);b.xLa=g;},function(t,b,a){var k,g,h,d;function c(f,l){this.mediaCapabilities=f;this.log=l.mb("MediaCapabilities");this.f_=d.d2.Ts();}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;t=a(0);k=a(479);g=a(6);h=a(1);d=a(274);c.prototype.Rqa=function(f){var l,m,n,p;l=this;n={Kc:void 0};if(this.mediaCapabilities.L$a){p={contentType:'video/mp4;codecs="' + (null !== (m=this.f_[f.Te]) && void 0 !== m?m:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Rqa(p).then(function(q){return n.Kc=Object.assign(Object.assign({},q),p);}).catch(function(q){return l.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(k.ALa)),t.__param(1,(0,h.l)(g.sb))],a);b.yLa=a;},function(t,b,a){var k,g,h;function c(d){this.h4b=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;t=a(0);k=a(1);g=a(281);a=a(481);c.prototype.sNb=function(){var d,f;d={BO:g.nz.Stb};try{f=this.h4b.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(l){var m;d.BO=l.value?g.nz.xPa:g.nz.GDa;if(d.BO === g.nz.GDa){m=function(){l.value && (d.BO=g.nz.xPa);l.removeEventListener("change",m);};l.addEventListener("change",m);}}).catch(function(){d.BO=g.nz.Error;});}catch(l){d.BO=g.nz.Error;}return d;};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.yPa))],h);b.UHa=h;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u){this.config=p;this.navigator=q;this.vt=r;this.MP=u;this.rXa={};this.Skb={};this.Dma={};this.log=this.vt.mb("MediaCapabilityDetector");this.rXa=this.THb();this.Skb=this.VIb();}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;t=a(0);k=a(1);g=a(42);h=a(6);d=a(38);f=a(96);l=a(157);m=a(49);n=a(13);c.prototype.MW=function(p){var q;q=this;return this.MP.tE().then(function(r){return q.FNb(p,r);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.OVb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.yua=function(){return mb.matchMedia("(dynamic-range: high)").matches;};c.prototype.FNb=function(p,q){var r,u,v;try{r={type:"media-source"};u=this.rXa[p];v=this.Skb[p];if(u)r.audio=u;else if(v){r.video=v;if(this.OVb(v) && !this.yua())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (r.keySystemConfiguration=this.NQb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.FEb(r),this.CEb((u || v).contentType)]).then(function(w){var x;x=na(w);w=x.next().value;x=x.next().value;return w?x?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(w){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",w),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.FEb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(r){var u;r.configuration || (r.configuration=p);u=q.nWb(p,r);u?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(r)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(r));return u;}).catch(function(r){q.log.error("mediaCapabilities.decodingInfo failed",r);return !1;});};c.prototype.CEb=function(p){var q;q=this;if(!this.config().cMb)return Promise.resolve(!0);this.Dma[p] || (this.Dma[p]=new Promise(function(r){var u;try{u=new n.SC();document.createElement("video").src=URL.createObjectURL(u);u.addEventListener("sourceopen",function(){try{u.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);r(!0);}catch(v){q.log.warn("addSourceBuffer failed",v);r(!1);}});}catch(v){q.log.warn("addSourceBuffer failed",v);r(!1);}}));return this.Dma[p];};c.prototype.NQb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,m.w9)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.THb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[g.Xd.hG]=q;p[g.Xd.K2]=q;p[g.Xd.iG]=q;p[g.Xd.Fz]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[g.Xd.wS]=q;p[g.Xd.O1]=q;p[g.Xd.xS]=q;return p;};c.prototype.VIb=function(){var p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};r={width:1920,height:1080};u={width:3840,height:2160};v=Object.assign(Object.assign({},r),{bitrate:12E6,framerate:30});w=Object.assign(Object.assign({},r),{bitrate:2E7,framerate:60});x=Object.assign(Object.assign({},u),{bitrate:25E6,framerate:30});y=Object.assign(Object.assign({},u),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),v);r=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);C=Object.assign(Object.assign({},p),v);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),y);E=Object.assign(Object.assign(Object.assign({},p),v),z);I=Object.assign(Object.assign(Object.assign({},p),w),z);L=Object.assign(Object.assign(Object.assign({},p),x),z);p=Object.assign(Object.assign(Object.assign({},p),y),z);z=Object.assign(Object.assign(Object.assign({},q),v),A);K=Object.assign(Object.assign(Object.assign({},q),w),A);H=Object.assign(Object.assign(Object.assign({},q),x),A);q=Object.assign(Object.assign(Object.assign({},q),y),A);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),v);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),w);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),y);A={};return (A[g.H.fG]=u,A[g.H.gG]=u,A[g.H.Tga]=u,A[g.H.qIa]=u,A[g.H.rIa]=u,A[g.H.sIa]=u,A[g.H.oIa]=r,A[g.H.o2]=r,A[g.H.q2]=r,A[g.H.Rga]=r,A[g.H.pIa]=r,A[g.H.p2]=r,A[g.H.r2]=r,A[g.H.Sga]=r,A[g.H.Gja]=B,A[g.H.l4]=B,A[g.H.m4]=B,A[g.H.n4]=B,A[g.H.Vga]=C,A[g.H.Wga]=C,A[g.H.Xga]=C,A[g.H.Yga]=D,A[g.H.N2]=C,A[g.H.Q2]=C,A[g.H.T2]=C,A[g.H.W2]=D,A[g.H.GS]=F,A[g.H.HS]=G,A[g.H.O2]=C,A[g.H.R2]=C,A[g.H.U2]=C,A[g.H.X2]=D,A[g.H.Z2]=F,A[g.H.b3]=G,A[g.H.M2]=C,A[g.H.P2]=C,A[g.H.S2]=C,A[g.H.V2]=D,A[g.H.Y2]=F,A[g.H.a3]=G,A[g.H.u2]=E,A[g.H.x2]=E,A[g.H.FS]=E,A[g.H.C2]=I,A[g.H.F2]=L,A[g.H.I2]=p,A[g.H.v2]=E,A[g.H.y2]=E,A[g.H.A2]=E,A[g.H.D2]=I,A[g.H.G2]=L,A[g.H.J2]=p,A[g.H.t2]=E,A[g.H.w2]=E,A[g.H.z2]=E,A[g.H.B2]=I,A[g.H.E2]=L,A[g.H.H2]=p,A[g.H.Q1]=z,A[g.H.S1]=z,A[g.H.yS]=z,A[g.H.V1]=K,A[g.H.X1]=H,A[g.H.Z1]=q,A[g.H.sga]=z,A[g.H.tga]=K,A[g.H.uga]=H,A[g.H.vga]=q,A[g.H.R1]=z,A[g.H.T1]=z,A[g.H.U1]=z,A[g.H.W1]=K,A[g.H.Y1]=H,A[g.H.a2]=q,A[g.H.EDa]=v,A[g.H.FDa]=v,A[g.H.AC]=v,A[g.H.BC]=v,A[g.H.u1]=v,A[g.H.v1]=w,A[g.H.w1]=x,A[g.H.x1]=y,A);};c.prototype.nWb=function(p,q){return p.video && this.config().H3b?q.supported && q.powerEfficient:q.supported;};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(l.oL)),t.__param(1,(0,k.l)(d.JL)),t.__param(2,(0,k.l)(h.sb)),t.__param(3,(0,k.l)(f.uz))],a);b.vLa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;t=a(1);c=a(482);k=a(190);g=a(483);h=a(1183);d=a(282);f=a(1184);l=a(1187);m=a(1188);n=a(94);p=a(484);q=a(1190);b.storage=new t.vd(function(r){r(k.mMa).ef(function(){return function(){return mb.localStorage;};});r(k.mJa).ef(function(){return function(){return mb.indexedDB;};});r(p.XLa).to(q.WLa).ha();r(n.DC).to(m.aEa).ha();r(g.zKa).to(h.yKa).ha();r(c.j3).to(l.PJa).ha();r(d.RJa).to(f.QJa).ha();r(d.lJa).to(f.kJa).ha();r(d.TJa).to(f.SJa).ha();});},function(t,b,a){var k,g,h;function c(d){this.kF=d;}Object.defineProperty(b,"__esModule",{value:!0});b.yKa=void 0;t=a(0);k=a(1);g=a(3);a=a(190);c.prototype.load=function(d){var f;f=this;return new Promise(function(l,m){var n,p;try{n=f.kF.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}l({key:d,value:p});}else m({wa:g.R.ZC});}catch(q){m({wa:g.R.jQa,cause:q});}});};c.prototype.save=function(d,f,l){var m;m=this;return new Promise(function(n,p){if(l && m.kF.getItem(d))n(!1);else try{"string" === typeof f?m.kF.setItem(d,f):m.kF.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({wa:g.R.kQa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(l,m){try{f.kF.removeItem(d);l();}catch(n){m({wa:g.R.gja,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.yrb))],h);b.yKa=h;},function(t,b,a){var h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y,z,A,B,C){this.config=y;this.aW=z;this.uq=A;this.ldc=B;this.Kl=C;this.Da=x.mb(n.$Qa);}function k(x,y){this.config=x;this.E0=y;}function g(x,y,z,A,B){this.config=y;this.E0=z;this.Kl=B;this.Da=x.mb(n.$Qa);this.aW=new Promise(function(C,D){var F;try{F=A();F?C(F):D({wa:m.R.oJa});}catch(G){D({wa:m.R.i3,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=b.QJa=b.kJa=void 0;t=a(0);h=a(1);d=a(6);f=a(1185);l=a(190);m=a(3);n=a(1186);p=a(482);q=a(68);r=a(94);u=a(81);v=a(282);w=a(61);g.prototype.create=function(){this.upa || (this.upa=this.SN());return this.upa;};g.prototype.kr=function(x){var y;y=this;this.upa=null;return this.E0.Lt(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.us?Promise.reject({wa:m.R.i3}):z.wa?Promise.reject(z):Promise.reject({wa:m.R.i3,cause:z});});};g.prototype.delete=function(x){var y;y=this;return this.E0.Lt(this.config.timeout,new Promise(function(z,A){y.aW.then(function(B){var C;C=B.deleteDatabase(x);C.onsuccess=function(){z();};C.onerror=function(){A({wa:m.R.i3,cause:C.error});};}).catch(function(B){A(B);});}));};g.prototype.SN=function(){var x,y;x=this;return this.E0.Lt(this.config.timeout,new Promise(function(z,A){if(x.config.qBa)return A({wa:x.config.qBa});x.aW.then(function(B){x.Kl.mark(w.ik.Upb);y=B.open(x.config.name,x.config.version);if(!y)return A({wa:m.R.pJa});y.onblocked=function(){x.Kl.mark(w.ik.Rpb);A({wa:m.R.Npb});};y.onupgradeneeded=function(){var C;x.Kl.mark(w.ik.aqb);C=y.result;try{C.createObjectStore(x.config.rZ,{keyPath:"name"});}catch(D){x.Da.error("Exception while creating object store",D);}};y.onsuccess=function(C){var D,F;x.Kl.mark(w.ik.$pb);try{D=C.target.result;F=D.objectStoreNames.length;x.Da.trace("objectstorenames length ",F);if(0 === F){x.Da.error("invalid indexedDb state, deleting");x.Kl.mark(w.ik.Tpb);try{D.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({wa:m.R.Mpb});},1);return;}}catch(G){x.Da.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.Kl.mark(w.ik.Spb);x.Da.error("IndexedDB open error",y.error);A({wa:m.R.Opb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.us){try{y && y.readyState && x.Kl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.z6 && y && "done" === y.readyState){if(x.gdc(y))return (x.Kl.mark(w.ik.Ypb),Promise.resolve(y.result));x.Kl.mark(w.ik.Xpb);}x.Kl.mark(w.ik.Wpb);return Promise.reject({wa:m.R.Qpb});}if(z.wa)return Promise.reject(z);x.Kl.mark(w.ik.Vpb);x.Da.error("IndexedDB open exception occurred",z);return Promise.reject({wa:m.R.Ppb,cause:z});});};g.prototype.gdc=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Kl.mark(w.ik.Zpb);this.Da.error("failed to check open request state",y);}return !1;};a=g;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.sb)),t.__param(1,(0,h.l)(p.j3)),t.__param(2,(0,h.l)(q.GG)),t.__param(3,(0,h.l)(l.mJa)),t.__param(4,(0,h.l)(u.XL))],a);b.kJa=a;k.prototype.create=function(x){return Promise.resolve(new f.OJa(this.config,this.E0,x));};a=k;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(p.j3)),t.__param(1,(0,h.l)(q.GG))],a);b.QJa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.XV || (this.XV=this.SN(this.ldc));return this.XV;};c.prototype.SN=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.Kl.mark(w.ik.rtb);y.aW.create().then(function(B){y.uq.create(B).then(function(C){Promise.all(x.map(function(D){return D.validate(C);})).then(function(){y.storage=C;z(y.storage);}).catch(function(D){y.Da.debug("DB validation failed, cause: " + D);y.config.N2a?(y.Da.debug("Fixing corrupt DB"),y.aW.kr(B).then(function(){y.Da.error("Invalid database deleted, creating new database.");y.SN().then(function(F){y.Da.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.Da.error("Couldn't delete invalid database.");A(F);})):(y.Da.debug("Ignoring invalid DB due to config"),y.storage=C,z(y.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.sb)),t.__param(1,(0,h.l)(p.j3)),t.__param(2,(0,h.l)(v.lJa)),t.__param(3,(0,h.l)(v.RJa)),t.__param(4,(0,h.optional)()),t.__param(4,(0,h.DJ)(r.Atb)),t.__param(5,(0,h.l)(u.XL))],a);b.SJa=a;},function(t,b,a){var g,h,d;function c(f,l,m){this.config=f;this.Ft=l;this.kF=m;}function k(f,l){this.reason=f;this.cause=l;}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=b.LPa=void 0;g=a(3);h=a(68);(function(f){f[f.$ha=0]="NoData";f[f.Error=1]="Error";f[f.WL=2]="Timeout";})(d=b.LPa || (b.LPa={}));c.prototype.load=function(f){var l;l=this;return new Promise(function(m,n){l.u8("get",!1,f).then(function(p){m({key:f,value:p});}).catch(function(p){var q;q=g.R.jQa;switch(p.reason){case d.$ha:q=g.R.ZC;break;case d.WL:q=g.R.stb;}n({wa:q,cause:p.cause});});});};c.prototype.save=function(f,l,m){var n;n=this;return new Promise(function(p,q){n.u8(m?"add":"put",!0,{name:f,data:l}).then(function(){p(!m);}).catch(function(r){var u;u=g.R.kQa;switch(r.reason){case d.WL:u=g.R.vtb;}q({wa:u,cause:r.cause});});});};c.prototype.remove=function(f){var l;l=this;return new Promise(function(m,n){l.u8("delete",!0,f).then(function(){m();}).catch(function(p){var q;q=g.R.gja;switch(p.reason){case d.WL:q=g.R.iQa;}n({wa:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(l,m){f.u8("clear",!0,"").then(function(){l();}).catch(function(n){var p;p=g.R.gja;switch(n.reason){case d.WL:p=g.R.iQa;}m({wa:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.Ft.Lt(this.config.timeout,new Promise(function(l,m){var n,p,q;if(f.config.pBa)m(new k(f.config.pBa));else {n=[];p=f.kF.transaction(f.config.rZ,"readonly");q=p.objectStore(f.config.rZ).openCursor();p.onerror=function(){m(new k(d.Error,q.error));};q.onsuccess=function(r){if(r=r.target.result)try{n.push({key:r.value.name,value:r.value.data});r.continue();}catch(u){m(new k(d.Error,u));}else l(n);};q.onerror=function(){m(new k(d.Error,q.error));};}})).catch(function(l){return l instanceof h.us?Promise.reject(new k(d.WL,l)):l instanceof k?Promise.reject(l):Promise.reject(new k(d.Error,l));});};c.prototype.u8=function(f,l,m){var n;n=this;return this.Ft.Lt(this.config.timeout,new Promise(function(p,q){var r,u;r=n.kF.transaction(n.config.rZ,l?"readwrite":"readonly");u=r.objectStore(n.config.rZ)[f](m);r.onerror=function(){q(new k(d.Error,u.error));};u.onsuccess=function(v){var w;if("get" == f)try{w=v.target.result;w?p(w.data):q(new k(d.$ha));}catch(x){q(new k(d.$ha,x));}else p(void 0);};u.onerror=function(){q(new k(d.Error,u.error));};})).catch(function(p){return p instanceof h.us?Promise.reject(new k(d.WL,p)):p instanceof k?Promise.reject(p):Promise.reject(new k(d.Error,p));});};b.OJa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Qa="Storage";},function(t,b,a){var k,g,h,d,f;function c(l,m){l=h.pf.call(this,l,"IndexedDBConfigImpl") || this;l.config=m;l.version=1;l.rZ="namedatapairs";return l;}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;t=a(0);k=a(1);g=a(45);h=a(46);d=a(40);a=a(34);ka(c,h.pf);Va.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.PA?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Ohb;}},z6:{configurable:!0,enumerable:!0,get:function(){return this.config.z6;}},qBa:{configurable:!0,enumerable:!0,get:function(){return 0;}},pBa:{configurable:!0,enumerable:!0,get:function(){return 0;}},N2a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;t.__decorate([g.config(g.sC,"simulateIdbOpenError")],f.prototype,"qBa",null);t.__decorate([g.config(g.sC,"simulateIdbLoadAllError")],f.prototype,"pBa",null);t.__decorate([g.config(g.xd,"fixInvalidDatabase")],f.prototype,"N2a",null);f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.Fm)),t.__param(1,(0,k.l)(d.mp))],f);b.PJa=f;},function(t,b,a){var g,h,d,f,l,m,n;function c(p,q,r,u){this.Da=p;this.config=q;this.rUb=r;this.zwa=u;this.eI={mem:{storage:this.zwa,key:"mem"}};this.FF=this.config.FF;}function k(p,q,r,u){this.pg=p;this.uq=q;this.zwa=r;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.Cfa=b.aEa=void 0;t=a(0);g=a(1);h=a(3);d=a(282);f=a(6);l=a(484);m=a(1189);a=a(40);k.prototype.create=function(){this.XV || (this.XV=this.SN());return this.XV;};k.prototype.SN=function(){this.ABb=new c(this.pg.mb("AppStorage"),this.config,this.uq,this.zwa);return this.ABb.create();};n=k;n=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(f.sb)),t.__param(1,(0,g.l)(d.TJa)),t.__param(2,(0,g.l)(l.XLa)),t.__param(3,(0,g.l)(a.mp))],n);b.aEa=n;c.prototype.create=function(){var p;p=this;return this.rIb().then(function(q){if(!p.kEb(q,p.config.TX))throw p.O_b(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(r,u){q.eX(p).storage.load(p).then(function(v){r(v);}).catch(function(v){u(v);});});};c.prototype.save=function(p,q,r){var u;u=this;return new Promise(function(v,w){u.eX(p).storage.save(p,q,r).then(function(x){v(x);}).catch(function(x){w(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(r,u){q.eX(p).storage.remove(p).then(function(){r();}).catch(function(v){u(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,r){p.Deb("mem").then(function(){return p.Deb("idb");}).catch(function(u){return Promise.reject(u);}).then(function(){q();}).catch(function(u){p.Da.error("remove all failed");r(u);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.i9a("mem").then(function(r){q=q.concat(r);return p.i9a("idb");}).catch(function(r){p.kWb(r) || p.Da.error("IndexedDb.LoadAll exception",r);return [];}).then(function(r){return q=q.concat(r);}).catch(function(r){p.Da.error("load all failed",r);throw r;});};c.prototype.rIb=function(){var p;p=this;return this.rUb.create().then(function(q){p.eI.idb={storage:q,key:"idb"};}).catch(function(q){p.Da.error("idb failed to load",q);return q || ({wa:h.R.co});});};c.prototype.kEb=function(p,q){return !p || p && q?!0:!1;};c.prototype.O_b=function(p){var q;q="";p && (q+=p.wa);return {wa:q};};c.prototype.Deb=function(p){return (p=this.eI[p])?p.storage.removeAll():Promise.resolve();};c.prototype.i9a=function(p){return (p=this.eI[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.QNb=function(p){for(var q in this.FF){if(p.startsWith(q))return this.FF[q];}return this.FF[m.Znb];};c.prototype.eX=function(p){var q,r;q=this;this.QNb(p).every(function(u){return q.eI[u]?(r=q.eI[u],!1):!0;});if(!r){this.Da.error("component not found for storageKey",{z$b:p,hkc:Object.keys(this.eI),rules:this.FF});r=this.eI.mem;}this.Da.trace("component found for key",{storageKey:p,componentKey:r.key});return r;};c.prototype.kWb=function(p){return (p && (p.wa || p.errorSubCode)) === h.R.ZC;};b.Cfa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Znb="__default_rule_key__";},function(t,b,a){var k,g,h;function c(d){this.pg=d;this.EJ={};this.Da=this.pg.mb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;t=a(0);k=a(1);g=a(3);a=a(6);c.prototype.load=function(d){var f;if(this.EJ.hasOwnProperty(d)){f=this.EJ[d];this.Da.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.Da.debug("Storage entry not found",{key:d});return Promise.reject({wa:g.R.ZC});};c.prototype.save=function(d,f,l){if(l && this.EJ.hasOwnProperty(d))return Promise.resolve(!1);this.EJ[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.EJ[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.EJ).map(function(f){var l;l=na(f);f=l.next().value;l=l.next().value;return {key:f,value:l};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.EJ={};return Promise.resolve();};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.sb))],h);b.WLa=h;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.xN=void 0;t=a(1);c=a(485);k=a(486);g=a(487);h=a(1192);d=a(1193);f=a(1194);b.xN=new t.vd(function(l){l(c.VEa).to(h.UEa).ha();l(k.TEa).to(d.QEa).ha();l(g.SEa).to(f.REa).ha();});},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p,q){this.T6=n;this.Bb=p;this.$Cb=q;this.Da=m.mb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;t=a(0);k=a(1);g=a(486);h=a(487);d=a(6);f=a(27);l=a(5);c.prototype.hBb=function(m){var n,p;n=m.gb.playbackState && m.gb.playbackState.currentTime;p=this.PPb(m.I);n=this.Bb.lI(n)?(0,l.tc)(n):p;if(this.Bb.Vg(n))(this.Da.info("Overriding bookmark",{From:m.bL.da(l.ma),To:n.da(l.ma)}),m=Object.assign({},m,{bL:n}));else if(this.vUb(m))return (this.Da.trace("Ignoring bookmark because it's too close to beginning"),(0,l.si)(0));return m.bL.Gua()?(this.Da.trace("Ignoring bookmark because it's negative"),(0,l.si)(0)):this.uUb(m)?(this.Da.trace("Ignoring bookmark because it's too close to end"),(0,l.si)(0)):this.tUb(m)?(this.Da.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,l.si)(0)):m.bL;};c.prototype.vUb=function(m){return 0 > m.bL.Wl(this.hsa(m));};c.prototype.hsa=function(m){return this.SXa(this.T6.hsa(),m.jca);};c.prototype.uUb=function(m){return 0 < m.bL.Wl(this.isa(m));};c.prototype.isa=function(m){var n;n=m.gb.Ph?this.T6.CQb():this.T6.isa();return m.jca.Ba(this.SXa(n,m.jca));};c.prototype.tUb=function(m){return 0 < m.bL.Wl(this.mQb(m));};c.prototype.mQb=function(m){return m.jca.Ba((0,l.tc)(m.hF));};c.prototype.PPb=function(m){var n;m=this.T6.Mra()[m];n=-1;this.Bb.Hu(m)?n=parseInt(m):this.Bb.ko(m) && (n=m);if(this.Bb.cV(n))return (0,l.tc)(n);};c.prototype.SXa=function(m,n){return this.$Cb.N$b(m,n);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(d.sb)),t.__param(1,(0,k.l)(g.TEa)),t.__param(2,(0,k.l)(f.Kg)),t.__param(3,(0,k.l)(h.SEa))],a);b.UEa=a;},function(t,b,a){var k,g;function c(h){this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;t=a(0);k=a(1);a=a(12);c.prototype.hsa=function(){return this.GI().aDb;};c.prototype.isa=function(){return this.GI().bDb;};c.prototype.CQb=function(){return this.GI().cDb;};c.prototype.Mra=function(){return this.GI().RXa;};c.prototype.GI=function(){return this.config();};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.Ic))],g);b.QEa=g;},function(t,b,a){var k,g,h;function c(d){this.Bb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;t=a(0);k=a(1);g=a(27);h=a(5);c.prototype.N$b=function(d,f){var l,m;l=parseFloat(d);m=0;"%" === d[d.length - 1] && this.Bb.ko(l)?m=Math.round(l * f.da(h.ma) / 100):(d=parseInt(d),this.Bb.cV(d) && (m=d));return (0,h.tc)(Math.min(m,f.da(h.ma)));};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.Kg))],a);b.REa=a;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.pYa=void 0;t=a(1);c=a(488);k=a(1196);b.pYa=new t.vd(function(g){g(c.nFa).to(k.mFa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r,u,v,w,x){this.config=q;this.cF=u;this.profile=v;this.Dea=w;this.FV=x;this.log=r.mb("CDMAttestedDescriptor");this.J3a(n.Sw.pT);}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;t=a(0);k=a(1);g=a(12);h=a(6);d=a(159);f=a(283);l=a(78);m=a(168);n=a(40);p=a(57);c.prototype.J3a=function(q){var r;r=this;return this.Dea.Oda(q)?this.config().QLb?this.H3a().then(function(u){if(u)return (!1,Promise.resolve(void 0));r.a9a || (!1,r.a9a=r.FV.Qsa(p.Bi.np));return r.a9a;}).catch(function(u){r.log.error("Failed to generate challenge",u);}).then(function(u){null === u || void 0 === u?void 0:u.bc.close();return null === u || void 0 === u?void 0:u.goa;}).then(function(u){return Promise.all([Promise.resolve(u),r.H3a()]);}).then(function(u){var v;u=na(u);v=u.next().value;if(u.next().value)!1;else return v;}):this.cF().then(function(u){u.iZ.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.H3a=function(){var q;q=this;return this.cF().then(function(r){return (r=r.iZ.getServiceTokens(q.profile)) && r.find(function(u){return "cad" === u.name;});});};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.Ic)),t.__param(1,(0,k.l)(h.sb)),t.__param(2,(0,k.l)(d.fT)),t.__param(3,(0,k.l)(l.PL)),t.__param(4,(0,k.l)(f.k4)),t.__param(5,(0,k.l)(m.L1))],a);b.mFa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.U9a=void 0;t=a(1);c=a(272);k=a(1198);g=a(489);h=a(1205);d=a(493);f=a(495);l=a(1206);m=a(132);n=a(1207);p=a(497);q=a(1208);b.U9a=new t.vd(function(r){r(g.mLa).to(h.lLa).ha();r(c.Nha).to(k.nLa).ha();r(d.TOa).vm(function(u){for(var v=[],w=0;w < arguments.length;++w){v[w - 0]=arguments[w];}w=a(285).KG;return new (Function.prototype.bind.apply(w,[null].concat(ha(v))))();});r(f.qLa).ef(function(){return function(u){return new l.rLa(u);};});r(m.DL).to(n.jLa).ha();r(p.iLa).to(q.hLa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x){this.pg=u;this.config=v;this.rya=w;this.zCa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;t=a(0);k=a(1);g=a(6);h=a(489);d=a(1199);f=a(1200);l=a(1201);m=a(1202);n=a(1203);p=a(1204);q=a(493);a=a(494);c.prototype.create=function(u){var v,w;v=this.pg.mb("ManifestParser",u);w=new d.HFa(v,this.config);return new l.oLa(w,new f.qRa(v,this.config,u,w,this.rya),new m.LRa(v,u,this.zCa),new n.FEa(v,this.config,u),new p.nSa(v));};r=c;r=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.mLa)),t.__param(2,(0,k.l)(q.TOa)),t.__param(3,(0,k.l)(a.JRa))],r);b.nLa=r;},function(t,b,a){var k,g,h;function c(d,f){this.log=d;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.HFa=void 0;k=a(103);g=a(284);h=a(23);c.prototype.Oxa=function(d,f,l){var m,n,p,q;m=this;n=this.config.eoa;p=this.config.doa;d=na((0,k.Wv)(function(r){return (!n.length || 0 <= n.indexOf(r.id)) && 0 > p.indexOf(r.id);},d || []));q=d.next().value;d.next().value.forEach(function(r){return m.log.warn("Cdn is not allowed",{Id:r.id});});d=q.map(function(r){var u;u=(f?f.find(function(v){return v.key === r.key;}):void 0) || ({});return {id:r.id,name:r.name,Zb:r.Zb,type:r.type,q9a:r.key,UVb:r.H9a,location:{id:u.key,Zb:u.Zb,level:u.level,weight:u.weight}};});d.sort(function(r,u){return r.Zb - u.Zb;});this.log.trace("Transformed cdns",{Count:d.length});if(l && !d.length)throw Error("no valid cdns");return d;};c.prototype.nUb=function(d,f,l,m){var n;n=d.filter(function(p){return -1 === l.findIndex(function(q){return q.id === p.id;});}).map(function(p){return {Pbb:!0,Gc:p};}).concat(l.map(function(p){return {Pbb:!1,Gc:p};})).sort(function(p,q){return p.Gc.Zb === q.Gc.Zb?p.Pbb?-1:1:p.Gc.Zb - q.Gc.Zb;}).map(function(p,q){(0,g.GP)(p.Gc).Zb=q + 1;return p.Gc;});d=f.filter(function(p){return -1 === m.findIndex(function(q){return q.key === p.key;});}).concat(m).map(function(p){var q;q=n.findIndex(function(r){return r.key === p.key;});(0,h.ib)(-1 !== q);q=n[q];(0,g.GP)(p).Zb=q.Zb;return p;});return {m8b:n,TXb:d};};b.HFa=c;},function(t,b,a){var k,g,h,d;function c(f,l,m,n,p){this.log=f;this.config=l;this.j=m;this.HV=n;this.rya=p;}Object.defineProperty(b,"__esModule",{value:!0});b.qRa=void 0;k=a(42);g=a(13);h=a(131);d=a(490);c.prototype.pcb=function(f,l){var m;m=this;l=l.map(function(n){var p,q,r,u,v;r=m.pbc(n);n.ME || !n.Si || r && 0 < r.length || m.log.error("track without downloadables",m.XQb(n));u={};v=[];0 < r.length && (u=n.language && 0 <= m.config.gP.indexOf(n.language)?r[1] && r[1].profile === k.Em.nJa?r[1]:r[0]:r[0],u.profile == k.Em.HL && (u=m.a8b(r),!1),v=m.HV.Oxa(n.FYa,void 0,!1));n=m.rya(m.j,n.Fg,n.id,null !== (p=n.Zb) && void 0 !== p?p:-1,null !== (q=n.Si) && void 0 !== q?q:!0,f,u.Yb,u.urls || ({}),v,n.language,n.RE,h.i4[n.wi.toLowerCase()] || h.Jq.ML,n.LK,n.variant,n.uF.toUpperCase(),u.profile,m.eRb(u) || ({}),n.ME,n.P$,n.S$,n.Dv);m.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:l.length});return l;};c.prototype.Vac=function(f){var l,m;l=this;m=this.config.ura;if(m){if(f=na(f.filter(function(n){return n.uf == m || n.trackId == m;})).next().value)return f;}else if(this.j.N8 && (f=na(f.filter(function(n){return n.trackId == l.j.N8;})).next().value))return f;};c.prototype.pbc=function(f){var l,m;l=this;m=f.$0a;f=Object.entries(f.ECa || ({})).map(function(n){var p;p=na(n);n=p.next().value;p=p.next().value;return {Yb:m[n],profile:n,size:p.size || 0,priority:l.gQb(n,p),offset:p.Fwa || 0,W2b:p.width,Dcb:p.height,urls:p.cv};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.gQb=function(f,l){var m,n;m=this.config.vw.indexOf(f);l=l.size;n=this.config.AR;return f === k.Em.lga && 0 < n && l > n?this.config.vw.length + 1:0 <= m?m:this.config.vw.length;};c.prototype.eRb=function(f){if(f.profile === k.Em.HL)return {offset:f.offset,length:f.size,om:{width:f.W2b,height:f.Dcb}};};c.prototype.a8b=function(f){var l,m;l=this.config.Sta || d.wja.l5a();m=na(f.filter(function(n){return n.profile === k.Em.HL;}).filter(function(n){return n.Dcb === l;})).next().value;if(m)return m;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.Uw.height,intendedResolution:l});return f[0];};c.prototype.XQb=function(f){return {isNone:f.ME,isForced:f.P$,bcp47:f.language,id:f.Fg};};b.qRa=c;},function(t,b,a){var k;function c(g,h,d,f,l){this.HV=g;this.jCa=h;this.zbc=d;this.rV=f;this.Xkb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;k=a(284);c.prototype.mcb=function(g){var h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A;f=g.ab;l={Rf:null !== (d=null === (h=f.JN) || void 0 === h?void 0:h.Xo) && void 0 !== d?d:"",lF:f.C7a?"ads":"content"};m=! !f.o_;h=this.HV.Oxa(f.Il,f.Qj,!0);d=this.jCa.pcb(l,f.D0);g=this.zbc.y2b(f.Cbc);n=m?this.rV.lcb(l,f.Lu,d):this.rV.t2b(l,f.Lu,f.media,d);l=this.Xkb.z2b(l,f.Bw);p=l[0];q=this.rV.wCb(n) || n.find(function(B){return m?B.trackId === f.o_.po:B.$x === f.N7[0].po;}) || n[0];r=this.jCa.Vac(q.vi) || d.find(function(B){return m?B.trackId === f.o_.BR:B.$x === f.N7[0].gib;}) || q.vi[0];u=this.Xkb.v2b(f.Bw);v=f.li;w=f.tFb;x=f.DE;y=f.Yl;z=f.Lu.findIndex(function(B){return B.Fg == q.trackId;});A=f.Bw.findIndex(function(B){return B.Fg == p.trackId;});return {iw:u,Ag:h,fj:n,xC:l,vi:d,rC:g,li:v,q8b:w,iJ:x,Yl:y,IJb:z,QJb:A,O7:p,eW:q,gW:r};};c.prototype.oUb=function(g,h,d){var f,l,m,n,p,q;f=this;n=this.HV.nUb(g.ab.Il,g.ab.Qj,d.ab.Il,d.ab.Qj);p=n.m8b;n=n.TXb;(0,k.GP)(g.ab).Il=p;(0,k.GP)(g.ab).Qj=n;h.Ag=this.HV.Oxa(p,n,!0);q={Rf:null !== (m=null === (l=d.ab.JN) || void 0 === l?void 0:l.Xo) && void 0 !== m?m:"",lF:d.ab.C7a?"ads":"content"};d=d.ab;l=d.Lu;d.D0.forEach(function(r){var u;if(r.Si){u=f.Ueb(g.ab.D0,h.vi,r,function(v){return f.jCa.pcb(q,[v])[0];});u && h.fj.forEach(function(v){var w;v=v.vi;w=v.findIndex(function(x){return x.trackId === u.trackId;});-1 !== w && (v[w]=u);});}});l.forEach(function(r){r.Si && f.Ueb(g.ab.Lu,h.fj,r,function(u){return f.rV.lcb(q,[u],h.vi)[0];});});return {ea:g,Pc:h};};c.prototype.C7b=function(g,h){return this.rV.ENb(g,h);};c.prototype.Ueb=function(g,h,d,f){var l,m,n,p;l=g.findIndex(function(q){return q.Fg === d.Fg;});m=-1 !== l?g[l]:void 0;n=h.findIndex(function(q){return q.trackId === d.Fg;});p=-1 !== n?h[n]:void 0;if(m && !m.Si && p && !p.Si)return (f=f(d),g[l]=d,h[n]=f);};b.oLa=c;},function(t,b){function a(c,k,g){this.log=c;this.j=k;this.zCa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.LRa=void 0;a.prototype.y2b=function(c){var k;k=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return k.zCa(k.j,g.id,g.height,g.width,g.Z2b,g.$2b,g.size,g.Dv,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,h){return g.size - h.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.LRa=a;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q){n=g.cT.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;k=a(475);g=a(491);h=a(103);d=a(89);f=a(131);l=a(3);m=a(37);ka(c,g.cT);c.prototype.lcb=function(n,p,q){var r,u;r=this;u=this.config.kea;p=p.filter(function(v){var w,x;w=v.ME || !v.Si || v.streams && 0 < v.streams.length;w || r.log.warn("Audio track is missing streams",r.K9(v));x=0 === u.length || 0 <= u.indexOf(v.wi);x || r.log.warn("Audio track is not supported",r.K9(v));return w && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return r.kcb(n,v,r.jPb(v,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.t2b=function(n,p,q,r){var u,v,w,x;u=this;v=na((0,h.Wv)(function(y){return y.ME;},p));p=v.next().value;v=v.next().value;v=na((0,h.Wv)(function(y){return y.streams && 0 < y.streams.length;},v));w=v.next().value;v.next().value.forEach(function(y){return u.log.warn("Audio track is missing streams",u.K9(y));});x=this.config.kea;v=na((0,h.Wv)(function(y){return 0 === x.length || 0 <= x.indexOf(y.wi);},w));w=v.next().value;v.next().value.forEach(function(y){return u.log.warn("Audio track is not supported",u.K9(y));});p=[].concat(ha(w),ha(p)).map(function(y){return u.kcb(n,y,u.QQb(y.Fg,q,r));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.wCb=function(n){var p,q;p=this;q=this.config.qra;if(q){if(n=na(n.filter(function(r){return r.uf == q || r.trackId == q;})).next().value)return n;}else if(this.j.M8 && (n=na(n.filter(function(r){return r.trackId == p.j.M8;})).next().value))return n;};c.prototype.ENb=function(n,p){this.config.CXa.forEach(function(q){var r,u,v;r=p.Lu.filter(function(w){return w.profile === q;}).reduce(function(w,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){w.add(y);});return w;},new Set());u=!1;v=n.ab.Lu.map(function(w){var x;if(w.profile === q){x=w.streams.filter(function(y){return r.has(y.bitrate);});if(x.length === w.streams.length)return w;u=!0;if(0 === x.length)throw new m.jd(l.V.WKa,l.R.amb);return Object.assign(Object.assign({},w),{streams:x});}return w;});u && (n.ab=Object.assign(Object.assign({},n.ab),{Lu:v}));});return n;};c.prototype.kcb=function(n,p,q){var r,u,v,w;w=p.wi;n=Object.assign(Object.assign({},n),{type:d.cj.audio,LK:p.LK,variant:p.variant,trackId:p.Fg,$x:p.GR,wi:f.i4[w.toLowerCase()] || f.Jq.ML,uF:w,uf:p.language,displayName:p.RE,Zb:null !== (r=p.Zb) && void 0 !== r?r:-1,Si:null !== (u=p.Si) && void 0 !== u?u:!0,channels:p.channels,Ekc:p.channels,vi:q,xh:{Bcp47:p.language,TrackId:p.Fg},streams:[],isNative:p.isNative,Br:p.ME,s0:p.s0});n.streams=this.njb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.vi.length});n.DFb=k.GEa[null === (v=n.streams[0]) || void 0 === v?void 0:v.Te];return n;};c.prototype.K9=function(n){return {language:n.RE,bcp47:n.language,type:n.wi};};c.prototype.jPb=function(n,p){return p.filter(function(q){if(0 <= n.NKb.indexOf(q.$x))return !1;if(n.m0a){if(n.m0a !== q.$x && (q.Br() || q.bq()))return !1;}else if(n.B0b){if(q.Br() || q.bq())return !1;}else if(q.bq())return !1;return !0;});};c.prototype.QQb=function(n,p,q){return p.filter(function(r){return r.Ie.cc === n;}).map(function(r){return r.Ie.Dm;}).map(function(r){return q.find(function(u){return u.trackId === r;});}).filter(Boolean);};b.FEa=c;},function(t,b,a){var k,g,h,d;function c(f){return g.cT.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nSa=void 0;k=a(103);g=a(491);h=a(89);d=a(131);ka(c,g.cT);c.prototype.z2b=function(f,l){var m,n;m=this;l=na((0,k.Wv)(function(p){return p.streams && 0 < p.streams.length;},l));n=l.next().value;l.next().value.forEach(function(p){return m.log.warn("Video track is missing streams",{trackId:p.Fg});});l=n.map(function(p){var q;q=p.wi;q=Object.assign(Object.assign({},f),{type:h.cj.video,trackId:p.Fg,$x:p.GR,wi:d.i4[q.toLowerCase()] || d.Jq.ML,uF:q,streams:[],xh:{},e_:p.e_});q.streams=m.njb(p.streams,q);m.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!l.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:l.length});return l;};c.prototype.v2b=function(f){var l;l=f.map(function(m){return m.e_;}).filter(Boolean);l=[].concat.apply([],ha(l)).map(function(m){return m.aa;});f=f.map(function(m){return m.Zpa;}).filter(Boolean).map(function(m){return m.aa;});return 0 < l.length?l:f;};b.nSa=c;},function(t,b,a){var k,g,h,d,f,l;function c(m,n){m=g.pf.call(this,m,"ManifestParserConfigImpl") || this;m.sh=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);d=a(45);f=a(108);l=a(51);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{kea:{configurable:!0,enumerable:!0,get:function(){return [];}},qra:{configurable:!0,enumerable:!0,get:function(){return "";}},eoa:{configurable:!0,enumerable:!0,get:function(){return [];}},doa:{configurable:!0,enumerable:!0,get:function(){return [];}},ura:{configurable:!0,enumerable:!0,get:function(){return "";}},Sta:{configurable:!0,enumerable:!0,get:function(){return 0;}},AR:{configurable:!0,enumerable:!0,get:function(){return this.sh.AR.da(l.Hw);}},vw:{configurable:!0,enumerable:!0,get:function(){return this.sh.vw;}},gP:{configurable:!0,enumerable:!0,get:function(){return this.sh.gP;}},CXa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;t.__decorate([d.config(d.KK,"supportedAudioTrackTypes")],a.prototype,"kea",null);t.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"qra",null);t.__decorate([d.config(d.GCa,"cdnIdWhiteList")],a.prototype,"eoa",null);t.__decorate([d.config(d.GCa,"cdnIdBlackList")],a.prototype,"doa",null);t.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"ura",null);t.__decorate([d.config(d.sC,"imageSubsResolution")],a.prototype,"Sta",null);t.__decorate([d.config(d.sC,"timedTextSimpleFallbackThreshold")],a.prototype,"AR",null);t.__decorate([d.config(d.KK,"timedTextProfiles")],a.prototype,"vw",null);t.__decorate([d.config(d.KK,"imscLanguageList")],a.prototype,"gP",null);t.__decorate([d.config(d.KK,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"CXa",null);a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm)),t.__param(1,(0,k.l)(f.BG))],a);b.lLa=a;},function(t,b){function a(c){this.Pc=c;this.Ob=JSON.stringify(this.$Qb());}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;a.prototype.$Qb=function(){var c;c=[];(!this.Pc.Ag || 0 >= this.Pc.Ag.length) && c.push({error:"No CDN."});this.Pc.eW || c.push({error:"No default audio track.",foundTracks:this.esa(this.Pc.fj)});this.Pc.O7 || c.push({error:"No default video track.",foundTracks:this.esa(this.Pc.xC)});this.Pc.gW || c.push({error:"No default subtitle track.",foundTracks:this.esa(this.Pc.vi)});return c;};a.prototype.esa=function(c){return c && 0 < c.length?c.map(function(k){return k.trackId;}):"No tracks found.";};b.rLa=a;},function(t,b,a){var k,g,h,d,f;function c(l,m){this.f9a=l;this.vYb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;t=a(0);k=a(1);g=a(496);h=a(497);d=a(37);f=a(3);c.prototype.create=function(l){var m,n,p,q;m=this;if(l && !this.RVb(l)){if(this.XVb(l))throw d.jd.Xdc(f.V.CL,f.R.wtb,l);q=this.f9a();q.uma(l.links);this.vYb.uO(l);return {ab:l,Pj:q,Dua:!1,Cua:!1,Ou:null !== (p=null === (n=l.Ou) || void 0 === n?void 0:n.map(function(r){var u;u=m.f9a();u.uma(r.links);return {ab:r,Pj:u,Dua:!1,Cua:!1,Ou:[]};})) && void 0 !== p?p:[]};}};c.prototype.XVb=function(l){return ("type" in l) && "muxed" === l.type;};c.prototype.RVb=function(l){return ("runtime" in l) && ! !l.runtime;};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.ENa)),t.__param(1,(0,k.l)(h.iLa))],a);b.jLa=a;},function(t,b,a){var k,g;function c(h){this.DMb=h;this.R9a={Bo:"drmType",vlc:"drmVersion",expiration:"expiration",I:"movieId",Wo:"packageId",duration:"duration",li:"playbackContextId",N7:["defaultTrackOrderList",{LP:"mediaId",SR:"videoTrackId",gib:"subtitleTrackId",po:"audioTrackId",joc:"preferenceOrder"}],zlc:["eligibleABTestMap",{jk:g.jk}],kkc:["badgingInfo",{olc:"dolbyDigitalAudio",pmc:"hdrVideo",plc:"dolbyVisionVideo",Ipc:"ultraHdVideo","3dVideo":"3dVideo",nlc:"dolbyAtmosAudio",ckc:"assistiveAudio",Noc:"sdVideo",omc:"hdVideo"}],type:"type",fkc:["audioTextShortcuts",{id:"id",po:"audioTrackId",spc:"textTrackId"}],coc:"partiallyHydrated",v$a:"maxRecommendedAudioRank",w$a:"maxRecommendedTextRank",Yl:"drmContextId",tTb:"hasDrmProfile",sTb:"hasClearProfile",DE:"hasDrmStreams",W9:"hasClearStreams",Qj:["locations",{Zb:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Il:["servers",{id:"id",name:"name",type:"type",Zb:"rank",H9a:"lowgrade",WKb:["dns",{host:"host",qVb:"ipv4",rVb:"ipv6",sOb:"forceLookup"}],key:"key"}],Lu:["audio_tracks",{type:"type",LK:"subType",variant:"variant",wi:"trackType",Fg:"new_track_id",GR:"track_id",J4b:"profileType",w$b:"stereo",profile:"profile",channels:"channels",language:"language",BEb:"channelsFormat",s0:"surroundFormatLabel",RE:"languageDescription",NKb:"disallowedSubtitleTracks",m0a:"defaultTimedText",isNative:"isNative",ME:"isNoneTrack",streams:["streams",{Ao:"downloadable_id",size:"size",hI:"content_profile",wi:"trackType",bitrate:"bitrate",Lj:"isDrm",urls:["urls",{ro:"cdn_id",url:"url"}],G_b:"new_stream_id",type:"type",channels:"channels",BEb:"channelsFormat",s0:"surroundFormatLabel",language:"language",ekc:"audioKey",n_b:["moov",{size:"size",offset:"offset"}],Ky:["sidx",{size:"size",offset:"offset"}],jC:["ssix",{size:"size",offset:"offset"}],sj:"tags",Hza:"representationId"}],DFb:"codecName",uF:"rawTrackType",id:"id",Zb:"rank",Si:"hydrated",B0b:"offTrackDisallowed"}],Bw:["video_tracks",{wi:"trackType",Fg:"new_track_id",type:"type",GR:"track_id",tTb:"hasDrmProfile",sTb:"hasClearProfile",DE:"hasDrmStreams",W9:"hasClearStreams",UI:"groupName",streams:["streams",{Ao:"downloadable_id",size:"size",hI:"content_profile",wi:"trackType",pI:"drmHeaderId",bitrate:"bitrate",Lj:"isDrm",urls:["urls",{ro:"cdn_id",url:"url"}],G_b:"new_stream_id",type:"type",eoc:"peakBitrate",FKb:"dimensionsCount",GKb:"dimensionsLabel",Fcb:"pix_w",Ecb:"pix_h",hfb:"res_w",Nza:"res_h",dJb:"crop_x",eJb:"crop_y",cJb:"crop_w",bJb:"crop_h",j3a:"framerate_value",i3a:"framerate_scale",xhb:"startByteOffset",cb:"vmaf",n_b:["moov",{size:"size",offset:"offset"}],Ky:["sidx",{size:"size",offset:"offset"}],jC:["ssix",{size:"size",offset:"offset"}],Sr:["segmentVmaf",{offset:"offset",cb:"vmaf"}],sj:"tags",Hza:"representationId"}],J4b:"profileType",w$b:"stereo",profile:"profile",FKb:"dimensionsCount",GKb:"dimensionsLabel",epc:["snippets",{jk:[g.jk,{dpc:"snippetSpec",qa:"startTimeMs",sa:"endTimeMs"}]}],Zpa:["drmHeader",{aa:"bytes",XEb:"checksum",pI:"drmHeaderId",cq:"keyId",om:["resolution",{height:"height",width:"width"}]}],e_:["prkDrmHeaders",{aa:"bytes",XEb:"checksum",pI:"drmHeaderId",cq:"keyId",om:["resolution",{height:"height",width:"width"}]}],pv:"flavor",Amc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",gya:"pixelAspectX",hya:"pixelAspectY",knc:"maxCroppedWidth",jnc:"maxCroppedHeight",lnc:"maxCroppedX",mnc:"maxCroppedY",twa:"max_framerate_value",swa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Cnc:"minCroppedWidth",Bnc:"minCroppedHeight",Dnc:"minCroppedX",Enc:"minCroppedY",vh:["license",{kXb:"licenseResponseBase64",qoc:"providerSessionToken",Roc:"secureStopExpected",ulc:"drmSessionId",links:["links",{}]}]}],JN:["cdnResponseData",{wK:"sessionABTestCell",Xo:"pbcid"}],so:["choiceMap",{Vd:"initialSegment",type:"type",K:"viewableId",N:["segments",{jk:[g.jk,{qa:"startTimeMs",sa:"endTimeMs",next:["next",{jk:[g.jk,{weight:"weight"}]}],Rb:"defaultNext",Up:"exitZones"}]}]}],xo:["contentPlaygraph",{fa:["playgraph",{Vd:"initialSegment",N:["segments",{jk:[g.jk,{K:"viewableId",qa:"startTimeMs",sa:"endTimeMs",next:["next",{jk:[g.jk,{weight:"weight"}]}],Rb:"defaultNext"}]}]}],jpc:["startIdent",{Bmc:"identToken",K:"viewableId"}]}],media:["media",{id:"id",Ie:["tracks",{cc:"AUDIO",Dm:"TEXT",Jb:"VIDEO"}]}],o_:["recommendedMedia",{SR:"videoTrackId",po:"audioTrackId",BR:"timedTextTrackId"}],D0:["timedtexttracks",{wi:"trackType",Fg:"new_track_id",type:"type",LK:"subType",variant:"variant",uF:"rawTrackType",RE:"languageDescription",language:"language",id:"id",ME:"isNoneTrack",P$:"isForcedNarrative",$0a:["downloadableIds",{}],FYa:["cdnlist",{id:"id",name:"name",type:"type",Zb:"rank",H9a:"lowgrade",WKb:["dns",{host:"host",qVb:"ipv4",rVb:"ipv6",sOb:"forceLookup"}],key:"key"}],ECa:["ttDownloadables",{jk:[g.jk,{id:"id",size:"size",rpc:"textKey",nmc:"hashValue",mmc:"hashAlgo",Mmc:"isImage",Fwa:"midxOffset",Z$a:"midxSize",height:"height",width:"width",cv:["downloadUrls",{}],urls:["urls",{url:"url",ro:"cdn_id"}]}]}],S$:"isLanguageLeftToRight",Dv:"headIdentDuration",Zb:"rank",Si:"hydrated"}],Cbc:["trickplays",{Ao:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",$2b:"pixelsAspectY",Z2b:"pixelsAspectX",width:"width",height:"height",Dv:"headIdentDuration"}],llb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],tlc:"dpsid",Ph:"isBranching",Xpc:"viewableType",C7a:"isAd",uP:"isSupplemental",tFb:"clientIpAddress",Npc:"urlExpirationDuration",fnc:"manifestExpirationDuration",kpc:["steeringAdditionalInfo",{lpc:"steeringId",Yjc:"additionalGroupNames",npc:["streamingClientConfig",{}]}],Ee:"auxiliaryManifestToken",CP:["liveMetadata",{Z0a:["downloadableIdToSegmentTemplateId",{jk:g.jk}],Sfb:["segmentTemplateIdToSegmentTemplate",{jk:[g.jk,{P6:"availabilityStartTime",aVb:"initialization",media:"media",i4b:"presentationTimeOffset",Zda:"startNumber",duration:"duration",U:"timescale"}]}]}],Whb:"streamingType"};this.wYb=Object.assign(Object.assign({},this.R9a),{Ou:["auxiliaryManifests",this.R9a],LH:["adverts",{Ii:["adBreaks",{tt:"locationMs",Ul:["ads",{id:"id",qa:"startTimeMs",sa:"endTimeMs",pCa:["timedAdEvents",{event:"event",VU:"adEventToken",Sac:"timeMs"}],h6:["actionAdEvents",{start:["start",{event:"event",VU:"adEventToken"}],complete:["complete",{event:"event",VU:"adEventToken"}]}]}]}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;t=a(0);k=a(1);g=a(218);c.prototype.uO=function(h){this.DMb.uO(h,this.wYb);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.KHa))],a);b.hLa=a;},function(t,b,a){var k;function c(g,h,d,f,l){this.i6=this.Cn=this.yZ=this.xZ=k.Vw;this.request=g;this.type=g.responseType;this.dm=f;this.abort=h;this.timeout=d;this.i6=l;}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;k=a(16);c.prototype.N8b=function(g){this.xZ=g;};c.prototype.T8b=function(g){this.yZ=g;};c.prototype.E8b=function(g){this.Cn=g;};b.iJa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E_a=void 0;b.E_a=function(a,c,k,g){return {ORb:function(){var h;h=a.Dsa();g.Dv && (h+=g.Dv);return h;},Da:c,request:k,Ff:!1};};},function(t,b,a){var k,g,h,d;function c(f){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(f);}Object.defineProperty(b,"__esModule",{value:!0});b.Itb=void 0;k=a(0);t=a(113);g=a(1212);h=a(1217);d=a(1224);a=(function(f){function l(m,n){var p,q,r,u;r=f.call(this) || this;r.pk=!0;r.cU=[];r.nx=0;r.bVa=!0;u=m.Ff || !1;r.Ra=m.Da || console;r.Du=m.request;r.ix=m.ORb;r.b5=null !== (p=m.jmc) && void 0 !== p?p:function(v,w){return v - (null !== w && void 0 !== w?w:r.ix());};r.oh=null;r.pk=!0;r.cU=[];r.uU=n.profile;r.Tl=n.url;r.qH=n.Nd;r.tU=n.preferences;r.PT=n.sh;r.nx=r.qH || 0;r.bVa=null !== (q=n.toc) && void 0 !== q?q:!0;m={url:r.Tl,request:r.Du,Nd:r.qH,xml:n.xml,preferences:r.tU,sh:r.PT,Da:r.Ra,Ff:u,bufferSize:n.bufferSize,Rv:n.Rv,Vya:n.Vya || 0,bYa:n.bYa};if("nflx-cmisc" === r.uU)(m.offset=n.Fwa,m.size=n.Z$a,m.zda=n.zda,m.q1a=n.q1a,r.kd=new h(m));else if(c(r.uU) && "function" === typeof g)r.kd=new g(m);else throw Error("SubtitleManager: " + r.uU + " is an unsupported profile");r.kd.on("ready",function(){var v,w;v=! !n.BXa;r.Ra.info("ready event fired by subtitle stream");r.emit("ready");w=r.kd.NO.bind(r.kd);r.oh=new d(r.ix,w,r.b5,function(){return r.pk;},r.Ra,n);if("dfxp-ls-sdh" === r.uU && "function" === typeof g)r.oh.on("stagesubtitle",r.g$b.bind(r));r.oh.on("showsubtitle",r.jBa.bind(r));r.oh.on("removesubtitle",r.uza.bind(r));r.oh.on("underflow",r.gp.bind(r));r.oh.on("bufferingComplete",r.hf.bind(r));v && (r.Ra.info("autostarting subtitles"),setTimeout(function(){r.Aw(r.ix());},10));});r.kd.on("error",r.emit.bind(r,"error"));return r;}k.__extends(l,f);l.prototype.start=function(){this.kd.start();};l.prototype.Mdb=function(){this.pk || (this.pk=!0,this.H1a(this.nx));};l.prototype.Aw=function(m){this.bVa && !this.pk && 1E4 < Math.abs(m - this.nx) && (this.Ra.warn("Detected an unexpected pts jump larger than",1E4,"at",m,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Mdb());this.nx=m;this.pk && (this.pk=!1,this.i$b(m));null !== this.oh && (this.kcc(m),this.oh.Aw(m));};l.prototype.stop=function(){var m;this.Ra.info("stop called");this.pk || this.pause();this.kd.removeAllListeners(["ready"]);null !== this.oh && this.oh.stop();m=this.cU.reduce(function(n,p){n.chb+=p.$_;n.v8+=p.w8 || 0;n.nVb.push(p);return n;},{chb:0,v8:0,nVb:[]});"object" === typeof this.kd && this.kd.close();this.Ra.info("metrics: " + JSON.stringify(m));return m;};l.prototype.pause=function(){var m;m=this.ix();this.pk?this.Ra.warn("pause called on subtitle manager, but it was already paused!"):(this.Ra.info("pause called at " + m),this.pk=!0,this.H1a(m));null !== this.oh && this.oh.pause();};l.prototype.I9=function(m,n){return "function" === typeof this.kd.I9?this.kd.I9(m,n):[];};l.prototype.wv=function(m,n){return this.kd.wv(m,n);};l.prototype.NO=function(m){return this.kd.NO(m);};l.prototype.yF=function(m){var p;function n(){p.Ra.info("bufferingComplete from setStreamStartPosition");p.emit("bufferingComplete");}p=this;"function" === typeof this.kd.yF?this.kd.yF(m,n):n();};l.prototype.Yi=function(m,n){"function" === typeof this.kd.Yi && this.kd.Yi(m,n);};l.prototype.tj=function(m,n){"function" === typeof this.kd.tj && this.kd.tj(m,n);};l.prototype.Ura=function(){return this.cU[this.cU.length - 1];};l.prototype.jBa=function(m){var n,p,q,v;p=0;this.Ra.info("show subtitle called at " + this.ix() + " for displayTime " + m.displayTime);this.emit("showsubtitle",m);q=this.Ura();q.gR || (q.gR={});if(c(this.uU))try{for(var r=k.__values(m.blocks),u=r.next();!u.done;u=r.next()){v=u.value;q.gR[v.id] || (p++,q.gR[v.id]=!0);}}catch(x){var w;w={error:x};}finally{try{u && !u.done && (n=r.return) && n.call(r);}finally{if(w)throw w.error;}}else q.gR[m.id] || (p++,q.gR[m.id]=!0);q.$_+=p;};l.prototype.uza=function(m){this.Ra.info("remove subtitle called at " + this.ix() + " for remove time " + (m.displayTime + m.duration));this.emit("removesubtitle",m);};l.prototype.g$b=function(m){this.Ra.info("stage subtitle called at " + this.ix() + " for displayTime " + m.displayTime);this.emit("stagesubtitle",m);};l.prototype.gp=function(){this.Ra.info("underflow fired by the subtitle timer");this.emit("underflow");};l.prototype.hf=function(){this.Ra.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};l.prototype.i$b=function(m){this.Ra.info("creating a new subtitle interval at " + m);this.cU.push({ba:m,$_:0});};l.prototype.kcc=function(m){var n;n=this.Ura();n && (n.jva=m);};l.prototype.H1a=function(m){var n;this.Ra.info("ending subtitle interval at " + m);n=this.Ura();n && (n.Ma=m,n.Ma < n.ba && (this.Ra.warn("correcting for interval where endPts is smaller than startPts"),n.ba=0 < n.Ma?n.Ma - 1:0),n.w8=this.kd.wv(n.ba,n.Ma),delete n.gR,n.w8 > n.$_ && n.jva && 500 > n.Ma - n.jva && (n.w8=this.kd.wv(n.ba,n.jva)),this.Ra.info("showed " + n.$_ + " during this interval"),this.Ra.info("expected " + n.w8 + " for this interval"));};return l;})(t.EventEmitter);b.Itb=a;b.default=a;},function(t,b,a){var v,w,x,y,z,A,B,C,D;function c(F){var G,E,I,L,K;G=F.preferences;E=F.sh;I=F.Nd;L=F.xml;K=F.Da;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.pe=this.Pka=null;this.tU="object" === typeof G?F.preferences:{};this.PT="object" === typeof E?F.sh:{};this.uD="number" === typeof I?F.Nd:0;this.CH="string" === typeof L?F.xml:"";this.Ra="object" === typeof K?F.Da:D;this.Du=F.request;this.Tl=F.url;this.TG=[];this.nx=this.uD;this.oh=null;this.xla=this.eVa=!1;this.Dub=F.Vya || 0;}function k(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function g(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function h(){var F,G,E;F=this;G=F.CH.indexOf("<p");if(-1 < G){E=F.CH.slice(0,G);l(E,function(I,L){null !== I?(I.smc=E,F.emit("error",I)):(F.Pka=L,F.pe=new x(F.CH,L.tickRate),f.call(F,F.uD));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var E;E=F.filter(function(I){return I.startTime <= G && G <= I.endTime;});F=F.filter(function(I){return I.startTime > G;});return 0 < F.length?E.concat([F[0]]):E;}function f(F){var G,E,I,L,K,H,R;G=this;E=G.Pka;I=0;L=[];K=E.defaultStyle?[E.defaultStyle]:[];G.Ra.info("parsing the next 5 entries...");H=G.pe.oRb(F);G.Ra.info(H);R=w.qg(!0);R.onerror=function(O){O.xml=H;G.emit("error",O);};R.onend=function(){var O;O=G.TG.reduce(function(J,M){M=M.blocks.reduce(function(P,S){return P.concat([S.id]);},[]);return J.concat(M);},[]);L.forEach(function(J){var M;if(-1 === O.indexOf(J.id)){M=J && J.blocks && J.blocks.filter(function(P){return 0 < P.textNodes.length;});M && 0 < M.length && (J.blocks=M,G.TG.push(J));}});G.xla=!1;G.eVa || (G.eVa=!0,G.emit("ready"));};R.ontext=function(O){("" !== O.trim() || O.match(/ +/)) && q(q(L).blocks).textNodes.push({text:O.match(/ +/)?O:O.trim(),style:q(K),lineBreaks:I});I=0;};R.onclosetag=function(){"undefined" !== typeof R.tag.attributes.style && K.pop();};R.onopentag=function(O){var J,M,P,S,U;J=O.attributes;M=O.name;O=E.tickRate;if("p" === M){I=0;M=J["xml:id"];J.style && K.push(J.style);P=Math.floor(parseInt(J.begin) / O * 1E3);if(0 === L.length || q(L).displayTime !== P){P=L.push;S={};U=parseInt(J.begin) / O;O=parseInt(J.end) / O;S.id=M;S.startTime=Math.floor(1E3 * U);S.endTime=Math.floor(1E3 * O);S.style=J.style;S.region=J.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=J["tts:extent"] || null;S.origin=J["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:M,extent:S.extent,origin:S.origin}];P.call(L,S);}else q(L).blocks.push({textNodes:[],region:J.region,id:M,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === M?K.push(J.style):"br" === M && I++;};R.write("<entries>").write(H).write("</entries>").close();}function l(F,G){var E,I,L,K,H,R;E=w.qg(!0);I={};L=[];K=null;H=[];R={};E.onerror=function(O){G(O,null);};E.onend=function(){G(null,I);};E.onclosetag=function(){L.pop();};E.onopentag=function(O){var J,M,P,S;J=O.attributes;M=O.name;P=I.regions;S=I.styles;L.push(O);if("tt" === M)I=m(J);else if("body" === M)"undefined" !== typeof J.style && (I.defaultStyle=J.style,H.push(J.style));else if("initial" === M && p(L,"styling"))R=n(J,A);else if("style" === M && p(L,"styling")){P=J["xml:id"];O=R;J=n(J,A);if(Object.keys(O).length)for(var U in O){"undefined" === typeof J[U] && (J[U]=O[U]);}S[P]=J;}else "style" === M && p(L,"region")?(S=Object.keys(J)[0],"string" === typeof S && (P[K][S.slice(4)]=J[S])):"region" === M && p(L,"layout") && (K=J["xml:id"],P[K]=n(J,C));};setTimeout(function(){var O;for(E.write(F);0 < L.length && !E.error;){O=q(L).name;E.write("</" + O + ">");}E.close();},10);}function m(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(E){return parseInt(E,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(E){return parseInt(E,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var E;E={};G.forEach(function(I){"undefined" !== typeof F["tts:" + I]?E[I]=F["tts:" + I]:"undefined" !== typeof F["ttp:" + I]?E[I]=F["ttp:" + I]:"undefined" !== typeof F["ebutts:" + I]?E[I]=F["ebutts:" + I]:"undefined" !== typeof F["xml:" + I] && (E[I]=F["xml:" + I]);});E.styles={};E.regions={};return E;}function p(F,G){var E;for(E=F.length - 1;0 <= E;E--){if(F[E].name === G)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function r(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.PIb(F[G.style] || ({}),this.PT,this.tU),id:G.id};}function u(F,G){var E,I;E=this;I=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(L){var K;K=y.LIb(F,L);return {textNodes:L.textNodes.map(r.bind(E,I)),region:K,id:L.id};})};}v=a(113).EventEmitter;w=a(1213);x=a(1214);y=a(1215);z=a(1216);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");C=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");D={info:function(){}};b=Object.create(v.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Ra.info("incremental text stream created, starting at pts " + F.uD);F.CH?h.call(F):F.Du({url:F.Tl},function(G,E){F.CH=E;h.call(F);});};b.NO=function(F){var G,E,I;G=this;F < G.nx - G.Dub && (G.TG=[]);E=G.TG;I=0 < E.length?E[E.length - 1].startTime:F;G.nx=F;for(!G.oh && 5 > G.TG.length && !G.xla && (G.Ra.info("buffer size: " + G.TG.length + "; minimum: 5"),G.xla=!0,G.oh=setTimeout(function(){G.oh=null;f.call(G,I + 1);},10));0 < E.length && E[0].endTime < F;){E.shift();}E=d(E,F).map(u.bind(G,G.Pka));F < G.pe.GNb() && 0 === E.length && (E=null);return E;};b.wv=function(F,G){return this.pe?this.pe.wv(F,G):0;};b.close=function(){};b.Mpc=function(F){var G;G=k(F,"preferences");F=k(F,"defaults");return g(G,this.tU) || g(F,this.PT)?(this.tU=G,this.PT=F,!0):!1;};t.exports=c;},function(t,b){(function(a){var x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O;function c(){}function k(J,M){if(!(this instanceof k))return new k(J,M);for(var P=0,S=x.length;P < S;P++){this[x[P]]="";}this.q=this.c=this.Do=this.textNode="";this.WXa=a.Gha;this.Vo=M || ({});this.Vo.F9a=this.Vo.F9a || this.Vo.Zmc;this.Ova=this.Vo.F9a?"toLowerCase":"toUpperCase";this.sj=[];this.closed=this.JV=this.SQ=!1;this.tag=this.error=null;this.Qn=! !J;this.Zab=!(!J && !this.Vo.Zab);this.state=O.Pfa;this.jz=(this.Xhb=this.Vo.Xhb)?Object.create(a.cub):Object.create(a.jz);this.GD=[];this.Vo.n1 && (this.Mk=Object.create(K));if(this.Bea=!1 !== this.Vo.position)this.position=this.line=this.KV=0;this.onready && this.onready(void 0);}function g(J,M){var P;if(!(this instanceof g))return new g(J,M);c.apply(this);this.Vz=new k(J,M);this.readable=this.writable=!0;P=this;this.Vz.onend=function(){P.emit("end");};this.Vz.onerror=function(S){P.emit("error",S);P.Vz.error=null;};y.forEach(function(S){Object.defineProperty(P,"on" + S,{get:function(){return P.Vz["on" + S];},set:function(U){if(!U)return (P.removeAllListeners(S),P.Vz["on" + S]=U);P.on(S,U);},enumerable:!0,configurable:!1});});}function h(J){return J.split("").reduce(function(M,P){M[P]=!0;return M;},{});}function d(J,M){return "[object RegExp]" === Object.prototype.toString.call(J)?! !M.match(J):J[M];}function f(J,M,P){J.textNode && l(J);J[M] && J[M](P);}function l(J){J.textNode=m(J.Vo,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function m(J,M){J.trim && (M=M.trim());J.normalize && (M=M.replace(/\s+/g," "));return M;}function n(J,M){l(J);J.Bea && (M+="\nLine: " + J.line + "\nColumn: " + J.KV + "\nChar: " + J.c);M=Error(M);J.error=M;J.onerror && J.onerror(M);return J;}function p(J){J.SQ && !J.JV && q(J,"Unclosed root tag");J.state !== O.Pfa && J.state !== O.Qfa && J.state !== O.Dm && n(J,"Unexpected end");l(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);k.call(J,J.Qn,J.Vo);return J;}function q(J,M){if("object" !== typeof J || !(J instanceof k))throw Error("bad call to strictFail");J.Qn && n(J,M);}function r(J,M){var P,S;P=0 > J.indexOf(":")?["",J]:J.split(":");S=P[0];P=P[1];M && "xmlns" === J && (S="xmlns",P="");return {prefix:S,local:P};}function u(J){var M,P,S;J.Qn || (J.Dj=J.Dj[J.Ova]());if(-1 !== J.GD.indexOf(J.Dj) || J.tag.attributes.hasOwnProperty(J.Dj))return J.Dj=J.Ej="";if(J.Vo.n1){M=r(J.Dj,!0);P=M.local;if("xmlns" === M.prefix)if("xml" === P && J.Ej !== I)q(J,"xml: prefix must be bound to " + I + "\nActual: " + J.Ej);else if("xmlns" === P && J.Ej !== L)q(J,"xmlns: prefix must be bound to " + L + "\nActual: " + J.Ej);else {M=J.tag;S=J.sj[J.sj.length - 1] || J;M.Mk === S.Mk && (M.Mk=Object.create(S.Mk));M.Mk[P]=J.Ej;}J.GD.push([J.Dj,J.Ej]);}else (J.tag.attributes[J.Dj]=J.Ej,f(J,"onattribute",{name:J.Dj,value:J.Ej}));J.Dj=J.Ej="";}function v(J,M){var P,S,T,W,ia,pa,wa;if(J.Vo.n1){P=J.tag;S=r(J.tagName);P.prefix=S.prefix;P.local=S.local;P.uri=P.Mk[S.prefix] || "";P.prefix && !P.uri && (q(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),P.uri=S.prefix);S=J.sj[J.sj.length - 1] || J;P.Mk && S.Mk !== P.Mk && Object.keys(P.Mk).forEach(function(za){f(J,"onopennamespace",{prefix:za,uri:P.Mk[za]});});S=0;for(var U=J.GD.length;S < U;S++){T=J.GD[S];W=T[0];ia=T[1];pa=r(W,!0);T=pa.prefix;wa="" == T?"":P.Mk[T] || "";ia={name:W,value:ia,prefix:T,local:pa.local,uri:wa};T && "xmlns" != T && !wa && (q(J,"Unbound namespace prefix: " + JSON.stringify(T)),ia.uri=T);J.tag.attributes[W]=ia;f(J,"onattribute",ia);}J.GD.length=0;}J.tag.Pmc=! !M;J.SQ=!0;J.sj.push(J.tag);f(J,"onopentag",J.tag);M || (J.state=J.Zab || "script" !== J.tagName.toLowerCase()?O.Dm:O.RL,J.tag=null,J.tagName="");J.Dj=J.Ej="";J.GD.length=0;}function w(J){var M,P,U;if(J.tagName){if(J.Vk){if("script" !== J.tagName){J.Vk+="</" + J.tagName + ">";J.tagName="";J.state=O.RL;return;}f(J,"onscript",J.Vk);J.Vk="";}M=J.sj.length;P=J.tagName;J.Qn || (P=P[J.Ova]());for(var S=P;M--;){if(J.sj[M].name !== S)q(J,"Unexpected close tag");else break;}if(0 > M)(q(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=P;for(P=J.sj.length;P-- > M;){U=J.tag=J.sj.pop();J.tagName=J.tag.name;f(J,"onclosetag",J.tagName);for(var T in U.Mk){;}S=J.sj[J.sj.length - 1] || J;J.Vo.n1 && U.Mk !== S.Mk && Object.keys(U.Mk).forEach(function(W){f(J,"onclosenamespace",{prefix:W,uri:U.Mk[W]});});}0 === M && (J.JV=!0);J.tagName=J.Ej=J.Dj="";J.GD.length=0;}}else (q(J,"Weird empty close tag."),J.textNode+="</>");J.state=O.Dm;}a.qg=function(J,M){return new k(J,M);};a.zic=k;a.Aic=g;a.B_a=function(J){return new g(J,void 0);};a.Gha=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Ke=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function M(){this.__proto__=J;}M.prototype=J;return new M();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var M,P;M=[];for(P in J){J.hasOwnProperty(P) && M.push(P);}return M;});k.prototype={end:function(){p(this);},write:function(J){var U,T,W,ia,pa,wa;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return p(this);if(this.error)throw this.error;for(var M=0,P;this.c=P=J.charAt(M++);){switch((this.Bea && (this.position++,"\n" === P?(this.line++,this.KV=0):this.KV++),this.state)){case O.Pfa:if((this.state=O.Qfa,"\ufeff" === P))continue;case O.Qfa:"<" === P?(this.state=O.cia,this.HBa=this.position):d(z,P) || (q(this,"Non-whitespace before first tag."),this.textNode=P,this.state=O.Dm);continue;case O.Dm:if(this.SQ && !this.JV){for(var S=M - 1;P && "<" !== P && "&" !== P;){(P=J.charAt(M++)) && this.Bea && (this.position++,"\n" === P?(this.line++,this.KV=0):this.KV++);}this.textNode+=J.substring(S,M - 1);}"<" !== P || this.SQ && this.JV && !this.Qn?(d(z,P) || this.SQ && !this.JV || q(this,"Text data outside of root node."),"&" === P?this.state=O.yja:this.textNode+=P):(this.state=O.cia,this.HBa=this.position);continue;case O.RL:"<" === P?this.state=O.cQa:this.Vk+=P;continue;case O.cQa:"/" === P?this.state=O.gga:(this.Vk+="<" + P,this.state=O.RL);continue;case O.cia:"!" === P?(this.state=O.eja,this.St=""):d(z,P) || (d(H,P)?(this.state=O.EMa,this.tagName=P):"/" === P?(this.state=O.gga,this.tagName=""):"?" === P?(this.state=O.eNa,this.Fca=this.aK=""):(q(this,"Unencoded <"),this.HBa + 1 < this.position && (P=Array(this.position - this.HBa).join(" ") + P),this.textNode+="<" + P,this.state=O.Dm));continue;case O.eja:(this.St + P).toUpperCase() === G?(f(this,"onopencdata"),this.state=O.H1,this.Tm=this.St=""):"--" === this.St + P?(this.state=O.K1,this.St=this.Xm=""):(this.St + P).toUpperCase() === E?(this.state=O.P1,(this.doctype || this.SQ) && q(this,"Inappropriately located doctype declaration"),this.St=this.doctype=""):">" === P?(f(this,"onsgmldeclaration",this.St),this.St="",this.state=O.Dm):(d(C,P) && (this.state=O.fQa),this.St+=P);continue;case O.fQa:P === this.q && (this.state=O.eja,this.q="");this.St+=P;continue;case O.P1:">" === P?(this.state=O.Dm,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=P,"[" === P?this.state=O.mga:d(C,P) && (this.state=O.oGa,this.q=P));continue;case O.oGa:this.doctype+=P;P === this.q && (this.q="",this.state=O.P1);continue;case O.mga:this.doctype+=P;"]" === P?this.state=O.P1:d(C,P) && (this.state=O.nGa,this.q=P);continue;case O.nGa:this.doctype+=P;P === this.q && (this.state=O.mga,this.q="");continue;case O.K1:"-" === P?this.state=O.tFa:this.Xm+=P;continue;case O.tFa:"-" === P?(this.state=O.sFa,(this.Xm=m(this.Vo,this.Xm)) && f(this,"oncomment",this.Xm),this.Xm=""):(this.Xm+="-" + P,this.state=O.K1);continue;case O.sFa:">" !== P?(q(this,"Malformed comment"),this.Xm+="--" + P,this.state=O.K1):this.state=O.Dm;continue;case O.H1:"]" === P?this.state=O.kFa:this.Tm+=P;continue;case O.kFa:"]" === P?this.state=O.lFa:(this.Tm+="]" + P,this.state=O.H1);continue;case O.lFa:">" === P?(this.Tm && f(this,"oncdata",this.Tm),f(this,"onclosecdata"),this.Tm="",this.state=O.Dm):"]" === P?this.Tm+="]":(this.Tm+="]]" + P,this.state=O.H1);continue;case O.eNa:"?" === P?this.state=O.oia:d(z,P)?this.state=O.nia:this.Fca+=P;continue;case O.nia:if(!this.aK && d(z,P))continue;else "?" === P?this.state=O.oia:this.aK+=P;continue;case O.oia:">" === P?(f(this,"onprocessinginstruction",{name:this.Fca,body:this.aK}),this.Fca=this.aK="",this.state=O.Dm):(this.aK+="?" + P,this.state=O.nia);continue;case O.EMa:if(d(R,P))this.tagName+=P;else {this.Qn || (this.tagName=this.tagName[this.Ova]());S=this.sj[this.sj.length - 1] || this;U=this.tag={name:this.tagName,attributes:{}};this.Vo.n1 && (U.Mk=S.Mk);this.GD.length=0;">" === P?v(this):"/" === P?this.state=O.A3:(!d(z,P) && q(this,"Invalid character in tag name"),this.state=O.iL);}continue;case O.A3:">" === P?(v(this,!0),w(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=O.iL);continue;case O.iL:if(d(z,P))continue;else ">" === P?v(this):"/" === P?this.state=O.A3:d(H,P)?(this.Dj=P,this.Ej="",this.state=O.t1):q(this,"Invalid attribute name");continue;case O.t1:"=" === P?this.state=O.vfa:">" === P?(q(this,"Attribute without value"),this.Ej=this.Dj,u(this),v(this)):d(z,P)?this.state=O.BDa:d(R,P)?this.Dj+=P:q(this,"Invalid attribute name");continue;case O.BDa:if("=" === P)this.state=O.vfa;else if(d(z,P))continue;else (q(this,"Attribute without value"),this.Ej=this.tag.attributes[this.Dj]="",f(this,"onattribute",{name:this.Dj,value:""}),this.Dj="",">" === P?v(this):d(H,P)?(this.Dj=P,this.state=O.t1):(q(this,"Invalid attribute name"),this.state=O.iL));continue;case O.vfa:if(d(z,P))continue;else d(C,P)?(this.q=P,this.state=O.yfa):(q(this,"Unquoted attribute value"),this.state=O.zfa,this.Ej=P);continue;case O.yfa:if(P !== this.q){"&" === P?this.state=O.wfa:this.Ej+=P;continue;}u(this);this.q="";this.state=O.CDa;continue;case O.CDa:d(z,P)?this.state=O.iL:">" === P?v(this):"/" === P?this.state=O.A3:d(H,P)?(q(this,"No whitespace between attributes"),this.Dj=P,this.Ej="",this.state=O.t1):q(this,"Invalid attribute name");continue;case O.zfa:if(!d(F,P)){"&" === P?this.state=O.xfa:this.Ej+=P;continue;}u(this);">" === P?v(this):this.state=O.iL;continue;case O.gga:if(this.tagName)">" === P?w(this):d(R,P)?this.tagName+=P:this.Vk?(this.Vk+="</" + this.tagName,this.tagName="",this.state=O.RL):(!d(z,P) && q(this,"Invalid tagname in closing tag"),this.state=O.qFa);else if(d(z,P))continue;else d(H,P)?this.tagName=P:this.Vk?(this.Vk+="</" + P,this.state=O.RL):q(this,"Invalid tagname in closing tag.");continue;case O.qFa:if(d(z,P))continue;">" === P?w(this):q(this,"Invalid characters in closing tag");continue;case O.yja:case O.wfa:case O.xfa:switch(this.state){case O.yja:(T=O.Dm,W="textNode");break;case O.wfa:T=O.yfa;W="attribValue";break;case O.xfa:(T=O.zfa,W="attribValue");}if(";" === P){P=W;S=this[P];U=this.Do;ia=U.toLowerCase();pa="";if(this.jz[U])U=this.jz[U];else if(this.jz[ia])U=this.jz[ia];else {U=ia;if("#" === U.charAt(0))if("x" === U.charAt(1)){U=U.slice(2);wa=parseInt(U,16);pa=wa.toString(16);}else (U=U.slice(1),wa=parseInt(U,10),pa=wa.toString(10));U=U.replace(/^0+/,"");U=pa.toLowerCase() !== U?(q(this,"Invalid character entity"),"&" + this.Do + ";"):String.fromCodePoint(wa);}this[P]=S + U;this.Do="";this.state=T;}else d(D,P)?this.Do+=P:(q(this,"Invalid character entity"),this[W]+="&" + this.Do + P,this.Do="",this.state=T);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.WXa){J=Math.max(a.Gha,10);P=M=0;for(T=x.length;P < T;P++){W=this[x[P]].length;if(W > J)switch(x[P]){case "textNode":l(this);break;case "cdata":f(this,"oncdata",this.Tm);this.Tm="";break;case "script":f(this,"onscript",this.Vk);this.Vk="";break;default:n(this,"Max buffer length exceeded: " + x[P]);}M=Math.max(M,W);}this.WXa=a.Gha - M + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){l(this);"" !== this.Tm && (f(this,"oncdata",this.Tm),this.Tm="");"" !== this.Vk && (f(this,"onscript",this.Vk),this.Vk="");}};y=a.Ke.filter(function(J){return "error" !== J && "end" !== J;});g.prototype=Object.create(c.prototype,{constructor:{value:g}});g.prototype.write=function(J){this.Vz.write(J.toString());this.emit("data",J);return !0;};g.prototype.end=function(J){J && J.length && this.write(J);this.Vz.end();return !0;};g.prototype.on=function(J,M){var P;P=this;P.Vz["on" + J] || -1 === y.indexOf(J) || (P.Vz["on" + J]=function(){var S;S=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);S.splice(0,0,J);P.emit.apply(P,S);});return c.prototype.on.call(P,J,M);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";C="'\"";D=A + B + "#";F=z + ">";G="[CDATA[";E="DOCTYPE";I="http://www.w3.org/XML/1998/namespace";L="http://www.w3.org/2000/xmlns/";K={xml:I,n1:L};z=h(z);A=h(A);B=h(B);H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;C=h(C);D=h(D);F=h(F);O=0;a.YC={Pfa:O++,Qfa:O++,Dm:O++,yja:O++,cia:O++,eja:O++,fQa:O++,P1:O++,oGa:O++,mga:O++,nGa:O++,tfc:O++,K1:O++,tFa:O++,sFa:O++,H1:O++,kFa:O++,lFa:O++,eNa:O++,nia:O++,oia:O++,EMa:O++,A3:O++,iL:O++,t1:O++,BDa:O++,vfa:O++,yfa:O++,CDa:O++,zfa:O++,wfa:O++,xfa:O++,gga:O++,qFa:O++,RL:O++,cQa:O++};a.cub={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.jz={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.jz).forEach(function(J){var M;M=a.jz[J];M="number" === typeof M?String.fromCharCode(M):M;a.jz[J]=M;});for(O in a.YC){a.YC[a.YC[O]]=O;}O=a.YC;String.fromCodePoint || (function(){var M,P;function J(){var S,U,T,ia,pa;S=[];U=-1;T=arguments.length;if(!T)return "";for(var W="";++U < T;){ia=Number(arguments[U]);if(!isFinite(ia) || 0 > ia || 1114111 < ia || P(ia) != ia)throw RangeError("Invalid code point: " + ia);if(65535 >= ia)S.push(ia);else {ia-=65536;pa=(ia >> 10) + 55296;ia=ia % 1024 + 56320;S.push(pa,ia);}if(U + 1 == T || 16384 < S.length)(W+=M.apply(null,S),S.length=0);}return W;}M=String.fromCharCode;P=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(t){function b(a,c){var k,g,h,d,f,l;k=[];g=a.indexOf("<p");h=-1;do {d={};d.$9b=g;f=a.indexOf("begin=",g) + 7;l=a.indexOf("end=",g) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);l=Math.floor(parseInt(a.substr(l,25),10) / c * 1E3);h=l > h?l:h;d.startTime=f;d.endTime=l;d.latestEndSoFar=h;d.R1a=a.indexOf("/p>",g) + 3;g=d.R1a;k.push(d);g=a.indexOf("<p",g);}while(-1 !== g);this.Y4=k;this.CH=a;}b.prototype.GNb=function(){return this.Y4[this.Y4.length - 1].endTime;};b.prototype.wv=function(a,c){return this.Y4.filter(function(k){return k.startTime <= c && k.endTime >= a;}).length;};b.prototype.oRb=function(a){for(var c="",k=this.Y4.filter(function(h){return h.startTime <= a && a < h.endTime || h.startTime >= a;}),g=4;g + 1 < k.length && k[g + 1].startTime === k[4].startTime;){g++;}k=k.slice(0,g + 1);0 < k.length && (c=this.CH.slice(k[0].$9b,k[k.length - 1].R1a));return c;};t.exports=b;},function(t,b,a){var h,d,f,l;function c(m){return "string" !== typeof m?null:d[m];}function k(m){return "string" !== typeof m?null:f[m];}function g(m,n){var p;p=m.split(" ");m=p[0];p=p[1];-1 < m.indexOf("px")?(m=parseFloat(m) / n.width,p=parseFloat(p) / n.height):(m=.01 * parseFloat(m),p=.01 * parseFloat(p));return [m,p];}h=a(498);t.exports={LIb:function(m,n){var p,q,r,u,v,w;p=n.textNodes[0] || ({});q=m.regions;r=m.styles;u=m.aspectRatio;q=q && q[n.region]?q[n.region]:{};p=r && r[p.style]?r[p.style]:{};r=g(h(n.extent,q.extent,"80% 80%"),m);n=g(h(n.origin,q.origin,"10% 10%"),m);m=Object;u/=1280 / 720;v=(1 - u) / 2;w=n[0];n=n[1];r=m.create.call(m,{marginLeft:w * u + v,marginTop:n,marginRight:(1 - (w + r[0])) * u + v,marginBottom:1 - (n + r[1])});1 < Object.keys(q).length?r.verticalAlignment=c(h(p.displayAlign,q.displayAlign,"before")):r.verticalAlignment=c(h(p.displayAlign,"after"));r.horizontalAlignment=k(h(p.textAlign,q.textAlign,"center"));u=q.writingMode?q.writingMode:"lrtb";r.writingMode="string" !== typeof u?null:l[u];r.multiRowAlignment=k(h(p.multiRowAlign,q.multiRowAlign,p.textAlign,q.textAlign,"center"));return r;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};l={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(t,b,a){var g,h,d,f,l,m,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function k(p){var q,r,u;q=(p || "").split(" ");r=(/^[0-9]/).test(q);p=r?"#000000":c(q[0]);u=r?0:1;r=parseInt(q[u]);q=parseInt(q[u + 1]);return {color:p,width:0 < r?r:0,blur:0 < q?q:0};}g=a(498);t.exports={PIb:function(p,q,r){var u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K;u=g(r.characterSize,q.characterSize,"MEDIUM");v=p.fontFamily;v=g(r.characterStyle,"string" !== typeof v?null:f[v],q.characterStyle,"PROPORTIONAL_SANS_SERIF");w=(p.fontSize || "").split(" ")[0] || "";x=-1 < w.indexOf("%")?parseInt(w,10) / 100:-1 < w.indexOf("em")?parseFloat(w):1;w="underline" === p.textDecoration;y="italic" === p.fontStyle;z=h[g(r.Sdc,q.Sdc,"OPAQUE")];A=h[g(r.characterOpacity,q.characterOpacity,"OPAQUE")];B=h[g(r.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];C=c(g(r.characterColor,p.color,q.characterColor,"#ffffff"));D=c(g(r.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(g(r.nlb,p.nlb,q.nlb,null));G=g(r.characterEdgeAttributes,q.characterEdgeAttributes,null);x*=l[u] || 1;E=1;m[u] && (E=m[u][v] || 1);x*=1 / 19 * E;E=0;n[u] && (E=n[u][v] || 0);u=E;E=p.textOutline;E="string" !== typeof E?null:k(E).width;E=g(E,0);I=p.textOutline;I="string" !== typeof I?null:k(I).blur;I=g(I,0);L=r.characterEdgeColor;K=p.textOutline;K="string" !== typeof K?null:k(K).color;return {characterUnderline:w,characterItalic:y,characterStyle:v,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:C,backgroundColor:D,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:u,characterEdgeWidth:E,characterEdgeBlur:I,characterEdgeColor:c(g(L,K,q.characterEdgeColor,"#000000")),direction:g(r.direction,p.direction,q.direction,"ltr")};}};h={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};f={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};l={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};m={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(t,b,a){var k,g,h,d,f,l;function c(m){k.call(this);this.Tl=m.url;this.Du=m.request;this.qH=m.Nd || 0;this.Ra=m.Da;this.dj=this.Cs=null;m.Rv?this.Cs=m.Rv:(this.Lb=m.offset,this.WM=m.size);this.Nm;this.ula=m;}k=a(113).EventEmitter;g=a(1218);h=a(1219);d=a(1220);f=a(160);l=c.events={Sqb:"midxready",jtb:"sidxready",Vsb:"ready",Yf:"error"};c.prototype=Object.create(k.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Nq:{get:function(){return this.Nm && this.Nm.spa;}}});c.prototype.start=function(){this.Cs?(this.Ra.warn("midx was prefectched and provided"),this.rTa(this.Cs)):this.pvb(this.Lb,this.WM,this.vyb.bind(this));};c.prototype.close=function(){};c.prototype.I9=function(m,n){return this.Nm && this.Nm.Xsa(m,n);};c.prototype.wv=function(m,n){return (m=this.I9(m,n))?m.length:m;};c.prototype.yF=function(m,n){this.Ra.debug("setStreamStartPosition: buffering subtitles at pts " + m);this.qH=m;this.Nm?this.Nm.yF(m,n):n && n();};c.prototype.NO=function(m){var n,p,q;if(!this.Nm || m > f.sQb(this.Cs))return [];this.Nm && this.Nm.Xpa(m);n=this.Nq.Ky;p=this.Nq.index;q=[];p=f.pd(p) && this.dj[p + 1];if(!(p && p.entries.length || n && !(m > n.endTime)))return [];n && n.images.length && (q=this.FTa(n,m,[]));2 > q.length && p && p.images.length && (n=this.FTa(p,m,q),q.push.apply(q,n));return this.Nm.gBa(m)?null:f.OZa(q);};c.prototype.tj=function(m,n){this.Nm && this.Nm.tj(m,n);};c.prototype.Yi=function(m,n){this.Nm && this.Nm.Yi(m,n);};c.prototype.pvb=function(m,n,p){this.Ra.debug("downloading midx...");this.RTa(m,n,"binary",p);};c.prototype.qvb=function(m,n,p){this.Ra.debug("downloading sidx...");this.RTa(m,n,void 0,p);};c.prototype.RTa=function(m,n,p,q){this.Du({url:this.Tl,offset:m,size:n,responseType:p},q);};c.prototype.vyb=function(m,n){if(m)this.emit(l.Yf,f.lX(m,"midxdownloaderror"));else try{this.Cs=new g(n);this.rTa(this.Cs);}catch(p){this.emit(l.Yf,f.lX(p,"midxparseerror"));}};c.prototype.rTa=function(m){var n;n=m.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(l.Sqb,m),this.qvb(m.startOffset,n,this.yyb.bind(this,m))):this.emit(l.Yf,f.lX({},"nosidxfoundinmidx"));};c.prototype.yyb=function(m,n,p){var q,r,u,v;q=this;if(n)q.emit(l.Yf,f.lX(n,"sidxdownloaderror"));else {r=0;u=0;q.dj=[];try{v=0;m.entries.forEach(function(w){var x;x=new h(p,r,m.eua,q.Ra,u,u + w.duration,v);q.dj.push(x);w.M9b=x;u=x.Mr;r+=w.size;v++;});}catch(w){q.emit(l.Yf,f.lX(w,"sidxparseerror"));return;}q.emit(l.jtb,q.dj);this.Nm=new d(q.ula,m,q.dj);n=q.qH;q.ula && q.ula.zda || (n=Math.max(q.qH - 1E4,0));this.Nm.Xpa(n,function(w){w && q.Ra.error("initial sidx download failed");q.emit(l.Vsb);});}};c.prototype.FTa=function(m,n,p){var y;for(var q=m.entries,r=0,u=q.length,v=[],w,x=this.Cs;r < u;){w=q[r];if(w.displayTime <= n)w.displayTime + w.duration >= n && v.push(f.kpa(w,m.images[r].data,x));else {y=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== w.displayTime)break;y.ZI !== w.ZI && v.push(f.kpa(w,m.images[r].data,x));}r++;}return v;};t.exports=c;},function(t,b,a){var k,g;function c(h,d){this.duration=h;this.size=d;this.M9b=void 0;}k=a(286);g=a(160);t.exports=function(h){var m;h=new k(h);this.identifier=h.dza(4);g.assert("midx" === this.identifier);this.version=h.Nr(4);g.assert(0 === this.version);this.eua=h.Ok(36);this.creationTime=h.DQ();this.Wo=h.DQ();this.I=h.DQ();this.m7b=h.Sh();this.n7b=h.Sh();this.language=h.Ok(16);h.Ok(16);this.startOffset=h.DQ();this.vO=h.Sh();for(var d=[],f=0,l=0;l < this.vO;l++){m=new c(h.Nr(4),h.Sh());d.push(m);f+=m.duration;}this.entries=d;this.endTime=f;};},function(t,b,a){var g,h;function c(d,f,l,m,n,p,q,r){this.displayTime=d;this.duration=f;this.K1b=l;this.L1b=m;this.T9b=n;this.U9b=p;this.ZI=q;this.Rta=r;}function k(d,f,l,m,n,p,q){var r;d=new g(d);r=0;d.position=f;this.Ra=m;this.identifier=d.dza(4);h.assert("sidx" === this.identifier,m);this.eua=d.Ok(36);h.KFb(this.eua,l,m);this.duration=d.Nr(4);this.vO=d.Sh();this.By=n;this.Mr=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Mla=0;r < this.vO;){f=new c(d.Nr(4),d.Nr(4),d.Sh(),d.Sh(),d.Sh(),d.Sh(),d.DQ(),d.Nr(4));r++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(286);h=a(160);k.prototype.NUb=function(){this.Mla++;};k.prototype.HJb=function(){var d;d=0;this.Mla--;1 > this.Mla?this.images && 0 < this.images.length && (d+=h.Tsa([this]),this.images=[]):this.Ra.debug("Not cleaning up shared sidx with range",this.By,"-",this.Mr);return d;};t.exports=k;},function(t,b,a){var h,d;function c(f,l){var n;f=f || 0;if(l)for(var m in l.N){n=l.N[m];if(f >= (n.qa || 0) && (!n.sa || f < n.sa))return m;}}function k(f,l){return f && l && l.N[f];}function g(f,l,m){var n;this.Ra=f.Da;this.dj=m;this.sD=this.Vub(f.zda);this.Fh=[];n=m && m[m.length - 1];this.nx=n && (n.endTime || n.Mr);this.Ng=new h(f,l,m);f=c(f.Nd || 0,this.sD);this.xp=this.Lz(f);}h=a(1221);d=a(1223);Object.defineProperties(g.prototype,{spa:{get:function(){return this.Ng.spa;}}});g.prototype.Xsa=function(f,l){return this.Ng && this.Ng.Xsa(f,l);};g.prototype.Xpa=function(f,l){this.Ng.z8b(f);this.RVa(f);if(!this.sD && this.nx && f > this.nx)l && l();else if((f=this.lTa(f,this.xp,2,l),this.sD && 0 < this.xp.Oab.length))l && l();else if(this.sD && this.xp.pP && f){2 > this.Fh.length && this.avb(this.xp);l=Math.ceil(2 / (this.Fh.length - 1));for(var m=0;m < this.Fh.length && f && 3 > m;m++){f=this.Fh[m];f=this.lTa(f.startTime,f,l);}}};g.prototype.gBa=function(f){return this.Ng.gBa(f)?(this.Ng.nBb(),this.Xpa(f),this.xp.pP=!1,!0):!1;};g.prototype.yF=function(f,l){var m;this.RVa(f);this.Fh.forEach(function(n){n.pP=!1;});m=this.xp.cp && this.xp.cp[0];this.Ng.yF(f,m && m.index);(f=this.Ng.iSb(f)) && f.length?this.Ng.X0a(f,l):l && l();};g.prototype.Yi=function(f,l){var m;this.Ra.debug("Set next segment to",l,"for segment",f);f=this.wTa(f) || this.Lz(f);f.Ufb=l;m=this;f.mZ=f.mZ.filter(function(n){if(n.id === l)return !0;m.rka(n);return !1;});};g.prototype.tj=function(f,l){var m;m=k(f,this.sD);Object.keys(m.next).forEach(function(n){m.next[n].weight=l[n] || 0;});};g.prototype.Vub=function(f){var l,n;l={};if(f=(f || ({})).N){l.N={};for(var m in f){n=f[m] || ({});l.N[m]={qa:n.qa,sa:n.sa,Rb:n.Rb,next:this.Uub(n.next)};}}return l;};g.prototype.Uub=function(f){var l,m;l={};for(m in f){l[m]={weight:(f[m] || ({})).weight};}return l;};g.prototype.RVa=function(f){var l,m;if(this.sD && this.xp.startTime > f || this.xp.endTime && this.xp.endTime < f){l=this.xp;m=c(f,this.sD);m?(this.Ra.debug("Switching segments from",this.xp.id,"to",m,"at pts",f),this.xp=this.wTa(m) || this.Lz(m),this.rka(l)):this.Ra.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.Lz=function(f){this.Ra.debug("SegmentManager: creating segment",f);f=new d(f,k(f,this.sD),this.dj,this.Ra);this.Fh.push(f);this.Ra.debug("SegmentManager: segment contains",f.cp.length,"sidxes");return f;};g.prototype.rka=function(f){var l;if(f && f !== this.xp){this.Ra.debug("SegmentManager: deleting segment",f.id);f.mZ.forEach(this.rka.bind(this));this.Fh=this.Fh.filter(function(m){return m !== f;});l=f.ZYa();this.Ng.$5b(l && l.size || 0,l && l.cp);}};g.prototype.wTa=function(f){var m;for(var l=0;f && l < this.Fh.length;l++){m=this.Fh[l];if(f === m.id)return m;}};g.prototype.avb=function(f){var l,n;l=f.Ufb;if(l && "" !== l)f.mZ.push(this.Lz(l));else {l=f.Oab;for(var m in l){n=l[m];if(!n || !n.weight)break;f.mZ.push(this.Lz(m));}}};g.prototype.lTa=function(f,l,m,n){if(!l || l.pP)return (this.Ra.debug("Done driving segment",l && l.id),!0);if(!this.Ng.gEb)return (this.Ra.debug("Throttling buffering in quiet period"),!1);this.Ra.debug("Drive streaming of segment",l.id,"from pts",f);m=(f=this.Ng.jSb(f,l,m)) && f.length || 0;if(0 === m)return (this.Ra.debug("Segment is fully downloaded",l && l.id),l.pP=!0,n && n(),!0);this.Ra.debug("Downloading",m,"sidxes in segment",l.id);return this.Ng.X0a(f,function(p,q){p && (l.pP=!1);n && n(p,q);});};t.exports=g;},function(t,b,a){var l,m;function c(n,p,q){var r;r=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || r;}function k(n,p,q){return p && (!p.entries.length && n > p.By || n > p.endTime) && q.entries.length && n < q.endTime;}function g(n,p,q){this.tH=this.fx=0;this.Mwb=n.bufferSize || 4194304;this.Nq=new f();this.pH;this.eH=n.Ff;this.Ra=n.Da;this.Cs=p;this.dj=q;this.Fp=new l(n);this.DH=new d(this.dj.length,n.q1a);this.wU=new h(n.bYa);}function h(n){this.wvb=0 !== n;this.on=!1;this.kk=n || 3E3;this.oh;}function d(n,p){if(this.enabled=p)this.cp=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.Ky=n;this.index=p;}l=a(1222);m=a(160);f.prototype.reset=function(){this.index=this.Ky=void 0;};d.prototype.da=function(n){this.enabled && n < this.cp.length && (this.cp[n]="x");};d.prototype.Sbb=function(n){this.enabled && n < this.cp.length && (this.cp[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.cp.join("") + "|";};h.prototype.start=function(){var n;if(this.wvb){n=this;this.on=!0;this.oh=setTimeout(function(){n.on=!1;n.oh=void 0;},this.kk);}};h.prototype.stop=function(){this.on=!1;clearTimeout(this.oh);this.oh=void 0;};Object.defineProperties(g.prototype,{spa:{get:function(){return this.Nq;}},gEb:{get:function(){return !this.wU.on;}}});g.prototype.jU=function(){this.DH.enabled && this.Ra.debug("Buffer: " + this.DH.toString());};g.prototype.Syb=function(n){this.tH+=n;this.Ra.debug("Reserved buffer size is",this.fx + this.tH,"after reserving",n);};g.prototype.Ezb=function(n){this.tH-=n;this.Ra.debug("Reserved buffer size is",this.fx + this.tH,"after unreserving",n);};g.prototype.Tub=function(n){this.fx+=n;this.Ra.debug("Buffer size is",this.fx,"after claiming",n);};g.prototype.iVa=function(n){this.fx-=n;this.Ra.debug("Buffer size is",this.fx,"after clearing",n);};g.prototype.$5b=function(n,p){var q;this.iVa(n);q=this;p && this.DH.enabled && (p.forEach(function(r){q.DH.Sbb(r.index);}),this.jU());};g.prototype.gBa=function(n){var p;p=this.Jvb(n);return m.P6a(p) && m.Y$b(n,p);};g.prototype.z8b=function(n){var p;p=this.KTa(n);(!p || p.index) !== (!this.Nq || this.Nq.index) && (this.pH=this.Nq.Ky,p?(this.eH && this.Ra.debug("Current sidx is index",p.index),this.Nq=p):(this.eH && this.Ra.debug("Current sidx is out of range"),this.Nq.reset()));this.pH && "number" === typeof this.pH.index && (n < this.pH.By - 35E3 || n > this.pH.Mr + 35E3) && (this.hka(this.pH.index),this.pH=void 0,this.jU());};g.prototype.yF=function(n,p){var q,r;q=this.dj && this.dj.length;for(p;p < q;p++){(r=this.dj[p]) && ((r.endTime || r.Mr) >= n - 1E4 && (r.endTime || r.Mr) < n + 3E5 || this.hka(p));}this.wU.stop();this.jU();};g.prototype.nBb=function(){var n,p;this.Ra.debug("executing aggressive cleanup");n=this.dj && this.dj.length;for(p=0;p < n;p++){p === this.Nq.index && (p+=2);this.hka(p);}this.wU.stop();this.jU();};g.prototype.iSb=function(n){var p,q,r,u;p=[];q=this.KTa(n);if(!q)return (this.Nq.reset(),p);this.Nq=q;r=n + 1E4;q=q.index;u=this.dj[q];q;for(u;q < this.dj.length && r > u.By;(q++,u=this.dj[q])){m.P6a(u) && m.Z$b(n,r,u) && p.push(u);}return p;};g.prototype.X0a=function(n,p){var q,r,u,v,w,x;if(!n || !n.length)return (p && p(null),!0);this.Fp.pU && 2 <= Object.keys(this.Fp.pU).length && !this.wU.on && (this.Ra.debug("Enabling buffering quiet period"),this.wU.start());q=this;r=n[0];u=n[n.length - 1];if(0 < r.entries.length)(v=r.entries[0].ZI,w=r.entries[r.entries.length - 1]);0 < u.entries.length && (m.pd(v) || (v=u.entries[0].ZI),w=u.entries[u.entries.length - 1]);if(v)x=w.ZI + w.Rta - v;else return (p && p(null),!0);r=m.Zra(v,x);if(this.Fp.pU[r])(this.Ra.debug("The request for",r,"is already pending. Not requesting again"),p && p());else if(this.ewb(m.Tsa(n)))(this.Ra.debug("Reserving",x,"bytes for subtitle request",n[0].By,n[n.length - 1].Mr),this.Syb(x),this.Fp.dLb(n,v,x,function(y,z){q.Ra.debug("Claiming reserved space.  Expected",x,"received",z);q.DH.enabled && (n.forEach(function(A){q.DH.da(A.index);}),q.jU());q.Ezb(x);q.Tub(z);p && p(y);}));else return (this.Ra.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.Xsa=function(n,p){var q,r,u;q=this.Cs;r=this.JTa(n,p,this.dj);if(!r || 0 === r.length)return [];u=[];p=c.bind(null,n,p);for(var v=0;v < r.length;v++){n=r[v];u=u.concat(n.entries.filter(p));}u=u.map(function(w){return m.kpa(w,null,q);});return m.OZa(u);};g.prototype.jSb=function(n,p,q){return this.JTa(n,p.endTime,p.cp,q,!0);};g.prototype.JTa=function(n,p,q,r,u){var v,w,x,y;if(p && n > p || 0 > n)this.Ra.error("invalid range startPts: " + n + ", endPts: " + p);else {v=q && q.length || 0;w=[];if(q && 0 !== v){x=q[0].duration;y=q[0].By;if(m.pd(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.eH && this.Ra.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < v && (y=q[x],!m.YKb(y,n));x++){;}for(;x < v && (!r || w.length < r);){y=q[x];if(!u || !y.images.length && y.endTime > n)w.push(y);else if(w.length)break;if(p && p <= y.Mr)break;x++;}return w;}}};g.prototype.Jvb=function(n){var p,q,u;p=this.dj;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.By > n || n > q.Mr))a:{this.yvb || (this.yvb=!0,q=m.OQb(this.Cs.language),this.Ra.error("bruteforce search for ",{movieId:this.Cs.I,packageId:this.Cs.Wo,lang:q}));q=p.length;for(var r=0;r < q;r++){u=p[r];if(u.By <= n && n <= u.Mr){q=u;break a;}}q=void 0;}return q;}};g.prototype.KTa=function(n){var p,q,r,u,v,w,x,y;p=this.Nq;q=p.Ky;r=p.index;u=this.dj;this.oka(m.pd(n));if(q)if(q.entries.length){if(0 === r && n <= q.startTime || n >= q.startTime && n <= q.endTime)(v=!0,w=p);else {if(0 < r){x=u[r - 1];k(n,x,q) && (v=!0,w=p);}}}else {x=u[r - 1];y=u[r + 1];k(n,x,q)?(v=!0,w=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.Mr) && (v=!0,w=new f(y,r + 1));}if(!v)for((p=u.length,q=0);q < p;q++){if((r=u[q],r.entries.length && n <= r.endTime)){w=new f(r,q);break;}}return w;};g.prototype.ewb=function(n){return this.fx + this.tH + n <= this.Mwb;};g.prototype.hka=function(n){var p,q,r;p=this.dj[n];q=p && p.images && p.images.length || 0;if(0 < q){r=m.Tsa([p]);p.images=[];this.DH.Sbb(n);this.iVa(r);this.eH && this.Ra.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:r,images:q,Rnc:this.fx});}};g.prototype.oka=function(n){this.eH && m.assert(n,this.Ra);};t.exports=g;},function(t,b,a){var k,g;function c(h){this.Tl=h.url;this.Du=h.request;this.qH=h.Nd || 0;this.eH=h.Ff;this.Ra=h.Da;this.pU={};}k=a(286);g=a(160);c.prototype.dLb=function(h,d,f,l){this.pU[g.Zra(d,f)]=!0;h && h.forEach(function(m){m.Zeb=!0;});this.Du({url:this.Tl,offset:d,size:f},this.Txb.bind(this,h,d,f,l));};c.prototype.Txb=function(h,d,f,l,m,n){var p,q,r,u;p=this;q=g.Zra(d,f);setTimeout(function(){delete p.pU[q];},1E3);if(m)(l && l(m,0),h && h.forEach(function(v){delete v.Zeb;}));else {r=new k(n);u=0;h && h.forEach(function(v){delete v.Zeb;v.entries.forEach(function(w,x){r.position=w.ZI - d;w={data:r.Ok(w.Rta)};v.images[x]=w;g.idc(v.images[x].data,p.oka.bind(p));u+=v.images[x].data.length;});});l && l(null,u);}};c.prototype.oka=function(h){this.eH && g.assert(h,this.Ra);};t.exports=c;},function(t){function b(a,c,k,g){this.Ra=g;this.id=a;this.startTime=c && c.qa || 0;this.endTime=c && c.sa;this.Oab=c && c.next || [];this.Ufb;this.mZ=[];this.pP=!1;a=this.startTime;c=this.endTime;for(var h=[],d=0;d < k.length;d++){(g=k[d]) && (!c || c > g.By) && a < g.Mr && (g.NUb(),h.push(g));}this.cp=h;}b.prototype.ZYa=function(){this.Ra.debug("Cleaning up segment",this.id);for(var a,c=0,k,g=[],h=0;h < this.cp.length;h++){a=this.cp[h];(k=a.HJb()) && g.push(a);a && (c+=k);}this.cp=[];return {size:c,cp:g};};t.exports=b;},function(t,b,a){var k;function c(g,h,d){return {timeout:d,type:g,entry:h};}k=a(113).EventEmitter;a(1225)({});b=function p(h,d,f,l,m,n){if(!(this instanceof p))return new p(h,d,f,l,m,n);k.call(this);this.ix=h;this.Vvb=d;this.b5=f;this.xwb=l;this.aA={};this.yH={};this.Ra=m || console;this.JT=!1;this.Byb=n && n.Vya || 0;};b.prototype=Object.create(k.prototype);b.prototype.stop=function(){clearTimeout(this.oh);this.c6b();};b.prototype.c6b=function(){var h;h=this;Object.keys(h.aA).forEach(function(d){h.emit("removesubtitle",h.aA[d]);});h.aA={};h.yH={};};b.prototype.pause=function(){this.JT || clearTimeout(this.oh);};b.prototype.Aw=function(h,d){var f,l;f=this;l=f.ix();clearTimeout(this.oh);h=f.Vvb(l);null !== h && f.JT && (f.JT=!1,this.Ra.info("bufferingComplete"),f.emit("bufferingComplete"),this.xwb())?this.Ra.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(f.aA).forEach(function(m){m=f.aA[m];m.displayTime - f.Byb <= l && l < m.displayTime + m.duration || (delete f.aA[m.id],f.emit("removesubtitle",m));}),Object.keys(f.yH).forEach(function(m){m=f.yH[m];l >= m.displayTime + m.duration && delete f.yH[m.id];}),null !== h && 0 < h.length?(d=h.length,f.Ra.info("found " + d + " entries for pts " + l),h.forEach(function(m){m.displayTime - 0 <= l && l < m.displayTime + m.duration && !f.aA[m.id] && (f.emit("showsubtitle",m),f.aA[m.id]=m,delete f.yH[m.id]);}),d=h[h.length - 1],f.aA[d.id] || f.yH[d.id] || (f.emit("stagesubtitle",d),f.yH[d.id]=d),d=f.exb(l,h),0 < d.length?f.E5(d[0].timeout):f.E5(2E4)):null === h?(h=250 * Math.pow(2,d),2E3 < h && (h=2E3),f.Ra.warn("checking buffer again in " + h + "ms"),f.JT || (f.JT=!0,f.emit("underflow")),f.E5(h,d + 1)):f.E5(2E4));};b.prototype.E5=function(h,d){var f;f=this;f.Ra.info("Scheduling pts check.");f.oh=setTimeout(function(){f.Aw(f.ix(),d);},h);};b.prototype.exb=function(h,d){return d.reduce(this.fxb.bind(this,h),[]);};b.prototype.fxb=function(h,d,f){var l,m;l=this.b5(f.displayTime,h);h=this.b5(f.displayTime + f.duration,h);m=0 < d.length?d[0].timeout:Infinity;return 0 < l && l < m?[c("showsubtitle",f,l)]:l === m?d.concat([c("showsubtitle",f,l)]):0 < h && h < m?[c("removesubtitle",f,h)]:h === m?d.concat([c("removesubtitle",f,h)]):d;};t.exports=b;},function(t){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}t.exports=function(a){var h,d,f;function c(l,m,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + l + "' but found '" + m + "'"));}function k(l,m,n){var p;p=d[l];"undefined" !== typeof p?p(m) || c(l,m,n):l !== typeof m && c(l,m,n);}function g(l,m){var n;n=l.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(l.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(r){return q[r];}).filter(function(r){return -1 === f.indexOf(r);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== l.length)throw new TypeError("Types: unexpected number of arguments");l.forEach(function(q,r){var u;u=p[r];if("string" === typeof q)k(q,u,{index:r});else if("object" === typeof q)Object.keys(q).forEach(function(v){k(q[v],u[v],{key:v});});else throw Error("Types: unexpected type in type array");});return m.apply(this,p);};}h=("number boolean string object function symbol").split(" ");d={array:function(l){return Array.isArray(l);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(l){if("undefined" !== typeof d[l] || -1 < h.indexOf(l))throw new TypeError("Types: attempting to override a built in type with " + l);d[l]=a[l];});}f=Object.keys(d).concat(h);return g(["array","function"],g);};},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.cF=void 0;t=a(1);c=a(499);k=a(1227);g=a(159);b.cF=new t.vd(function(h){h(c.Wha).to(k.fMa).ha();h(g.fT).H0(function(d){return function(){return d.ub.get(c.Wha).v_b;};});});},function(t,b,a){var k;function c(){var g;g=this;this.ready=!1;this.v_b=new Promise(function(h){g.$6b=h;});}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;t=a(0);a=a(1);c.prototype.w_b=function(g){this.ready || (this.$6b(g),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};k=c;k=t.__decorate([(0,a.X)()],k);b.fMa=k;},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ck=void 0;t=a(1);c=a(90);k=a(500);g=a(1229);h=a(502);d=a(1230);b.Ck=new t.vd(function(f){f(c.iz).ef(function(){return function(){return mb._cad_global.device;};});f(h.KGa).to(d.JGa).ha();f(k.HGa).to(g.GGa).ha();});},function(t,b,a){var k,g,h,d,f,l;function c(m,n){this.Aa=m;this.aza=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;t=a(0);k=a(30);g=a(5);h=a(141);d=a(501);f=a(55);a=a(1);c.prototype.UOb=function(){for(var m="",n=this.Aa.xf.da(g.ma),p=6;p--;){m=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + m;n=Math.floor(n / 32);}for(;30 > m.length;){m+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.aza.Udb(new d.$ia(0,31,f.sbb))];}return m;};l=c;l=t.__decorate([(0,a.X)(),t.__param(0,(0,a.l)(k.Bh)),t.__param(1,(0,a.l)(h.T3))],l);b.GGa=l;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u,v){this.AKb=p;this.uq=q;this.Bb=u;this.E2b=v;this.tHa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=r.mb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=void 0;t=a(0);k=a(3);g=a(27);h=a(1231);d=a(6);f=a(500);l=a(1);m=a(94);a=a(503);c.prototype.c2a=function(p){try{return p.match(this.tHa)[2];}catch(q){}};c.prototype.hNb=function(p){try{return p.match(this.tHa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(r,u){q.uq.create().then(function(v){var x,y,z,A,B,C;function w(D){q.Bb.lo(D) && q.Bb.lo(x)?(y=new h.IGa(D,x,void 0,z,p.jW || "cadmium"),r(y)):u({wa:k.R.kGa});}x=p.Tp;if(p.Xra){z="bind_device";q.E2b.gg(q.log,{}).then(function(D){w(D.esn);}).catch(function(D){u(D);});}else if(p.JO){B=p.ql;if(q.Bb.lo(B)){C=q.hNb(B);C != p.Tp && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Tp,ua:p.userAgent});}else p.Eva && q.log.error("esn from ui is missing");!p.LR && q.Bb.lo(B)?(z="config",w(B)):v.load(p.B0a).then(function(D){A=D.value;q.Bb.lo(A) && (!1,q.Bb.lo(B)?(D=q.c2a(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",w(x + A));}).catch(function(D){var E;function F(){v.save(p.B0a,E,!1).then(function(){w(x + E);}).catch(function(I){u(I);});}function G(){E=q.AKb.UOb();!1;F();}if(D.wa === k.R.ZC){if(q.Bb.lo(p.ql)){E=q.c2a(p.ql);q.Bb.lo(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.ql),G());}else (z="generated_since_not_in_config_and_storage",G());}else u(D);});}else w();}).catch(function(v){u(v);});});};n=c;n=t.__decorate([(0,l.X)(),t.__param(0,(0,l.l)(f.HGa)),t.__param(1,(0,l.l)(m.DC)),t.__param(2,(0,l.l)(d.sb)),t.__param(3,(0,l.l)(g.Kg)),t.__param(4,(0,l.l)(a.qNa))],n);b.JGa=n;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;b.IGa=function(a,c,k,g){this.ql=a;this.Tp=c;this.p8=g;};},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.y9a=void 0;t=a(1);c=a(159);k=a(1233);g=a(1234);h=a(1235);d=a(1236);f=a(1237);l=a(12);m=a(1238);n=a(1239);p=a(1240);q=a(47);r=a(90);u=a(508);v=a(505);w=a(504);x=a(87);y=a(287);z=a(50);A=a(189);B=a(1241);C=a(510);D=a(511);F=a(1244);G=a(512);E=a(1245);b.y9a=new t.vd(function(I){I(z.Yn).to(g.CKa).ha();I(v.ZLa).to(h.YLa).ha();I(w.RKa).to(d.QKa).ha();I(y.NKa).to(f.MKa).ha();I(z.xha).to(m.BKa).ha();I(x.qz).to(n.JKa).ha();I(y.LKa).to(p.KKa).ha();I(A.US).to(B.TS).ha();I(A.Aha).to(F.OKa).ha();I(G.XS).to(E.WS).ha();I(C.RGa).to(D.QGa).ha();I(u.$Da).to(k.ZDa).ha();I(z.DKa).H0(function(L){return function(){return L.ub.get(c.fT)().then(function(K){return new Promise(function(H){var O,J,M;function R(){J() && M() && K.iZ?H(L.ub.get(z.Yn)):O.pm(R);}O=L.ub.get(q.zj);J=L.ub.get(l.Ic);M=L.ub.get(r.iz);O.pm(R);});});};});});},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r){var u;u=this;this.fYb=n;this.rB=p;this.config=r;this.lza=[];this.fYb.Vca(k.Ilb,this.fTb.bind(this));q().then(function(v){var w;w=r().mr.rOb;u.XYb=w?m.gk[w.toUpperCase()]:m.gk.Yf;u.og=v;u.i8b();});}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;t=a(0);g=a(1);h=a(12);d=a(112);f=a(50);l=a(87);m=a(6);c.prototype.fTb=function(n,p){this.og?this.Qdb(n,p):this.lza.push([n,p]);};c.prototype.i8b=function(){var n,p;n=this;p=this.lza;this.lza=[];p.forEach(function(q){n.Qdb(q[0],q[1]);});};c.prototype.Qdb=function(n,p){var q;if(this.og && this.v9b(n)){q={debugMessage:n.message,debugCategory:n.Op};n.Vc.forEach(function(r){return q=Object.assign(Object.assign({},q),r.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.rB.Xu("debug",m.gk[n.level].toLowerCase(),q,p);this.og.Fc(n);}};c.prototype.v9b=function(n){var p;p=this.XYb;return void 0 !== p && n.level <= p && !n.Vc.find(function(q){return q.GW(m.AS);});};a=k=c;a.Ilb="adaptorAll";a=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(d.BL)),t.__param(1,(0,g.l)(l.qz)),t.__param(2,(0,g.l)(f.DKa)),t.__param(3,(0,g.l)(h.Ic))],a);b.ZDa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){this.config=u;this.json=v;this.Mc=w;this.WXb=x;this.YY=z;this.R$=this.Gv=!1;this.listeners=[];(0,g.fq)(this,"json");this.Da=y.mb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;t=a(0);k=a(1);g=a(55);h=a(38);d=a(504);f=a(47);l=a(6);m=a(50);n=a(505);p=a(3);q=a(110);a(161);r=a(275);c.prototype.za=function(){this.Gv=!0;};c.prototype.Fc=function(u){var v;v=this;this.E9b(u) || (!1,0 < u.size.Wl(this.config.SYb)?this.Da.error("Logblob is too large, dropping from the queue",{logblobType:u.type,logblobSize:u.size.toString()}):(this.listeners.forEach(function(w){return w.EZb(u);}),!1,this.YY.xma(u),this.Mc.pm(function(){v.$Nb();})));};c.prototype.flush=function(u){var v;v=this;u=void 0 === u?!1:u;return this.R$?(this.Da.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,x){v.Da.trace("Flushing",l.AS);v.Ut();v.Mc.pm(function(){v.DAa(u).then(function(){w();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(u){this.listeners.push(u);};c.prototype.removeListener=function(u){u=this.listeners.indexOf(u);0 <= u && this.listeners.splice(u,1);};c.prototype.DAa=function(u){var v,w;v=this;u=void 0 === u?!1:u;if(!this.Gv)return (this.Da.trace("LogBatcher is not initialized"),Promise.resolve());if(this.R$)return (this.Da.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.YY.vPb();if(0 === w.length && !u)return (this.Da.trace("No logblobs to send"),Promise.resolve());!1;this.Ut();this.listeners.forEach(function(){});u=Promise.resolve();for(var x={},y=na(w),z=y.next();!z.done;(x={nfa:x.nfa},z=y.next())){x.nfa=z.value;u=u.then((function(A){return function(){return v.e8b(A.nfa);};})(x));}return u.then(function(){return v.uI();}).catch(function(A){w.filter(function(B){return !B.mt;}).forEach(function(B){return B.kv();});v.uI();throw Error("Send failure. " + A);});};c.prototype.e8b=function(u){var v;v=this;this.Da.trace("Sending batch: " + u.size,l.AS);return Promise.resolve(this.YY.d6b(u)).then(function(){return v.WXb.send(u.wJ);}).then(function(){return u.vR();}).catch(function(w){v.Da.warn("Failed to send batch of logblobs.",w,l.AS);u.kv();v.s9b(w) && v.YY.rAb(u);v.F9b(w) && (v.R$=!0);throw w;});};c.prototype.s9b=function(u){return u.Td === p.f3.kNa?!1:this.config.sma;};c.prototype.F9b=function(u){return u.Cc === p.R.iIa || u.Cc === p.R.IS || u.Cc === p.R.MS?!0:!1;};c.prototype.$Nb=function(){var u;u=this;0 < this.YY.size.Wl(this.config.q$a)?this.DAa().catch(function(v){return u.Da.warn("Failed to send log messages on size threshold. " + v);}):this.uI();};c.prototype.Ut=function(){this.daa && (!1,this.daa.cancel(),this.daa=void 0);};c.prototype.uI=function(){this.daa || (!1,this.daa=this.Mc.Uk(this.config.g8b,this.jQ.bind(this)));};c.prototype.jQ=function(){var u;u=this;this.R$=!1;this.Ut();this.DAa().catch(function(v){return u.Da.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(u){var v;v="";try{v=this.json.stringify(u.data,void 0,"  ");}catch(w){}return v;};c.prototype.E9b=function(u){return 0 <= this.config.Ygb.indexOf(u.type)?!0:u.type === r.bd.debug?0 <= this.config.Xgb.indexOf(u.data.debugCategory):!1;};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(m.xha)),t.__param(1,(0,k.l)(h.nG)),t.__param(2,(0,k.l)(f.zj)),t.__param(3,(0,k.l)(d.RKa)),t.__param(4,(0,k.l)(l.sb)),t.__param(5,(0,k.l)(n.ZLa)),t.__param(6,(0,k.l)(q.b2))],a);b.CKa=a;},function(t,b,a){var g,h,d,f,l,m,n;function c(p){this.WM=d.La;this.lla=[];this.dU=this.f5=!1;p && (this.WM=p.size,this.lla=p.wJ);}function k(p,q,r,u){this.FZb=p;this.config=q;this.pg=r;this.json=u;(0,h.fq)(this,"json");this.Da=this.pg.mb("MessageQueue");this.Qu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;t=a(0);g=a(1);h=a(55);d=a(51);f=a(287);l=a(6);m=a(38);a=a(50);k.prototype.xma=function(p){var q,r;0 === this.Qu.length && this.Qu.push(this.bsa());if(p=this.$Rb(p)){q=this.FZb.measure([p]);r=this.Qu[this.Qu.length - 1];0 < r.size.add(q).Wl(this.config.q$a) && (r=this.bsa(),this.Qu.push(r));r.xma(p);}};k.prototype.vPb=function(){var p;p=this.Qu.filter(function(q){return q.lEb;});this.Qu.push(this.bsa());p.forEach(function(q){return q.GYb();});return p;};k.prototype.rAb=function(p){p.mt || this.Qu.unshift(new c(p));};k.prototype.d6b=function(p){p=this.Qu.indexOf(p);0 <= p && this.Qu.splice(p,1);};k.prototype.$Rb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(u){var q,r;q={};p=p.data;r=p.debugMessage;r && "string" === typeof r && (q.originalDebugMessage=r);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.Da.error("JSON.stringify error: " + u.message,q);}};k.prototype.bsa=function(){return new c();};Va.Object.defineProperties(k.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Qu.reduce(function(p,q){return p.add(q.size);},d.La);}}});n=k;n=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(f.NKa)),t.__param(1,(0,g.l)(a.xha)),t.__param(2,(0,g.l)(l.sb)),t.__param(3,(0,g.l)(m.nG))],n);b.YLa=n;c.prototype.vR=function(){this.f5=!1;this.dU=!0;};c.prototype.kv=function(){this.f5=!1;};c.prototype.xma=function(p){this.lla.push(p);this.WM=this.WM.add(p.size);};c.prototype.GYb=function(){this.f5=!0;};Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.WM;}},wJ:{configurable:!0,enumerable:!0,get:function(){return this.lla;}},lEb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.wJ.length && !1 === this.f5;}},mt:{configurable:!0,enumerable:!0,get:function(){return this.dU;}}});},function(t,b,a){var g,h,d,f,l,m,n,p,q,r,u;function c(v,w,x,y,z,A,B,C){this.Ea=v;this.platform=x;this.Ck=y;this.json=z;this.yi=A;this.ki=B;this.dYb=C;(0,h.fq)(this,"json");this.Da=w.mb("LogblobSender");}function k(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;t=a(0);g=a(1);h=a(55);d=a(38);f=a(5);l=a(32);m=a(19);n=a(48);p=a(90);q=a(6);r=a(506);a=a(80);c.prototype.send=function(v){var w;w=this;return new Promise(function(x,y){var z;try{z=v.reduce(function(A,B){A.entries.push(w.wIb(B));return A;},new k());x(w.XOb(z));}catch(A){w.Da.error(A.message);y(A);}}).then(function(x){return w.FAa(x);});};c.prototype.wIb=function(v){return this.yi.AJ(this.yi.AJ({},v.data),{esn:this.Ck().ql,sev:v.severity,type:v.type,lver:this.platform.Jva,jssid:this.Ea.id,devmod:this.platform.dE,jsoffms:v.timestamp.Ba(this.Ea.pB).da(f.ma),clienttime:v.timestamp.da(f.ma),client_utc:v.timestamp.da(f.rp),uiver:this.ki.Ry});};c.prototype.XOb=function(v){var w;w=this;try{return this.json.stringify(v);}catch(z){for(var x={},y=0;y < v.entries.length;(x={aS:x.aS,Dw:x.Dw},++y)){x.Dw=Object.assign({},v.entries[y]);try{this.json.stringify(x.Dw);}catch(A){x.aS=void 0;this.yi.nE(x.Dw,(function(B){return function(C,D){try{w.json.stringify(D);}catch(F){B.aS=F.message;B.Dw[C]=B.aS;}};})(x));x.Dw.stringifyException=x.aS;x.Dw.originalType=x.Dw.type;x.Dw.type="debug";x.Dw.sev="error";}}return this.json.stringify(v);}};c.prototype.FAa=function(v){var w;w=this;return this.dYb.gg(this.Da,{logblobs:v}).then(function(){!1;}).catch(function(x){w.Da.error("PBO logblob failed",x);return Promise.reject(x);});};u=c;u=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(m.$c)),t.__param(1,(0,g.l)(q.sb)),t.__param(2,(0,g.l)(n.Hq)),t.__param(3,(0,g.l)(p.iz)),t.__param(4,(0,g.l)(d.nG)),t.__param(5,(0,g.l)(l.$h)),t.__param(6,(0,g.l)(a.yz)),t.__param(7,(0,g.l)(r.INa))],u);b.QKa=u;},function(t,b,a){var k,g,h;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;t=a(0);k=a(1);g=a(287);h=a(51);c.prototype.measure=function(d){var f;f=this;return d.map(function(l){return l.size.add(f.config.ZXb());}).reduce(function(l,m){return l.add(m);},(0,h.aa)(0));};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.LKa))],a);b.MKa=a;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p){n=l.pf.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.SYb=(0,k.aa)(5E5);n.g8b=(0,g.kba)(1);n.q$a=(0,k.aa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.BKa=void 0;t=a(0);k=a(51);g=a(5);h=a(1);d=a(12);f=a(45);l=a(46);a=a(34);ka(c,l.pf);Va.Object.defineProperties(c.prototype,{sma:{configurable:!0,enumerable:!0,get:function(){return this.config().sma;}},Ygb:{configurable:!0,enumerable:!0,get:function(){return [];}},Xgb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});m=c;t.__decorate([f.config(f.object(),"shedLogblobTypes")],m.prototype,"Ygb",null);t.__decorate([f.config(f.kA("string"),"shedDebugTypes")],m.prototype,"Xgb",null);m=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(a.Fm)),t.__param(1,(0,h.l)(d.Ic))],m);b.BKa=m;},function(t,b,a){var g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y,z,A,B,C){this.platform=u;this.opa=v;this.type=w;this.severity=x;this.timestamp=y;this.Ea=A;this.data=z;this.data.type=w;this.data.sev=x;this.data.devmod=this.platform.dE;this.data.clver=this.platform.version;r && r.ke && (r.ke.os && (this.data.osplatform=r.ke.os.name,this.data.osver=r.ke.os.version),this.data.browsername=r.ke.name,this.data.browserver=r.ke.version);r.Sua && (this.data.tester=!0);r.UI && !this.data.groupname && (this.data.groupname=r.UI);r.HN && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + r.HN:r.HN);r.P0 && (this.data.uigroupname=r.P0);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.YQb();this.data.uniqueLogId=B.p3a();this.data.appId=this.Ea.id;C && (r=this.Ea.Tb(),this.data.soffms=r.Ba(C.oj).da(f.ma),this.data.mid=this.data.mid || C.I,this.data.lvpi=C.Iva,this.data.uiLabel=C.Ed,this.data.uxLabels=C.Uea,w="startup" === w?"playbackxid":"xid",this.data[w]="xid" === w && this.data.xid || C.ga,C.wK && (w=C.wK,(C=C.wK.split(".")) && 1 < C.length && "S" !== C[0][0] && (w="SABTest" + C[0] + ".Cell" + C[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + w:w));}function k(r,u,v,w,x,y){this.Aa=r;this.opa=u;this.config=v;this.Ea=w;this.fdc=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;t=a(0);g=a(51);h=a(1);d=a(30);f=a(5);l=a(347);m=a(40);n=a(19);p=a(507);a=a(48);k.prototype.Xu=function(r,u,v,w){return new c(this.config,this.platform,this.opa,r,u,this.Aa.xf,v,this.Ea,this.fdc,w);};q=k;q=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.Bh)),t.__param(1,(0,h.l)(l.fGa)),t.__param(2,(0,h.l)(m.mp)),t.__param(3,(0,h.l)(n.$c)),t.__param(4,(0,h.l)(p.bSa)),t.__param(5,(0,h.l)(a.Hq))],q);b.JKa=q;Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.oYa || (this.oYa=(0,g.aa)(this.opa.encode(this.data).length));return this.oYa;}}});},function(t,b,a){var k,g,h;function c(d){this.Ck=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;t=a(0);k=a(1);g=a(51);a=a(90);c.prototype.ZXb=function(){var d;d=this.Ck()?this.Ck().ql.length:40;return (0,g.aa)(d + 33);};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.iz))],h);b.KKa=h;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D;function c(F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa){this.Jib=F;this.og=G;this.vwa=E;this.Mqa=I;this.Be=L;this.b8=K;this.lf=H;this.config=R;this.Fd=O;this.Aa=J;this.Ea=M;this.platform=P;this.Jr=S;this.rB=U;this.pj=T;this.rv=W;this.yJ=ia;this.zc=pa;this.MP=wa;}Object.defineProperty(b,"__esModule",{value:!0});b.TS=void 0;t=a(0);k=a(472);g=a(50);h=a(32);d=a(480);f=a(281);l=a(1);m=a(189);n=a(509);p=a(510);q=a(70);r=a(12);u=a(30);v=a(19);w=a(48);x=a(87);y=a(116);z=a(162);A=a(38);B=a(40);C=a(288);a=a(96);c.prototype.create=function(F,G){return new n.VS(F,G,this.Jib,this.og,this.vwa,this.Mqa,this.Be,this.b8,this.lf,this.config,this.Fd,this.Aa,this.Ea,this.Jr,this.rB,this.pj,this.rv,this.yJ,this.zc,this.MP);};D=c;D=t.__decorate([(0,l.X)(),t.__param(0,(0,l.l)(k.uRa)),t.__param(1,(0,l.l)(g.Yn)),t.__param(2,(0,l.l)(d.zLa)),t.__param(3,(0,l.l)(f.Mga)),t.__param(4,(0,l.l)(h.$h)),t.__param(5,(0,l.l)(p.RGa)),t.__param(6,(0,l.l)(q.Mw)),t.__param(7,(0,l.l)(r.Ic)),t.__param(8,(0,l.l)(y.OG)),t.__param(9,(0,l.l)(u.Bh)),t.__param(10,(0,l.l)(v.$c)),t.__param(11,(0,l.l)(w.Hq)),t.__param(12,(0,l.l)(A.H3)),t.__param(13,(0,l.l)(x.qz)),t.__param(14,(0,l.l)(z.DG)),t.__param(15,(0,l.l)(B.mp)),t.__param(16,(0,l.l)(C.Tha)),t.__param(17,(0,l.l)(m.Aha)),t.__param(18,(0,l.l)(a.uz))],D);b.TS=D;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;c=a(51);b.PGa=function(k,g){this.fLb=k;this.size=g.Gua()?c.La:g;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jwa=void 0;b.jwa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var k=a[0],g=c(k),h=1;h < a.length;h++){d=a[h];f=c(d);f > g && (k=d,g=f);}return k;}};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x){this.platform=u;this.config=v;this.Ea=w;this.userAgentData=x;this.kSa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;t=a(0);k=a(1);g=a(31);h=a(19);d=a(3);f=a(48);l=a(5);m=a(12);n=a(25);p=a(13);q=a(191);a=a(216);c.prototype.zr=function(u,v,w){w && (u.adlid=w.Yb,u.abitrate=w.bitrate);v && (u.vdlid=v.Yb,u.vbitrate=v.bitrate);};c.prototype.V6a=function(u,v,w){w?u=Object.assign(u,(0,q.g5a)(this.platform.Xs,w)):u.errorcode=d.V.co;u.errorcode === this.platform.Xs + d.V.XMa && (u.lastSyncWithVideoElement=this.getTime() - v.u0);};c.prototype.$6a=function(u,v){var w;Object.assign(u,(0,q.Lsa)());try{w=v.getBoundingClientRect();u.rendersize=w.width + "x" + w.height;u.renderpos=w.left + "x" + w.top;}catch(x){}};c.prototype.Z6a=function(u,v){var w,x,y;w=v.wc[g.Nb.$a.Jb].value;x=v.wc[g.Nb.$a.cc].value;y=v.Hf.value;v=v.we.value;w && (u.cdnid=w.id,u.cdnname=w.name);x && (u.acdnid=x.id,u.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(u.adlid=y.stream.Yb,u.abitrate=y.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(u.vdlid=v.stream.Yb,u.vbitrate=v.stream.bitrate,u.vheight=v.stream.height,u.vwidth=v.stream.width);};c.prototype.X6a=function(u,v,w){0 <= v.mediaTime.value && (v=w && !v.gb.Ph?v.B7:v.mediaTime.value,u.moff=(0,n.ln)(v),u.moffms=(0,n.hg)(v));};c.prototype.r$=function(u,v){v.Rf && (u.pbcid=v.Rf);v.li && (u.playbackcontextid=v.li);};c.prototype.Yta=function(u){var v,w;u.browserua=p.xG;u.browseruad=null === (w=null === (v=p.Me.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === w?void 0:w.map(function(x){return [x.brand,x.version];});u.browseruadpv=this.userAgentData.platformVersion;u.browserhref=location.href;(v=p.Me && p.Me.connection && p.Me.connection.type) && (u.nettype=v);};c.prototype.iP=function(u){var v,w,x,y,z;if(this.config().gMb){z=null === (v=null === p.Me || void 0 === p.Me?void 0:p.Me.connection) || void 0 === v?void 0:v.effectiveType;v=null === p.Me || void 0 === p.Me?void 0:p.Me.deviceMemory;z && (u.effectiveType=z);v && (u.deviceMemory=v);}(z=null === (w=null === p.Me || void 0 === p.Me?void 0:p.Me.connection) || void 0 === w?void 0:w.type) && (u.connectionType=z);w=null === (x=null === p.Me || void 0 === p.Me?void 0:p.Me.connection) || void 0 === x?void 0:x.downlink;"number" === typeof w && isFinite(w) && (u.downlink=w);x=null === (y=null === p.Me || void 0 === p.Me?void 0:p.Me.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (u.rtt=x);};c.prototype.s$=function(u,v){if(v=v.gb.Nn)(v.isUIAutoPlay && (u.isUIAutoPlay=!0),v.clLogId && (u.cl_log_id=v.clLogId));};c.prototype.jP=function(u,v,w,x){var y,z,A,B,C;y=this;if(w=w && w.streams){A=new Set();B=new Set();C=new Set();w.forEach(function(D){D=D.Te;A.add(D);B.add(D.replace(y.kSa,""));(D=D.match(y.kSa)) && 0 < D.length && C.add(D[1]);});u.videoProfiles=[].concat(ha(A));u.videoProfile=0 === B.size?"none":[].concat(ha(B))[0];u.videoProfileLevels=[].concat(ha(C));w && w.length && (u.isMcClearen=! !w[0].sj.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}v && (null === (z=x.ea) || void 0 === z?0:z.b1) && (u.videoProfilesStatus=this.Z9a(x.ea.b1));};c.prototype.Z9a=function(u){return this.DYb(u.WO(),function(v){return v.supported?!0:v.reason;});};c.prototype.DYb=function(u,v){return Object.entries(u).reduce(function(w,x){var y;y=na(x);x=y.next().value;y=y.next().value;w[x]=v(y);return w;},{});};c.prototype.R6a=function(u,v,w){var x,y;if(v=v && v.streams){y={};v.forEach(function(z){y[z.Te]=void 0;});u.audioProfiles=Object.keys(y);}(null === (x=w.ea) || void 0 === x?0:x.lV) && (u.audioProfilesStatus=this.Z9a(w.ea.lV));};c.prototype.U6a=function(u){u.configversion=this.config().version;this.config().endpoint || (u.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Tb().da(l.ma);};r=c;r=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(f.Hq)),t.__param(1,(0,k.l)(m.Ic)),t.__param(2,(0,k.l)(h.$c)),t.__param(3,(0,k.l)(a.Fja))],r);b.OKa=r;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r,u){this.og=n;this.config=p;this.Aa=q;this.Ea=r;this.Lva=u;}Object.defineProperty(b,"__esModule",{value:!0});b.WS=void 0;t=a(0);k=a(50);g=a(1);h=a(189);d=a(12);f=a(30);l=a(19);m=a(1246);c.prototype.create=function(n,p,q){var r;r=this.Lva.create(n,p);return new m.YS(n,p,q,this.og,this.config,this.Ea,r);};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(k.Yn)),t.__param(1,(0,g.l)(d.Ic)),t.__param(2,(0,g.l)(f.Bh)),t.__param(3,(0,g.l)(l.$c)),t.__param(4,(0,g.l)(h.US))],a);b.WS=a;},function(t,b,a){var k,g,h,d,f;function c(l,m,n,p,q,r,u){var v;v=this;this.j=l;this.xa=m;this.og=p;this.config=q;this.Ea=r;this.ob=u;this.qB=function(w,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === v.I && w(y);};};this.V9a=this.qB(function(w){v.Yda(w.fJ);},function(w){return w.I;});this.S9a=this.qB(function(){v.IV();},function(w){return w.I;});this.kZa=this.qB(function(){v.IV();},function(w){return w.movieId;});this.moa=this.qB(function(){v.j.Db.value === f.lb.Jc && (v.j.Db.removeListener(v.moa),v.Yv());},function(){return v.j.I;});this.oC=function(w){v.NB && v.ob.oC(w);};this.qZa=this.qB(this.ob.GFb,function(w){return w.I;});this.U0a=this.qB(this.ob.$Kb,function(w){return w.I;});this.s9a=this.qB(this.ob.GY,function(w){return v.j.Hk(w.segmentId).I;});this.dgb=this.qB(this.ob.S_,function(w){return v.j.Hk(w.segmentId).I;});this.J0a=this.qB(this.ob.Upa,function(w){return w.I;});this.Pk=function(w){w.skip && (v.Jl=!0);switch(w.cause){case f.ff.HG:case f.ff.f4:v.Mt && v.Bq && v.ob.iya(v.getTime() - v.Bq,v.Mt);v.Mt="repos";v.ob.JQ(w.rxa,w.Hf,w.we);v.Bq=v.getTime();(0,d.fg)(v.Dx);break;case f.ff.k2:(v.Mt="force_rebuffer",v.Bq=v.getTime(),(0,d.fg)(v.Dx));}};this.Rm=function(w){v.nB=w.oldValue;v.ob.Rm(w);};this.Dx=function(){var w;if(v.Bq && v.j.Db.value !== f.lb.ag){w=v.getTime() - v.Bq;v.ob.PQ(w,v.Jl,v.Mt);v.nB && v.nB != v.j.yc.value && v.ob.kna();v.Bq=void 0;v.Mt=void 0;v.Jl=void 0;}};this.Yv=function(){v.NB || (v.NB=!0,v.ob.DF(!1),v.gua(),v.config().z$ && (v.kB=mb.setTimeout(function(){v.og.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.kB=void 0;},v.config().z$)));};this.ph=function(){v.kB && (mb.clearTimeout(v.kB),v.kB=void 0);if(v.config().c8 || v.config().qN)(v.Wpa && (mb.clearInterval(v.Wpa),v.Wpa=void 0),v.ob.H0a());v.R0 && v.R0();v.NB?v.ob.tI(! !v.j.Oi):v.j.Oi?v.ob.DF(!0):v.xa.background || v.ob.jya();};this.d1=function(w){w.oldValue && w.bn && w.bn.ZH && v.ob.MN(w.oldValue,w.newValue,w.bn.ZH,w.bn.vV);};this.$Z=function(w){var x;if(w.newValue){x=w.newValue.stream;v.mJ != x && (v.mJ && x && v.ob.zza(v.mJ,x,w.newValue.Um.startTime),v.mJ=x);}};this.I=m.I;this.log=(0,g.Qi)(l,"LogblobBuilder");this.za();n && this.Yda();}Object.defineProperty(b,"__esModule",{value:!0});b.YS=void 0;k=a(16);g=a(8);h=a(5);d=a(59);f=a(17);c.prototype.za=function(){this.j.addEventListener(f.ja.pJ,this.V9a);this.j.addEventListener(f.ja.Zva,this.S9a);this.j.addEventListener(f.ja.GY,this.s9a);this.j.addEventListener(f.ja.S_,this.dgb);this.j.addEventListener(f.ja.ph,this.kZa);this.j.addEventListener(f.ja.iE,this.J0a,k.C3);if(this.config().c8 || this.config().qN)(this.j.addEventListener(f.ja.iE,this.U0a),this.Wpa=mb.setInterval(this.ob.H0a,this.config().eLb));this.config().Gza && this.j.addEventListener(f.ja.iE,this.qZa);};c.prototype.Yda=function(l){var m;m=this;this.qab || (this.j.Db.value !== f.lb.Jc || (void 0 === l?0:l)?this.j.Db.addListener(this.moa):this.Yv(),this.j.ej.addListener(this.oC),this.j.kc.addListener(this.ob.um),this.j.yc.addListener(this.Rm),this.j.Gh.addListener(this.ob.nV),this.j.paused.addListener(this.ob.eca),this.j.we.addListener(this.$Z),this.j.Db.addListener(this.Dx),this.j.Db.addListener(this.ob.ijb),this.j.nf.addListener(this.d1),this.j.playbackRate.addListener(this.ob.e0),this.j.addEventListener(f.ja.Ji,this.ob.Ji),this.j.addEventListener(f.ja.pN,this.ob.pN),this.j.addEventListener(f.ja.uR,this.ob.uR),this.j.addEventListener(f.ja.qA,function(n){m.Mt="rebuffer";m.ob.qA(n);m.Bq=m.getTime();(0,d.fg)(m.Dx);}),this.j.addEventListener(f.ja.Pk,this.Pk),this.j.addEventListener(f.ja.zR,this.ob.zR),this.xa.cr && this.xa.cr.addListener(this.ob.cr),this.qab=!0);};c.prototype.IV=function(){this.ph();this.qab && (this.j.removeEventListener(f.ja.pJ,this.V9a),this.j.removeEventListener(f.ja.Zva,this.S9a),this.j.removeEventListener(f.ja.GY,this.s9a),this.j.removeEventListener(f.ja.S_,this.dgb),this.j.ej.removeListener(this.oC),this.j.kc.removeListener(this.ob.um),this.j.yc.removeListener(this.Rm),this.j.Gh.removeListener(this.ob.nV),this.j.paused.removeListener(this.ob.eca),this.j.we.removeListener(this.$Z),this.j.Db.removeListener(this.Dx),this.j.Db.removeListener(this.moa),this.j.Db.removeListener(this.ob.ijb),this.j.nf.removeListener(this.d1),this.j.playbackRate.removeListener(this.ob.e0),this.j.removeEventListener(f.ja.iE,this.J0a),this.j.removeEventListener(f.ja.ph,this.kZa),this.j.removeEventListener(f.ja.Ji,this.ob.Ji),this.j.removeEventListener(f.ja.pN,this.ob.pN),this.j.removeEventListener(f.ja.uR,this.ob.uR),this.j.removeEventListener(f.ja.qA,this.ob.qA),this.j.removeEventListener(f.ja.Pk,this.Pk),this.j.removeEventListener(f.ja.zR,this.ob.zR),this.xa.cr && this.xa.cr.removeListener(this.ob.cr),this.j.removeEventListener(f.ja.iE,this.U0a),this.j.removeEventListener(f.ja.iE,this.qZa));};c.prototype.getTime=function(){return this.Ea.Tb().da(h.ma);};c.prototype.gua=function(){var l,m,n;l=this;n=[];this.config().X$a && (this.config().Y$a.forEach(function(p){n.push(mb.setTimeout(l.ob.YE,p));}),this.config().Zaa && (m=mb.setInterval(this.ob.YE,this.config().Zaa)),this.R0=function(){n.forEach(function(p){mb.clearTimeout(p);});m && mb.clearInterval(m);});};b.YS=c;},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Hab=void 0;t=a(1);c=a(1248);k=a(70);g=a(513);h=a(1249);d=a(515);f=a(514);l=a(1250);m=a(465);n=a(1254);b.Hab=new t.vd(function(p){p(g.zSa).to(c.ySa).ha();p(k.Mw).LF(function(){return mb._cad_global.http;});p(d.sMa).to(h.rMa).ha();p(f.tMa).vm(l.default);p(m.eJa).to(n.dJa).ha();});},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ySa=void 0;t=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};k=c;k=t.__decorate([(0,a.X)()],k);b.ySa=k;},function(t,b,a){var k,g,h,d;function c(f,l,m){this.config=f;this.RXb=l;this.Vb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.rMa=void 0;t=a(0);k=a(339);g=a(1);h=a(190);a=a(514);c.prototype.DIb=function(){if(this.config.ykb)return this.Vb(this.RXb());};d=c;d=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(k.qMa)),t.__param(1,(0,g.l)(h.mMa)),t.__param(2,(0,g.l)(a.tMa))],d);b.rMa=d;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1251);k=a(1252);g=a(1253);b.default=function(h){var d;h=new c.Cfa(h);d=new g.Arb(h);return new k.zrb(h,d);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.p9a=c;}a.prototype.RAa=function(c){try{this.p9a.setItem("gtp",JSON.stringify(c));}catch(k){return !1;}return !0;};a.prototype.r4a=function(){var c;try{c=this.p9a.getItem("gtp");if(c)return JSON.parse(c);}catch(k){}};a.prototype.Io=function(){var c;c=this.r4a();if(c && c.tp)return c.tp.a;};a.prototype.IQb=function(){var c;c=this.nsa();if(c)return c.p25;};a.prototype.JQb=function(){var c;c=this.nsa();if(c)return c.p50;};a.prototype.KQb=function(){var c;c=this.nsa();if(c)return c.p75;};a.prototype.nsa=function(){var c;c=this.r4a();if(c && (c=c.iqr))return c;};return a;})();b.Cfa=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c,k){this.xx=c;this.Zwa=k;}a.prototype.RAa=function(c){return this.xx.RAa(c);};a.prototype.Io=function(){return this.xx.Io();};return a;})();b.zrb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.xx=c;}a.prototype.Zwa=function(){var c,k,g;c=this.xx.IQb();k=this.xx.JQb();g=this.xx.KQb();if("number" === typeof c && "number" === typeof k && "number" === typeof g)return (g - c) / k;};return a;})();b.Arb=t;},function(t,b,a){var k,g,h;function c(d,f){this.lf=f;this.Da=d.mb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;t=a(0);k=a(1);g=a(6);a=a(70);c.prototype.download=function(d,f){var l;l=this;f=void 0 === f?{z$a:0}:f;return new Promise(function(m,n){var q;function p(r){if(r.ca)return m(r.content);if(q === f.z$a)return n({wa:r.wa,XI:r.pl});q++;!1;l.lf.download(d,p);}q=0;l.lf.download(d,p);});};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(a.Mw))],h);b.dJa=h;},function(t,b,a){var c,k,g,h,d,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.l3a=void 0;t=a(1);c=a(1256);k=a(1257);g=a(1258);h=a(1259);d=a(1260);f=a(516);l=a(517);m=a(169);b.l3a=new t.vd(function(n){n(m.gIa).to(c.fIa).ha();n(m.RPa).to(k.QPa).ha();n(m.PPa).to(g.OPa).ha();n(f.cIa).to(h.bIa).ha();n(l.hJa).to(d.gJa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u,v,w,x){this.config=p;this.I6a=q;this.Mc=r;this.qg=u;this.B6b=v;this.Dza=w;this.CWb=0;this.Da=x.mb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=void 0;t=a(0);g=a(1);h=a(5);d=a(47);f=a(6);l=a(516);m=a(517);a=a(169);c.prototype.start=function(){this.config.enabled && !this.Nt && (this.Nt=this.Mc.Uk(this.config.yhb,this.Gy.bind(this)));};c.prototype.stop=function(){this.Nt && (this.Nt.cancel(),this.Nt=void 0);};c.prototype.Gy=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.CWb++;this.wSb(q).then(function(r){return Promise.all(r.urls.map(function(u){return p.pTb(r,u.url,u.name);})).then(function(u){0 < u.length && p.B6b.u_({data:u,context:r.context,Mva:r.Mva});}).then(function(){return r;});}).then(function(r){p.Nt && (r.C8a?p.Nt=p.Mc.Uk(r.C8a,p.Gy.bind(p)):p.stop());}).catch(function(r){return p.Da.error("FTL run failed",r);});};c.prototype.wSb=function(p){var q;q=this;return this.I6a.get(p,!1).then(function(r){var u;if(200 != r.status || null == r.body)return (q.Dza.u_({url:p,status:r.status,eya:"FTL API request failed",ue:r.ue}),Promise.reject(Error("FTL API request failed: " + r.status)));u=q.qg.parse(r.body);return u instanceof Error?(q.Dza.u_({url:p,status:4,eya:"FTL Probe API JSON parsing error",ue:r.ue}),Promise.reject(u)):Promise.resolve(u);}).catch(function(r){r instanceof Error && (q.Dza.u_({url:p,status:0,eya:r.message}),q.Da.error("FTL API call failed",r.message));return Promise.reject(r);});};c.prototype.pTb=function(p,q,r){var u;u=this;return new Promise(function(v,w){var F;for(var x,y,z,A,B=[],C={},D=0;D < p.T4b;(C={ofa:C.ofa,pfa:C.pfa},++D)){C.ofa=D < p.Ndb.length?p.Ndb[D]:h.La;C.pfa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(G){return function(){return new Promise(function(E,I){u.Mc.Uk(G.ofa,function(){k.x4b(u.I6a,G.pfa,p.S4b).then(function(L){function K(H,R,O){H || (H=O.headers[R]);return H;}x=K(x,"via",L);y=K(y,"x-ftl-probe-data",L);z=K(z,"x-ftl-error",L);A=K(A,"latency-trace",L);L={status:L.status,ue:L.ue,qdc:x || "",aFb:y || "",HW:z || "",fXb:u.x2b(A)};E(L);}).catch(function(L){I(L);});});});};})(C);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(G){v({url:q,name:r,data:G});}).catch(function(G){w(G);});});};c.prototype.x2b=function(p){var q;if(p){q={};p=na(p.split(";"));for(var r=p.next();!r.done;r=p.next()){if((r=r.value.trim().split("=")) && 2 == r.length)try{q[r[0].trim()]=Number.parseInt(r[1]);}catch(u){}}return q;}};c.x4b=function(p,q,r){return p.get(q,!1,r).then(function(u){return Object.assign({},u);});};n=k=c;n=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(a.eIa)),t.__param(1,(0,g.l)(m.hJa)),t.__param(2,(0,g.l)(d.zj)),t.__param(3,(0,g.l)(l.cIa)),t.__param(4,(0,g.l)(a.RPa)),t.__param(5,(0,g.l)(a.PPa)),t.__param(6,(0,g.l)(f.sb))],n);b.fIa=n;},function(t,b,a){var k,g,h,d,f,l;function c(m,n){this.og=m;this.Bwa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.QPa=void 0;t=a(0);g=a(1);h=a(51);d=a(5);f=a(50);a=a(87);c.prototype.u_=function(m){var n;n={ctx:m.context,data:m.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return k.Zdc({d:q.ue.duration.da(d.ma),sc:q.status,sz:q.ue.size.da(h.Hw),via:q.qdc,cip:q.aFb,err:q.HW},q);})};})};m=this.Bwa.Xu(m.Mva,"info",n);this.og.Fc(m);};c.Zdc=function(m,n){k.vx(m,"dns",n.ue.O0a);k.vx(m,"tcp",n.ue.iCa);k.vx(m,"tls",n.ue.tCa);k.vx(m,"ttfb",n.ue.oCa);k.JAb(m,n.fXb);return m;};c.JAb=function(m,n){n && (m.rtts=n);};c.vx=function(m,n,p){p && (m[n]=p.da(d.ma));};l=k=c;l=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(f.Yn)),t.__param(1,(0,g.l)(a.qz))],l);b.QPa=l;},function(t,b,a){var k,g,h,d,f,l;function c(m,n){this.og=m;this.Bwa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.OPa=void 0;t=a(0);g=a(1);h=a(51);d=a(5);f=a(50);a=a(87);c.prototype.u_=function(m){m=this.Bwa.Xu("ftlProbeError","info",k.Ydc({url:m.url,sc:m.status,pf_err:m.eya},m));this.og.Fc(m);};c.Ydc=function(m,n){n.ue && (n=n.ue,k.vx(m,"d",n.duration),k.vx(m,"dns",n.O0a),k.vx(m,"tcp",n.iCa),k.vx(m,"tls",n.tCa),k.vx(m,"ttfb",n.oCa),m.sz=n.size.da(h.Hw));return m;};c.vx=function(m,n,p){p && (m[n]=p.da(d.ma));};l=k=c;l=k=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(f.Yn)),t.__param(1,(0,g.l)(a.qz))],l);b.OPa=l;},function(t,b,a){var k,g,h,d,f;function c(l,m){this.is=l;this.json=m;(0,g.fq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;t=a(0);k=a(1);g=a(55);h=a(38);d=a(5);a=a(27);c.prototype.parse=function(l){var n;l=this.json.parse(l);if(!this.is.hma(l))throw Error("FtlProbe: param: not an object");if(l.next && !this.is.OU(l.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.OU(l.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(l.pulse_delays && !this.is.ED(l.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.OU(l.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.ED(l.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.lo(l.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.bV(l.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var m=0;m < l.urls.length;++m){n=l.urls[m];if(!this.is.hma(n))throw Error("FtlProbe: param.urls[" + m + "]: not an object");if(!this.is.Hu(n.name))throw Error("FtlProbe: param.urls[" + m + "].name: not a string");if(!this.is.Hu(n.url))throw Error("FtlProbe: param.urls[" + m + "].url: not a string");}return {T4b:l.pulses,Ndb:l.pulse_delays?l.pulse_delays.map(d.tc):[],S4b:(0,d.tc)(l.pulse_timeout),C8a:l.next?(0,d.tc)(l.next):void 0,urls:l.urls,Mva:l.logblob,context:l.ctx};};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.Kg)),t.__param(1,(0,k.l)(h.nG))],f);b.bIa=f;},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r,u){this.Aa=q;this.cec=r;this.performance=u;(0,g.fq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;t=a(0);g=a(55);h=a(284);d=a(51);f=a(38);l=a(30);m=a(1);n=a(513);p=a(5);c.prototype.get=function(q,r,u){var v;v=this;return new Promise(function(w,x){var y,z,A;try{y=v.cec.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);r && (y.withCredentials=!0);u && (y.timeout=u.da(p.ma));z=v.Aa.xf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=v.Aa.xf.Ba(z);break;case XMLHttpRequest.DONE:B=v.Aa.xf.Ba(z);B={body:y.responseText,status:y.status,headers:k.Pxa(y.getAllResponseHeaders()),ue:v.wsa(q,(0,d.aa)(y.responseText.length),B,A)};w(B);}};y.send();}catch(B){x(B);}});};c.Pxa=function(q){var r,v,w;r={};q=q.split("\r\n");for(var u=0;u < q.length;u++){v=q[u];w=v.indexOf(": ");0 < w && (r[v.substring(0,w).toLowerCase()]=v.substring(w + 2));}return r;};c.prototype.wsa=function(q,r,u,v){r={size:r,duration:u,oCa:v};if(!this.performance || !this.performance.getEntriesByName)return r;u=this.performance.getEntriesByName(q);if(0 == u.length && (u=this.performance.getEntriesByName(q + "/"),0 == u.length))return r;q=u[u.length - 1];r=(0,h.GP)(r);q.decodedBodySize && (r.size=(0,d.aa)(q.decodedBodySize));0 < q.duration?r.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (r.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (r.O0a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),r.iCa=(0,p.timestamp)(q.connectEnd - q.connectStart),r.oCa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?r.tCa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (u=q.connectEnd - q.secureConnectionStart,r.tCa=(0,p.timestamp)(u),r.iCa=(0,p.timestamp)(q.connectEnd - q.connectStart - u)));return r;};a=k=c;a=k=t.__decorate([(0,m.X)(),t.__param(0,(0,m.l)(l.Bh)),t.__param(1,(0,m.l)(n.zSa)),t.__param(2,(0,m.l)(f.xia)),t.__param(2,(0,m.optional)())],a);b.gJa=a;},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.Kdb=void 0;t=a(1);c=a(340);k=a(1262);g=a(192);h=a(1263);b.Kdb=new t.vd(function(d){d(c.ZGa).to(k.YGa).ha();d(g.SS).to(h.wKa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u){this.yi=p;this.HD=q;this.ddc=r;this.BP=u;}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;t=a(0);k=a(1);g=a(32);h=a(33);d=a(72);f=a(119);l=a(57);m=a(49);a=a(192);c.prototype.vh=function(p){var q;q=this;return this.yi.UD(p.yk[0].data[0],[8,4])?Promise.resolve({Ge:[{id:"ddd",oJ:"cert",CY:void 0}],Oj:[{sessionId:"ddd",data:new Uint8Array(this.HD.decode(m.pSa))}]}):this.yi.UD(p.yk[0].data[0],this.ddc.decode("certificate"))?Promise.resolve({Ge:[{id:"ddd",oJ:"cert",CY:void 0}],Oj:[{sessionId:"ddd",data:new Uint8Array(this.HD.decode(m.j2))}]}):this.BP.ux(this.KOb(p)).then(function(r){return q.LOb(r);});};c.prototype.release=function(p){return this.BP.release(this.OOb(p)).then(function(){});};c.prototype.KOb=function(p){var q,r;q=this;r=p.yk.map(function(u){return u.data.map(function(v){return {sessionId:u.sessionId,dataBase64:q.HD.encode(v)};});});return {ga:p.ga,li:p.li,d8:p.d8,ng:(0,l.wva)(p.ng),Bo:f.Am[p.Bo],yk:r.reduce(function(u,v){return u.concat(v);},[]),Pj:p.Pj};};c.prototype.OOb=function(p){return {ga:p.ga,Ge:p.Ge};};c.prototype.LOb=function(p){return {Ge:p.Ge,Oj:p.Oj};};n=c;n=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$h)),t.__param(1,(0,k.l)(h.zi)),t.__param(2,(0,k.l)(d.tu)),t.__param(3,(0,k.l)(a.SS))],n);b.YGa=n;},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p,q,r){this.bAb=m;this.Y5b=n;this.dfb=q;this.e7b=r;this.Da=p.mb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;t=a(0);k=a(1);g=a(6);h=a(518);a(519);d=a(523);f=a(524);a=a(289);c.prototype.ux=function(m){var n,p;n=this;!1;p=this.dfb.obc(m);return this.bAb.sr(this.Da,m.Pj,p).then(function(q){q.map(function(r){return r.kXb;});return n.e7b.mjb(q);}).catch(function(q){n.Da.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(m){var n;n=this;!1;m=this.dfb.rbc(m);return this.Y5b.gg(this.Da,m).then(function(){return {ca:!0};}).catch(function(p){n.Da.error("PBO release license failed",p);return Promise.reject(p);});};l=c;l=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.mNa)),t.__param(1,(0,k.l)(d.$Na)),t.__param(2,(0,k.l)(g.sb)),t.__param(3,(0,k.l)(f.CNa)),t.__param(4,(0,k.l)(a.sia))],l);b.wKa=l;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x){return function(){return x.ub.get(k.VNa).za();};}Object.defineProperty(b,"__esModule",{value:!0});b.TJ=void 0;t=a(1);k=a(156);g=a(267);h=a(290);d=a(525);f=a(1265);l=a(1266);m=a(526);n=a(1267);p=a(527);q=a(1268);r=a(291);u=a(1269);v=a(528);w=a(1270);b.TJ=new t.vd(function(x){x(m.IOa).to(n.HOa).ha();x(g.uia).to(h.RNa).ha();x(d.sNa).to(f.rNa).ha();x(k.VNa).to(l.UNa).ha();x(k.mT).H0(c);x(v.TNa).to(w.SNa).ha();x(p.yNa).to(q.xNa).ha().h1();x(r.XNa).to(u.WNa).ha();x(r.ONa).to(u.NNa).ha();x(r.QNa).to(u.PNa).ha();});},function(t,b,a){var h,d,f,l,m,n,p,q,r,u;function c(){}function k(){}function g(v,w,x,y,z){var A;A=this;this.is=v;this.uq=w;this.config=x;this.mI=y;this.G2b=z;this.xw=function(){return new c().encode({version:A.version,data:A.TJ});};this.Hcc=function(B){B=A.upgrade(B);A.G2b.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.lo(B))return A.Icc(B);C=B.version;if(void 0 != C && A.is.ko(C) && 1 == C)return A.Jcc(B);C=B.version;if(void 0 != C && A.is.ko(C) && 2 == C)return new c().decode(B);if(B.version && A.is.ko(B.version))throw new m.jd(f.V.NC,f.R.jFa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new m.jd(f.V.NC,f.R.HC,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.Hl=new n.jha(2,this.config().Qcb,"" !== this.config().Qcb && 0 < this.config().k3b,this.uq,this.xw);}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;t=a(0);h=a(1);d=a(12);f=a(3);l=a(27);m=a(37);n=a(330);p=a(94);q=a(90);r=a(290);a=a(291);g.prototype.i5b=function(){return this.Hl.load(this.Hcc).catch(function(v){throw new m.jd(f.V.NC,v.wa || v.Cc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};g.prototype.NAb=function(v){return this.Hl.add(v);};g.prototype.Keb=function(v){return this.Hl.remove(v,function(w,x){return w.ga === x.ga;});};g.prototype.UCa=function(v){return this.Hl.update(v,function(w,x){return w.ga === x.ga;});};g.prototype.toString=function(){return JSON.stringify(this.xw(),null,"  ");};g.prototype.mkb=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.mI().ql:"";};g.prototype.ZCa=function(v){return v.map(function(w){return {Yb:w.downloadableId,duration:w.duration};});};g.prototype.nkb=function(v){var w;return v?{total:v.playTimes.total,WK:null !== (w=v.playTimes.totalContentTime) && void 0 !== w?w:v.playTimes.total,DR:v.playTimes.total,MF:0,NF:0,audio:this.ZCa(v.playTimes.audio || []),video:this.ZCa(v.playTimes.video || []),text:this.ZCa(v.playTimes.timedtext || [])}:{total:0,WK:0,DR:0,MF:0,NF:0,audio:[],video:[],text:[]};};g.prototype.Icc=function(v){var w,x,y;w=this;v=JSON.parse(v);x={type:"online",href:this.mkb(v.playbackContextId),ga:v.xid?v.xid.toString():"",I:v.movieId,position:v.position,aI:v.timestamp,rq:v.playback?1E3 * v.playback.startEpoch:-1,LP:v.mediaId,Xv:this.nkb(v.playback),trackId:"",Nn:{},profileId:v.accountKey};y=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.uq.create().then(function(z){z.save(w.config().sW,y,!1);});if("" === x.href || "" === x.ga)throw new m.jd(f.V.NC,f.R.HC);return {version:2,data:[x]};};g.prototype.Jcc=function(v){var w;w=this;if(!v.playdata || !this.is.ED(v.playdata))throw new m.jd(f.V.NC,f.R.HC,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:w.mkb(y.playbackContextId),ga:y.xid?y.xid.toString():"",I:y.movieId,position:y.position,aI:y.timestamp,rq:y.playback?1E3 * y.playback.startEpoch:-1,LP:y.mediaId,Xv:w.nkb(y.playback),trackId:"",Nn:{},profileId:y.profileId};});})(v.playdata)};};Va.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Hl.version;}},TJ:{configurable:!0,enumerable:!0,get:function(){return this.Hl.Sm;}}});u=g;u=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(l.Kg)),t.__param(1,(0,h.l)(p.DC)),t.__param(2,(0,h.l)(d.Ic)),t.__param(3,(0,h.l)(q.iz)),t.__param(4,(0,h.l)(a.QNa))],u);b.rNa=u;k.prototype.encode=function(v){var w;w=new r.G3();return v.map(w.encode);};k.prototype.decode=function(v){var w;w=new r.G3();return v.map(w.decode);};c.prototype.encode=function(v){return {version:v.version,data:new k().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new k().decode(v.data)};};},function(t,b,a){var h,d,f,l,m,n,p,q,r,u,v,w,x;function c(y,z,A,B,C,D,F,G){this.config=y;this.Mc=A;this.Sy=B;this.$v=C;this.pca=D;this.mi=F;this.kJ=Promise.resolve();this.closed=!1;this.log=z.mb("PlaydataServices");this.SJ=[];this.active=new Set();this.j7b=new k(y,G);}function k(y,z){this.config=y;this.Aa=z;}function g(y,z,A,B,C,D){this.log=y;this.Mc=z;this.Ui=A;this.$v=B;this.Sy=C;this.d3b=D;this.g2a=this.zg=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.UNa=b.Esb=void 0;t=a(0);h=a(1);d=a(5);f=a(6);l=a(47);m=a(267);n=a(525);p=a(526);q=a(3);r=a(290);u=a(527);v=a(103);w=a(30);a=a(142);g.prototype.mba=function(y,z){var B;function A(){var C;C=B.$v.create(B.Ui);B.Sy.UCa(C).catch(function(D){var F;F=B.g2a?f.gk.Kja:f.gk.Yf;B.g2a=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.Sy.NAb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.Nt=B.Mc.L_(y,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new r.G3().encode(z)});B.Nt=B.Mc.L_(y,A);});};g.prototype.stop=function(y){var z,A;z=this;if(this.zg)return Promise.resolve();this.Nt && this.Nt.cancel();A=this.$v.create(this.Ui);return this.Sy.UCa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.Ui.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.d3b.Zfb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Sy.Keb(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.I);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};g.prototype.cancel=function(){this.zg=!0;this.Nt && this.Nt.cancel();this.Sy.UCa(this.$v.create(this.Ui));};Va.Object.defineProperties(k.prototype,{hEb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.Aa.xf;return !this.kJ || 0 <= y.Ba(this.kJ).Wl(this.config.E8a)?(this.kJ=y,!0):!1;}}});b.Esb=k;c.prototype.za=function(){var y;y=this;this.IE || (this.log.trace("Starting playdata services"),this.IE=this.Sy.i5b().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.IE;};c.prototype.close=function(){this.closed=!0;this.SJ.forEach(function(y){y.mba.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.QJ && z.EAa?this.d8b(y):Promise.resolve();};c.prototype.tq=function(y,z,A){var B;B=this;this.closed || (this.GBa(y),this.GAa(y).catch(function(C){B.log.error("Start command failed",{playdata:C.TJ,error:C.HW});}),z && this.DBa(this.LQb(y),y,A));};c.prototype.k0=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.$v.create(y);this.active.delete(A.ga);y=na((0,v.Wv)(function(C){return C.key === A.ga;},this.SJ));B=y.next().value;this.SJ=y.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.mba.stop(z.config.EAa);})).then(function(){});};c.prototype.GBa=function(y){var z,A;y.He("pdb");if(this.config.cya.cWb()){z=this.$v.create(y);A=z.ga;this.SJ.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.SJ.push({key:A,mba:this.hRb(y,z),Oy:!1,stopped:!1}));}};c.prototype.d8b=function(y){var z,A,B,C;z=this;A=this.Sy.TJ.filter(function(D){return !z.active.has(D.ga);});B=void 0;C=void 0;y && Infinity === y?B=A:(A=na((0,v.Wv)(function(D){return D.I === y;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.Mc.Uk(this.config.Wfb,function(){z.Yfb(C);});return B && 0 !== B.length?this.Yfb(B):Promise.resolve();};c.prototype.Yfb=function(y){var A;function z(B){return A.pca.Zfb(B).then(function(){return A.j6b(B);});}A=this;return y.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.j6b=function(y){var z;z=this;return this.Sy.Keb(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.hRb=function(y,z){y=new g(this.log,this.Mc,y,this.$v,this.Sy,this.pca);y.mba(this.config.cya,z);return y;};c.prototype.GAa=function(y){var z,A;z=this;A=this.$v.create(y);return this.pca.GAa(y,A).then(function(){!1;z.SJ.filter(function(B){return B.key === y.ga.toString();}).forEach(function(B){B.Oy=!0;});}).catch(function(B){throw {TJ:A,HW:B};});};c.prototype.Xfb=function(y){return this.j7b.hEb?this.Q_(u.ria.pY,y,q.V.pha):Promise.resolve();};c.prototype.Cda=function(y){return this.Q_(u.ria.splice,y,q.V.gQa);};c.prototype.Q_=function(y,z,A){var C;function B(D){var F;F=C.SJ.filter(function(G){return G.key === D.ga.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Oy;},!1);}C=this;return B(z)?this.kJ:this.kJ=this.kJ.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.$v.create(z);return C.pca.Q_(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;C.log.error("Failed to send event",{eventKey:y,xid:z.ga,error:D});D.Gk?F=C.mi(A,D):D.DB === q.r3.Eja && (F=C.mi(A,D));throw {HW:D,sQ:F};});};c.prototype.DBa=function(y,z,A){var B;B=this;!1;this.Doa();this.Yua=this.Mc.Uk(y,function(){B.Doa();B.Q_(u.ria.pY,z,q.V.pha).then(function(){B.DBa(y,z,A);}).catch(function(C){var D;D=C.HW;(C=C.sQ) && A(C);D.DB === q.r3.Eja && B.DBa(y,z,A);});});};c.prototype.Khb=function(){this.Doa();};c.prototype.Doa=function(){this.Yua && (this.Yua.cancel(),this.Yua=void 0);};c.prototype.LQb=function(y){return y.gb.zta?(0,d.tc)(y.gb.zta):this.config.D8a;};x=c;x=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(p.IOa)),t.__param(1,(0,h.l)(f.sb)),t.__param(2,(0,h.l)(l.zj)),t.__param(3,(0,h.l)(n.sNa)),t.__param(4,(0,h.l)(m.uia)),t.__param(5,(0,h.l)(u.yNa)),t.__param(6,(0,h.l)(a.oT)),t.__param(7,(0,h.l)(w.Bh))],x);b.UNa=x;},function(t,b,a){var k,g,h,d,f,l;function c(m,n){m=g.pf.call(this,m,"PlaydataConfigImpl") || this;m.config=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.HOa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);d=a(45);f=a(5);a=a(40);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{QJ:{configurable:!0,enumerable:!0,get:function(){return this.config.PA?"unsentplaydatatest":"unsentplaydata";}},EAa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Wfb:{configurable:!0,enumerable:!0,get:function(){return (0,f.tc)(1E4);}},cya:{configurable:!0,enumerable:!0,get:function(){return (0,f.tc)(4E3);}},D8a:{configurable:!0,enumerable:!0,get:function(){return (0,f.kba)(1);}},E8a:{configurable:!0,enumerable:!0,get:function(){return (0,f.si)(30);}}});l=c;t.__decorate([d.config(d.string,"playdataPersistKey")],l.prototype,"QJ",null);t.__decorate([d.config(d.xd,"sendPersistedPlaydata")],l.prototype,"EAa",null);t.__decorate([d.config(d.Lk,"playdataSendDelayMilliseconds")],l.prototype,"Wfb",null);t.__decorate([d.config(d.Lk,"playdataPersistIntervalMilliseconds")],l.prototype,"cya",null);t.__decorate([d.config(d.Lk,"heartbeatCooldown")],l.prototype,"D8a",null);t.__decorate([d.config(d.Lk,"keepAliveWindow")],l.prototype,"E8a",null);l=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm)),t.__param(1,(0,k.l)(a.mp))],l);b.HOa=l;},function(t,b,a){var k,g,h;function c(d,f){this.MV=f;this.log=d.mb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xNa=void 0;t=a(0);k=a(88);g=a(6);a=a(1);c.prototype.GAa=function(d,f){var l;l=this.MV(k.Eq.start);return this.Z1a(l,d,f);};c.prototype.Zfb=function(d){var f;f=this;return this.MV(k.Eq.stop).gg(this.log,d).then(function(){}).catch(function(l){f.log.error("PBO stop event failed",l);throw l;});};c.prototype.Q_=function(d,f,l){d=this.MV(d);return this.Z1a(d,f,l);};c.prototype.Z1a=function(d,f,l){var m;m=this;return d.sr(this.log,f.ea.Pj,l).then(function(){}).catch(function(n){m.log.error("PBO event failed",n);throw n;});};h=c;h=t.__decorate([(0,a.X)(),t.__param(0,(0,a.l)(g.sb)),t.__param(1,(0,a.l)(k.Kga))],h);b.xNa=h;},function(t,b,a){var h,d,f,l;function c(){}function k(m){this.F2b=m;}function g(m){this.H2b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.WNa=b.PNa=b.NNa=void 0;t=a(0);h=a(1);d=a(291);f=a(37);l=a(3);g.prototype.validate=function(m){m.map(this.H2b.validate);};a=g;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.XNa))],a);b.NNa=a;k.prototype.validate=function(m){this.F2b.validate(m.data);};a=k;a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.ONa))],a);b.PNa=a;c.prototype.validate=function(m){var n;m.ga && "string" === typeof m.ga?m.href && "string" === typeof m.href?m.profileId && "string" === typeof m.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.jd(l.V.NC,l.R.HC,void 0,void 0,void 0,n,void 0,m.ga);};d=c;d=t.__decorate([(0,h.X)()],d);b.WNa=d;},function(t,b,a){var k,g,h,d;function c(f,l){this.wcb=l;this.log=f.mb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.SNa=void 0;t=a(0);k=a(1);g=a(6);h=a(17);a=a(156);c.prototype.tq=function(f){var l;l=this;this.wcb().then(function(m){f.addEventListener(h.ja.pJ,function(n){var p;if(void 0 !== n.wQ){p=f.Ho(n.wQ);m.k0(p);n.fJ || new Promise(function(q){var r;if(f.Zj.value)q();else {r=function(u){u.newValue && (q(),f.Zj.removeListener(r));};f.Zj.addListener(r);}}).then(function(){return m.tq(f,l.ahb(f),function(q){return f.bI(q);});});}});f.addEventListener(h.ja.Yv,function(){m.tq(f.la,l.ahb(f),function(n){return f.bI(n);});});f.background || f.addEventListener(h.ja.DY,function(n){var p;n=f.Ho(n.I);if(n.Ki){p=f.Ho(n.Ki.lq);l.log.trace("Auxiliary viewable segment (viewableId: " + n.I + "). Starting playdata monitor for parent viewable " + p.I);n=p;}m.GBa(n);});f.addEventListener(h.ja.ph,function(){m.Khb();});f.addEventListener(h.ja.Jkb,function(){m.Xfb(f.la).catch(function(n){(n=n.sQ) && f.bI(n);});});f.kc.addListener(function(){f.gb.Spa?l.log.trace("stickiness is disabled for timedtext"):m.Cda(f.la);});f.yc.addListener(function(){f.gb.Spa?l.log.trace("stickiness is disabled for audio"):m.Cda(f.la).catch(function(n){(n=n.sQ) && f.bI(n);});});});};c.prototype.ahb=function(f){return f.state.value == h.$b.Ce;};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(a.mT))],d);b.SNa=d;},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p){return function(){return new Promise(function(q,r){var u;u=p.ub.get(g.hHa);u.za().then(function(){q(u);}).catch(function(v){r(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.f1a=void 0;t=a(1);k=a(529);g=a(530);h=a(1272);d=a(101);f=a(1273);l=a(531);m=a(1274);n=a(1275);b.f1a=new t.vd(function(p){p(l.FKa).to(m.EKa).ha();p(k.eHa).to(n.GKa);p(d.dS).to(f.fEa).ha();p(g.hHa).to(h.fHa).ha();p(g.gHa).H0(c);});},function(t,b,a){var k,g;function c(h){this.RKb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;t=a(0);k=a(1);a=a(529);c.prototype.za=function(){var h;h=this;this.IE || (this.IE=new Promise(function(d,f){var l;l=[];h.RKb.forEach(function(m){l.push(m.za());});Promise.all(l).then(function(){d();}).catch(function(m){f(m);});}));return this.IE;};g=c;g=t.__decorate([(0,k.X)(),t.__param(0,(0,k.DJ)(a.eHa))],g);b.fHa=g;},function(t,b,a){var k,g;function c(){this.wAa="";this.dlb=[[],[]];this.Z=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;t=a(0);k=a(1);a(5);g=a(101);c.prototype.downloadRequest=function(h){var d;"" === this.wAa && (this.wAa=h.Y);if(!h.Bc){d=this.$ac(h);this.Z[h.mediaType].push(d);this.dlb[h.mediaType].forEach(function(f){f.Xjc(d);});}};c.prototype.$ac=function(h){return {id:h.Ri(),Y:h.Y,mediaType:h.mediaType,Bk:h.Bk,startTime:h.UB,endTime:h.Ay,offset:h.jw,FN:h.FN,DN:h.DN,duration:h.en,bitrate:h.bitrate,state:g.Ffa.a1a,Zj:!1,Fmc:!1,h6a:!1,qlc:g.Efa.waiting};};c.prototype.update=function(h){this.dlb[h.mediaType].forEach(function(d){d.Lpc(h);});};Va.Object.defineProperties(c.prototype,{Y:{configurable:!0,enumerable:!0,get:function(){return this.wAa;}}});a=c;a=t.__decorate([(0,k.X)()],a);b.fEa=a;},function(t,b,a){var k,g,h,d,f;function c(l,m){l=h.pf.call(this,l,"LogDisplayConfigImpl") || this;l.sh=m;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;t=a(0);k=a(1);g=a(45);h=a(46);d=a(34);a=a(108);ka(c,h.pf);Va.Object.defineProperties(c.prototype,{t_:{configurable:!0,enumerable:!0,get:function(){return !0;}},DP:{configurable:!0,enumerable:!0,get:function(){return this.sh.DP;}},x9a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;t.__decorate([g.config(g.xd,"renderDomDiagnostics")],f.prototype,"t_",null);t.__decorate([g.config(g.JE,"logDisplayMaxEntryCount")],f.prototype,"DP",null);t.__decorate([g.config(g.JE,"logDisplayAutoshowLevel")],f.prototype,"x9a",null);f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(d.Fm)),t.__param(1,(0,k.l)(a.BG))],f);b.EKa=f;},function(t,b,a){var h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A;function c(B,C,D,F,G,E,I,L,K,H){var R;R=this;this.Aa=B;this.xg=C;this.yi=D;this.Mc=F;this.ep=G;this.config=E;this.mI=I;this.kCa=L;this.mJb=K;this.uq=H;this.Gac=function(){R.T0.pm(function(){R.update();});};this.clear=function(){R.entries=[];R.update();};this.fab=function(){R.cf.tP=!R.cf.tP;R.XE && R.ZE && (R.cf.tP?(R.XE.style.display="inline-block",R.ZE.style.display="none"):(R.ZE.style.display="inline-block",R.XE.style.display="none"));R.BK(!1);};this.eYb=function(O){var J;R.entries.push(O);J=R.config.DP;0 <= J && R.entries.length > J && R.entries.shift();void 0 === R.cf.tA[O.Op] && (R.cf.tA[O.Op]=!0,R.BK(!1));R.cf.isVisible && !R.Cib?R.Gac():R.T0.pm();};this.ZKb=function(){g.download("all",R.entries.map(function(O){return O.uea(!1,!1);})).catch(function(O){console.error("Unable to download all logs to the file",O);});};this.Gv=!1;this.cf={isVisible:!1,tP:!0,Z7:!0,Gva:u.gk.eha,tA:{}};this.T0=this.kCa((0,p.si)(1));this.BNb=this.mJb((0,p.tc)(250));this.entries=[];!1;!1;}function k(B){var C;this.elements=[];C=document.createElementNS(k.t0,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;t=a(0);h=a(1);d=a(32);f=a(111);l=a(356);m=a(47);n=a(30);p=a(5);q=a(19);r=a(90);u=a(6);v=a(112);w=a(292);x=a(531);y=a(94);z=a(194);A=a(1276);g.download=function(B,C){return g.qQb(B).then(function(D){return g.xSb(D,C.join("\r\n")).then(function(F){return g.XKb(F.filename,F.text);});});};g.qQb=function(B){return new Promise(function(C,D){var F,G,E,I,L,K,H;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();I=F.getFullYear().toString();L=F.getHours().toString();K=F.getMinutes().toString();H=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === L.length && (L="0" + L);1 === K.length && (K="0" + K);1 === H.length && (H="0" + H);C(I + E + G + L + K + H + "." + B + ".log");}catch(R){D(R);}});};g.xSb=function(B,C){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){F(G);}});};g.XKb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};k.prototype.nR=function(){var B;B=document.createElementNS(k.t0,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};k.prototype.pR=function(B,C,D){var F;F=document.createElementNS(k.t0,"path");F.setAttribute("d",B);C && F.setAttribute("fill",C);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};k.prototype.h0=function(B,C,D,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(k.t0,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",C.toString());E.setAttribute("height",D.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};k.prototype.o$b=function(){var B;B=document.createElementNS(k.t0,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};k.prototype.end=function(){this.elements.pop();return this;};k.prototype.Li=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};k.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Va.Object.defineProperties(k,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},jI:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});k.t0="http://www.w3.org/2000/svg";c.prototype.za=function(){var B;B=this;this.IE || (this.IE=new Promise(function(C){mb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.PC.Dqb?B.toggle():D.keyCode == z.PC.E && A.OFa.qGb(B.mI().ql));});B.ep.Vca(w.Bha.dob,B.eYb);C();}));return this.IE;};c.prototype.show=function(){document.body && (this.element || (this.dIb(),this.Gv=!0),!this.cf.isVisible && this.element && (document.body.appendChild(this.element),this.cf.isVisible=!0,this.update(!0)));};c.prototype.Wx=function(){this.Gv && this.cf.isVisible && this.element && (document.body.removeChild(this.element),this.cf.isVisible=!1);};c.prototype.toggle=function(){this.cf.isVisible?this.Wx():this.show();this.BK(!1);};c.prototype.dIb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.vq=this.RIb());B.appendChild(this.SIb());B.appendChild(this.XHb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.RIb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.Cib=!0;B.update();B.vq && (B.vq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.Cib=!1;B.update();B.vq && (B.vq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.SIb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.vIb());B.appendChild(this.nIb());B.appendChild(this.iIb());B.appendChild(this.TIb());B.appendChild(this.bIb());B.appendChild(this.BIb());B.appendChild(this.zIb());B.appendChild(this.kIb());B.appendChild(this.cIb());return B;};c.prototype.XHb=function(){var B,C,D,F,G,E;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.Sx(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(I){I.preventDefault();});E=!1;D.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.cf.tA).sort()).forEach(function(I){G.appendChild(B.YHb(I,D));}),G.style.display="block");E=!E;});return C;};c.prototype.YHb=function(B,C){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.cf.tA[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.cf.tA).forEach(function(E){D.cf.tA[E]="all" === B;}),C.click()):D.cf.tA[B]=!D.cf.tA[B];D.BK(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.vIb=function(){var B,C;B=this;C=this.createElement("select",this.Sx(22,NaN,1,2),'<option value="' + u.gk.Yf + '">Error</option><option value="' + (u.gk.Kja + '">Warn</option><option value="') + (u.gk.eha + '">Info</option><option value="') + (u.gk.mRa + '">Trace</option><option value="') + (u.gk.W + '">Debug</option>'));C.value=this.cf.Gva.toString();C.addEventListener("change",function(D){B.cf.Gva=parseInt(D.target.value);B.BK(!0);},!1);return C;};c.prototype.nIb=function(){var C,D;function B(F){return C.BNb.pm(function(){var G;G=F.target.value;C.cf.filter=G?new RegExp(G):void 0;C.BK(!0);});}C=this;D=this.createElement("input",this.Sx(14,150,1,2));D.value=this.cf.filter?this.cf.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.iIb=function(){var B,C,D,F;B=this;C=this.createElement("div",this.Sx(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.cf.Z7;D.addEventListener("change",function(G){B.cf.Z7=G.target.checked;B.BK(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(D);C.appendChild(F);return C;};c.prototype.TIb=function(){var B,C,D;B=this;C=this.createElement("button",this.Sx());D=new k("0 0 24 24").nR().o$b().end().pR("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",k.jI,"nonzero").end().end().Li();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.bIb=function(){var B,C;B=this.createElement("button",this.Sx());C=new k("0 0 24 24").nR().h0(0,0,24,24,k.background).end().pR("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",k.jI).end().end().Li();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.BIb=function(){var B;this.ZE=this.createElement("button",this.Sx());this.ZE.style.display=this.cf.tP?"none":"inline-block";B=new k("0 0 24 24").nR().h0(0,0,24,24,k.background).end().pR("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",k.jI,"nonzero").end().end().Li();this.ZE.addEventListener("click",this.fab,!1);this.ZE.appendChild(B);this.ZE.setAttribute("title","Shrink the log console");return this.ZE;};c.prototype.zIb=function(){var B;this.XE=this.createElement("button",this.Sx());this.XE.style.display=this.cf.tP?"inline-block":"none";B=new k("0 0 24 24").nR().h0(4,4,16,16,k.background).end().pR("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",k.jI,"nonzero").end().end().Li();this.XE.addEventListener("click",this.fab,!1);this.XE.appendChild(B);this.XE.setAttribute("title","Expand the log console");return this.XE;};c.prototype.kIb=function(){var B,C;B=this.createElement("button",this.Sx());C=new k("0 0 26 26").nR().h0(0,0,24,24,k.background).end().pR("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",k.jI,"nonzero").end().end().Li();B.appendChild(C);B.addEventListener("click",this.ZKb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.cIb=function(){var B,C,D;B=this;C=this.createElement("button",this.Sx());D=new k("0 0 24 24").nR().h0(0,0,24,24,k.background).end().pR("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",k.jI,"nonzero").end().end().Li();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.BK=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.t_ && Promise.resolve(this.vDb() + this.rQb().join("\r\n")).then(function(D){C.element && C.vq && (C.vq.value=D,C.element.style.cssText=C.cf.tP?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.Mc.Uk(p.La,function(){C.vq.scrollTop=C.vq.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.rQb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.cf.Gva && B.cf.tA[D.Op] && (D=D.uea(!B.cf.Z7,!B.cf.Z7),B.cf.filter && !B.cf.filter.test(D) || C.push(D));});return C;};c.prototype.vDb=function(){var B;B=this.mI();return "Version: 6.0037.192.911 \n" + ((B?"Esn: " + B.ql:"") + "\nJsSid: ") + (this.xg.id + ", Epoch: " + this.Aa.xf.da(p.rp) + ", Start: " + this.xg.pB.da(p.rp) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,F){return this.yi.createElement(B,C,D,F);};c.prototype.Sx=function(B,C,D,F){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + k.jI + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.z$b="logDxDisplay";a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(n.Bh)),t.__param(1,(0,h.l)(q.$c)),t.__param(2,(0,h.l)(d.$h)),t.__param(3,(0,h.l)(m.zj)),t.__param(4,(0,h.l)(v.BL)),t.__param(5,(0,h.l)(x.FKa)),t.__param(6,(0,h.l)(r.iz)),t.__param(7,(0,h.l)(f.VL)),t.__param(8,(0,h.l)(l.tGa)),t.__param(9,(0,h.l)(y.DC))],a);b.GKa=a;},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;k=a(13);c.qGb=function(g){var h;if(k.Dh.queryCommandSupported && k.Dh.queryCommandSupported("copy")){h=k.Dh.createElement("textarea");h.textContent=g;h.style.position="fixed";k.Dh.body.appendChild(h);h.select();try{k.Dh.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{k.Dh.body.removeChild(h);}}};b.OFa=c;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Be=void 0;t=a(1);c=a(1278);k=a(1279);g=a(1280);h=a(140);d=a(338);f=a(507);l=a(1281);m=a(1282);n=a(532);p=a(1283);b.Be=new t.vd(function(q){q(h.e4).to(c.gRa).ha();q(d.Wia).to(g.EPa).ha();q(f.bSa).to(k.aSa).ha();q(l.Jrb).to(m.IMa).ha();q(n.wSa).to(p.vSa).ha();});},function(t,b,a){var k,g,h,d,f,l;function c(m,n){this.is=m;this.json=n;(0,g.fq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.gRa=void 0;t=a(0);g=a(55);h=a(38);d=a(1);f=a(27);l=a(140);c.prototype.deb=function(m){var n;n=this;return k.read(m,function(p){return parseInt(p);},function(p){return n.is.Oma(p);});};c.prototype.cza=function(m){var n;n=this;return k.read(m,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.e6(p);});};c.prototype.Or=function(m){var n;n=this;return k.read(m,function(p){return parseInt(p);},function(p){return n.is.cV(p);});};c.prototype.f5b=function(m){var n;n=this;return k.read(m,function(p){return parseFloat(p);},function(p){return n.is.ko(p);});};c.prototype.ceb=function(m,n){return k.read(m,function(p){return k.LNb(p,n);},function(p){return void 0 !== p;});};c.prototype.fza=function(m,n){return k.read(m,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.eeb=function(m){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return k.read(m,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.bV(q) && p(q);});}catch(q){return new l.Gq();}};c.prototype.Ok=function(m,n,p){var q,r;q=this;p=void 0 === p?1:p;m=m.trim();r=n instanceof Function?n:this.CIb(n,p);n=m.indexOf("[");p=m.lastIndexOf("]");if(0 != n || p != m.length - 1)return new l.Gq();m=m.substring(n + 1,p);try{return k.u2b(m).map(function(u){u=r(q,k.jdc(u));if(u instanceof l.Gq)throw u;return u;});}catch(u){return u instanceof l.Gq?u:new l.Gq();}};c.prototype.CIb=function(m,n){var p;p=this;n=void 0 === n?1:n;return function(q,r){q=k.uRb(m);return 1 < n?p.Ok(r,m,n - 1):q(p,r);};};c.LNb=function(m,n){var q;for(var p in n){q=parseInt(p);if(n[q] == m)return q;}};c.read=function(m,n,p){m=n(m);return void 0 !== m && p(m)?m:new l.Gq();};c.uRb=function(m){switch(m){case "int":return function(n,p){return n.deb(p);};case "bool":return function(n,p){return n.cza(p);};case "uint":return function(n,p){return n.Or(p);};case "float":return function(n,p){return n.f5b(p);};case "string":return function(n,p){return n.fza(p);};case "object":return function(n,p){return n.eeb(p);};}};c.u2b=function(m){var x;for(var n=[["[","]"]],p=[],q=0,r=0,u=0,v=[],w={};r < m.length;(w={YR:w.YR},++r)){w.YR=m.charAt(r);x=void 0;"," == w.YR && 0 == u?(p.push(m.substr(q,r - q)),q=r + 1):(x=n.find((function(y){return function(z){return z[0] == y.YR;};})(w)))?(++u,v.push(x)):0 < v.length && v[v.length - 1][1] == w.YR && (--u,v.pop());}if(q != r)p.push(m.substr(q,r - q));else if(q == r && 0 < q)throw new l.Gq();return p;};c.jdc=function(m){var n;n=m.charAt(0);if('"' == n || "'" == n){if(m.charAt(m.length - 1) != n)throw new l.Gq();return m.substring(1,m.length - 1);}return m;};a=k=c;a=k=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(f.Kg)),t.__param(1,(0,d.l)(h.nG))],a);b.gRa=a;},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aSa=void 0;t=a(0);a=a(1);c.prototype.p3a=function(g){var h;h=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return h.p3a(d);});};k=c;k=t.__decorate([(0,a.X)()],k);b.aSa=k;},function(t,b,a){var k,g,h,d;function c(f){this.location=f;(0,g.fq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.EPa=void 0;t=a(0);g=a(55);h=a(38);a=a(1);c.KZ=function(f){var l,n,p;l={};if(0 < f.length){f=f.split("&");for(var m=0;m < f.length;m++){n=f[m].trim();p=n.indexOf("=");0 <= p?l[decodeURIComponent(n.substr(0,p).replace(k.dNa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(k.dNa,"%20")):l[n.toLowerCase()]="";}}return l;};Va.Object.defineProperties(c.prototype,{X4b:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=k.KZ(this.Pdb);}},Pdb:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.k_)return this.k_;this.k_=this.location.search.substr(1);f=this.k_.indexOf("#");0 <= f && (this.k_=this.Pdb.substr(0,f));return this.k_;}}});d=k=c;d.dNa=/[+]/g;d=k=t.__decorate([(0,a.X)(),t.__param(0,(0,a.l)(h.AKa))],d);b.EPa=d;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jrb="ObjectComparerSymbol";},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;t=a(0);k=a(1);g=a(203);c.prototype.compare=function(h,d){var f;f=[];this.Noa(h,d,"",f);return f;};c.prototype.Noa=function(h,d,f,l){var m;m=this;if(g.mG.ED(h))g.mG.ED(d) && h.length === d.length?h.forEach(function(q,r){m.Noa(h[r],d[r],f + "[" + r + "]",l);}):l.push({a:h,b:d,path:f});else if(g.mG.bV(h) && null != h){if(g.mG.bV(d) && null != d){for(var n in h){this.Noa(h[n],d[n],f + "." + n,l);}for(var p in d){(p in h) || void 0 === d[p] || l.push({a:void 0,b:d[p],path:f + "." + p});}}else l.push({a:h,b:d,path:f});}else h !== d && l.push({a:h,b:d,path:f});};a=c;a=t.__decorate([(0,k.X)()],a);b.IMa=a;},function(t,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vSa=void 0;t=a(0);k=a(1);g=a(13);c.prototype.VRb=function(){var h;h=mb.devicePixelRatio || 1;return {width:g.Uw.width * h,height:g.Uw.height * h};};a=c;a=t.__decorate([(0,k.X)()],a);b.vSa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;t=a(1);c=a(533);k=a(1285);g=a(116);h=a(293);d=a(1286);f=a(1287);l=a(1289);m=a(1290);n=a(1291);p=a(534);q=a(535);r=a(163);u=a(295);v=a(1292);w=a(294);x=a(1294);b.Fd=new t.vd(function(y){y(c.lOa).to(k.kOa).ha();y(h.Sia).to(d.wPa).ha();y(g.OG).to(f.jSa).ha();y(p.vPa).to(n.pLa).ha();y(p.uPa).to(m.vKa).ha();y(p.tPa).to(l.nKa).ha();y(u.rEa).dbc(function(){var z;return null === (z=r.Zq.Zi) || void 0 === z?void 0:z.ew;});y(u.qEa).to(v.pEa).ha();y(q.Qia).to(q.iPa);y(w.hga).to(x.AFa).ha();});},function(t,b,a){var k,g,h;function c(d,f){this.Bb=f;this.Da=d.mb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.kOa=void 0;t=a(0);k=a(1);g=a(6);a=a(27);c.prototype.tKb=function(d){var f;f=this;try{return {direction:d.direction,Wmc:d.layoutHasChanged,Eoc:d.rowInteractionIndex,Kb:d.lolomos.map(function(l){return f.oKb(l);})};}catch(l){this.Da.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.oKb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(l){return f.nKb(l);}),requestId:d.requestId,rowIndex:d.rowIndex,Foc:d.rowSegment};};c.prototype.nKb=function(d){var f,l;f={Nd:d.pts,property:d.property,K:d.viewableId,index:d.index};l=d.preplay;this.Bb.Vg(l) && (f.Bca=this.sKb(l));d=d.params;this.Bb.Vg(d) && (f.Cb=this.x0a(d));return f;};c.prototype.sKb=function(d){var f;f={Nd:d.pts,K:d.viewableId,pQ:d.pipelineNum,index:d.index};d=d.params;this.Bb.Vg(d) && (f.Cb=this.x0a(d));return f;};c.prototype.x0a=function(d){return {Ed:d.uiLabel,Xk:d.trackingId,Nn:d.sessionParams};};c.prototype.rKb=function(d){var f;f=this;try{return d.map(function(l){return f.pKb(l);});}catch(l){this.Da.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.pKb=function(d){var f,l;l=d.params;this.Bb.Vg(l) && (f=this.qKb(l));return {I:d.movieId,priority:d.priority,force:d.force,Cb:f,Ed:d.uiLabel,Hpc:d.uiExpectedStartTime,Gpc:d.uiExpectedEndTime,$l:d.firstTimeAdded};};c.prototype.qKb=function(d){var f,l;f=void 0;l=d.sessionParams;this.Bb.Vg(l) && (f=l);return {N6:this.mKb(d.authParams),Nn:f,Xk:d.trackingId,ba:d.startPts,ea:d.manifest,Ph:d.isBranching};};c.prototype.mKb=function(d){return {V2b:null === d || void 0 === d?void 0:d.pinCapableClient};};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(a.Kg))],h);b.kOa=h;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w){this.is=v;this.xg=w;this.log=r.mb("TaskScheduler");this.Sb=new p.$k();this.config=u();this.currentIteration=this.ZV=0;this.QK=[];this.paused=!1;this.bea=[];this.DZa=[];this.hVb=this.config.$3b || q.append;this.addEventListener=this.Sb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.wPa=void 0;t=a(0);k=a(1);g=a(293);h=a(6);d=a(12);f=a(133);l=a(27);m=a(19);n=a(5);p=a(75);(function(r){r.prepend="prepend";r.append="append";r.sUb="ignore";})(q || (q={}));c.prototype.VAb=function(r){this.log.trace("adding tasks, number of tasks: " + r.length);this.paused=!1;this.QK=this.iVb(r);this.ZV=0;this.currentIteration+=1;this.fg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.fg=function(){var r,u,v,w;r=this;if(this.ZV === this.QK.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.ZV,numberOfTasks:this.QK.length});else {u=this.pRb();v=this.currentIteration;u.startTime=this.xg.Tb().da(n.ma);u.status=f.cl.Oy;this.Sb.Wc(g.OL.Cac,{I:u.I,type:u.type});this.bea.push(u);w=function(x){u.endTime=r.xg.Tb().da(n.ma);x();r.DZa.push(u);r.bea.splice(r.bea.indexOf(u),1);r.currentIteration === v && (r.ZV++,r.fg());};u.s7b().then(function(){w(function(){u.status=f.cl.vR;r.Pya(u,g.OL.Dac,"task succeeded");});}).catch(function(x){w(function(){0 <= [f.cl.zg,f.cl.nEb,f.cl.coa].indexOf(x.status)?(u.status=x.status,r.Pya(u,g.OL.Aac,"cancelled task")):(u.status=f.cl.kv,r.Pya(u,g.OL.Bac,"task failed",x));});});}};c.prototype.pRb=function(){return this.QK[this.ZV];};c.prototype.getStats=function(r,u,v){var w,x,y,z;w=this.DZa.map(function(A){return A.uv();});x=this.bea.map(function(A){return A.uv();});y=this.is.Vg(r) && this.is.Vg(u);z={};if(this.is.Vg(v))return (z.QFb=w.filter(function(A){return A.movieId === v;}),z);w.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.cl.Oy?A.startTime:A.endTime;y && B && B >= r && B < u && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Pya=function(r,u,v,w){var x;x=r.uv();w?this.log.warn(v,x,w):this.log.trace(v,x);this.Sb.Wc(u,{I:r.I,type:r.type,reason:r.status});r.eQ(x);};c.prototype.iVb=function(r){var u,v;u=this.QK.filter(function(w){return w.R2b && w.status === f.cl.Zm;});v=this.hVb;return v === q.sUb?[].concat(r):v === q.prepend?u.concat(r):r.concat(u);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.sb)),t.__param(1,(0,k.l)(d.Ic)),t.__param(2,(0,k.l)(l.Kg)),t.__param(3,(0,k.l)(m.$c))],a);b.wPa=a;},function(t,b,a){var g,h,d,f,l,m,n,p,q,r,u,v,w,x;function c(y,z,A,B,C,D,F,G,E,I,L){this.dec=A;this.Bb=B;this.xg=C;this.de=D;this.p2a=F;this.tNb=G;this.uNb=E;this.Qqa=I;this.events=new x.EventEmitter();this.log=y.mb("VideoPreparer");this.config=z();this.zDa={};this.nba={};this.Wb={num_of_calls:0,num_of_movies:0};this.Sg=L.Sg;}function k(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;t=a(0);g=a(1288);h=a(12);d=a(1);f=a(6);l=a(82);m=a(27);n=a(293);p=a(19);q=a(5);r=a(133);u=a(294);v=a(534);w=a(295);x=a(11);c.prototype.pgb=function(y,z,A){this.Sg.setData(y,"ldl",z,A);};c.prototype.c6a=function(y){return this.Sg.NX(y,"ldl");};c.prototype.$Ya=function(y){this.Sg.clearData(y,"ldl",void 0,!0);};c.prototype.KO=function(y,z){return this.Sg.getData(y,z);};c.prototype.F3a=function(y){var z;z=this.Sg.getData(y,"ldl");this.Sg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.clb=function(y){return this.Ghb === y || this.J_a === y;};c.prototype.WJ=function(y,z){var A,B,C;A=this;y=y.map(function(D){D.Cb=D.Cb || ({N6:{V2b:!1},Xk:0});A.Bb.lI(D.Cb.Xk) || (D.Cb.Xk=0);A.Bb.lI(D.Nd) && (D.Cb.ba=D.Nd);return D;});B=y.map(function(D){return A.QIb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.I + "-" + D.type;});this.log.trace("prepare tasks",C);this.de.VAb(B);this.Wb.num_of_calls++;this.Wb.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.nba[A] || ({})),{QK:this.de.getStats(y,z,A),cache:this.Sg.getStats(y,z),TOb:Object.assign(Object.assign({},this.Wb),this.Qqa.getStats())});};c.prototype.mTb=function(y){this.Ghb=y;};c.prototype.kTb=function(y){this.log.trace("task scheduler paused on playback created");this.de.pause();this.config.iKb && this.Sg.zoa(y,["manifest"]);this.config.hKb && this.Sg.zoa(y,["ldl"]);this.config.eKb && this.Sg.clearData(y,"manifest");this.Qqa.Feb(y);this.J_a=y;};c.prototype.$Sb=function(){this.log.info("ad played, clearing all manifests from cache");this.P2a();};c.prototype.Z5a=function(){this.log.info("track changed, clearing all manifests from cache");this.P2a();};c.prototype.jTb=function(y){var z;z=this;this.config.fKb?this.Sg.clearData(y,"manifest"):this.Sg.NX(y,"manifest") && this.Sg.getData(y,"manifest").then(function(A){A.ab.isSupplemental || z.Sg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Goa(y);this.Ghb=this.J_a=void 0;};c.prototype.P2a=function(){this.Sg.zoa("none",["manifest","ldl"]);};c.prototype.Goa=function(y){delete this.zDa[y];};c.prototype.$A=function(y){return this.zDa[y];};c.prototype.I_a=function(y){return this.zDa[y]=this.dec.DA();};c.prototype.Zgb=function(y,z){if(this.c6a(y))return r.cl.zg;if(!z.DE)return r.cl.coa;};c.prototype.QIb=function(y,z){var A,B;y.Ed && y.Cb && (y.Cb.Ed=y.Ed);this.xcc(y.I,y.$l);A=this.yIb(y,z);B=this.uIb(y,null === A || void 0 === A?void 0:A.id,z);y=this.AIb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(k);};c.prototype.yIb=function(y,z){if(this.Sg.NX(y.I,"manifest"))this.log.trace("manifest exists in cache for " + y.I);else return new g.qT("manifest",this.xg.Tb().da(q.ma),! !y.Cb.ri,void 0,z,this.p2a,y,this);};c.prototype.uIb=function(y,z,A){if(this.config.AW)if(this.Sg.NX(y.I,"ldl"))!1;else return this.config.au?new g.qT("ldl",this.xg.Tb().da(q.ma),! !y.Cb.ri,z,A,this.tNb,y,this):new g.qT("ldl",this.xg.Tb().da(q.ma),! !y.Cb.ri,z,A,this.uNb,y,this);};c.prototype.AIb=function(y,z,A){if(this.config.z1a)return new g.qT("getMedia",this.xg.Tb().da(q.ma),! !y.Cb.ri,z,A,this.Qqa,y,this);};c.prototype.xcc=function(y,z){this.nba[y] || (this.nba[y]={zca:0,$l:0});y=this.nba[y];y.zca=(void 0 !== y?void 0 !== y.zca?y.zca:0:0) + 1;y.$l=z;};a=c;a=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(f.sb)),t.__param(1,(0,d.l)(h.Ic)),t.__param(2,(0,d.l)(l.pz)),t.__param(3,(0,d.l)(m.Kg)),t.__param(4,(0,d.l)(p.$c)),t.__param(5,(0,d.l)(n.Sia)),t.__param(6,(0,d.l)(v.vPa)),t.__param(7,(0,d.l)(v.uPa)),t.__param(8,(0,d.l)(v.tPa)),t.__param(9,(0,d.l)(w.qEa)),t.__param(10,(0,d.l)(u.hga))],a);b.jSa=a;},function(t,b,a){var k,g;function c(h,d,f,l,m,n,p,q){this.type=h;this.Zm=d;this.R2b=void 0 === f?!1:f;this.notify=m;this.vNb=n;this.vQ=p;this.Fd=q;this.id=++g;this.status=k.cl.Zm;}Object.defineProperty(b,"__esModule",{value:!0});b.qT=void 0;k=a(133);g=0;c.prototype.uv=function(){var h;h={id:this.id,type:this.type,created:this.Zm,status:this.status,movieId:this.I};this.startTime && (h.startTime=this.startTime);this.endTime && this.startTime && (h.duration=this.endTime - this.startTime,h.endTime=this.endTime);return h;};c.prototype.eQ=function(h){this.notify && this.notify(h);};c.prototype.s7b=function(){return this.vNb.fetch(this.vQ,this.Fd);};Va.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.vQ.I;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.vQ.priority;}}});b.qT=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z;function c(A,B,C,D,F,G,E,I,L,K,H){this.At=C;this.c0=D;this.pc=F;this.Aa=G;this.Ea=E;this.BP=I;this.a3b=L;this.Sj=K;this.Ek=H;this.log=A.mb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;t=a(0);k=a(1);g=a(6);h=a(12);d=a(133);f=a(61);l=a(57);m=a(48);n=a(158);p=a(192);q=a(33);r=a(5);u=a(30);v=a(19);w=a(195);x=a(207);y=a(115);a=a(67);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,w.vL)(A));this.I=A.I;this.Fd=B;return B.KO(A.I,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,w.vL)(A));return C.Sj.g9(A.I).then(function(D){var F,G;C.ea=D;C.ab=D.ab;if(D=C.Fd.Zgb(A.I,C.ab))throw {status:D};D=C.ab.Bw[0].e_;F=C.ab.Bw[0].Zpa;G=(D?D:[F]).map(function(E){return C.pc.decode(E.bytes);});C.Ve=C.ZD({n1a:C.log,wqa:function(E){return C.handleError(E);},He:void 0,hxa:function(){},Aa:{getTime:function(){return C.Ea.Tb().da(r.ma);},$lc:function(){return C.Aa.xf.da(r.rp);}}});B.pgb(A.I,C.Ve);return C.Ve.create(C.config.yn).then(function(){return C.Ve.vh(l.Bi.np,G,!0);}).then(function(){return C.Ve;}).catch(function(E){C.handleError(E);throw E;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.cl.zg};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.Ve.close();this.Fd.$Ya(this.I);this.Fd.Goa(this.I);};c.prototype.ZD=function(A){var B,C;B=this;if(!this.At.tL || !this.At.rL){C=this.a3b();this.At.tL=C.bc;this.At.rL=C.request;}C=new this.At.rL(A.n1a,function(D){var F;F=[];D.yk.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.pc.encode(G.data)});});D={yk:F,d8:[B.ab.Yl],ng:f.lp.$Za(D.ng),li:B.ab.li,ga:B.Fd.I_a(B.I),Pj:B.ea.Pj};B.log.trace("xid created ",{MovieId:B.I,xid:D.ga});return B.BP.ux(D);},void 0,{Ff:!1,sl:!1});return this.At.tL(A.n1a,A.He,{Ff:!1,sl:!1,mm:C,g_:this.config.Gdb,$:void 0,vC:this.config.u1a,onerror:A.wqa,hxa:A.hxa,Aa:A.Aa,RJ:!1,pCb:this.c0.u7([]),vdc:this.c0.A7([]),vva:this.Ek.v6.da(r.ma)});};z=c;z=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.Ic)),t.__param(2,(0,k.l)(m.I3)),t.__param(3,(0,k.l)(n.wT)),t.__param(4,(0,k.l)(q.zi)),t.__param(5,(0,k.l)(u.Bh)),t.__param(6,(0,k.l)(v.$c)),t.__param(7,(0,k.l)(p.SS)),t.__param(8,(0,k.l)(x.Cia)),t.__param(9,(0,k.l)(y.tG)),t.__param(10,(0,k.l)(a.iu))],z);b.nKa=z;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){this.pc=w;this.mLb=x;this.NP=y;this.Sj=z;this.log=u.mb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;t=a(0);k=a(1);g=a(6);h=a(12);d=a(57);f=a(33);l=a(121);m=a(139);n=a(133);p=a(195);q=a(115);r=a(49);c.prototype.fetch=function(u,v){var w;w=this;this.log.trace("Fetching LDL",(0,p.vL)(u));this.I=u.I;this.Fd=v;return v.KO(u.I,"ldl").then(function(x){return x.Gda;}).catch(function(){w.log.trace("Requesting a new license",(0,p.vL)(u));return w.Sj.g9(u.I).then(function(x){var y,z,A,B;w.ab=x.ab;if(v.c6a(u.I))return v.KO(u.I,"ldl").then(function(C){return C.Gda;});y=w.Fd.Zgb(u.I,w.ab);if(y)throw {status:y};y=w.ab.Bw[0].e_;z=w.ab.Bw[0].Zpa;A=(y?y:[z]).map(function(C){return w.pc.decode(C.bytes);});B=w.mLb().then(function(C){var D;D={type:d.Bi.np,initData:A,context:{faa:(0,r.psa)(x.ab.Bw[0].streams)},Yj:{I:u.I,ga:v.I_a(u.I),li:w.ab.li,Yl:w.ab.Yl,Pj:x.Pj}};return C.vh(D,w.NP());}).catch(function(C){w.handleError("Unable to prepare an EME session.",C);throw C;});w.Fd.pgb(u.I,{Gda:B,source:"videopreparer"},function(){if(!w.Fd.clb(u.I))try{B.then(function(C){return C.close();}).catch(function(C){w.handleError("Unable to cleanup LDL session, Unable to get the session.",C);});}catch(C){w.handleError("Unable to cleanup LDL session, unexpected exception.",C);}});return B;}).catch(function(x){w.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.cl.zg};});});};c.prototype.handleError=function(u,v){this.log.warn(u + " LDL is now invalid.",v);this.Fd.$Ya(this.I);this.Fd.Goa(this.I);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.Ic)),t.__param(2,(0,k.l)(f.zi)),t.__param(3,(0,k.l)(l.f2)),t.__param(4,(0,k.l)(m.aT)),t.__param(5,(0,k.l)(q.tG))],a);b.vKa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x){this.NY=v;this.xg=w;this.Sj=x;this.log=r.mb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;t=a(0);k=a(12);g=a(1);h=a(6);d=a(19);f=a(5);l=a(132);m=a(102);n=a(195);p=a(115);q=a(57);c.prototype.fetch=function(r,u){var v,w;this.log.trace("Fetching manifest",(0,n.vL)(r));w=r.Cb;this.config.Zzb && w && w.ea && !this.Sj.V9(r.I) && (!(("clientGenesis" in w.ea) && w.ea.clientGenesis) || Date.now() - w.ea.clientGenesis < this.config.pdb) && (w=this.NY.create(w.ea)) && (w.hK=this.xg.Tb().da(f.ma),w.MQ=this.xg.Tb().da(f.ma),this.Sj.l0(r.I,w));return this.Sj.LI({K:r.I,gb:null !== (v=r.Cb) && void 0 !== v?v:{},pv:m.Zn.AG,ng:q.Bi.np},!0,function(x){u.events.emit("manifestRemovedFromCache",{target:u,type:"manifestRemovedFromCache",K:r.I,ea:x});});};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(h.sb)),t.__param(1,(0,g.l)(k.Ic)),t.__param(2,(0,g.l)(l.DL)),t.__param(3,(0,g.l)(d.$c)),t.__param(4,(0,g.l)(p.tG))],a);b.pLa=a;},function(t,b,a){var g,h,d,f,l,m,n,p,q,r,u,v,w,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function k(y,z,A,B,C){var D;D=this;this.uya=A;this.X3b=B;this.Sj=C;this.i1=[];this.SB=new Map();this.q1b=function(F){var G,E;F=F.wishListItem.key.K;if(D.SB.has(F)){E=D.SB.get(F);F=E.vQ;E=E.Soa;null === (G=E.resolve) || void 0 === G?void 0:G.call(E,F);}};this.Dbb=function(F){var G,E;G=F.K;E=F.ea;!F.target.clb(F.K) && D.SB.has(G) && (null === E || void 0 === E?void 0:E.then(function(I){var L;L=I.ab;L && L.Ee && L.Ou && L.Ou.forEach(function(K){var H;H={qo:{Ee:L.Ee,lq:G}};D.bh.has({K:K.I,Ee:L.Ee}) && (D.bh.am(K.I,H).ur=!0);});}),D.Feb(G),D.Sgb(D.i1),D.bh.has({K:G}) && (D.bh.am(G).ur=!0));};this.Da=y.mb("VideoPreparer");this.config=z();this.bh=new w.Jja(function(F,G){return D.Gx(F,h.Zq.Qe,void 0,G);});}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;t=a(0);g=a(6);a(195);h=a(163);d=a(31);f=a(12);l=a(18);m=a(102);n=a(295);p=a(1);q=a(535);r=a(11);u=a(115);v=a(57);w=a(536);x=a(1293);k.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.Dbb))z.events.on("manifestRemovedFromCache",this.Dbb);!1;this.Sgb(this.IFb(this.ZIb(y,z)));return this.SB.get(y.I).Soa.promise;};k.prototype.getStats=function(){return this.ew.getStats();};k.prototype.IFb=function(y){return [y].concat(ha(this.i1.filter(function(z){return z.key.K !== y.key.K;}))).slice(0,this.config.V3b).map(this.config.W3b?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};k.prototype.LI=function(y,z){var A;A=this;z=void 0 === z?{}:z;return this.Sj.LI({K:y,pv:m.Zn.AG,ng:v.Bi.np,gb:z}).then(function(B){var C,D;C=B.ab;null === (D=C.Ou) || void 0 === D?void 0:D.forEach(function(F){A.Gx(F.I,h.Zq.Qe,void 0,{qo:{Ee:C.Ee,lq:y}},F);});return C;});};k.prototype.ZIb=function(y,z){var A,B,C,D,F,G;C=new c();if(this.SB.has(y.I)){D=this.SB.get(y.I);F=D.vQ;if(F.I === y.I && F.Ed === y.Ed)G=D.Wdc.key;this.ew.getStats().contents.some(function(E){return E.id === y.I;}) && (C=D.Soa);}D=h.Zq.Qe.qh((0,l.Woa)(y.Ed));G || (G={K:y.I,config:D});F={K:y.I};this.bh.has(F) || this.bh.store(F,this.YIb(y,z,D));z={key:G,Nmc:!1,priority:y.priority,S6:d.M.Ha(null !== (B=null === (A=y.Cb) || void 0 === A?void 0:A.ba) && void 0 !== B?B:0),bh:this.bh};this.SB.set(y.I,{Wdc:z,vQ:y,Soa:C});return z;};k.prototype.YIb=function(y,z,A){var B,C,D;B=this;C=y.I;return {get ga() {return z.$A(C);},ur:!1,events:new r.EventEmitter(),g7:function(){},get jp() {D || (D=B.LI(y.I,y.Cb).then(function(F){return {ea:F,Mi:F.W9 && !F.DE,config:A,kBa:{}};}));return D;},K:C,bCa:!1,equals:function(F){var G;G=z.$A(C);return F && F.K === C && (!F.ga || !G || G === F.ga);}};};k.prototype.Gx=function(y,z,A,B,C){var D,F,G,E,I,L;D=this;if(A || B){E={K:y,Ee:null === (F=null === B || void 0 === B?void 0:B.qo) || void 0 === F?void 0:F.Ee};if(!this.bh.has(E)){I=null !== A && void 0 !== A?A:this.bh.am(null === (G=null === B || void 0 === B?void 0:B.qo) || void 0 === G?void 0:G.lq).ga;this.bh.store(E,{g7:function(){},equals:function(K){return K && K.K === E.K && (I === K.ga || !K.ga || !I);},get jp() {L || (L=(C?Promise.resolve(C):D.LI(y)).then(function(K){return {ea:K,Mi:K.W9 && !K.DE,config:z,kBa:{}};}));return L;},set jp(K) {L=K;},events:new r.EventEmitter(),ga:I,K:E.K,ur:!1,bCa:!1});}}};k.prototype.Agb=function(y){this.i1=y;};k.prototype.Sgb=function(y){this.Agb(y);this.ew.Rgb(this.i1);};k.prototype.Feb=function(y){this.SB.has(y) && (this.Agb(this.i1.filter(function(z){return z.key.K !== y;})),this.SB.delete(y));};Va.Object.defineProperties(k.prototype,{ew:{configurable:!0,enumerable:!0,get:function(){this.Wz || (this.Wz=this.X3b(),this.Wz.VAa(this.uya).Jgb(new x.VJa()).ogb({$I:this.config.U3b}),this.Wz.events.on("prefetchComplete",this.q1b));return this.Wz;}}});a=k;a=t.__decorate([(0,p.X)(),t.__param(0,(0,p.l)(g.sb)),t.__param(1,(0,p.l)(f.Ic)),t.__param(2,(0,p.l)(q.Qia)),t.__param(3,(0,p.l)(n.rEa)),t.__param(4,(0,p.l)(u.tG))],a);b.pEa=a;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;a.prototype.B2a=function(c,k){var g;return null !== (g=this.MNb(c,k)) && void 0 !== g?g:this.PNb(c,k);};a.prototype.MNb=function(c,k){var g,h;g=this;h=k.fa;return c.find(function(d){var f;return g.J7(h,null === (f=d.fa) || void 0 === f?void 0:f.fa);});};a.prototype.PNb=function(c,k){var g,h;g=k.fa.Vd;h=k.fa.N[g];return c.find(function(d){var f;d=null === (f=d.fa) || void 0 === f?void 0:f.fa;d=(f=null === d || void 0 === d?void 0:d.Vd) && (null === d || void 0 === d?void 0:d.N[f]) || void 0;return g === f && h.K === (null === d || void 0 === d?void 0:d.K) && h.qa === (null === d || void 0 === d?void 0:d.qa);});};a.prototype.J7=function(c,k){var g;g=this;return c === k?!0:"object" !== typeof c || "object" !== typeof k?c === k:Object.keys(c).length === Object.keys(k).length && Object.keys(c).every(function(h){return g.J7(c[h],k[h]);});};b.VJa=a;},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){var q;q=this;this.xg=n;n=p();this.Sg=new l({log:m.mb("CacheManager"),Aa:{getTime:function(){return q.xg.Tb().da(d.ma);}},Promise:Promise,Ff:!1,IDb:n.c4b,HDb:n.a4b,YMb:n.pdb,XMb:n.b4b});}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;t=a(0);k=a(1);g=a(19);h=a(6);d=a(5);f=a(12);l=a(1295);c=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.sb)),t.__param(1,(0,k.l)(g.$c)),t.__param(2,(0,k.l)(f.Ic))],c);b.AFa=c;},function(t,b,a){var d;function c(){return Object.create(null);}function k(f){this.log=f.log;this.Aa=f.Aa;this.bF=c();this.Promise=f.Promise;this.AA=f.AA;this.HCa=f.HCa;this.Ff=f.Ff || !1;this.Lx=c();this.PD=c();this.UH=c();this.jzb(f);f.gn && (this.gn=f.gn);}function g(f){return "undefined" !== typeof f;}function h(f){var n;for(var l=0,m=arguments.length;l < m;){n=arguments[l++];if(g(n))return n;}}a(1296);d=a(1297);k.prototype.jzb=function(f){this.Lx.manifest=h(f.YMb,d.Lx.ea);this.Lx.ldl=h(f.XMb,d.Lx.wY);this.Lx.metadata=h(f.Ilc,d.Lx.Ac);this.PD.manifest=h(f.IDb,d.PD.ea);this.PD.ldl=h(f.HDb,d.PD.wY);this.PD.metadata=h(f.zkc,d.PD.Ac);this.UH.manifest=h(f.xkc,d.UH.ea);this.UH.ldl=h(f.wkc,d.UH.wY);this.UH.metadata=h(f.ykc,d.UH.Ac);};k.prototype.NX=function(f,l){this.av("undefined" !== typeof f);this.av("undefined" !== typeof l);return ! !this.vTa(f,l,void 0).value;};k.prototype.vTa=function(f,l,m){var n,p;n={value:null,reason:"",log:""};p=this.bF[l];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + l,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(m=p[f][m?m:"DEFAULTCAPS"]) && m.value?this.N$(l,m.creationTime)?(n.log="cache miss: " + l + " data expired for movieId:" + f,n.reason="expired"):(n.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + l + " request in flight for movieId:" + f:"cache hit: " + l + " available for movieId:" + f,n.value=m.value):(n.log="cache miss: " + l + " data not available for movieId:" + f,n.reason="unavailable");return n;};k.prototype.getData=function(f,l,m){this.av("undefined" !== typeof f);this.av("undefined" !== typeof l);f=this.vTa(f,l,m);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.HCa?JSON.parse(this.HCa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};k.prototype.setData=function(f,l,m,n,p){var q,r,u;this.av("undefined" !== typeof f);this.av("undefined" !== typeof l);q=this.bF;r=p?p:"DEFAULTCAPS";q[l] || (q[l]=c(),Object.defineProperty(q[l],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[l],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));m=this.AA?this.AA(JSON.stringify(m),"gzip",!0):m;q=q[l];this.Lwb(f,l,r,q);u=this;n={creationTime:this.Aa.getTime(),value:m,size:0,type:l,Kpa:n,WMb:setTimeout(function(){u.clearData(f,l,r,!1,"expired");},this.Lx[l] + 1)};q[f]=q[f] || c();q[f][r]=q[f][r] || c();q[f][r]=n;q.size+=0;q.numEntries++;this.gn && this.gn.emit("addedCacheItem",n);return n;};k.prototype.Lwb=function(f,l,m,n){var p,q,r,u,v,w,x,y,z;p=this;q=n.numEntries;r=this.PD[l];u=n[f] && n[f][m];if(u && u.value)(v=f,w="promise_or_expired");else if(q >= r){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][m];B && B.value && p.N$(l,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});v=z || x;w="cache_full";}this.Ff && this.log.debug("makespace ",{maxCount:r,currentCount:n.numEntries,field:l,movieId:f,movieToBeRemoved:v});v && (p.clearData(v,l,m,void 0,w),this.log.debug("removed from cache: ",v,l));};k.prototype.zoa=function(f,l){var m,n;m=this;m.av("undefined" !== typeof f);n=f + "";l.forEach(function(p){var q;q=m.bF[p];q && Object.keys(q).forEach(function(r){r != n && m.clearData(r,p,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(f,l,m,n,p){var q;this.av("undefined" !== typeof f);this.av("undefined" !== typeof l);q=this.bF[l];l=q?q[f]:void 0;m=m?m:"DEFAULTCAPS";if(l && l[m]){q.size-=l[m].size;q.numEntries--;if(q=l && l[m])(clearTimeout(q.WMb),l[m]=void 0,!n && q.Kpa && q.Kpa());this.gn && (f={creationTime:q.creationTime,destroyFn:q.Kpa,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.gn.emit("deletedCacheItem",f));}};k.prototype.flush=function(f){var l;this.av("undefined" !== typeof f);l=this.bF;l[f]=c();l[f].numEntries=0;l[f].size=0;};k.prototype.ZYa=function(){var f,l;this.av(!1);f=this;l=this.bF;l[void 0] instanceof Object && Object.keys(l[void 0]).forEach(function(m){var n;n=l[void 0][m].DEFAULTCAPS;f.Aa.getTime() - n.creationTime > f.Lx[void 0] && this.clearData(m,void 0,"DEFAULTCAPS",void 0,"clean_up");});};k.prototype.N$=function(f,l){return this.Aa.getTime() - l > this.Lx[f];};k.prototype.getStats=function(f,l,m){var n,p,q,r,u;n={};p=this;q=p.bF;r=g(f) && g(l);u=m || "DEFAULTCAPS";Object.keys(q).forEach(function(v){var w,x;w=Object.keys(q[v]);x=q[v];w.forEach(function(y){!(y=x && x[y] && x[y][u]) || !g(y.value) || y.value instanceof this.Promise || (n[v]=(n[v] | 0) + 1,p.N$(y.type,y.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),r && y.creationTime >= f && y.creationTime < l && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};k.prototype.getState=function(f){var l,m,n,p;l=[];m=this;n=m.bF;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var r,u;r=Object.keys(n[q]);u=n[q];r.forEach(function(v){var w,x;w=u && u[v] && u[v][p];if(w && g(w.value)){x=m.N$(w.type,w.creationTime)?"expired":w.value instanceof this.Promise?"loading":"cached";l.push({movieId:v,state:x,type:q,size:w.size});}});});return l;};k.prototype.av=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.Ff))throw Error("Debug Assert Failed ");};t.exports=k;},function(t){function b(a){var c;c=[];return (function h(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g){if(g.hasOwnProperty(d) && h(g[d]))return !0;}}return !1;})(a);}t.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var k=0;a.length;){g=a.pop();if("boolean" === typeof g)k+=4;else if("string" === typeof g)k+=2 * g.length;else if("number" === typeof g)k+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var h in g){a.push(g[h]);}}}return k;};},function(t){t.exports={Lx:{ea:12E5,wY:9E5,Ac:12E5},PD:{ea:10,wY:10,Ac:10},UH:{ea:10240,wY:10240,Ac:10240}};},function(t,b,a){var c,k,g,h,d,f,l,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=void 0;t=a(1);c=a(196);k=a(1299);g=a(537);h=a(1300);d=a(538);f=a(1301);l=a(1302);m=a(539);n=a(1303);b.Ga=new t.vd(function(p){p(c.Aga).to(k.SGa).ha();p(g.GLa).to(h.FLa).ha();p(d.MMa).to(f.LMa).ha();p(d.QLa).to(l.PLa).ha();p(m.OLa).to(n.NLa).ha();});},function(t,b,a){var k,g,h,d;function c(f){function l(m,n){this.J=m;this.Im=n;this.y8=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.bg=f.mb("DownloadTrack");}l.prototype.kr=function(){!1;this.JU=void 0;this.emit("destroyed");};l.prototype.toString=function(){return "id:" + this.JU + " config: " + JSON.stringify(this.J);};l.prototype.toJSON=function(){return "Download Track id:" + this.JU + " config: " + JSON.stringify(this.J);};l.prototype.vP=function(){return void 0 === this.JU?!1:!0;};l.prototype.Tca=function(m){this.J.connections !== m.connections && (this.J=m);};l.prototype.Jv=function(){return 1 < this.J.connections?!0:!1;};Va.Object.defineProperties(l.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.JU;}},Zm:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.JU;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},lca:{configurable:!0,enumerable:!0,get:function(){return this.bg;}},uJ:{configurable:!0,enumerable:!0,get:function(){return this.Im.uJ;}}});this.pL=Object.assign(l,new h.TGa());}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=void 0;t=a(0);k=a(1);g=a(6);h=a(196);d=a(113).EventEmitter;c=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb))],c);b.SGa=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y){this.oN=r;this.lf=v;this.Bb=w;this.Ea=x;this.config=y;this.log=u.mb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;t=a(0);k=a(197);g=a(101);h=a(3);d=a(6);f=a(1);l=a(70);m=a(27);n=a(19);p=a(5);a=a(12);c.prototype.VA=function(){return this.Ea.Tb().da(p.ma);};c.prototype.ebb=function(r,u){r.X_b({mediaRequest:r,timestamp:u});};c.prototype.zbb=function(r){var u;u=r.mediaRequest.AB;u.readyState=k.xc.Rc.Az;r=r.connect?r:{timestamp:this.VA(),connect:!1};r.mediaRequest=u;r.readyState=u.readyState;u.cbb(r);};c.prototype.xZ=function(r){this.ebb(r.mediaRequest.AB,r.timestamp);};c.prototype.yZ=function(r){var u,v;u=r.mediaRequest.AB;v=r.bytes;"undefined" === typeof u?!1:(u.readyState === k.xc.Rc.Cz && this.zbb(r),this.Bb.ko(v) && (r.mediaRequest=u,r.timestamp=this.VA(),v > u.bytesReceived && (r.newBytes=v - u.bytesReceived,r.bytesLoaded=v,u.a0b(r))));};c.prototype.Cn=function(r){var u,v,w,x;u=r.mediaRequest;v=r.errorcode;w=r.httpcode;x=k.xc.i2;if("undefined" === typeof u)!1;else if((u=u.AB,"undefined" === typeof u))!1;else if(u.readyState !== k.xc.Rc.uL)if(v === h.R.MC)(u.readyState=k.xc.Rc.bS,r.mediaRequest=u,r.readyState=u.readyState,u.T_b(r));else {u.readyState=k.xc.Rc.uL;switch(v){case h.R.MS:w=x.uFa;break;case h.R.cha:w=x.$ga;break;case h.R.JS:w=400 < w && 500 > w?x.bha:500 <= w?x.SIa:x.$ga;break;case h.R.KS:w=x.aha;break;case h.R.IS:w=x.vFa;break;case h.R.LS:w=x.d3;break;case h.R.jG:w=x.d3;break;case h.R.RIa:w=x.QIa;break;case h.R.NIa:w=x.bha;break;case h.R.Dob:w=x.aha;break;default:w=x.d3;}r.mediaRequest=u;r.readyState=u.readyState;r.errorcode=w;r.nativecode=v;u.ixa(r);}};c.prototype.uZ=function(r,u){var v,w;v=u.request.AB;if(v)if(u.ca){if((!1,r.j && v.readyState !== k.xc.Rc.DONE)){switch(v.readyState){case k.xc.Rc.bS:!1;return;case k.xc.Rc.uL:!1;break;case k.xc.Rc.Az:break;case k.xc.Rc.Cz:this.zbb({mediaRequest:u.request,responseHeaders:u.headers});break;default:!1;}v.readyState=k.xc.Rc.DONE;if(!v.Bc){w={mediaRequest:v,readyState:v.readyState,timestamp:this.VA(),cadmiumResponse:u};r.j.uCa+=1;v.CSb();v.fWb() && (r.j.Uza+=1,u.dm.Vi=Math.ceil(v.hra),u.dm.pq=Math.ceil(v.dI),u.dm.Qr=Math.floor(v.UE));v.n7=w;v.eQ(w);}}}else (!1,v.readyState === k.xc.Rc.bS?!1:(r={mediaRequest:u.request,timestamp:this.VA(),errorcode:u.wa,httpcode:u.pl},this.Cn(r)));};c.prototype.download=function(r,u){var v,w;v=this;u=this.lf.download(r,u);if(r.AB){w=r.AB;-1 < [k.xc.Rc.OPENED,k.xc.Rc.uL].indexOf(w.readyState) && (w.readyState=k.xc.Rc.Cz,this.config().xwa?u.N8b(function(x){v.xZ(x);}):this.ebb(w,this.VA()));}u.i6(function(x){v.uZ(r,x);});u.T8b(function(x){v.yZ(x);});u.E8b(function(x){v.Cn(x);});return u;};q=c;q=t.__decorate([(0,f.X)(),t.__param(0,(0,f.l)(g.dS)),t.__param(1,(0,f.l)(d.sb)),t.__param(2,(0,f.l)(l.Mw)),t.__param(3,(0,f.l)(m.Kg)),t.__param(4,(0,f.l)(n.$c)),t.__param(5,(0,f.l)(a.Ic))],q);b.FLa=q;},function(t,b,a){var k,g,h;function c(d,f){this.lf=f;this.log=d.mb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;t=a(0);k=a(1);g=a(6);a=a(70);c.prototype.YW=function(d,f,l){d={url:d.url,O7b:l};!1;this.lf.L9b(d);};c.prototype.EH=function(d){try{d.Ota();}catch(f){this.log.warn("exception aborting request");}};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(a.Mw))],h);b.LMa=h;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y,z){this.Ea=u;this.rv=v;this.config=w;this.lf=y;this.uZb=z;this.log=x.mb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.PLa=void 0;t=a(0);k=a(31);g=a(1);h=a(6);d=a(70);f=a(537);l=a(89);m=a(197);n=a(19);p=a(5);q=a(40);a=a(12);c.prototype.YW=function(u,v,w){var y,z,A;function x(){u.removeEventListener(m.xc.Ke.zG,x);u.KW?u.KW++:u.KW=1;u.KW >= y.config().Oqa.length && (u.KW=y.config().Oqa.length - 1);setTimeout(function(){y.YW(u,v,w);},y.config().Oqa[u.KW]);}y=this;u.Omc=!0;z=0 === v.start && -1 === v.end;z={url:u.url,responseType:this.lf.S3.IEa,withCredentials:!1,eE:u.mediaType === k.Nb.$a.cc?"audio":"video",offset:z?void 0:v.start,length:z?void 0:u.Ae,track:{type:u.mediaType === k.Nb.$a.cc?l.cj.audio:l.cj.video},stream:{Yb:u.Qa,bitrate:u.bitrate},wc:u.ye,AB:u,Qda:w,$t:this.rv.$t,Rt:u.Rt};A=this.VA();z=this.uZb.download(z,function(B){B.ca && u.readyState !== m.xc.Rc.DONE && (u.readyState === m.xc.Rc.bS?!1:(u.readyState === m.xc.Rc.uL?!1:u.readyState === m.xc.Rc.Cz?(u.readyState=m.xc.Rc.Az,u.cbb({mediaRequest:u,readyState:u.readyState,timestamp:u.Bc?A:y.VA(),connect:!1,responseHeaders:B.headers})):u.readyState !== m.xc.Rc.Cz && u.readyState !== m.xc.Rc.Az && !1,u.readyState=m.xc.Rc.DONE,B={mediaRequest:u,readyState:u.readyState,timestamp:y.VA(),cadmiumResponse:B,response:B.content},u.n7=B,u.eQ(B)));});u.addEventListener(m.xc.Ke.zG,x);u.Ota=z.abort;};c.prototype.EH=function(u){try{u.Ota();}catch(v){this.log.warn("exception aborting request");}};c.prototype.VA=function(){return this.Ea.Tb().da(p.ma);};r=c;r=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(n.$c)),t.__param(1,(0,g.l)(q.mp)),t.__param(2,(0,g.l)(a.Ic)),t.__param(3,(0,g.l)(h.sb)),t.__param(4,(0,g.l)(d.Mw)),t.__param(5,(0,g.l)(f.GLa))],r);b.PLa=r;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y){function z(B,C){this.track=B;this.label=C;this.bi=n.xc.Rc.UNSENT;this.bytesReceived=0;this.lK=[];this.requestId=y.DA().toString();this.Bb=v;this.log=u.mb("MediaRequest");this.config=r;this.Sb=new m.$k();"notification" === this.label?this.config().NA && (this.uJ=w):this.uJ=x;!1;}function A(B,C){this.requestId=y.DA().toString();this.Bb=v;this.log=u.mb("MediaRequest");this.config=r;this.Sb=new m.$k();this.label=C;"notification" === this.label?this.config().NA && (this.uJ=w):this.uJ=x;this.aY=this.DN=this.FN=void 0;this.track=B;this.EN=this.url=this.responseType=void 0;this.bi=n.xc.Rc.UNSENT;this.lj=this.DO=this.Xg=this.status=void 0;this.Dt=this.bytesReceived=0;this.connect=this.hra=this.dI=this.UE=this.gva=this.Gf=this.gra=this.loadTime=this.TM=void 0;this.lK=[];this.Zm=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Sb.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Sb.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Sb.Wc.call(this,B,C,D);};z.prototype.X_b=function(B){this.bi === n.xc.Rc.OPENED && (this.aY=!0,this.loadTime=this.Gf=B.timestamp,!1,this.bi=n.xc.Rc.Cz,this.emit(n.xc.Ke.CMa,B));};z.prototype.cbb=function(B){var C;!this.sfb && B.responseHeaders && (this.sfb=B.responseHeaders);if(this.bi < n.xc.Rc.Az){this.lK=[];C=B.timestamp - this.loadTime;!this.Bc && 0 < C && (this.connect=!0,this.lK.push(C));!0 === this.config().wUb?this.gra=B.timestamp:this.gra=this.Gf=B.timestamp;!1;this.bi=n.xc.Rc.Az;this.emit(n.xc.Ke.BMa,B);}};z.prototype.a0b=function(B){this.bi === n.xc.Rc.Az && (!1,this.gva=this.Gf=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.Bb.Vg(this.gva) && this.emit(n.xc.Ke.DMa,B));};z.prototype.eQ=function(B){var C;if(-1 < [n.xc.Rc.Cz,n.xc.Rc.Az].indexOf(this.bi)){this.aY=!1;!1;this.Gf=B.timestamp;this.bi=n.xc.Rc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.dm.SV;(0,q.ib)(this.bytesReceived === this.Ae,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Ae - C;this.Bb.Vg(this.dI) && (this.Gf=this.dI,0 === B.newBytes && (this.gva=this.dI));this.Bb.Vg(this.UE) && (this.loadTime=this.UE);this.TM=B.response;this.emit(n.xc.Ke.iT,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",G6b:B});}};z.prototype.T_b=function(B){this.aY=!1;!1;this.emit(n.xc.Ke.Hrb,B);};z.prototype.ixa=function(B){this.Gf=B.timestamp;this.status=B.httpcode;this.Xg=B.errorcode;this.DO=n.xc.i2.name[this.Xg];this.lj=B.nativecode;!1;this.emit(n.xc.Ke.zG,B);this.aY=!1;};z.prototype.open=function(B,C,D,F,G,E,I,L){this.Oy=!1;this.EN=C;this.Rt=L;this.url=B;this.responseType=D;!1;if(!this.url)return (!1,!1);this.bi=n.xc.Rc.OPENED;this.uJ.YW(this,C,I);return !0;};z.prototype.Yc=function(){!1;-1 !== [n.xc.Rc.OPENED,n.xc.Rc.Cz,n.xc.Rc.Az].indexOf(this.bi) && this.abort();return !0;};z.prototype.iFb=function(){this.TM=void 0;this.n7 && (this.n7.response=void 0,this.n7.cadmiumResponse.content=void 0);this.Ota=void 0;};z.prototype.mea=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.bi=n.xc.Rc.bS;this.uJ.EH(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.sfb) || void 0 === C?void 0:C[B]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.Wca=function(){};z.prototype.Ri=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.Ri(),segmentId:this.Y,isHeader:this.Bc,ptsStart:this.UB,ptsOffset:this.jw,responseType:this.responseType,duration:this.en,readystate:this.bi};this.stream && (B.bitrate=this.stream.bitrate);return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.CSb=function(){var B,C;if(this.config().Dkb && d.Tw && d.Tw.getEntriesByType && (!this.Bb.Vg(this.UE) || !this.Bb.Vg(this.dI) && this.Bb.Vg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.FN + "-" + this.DN + "*");C=new RegExp(B);B=d.Tw.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Bb.Vg(B) && (0 < B.startTime && (this.UE=B.startTime,0 < B.requestStart && (this.UE=Math.max(this.UE,B.requestStart))),0 < B.responseStart && (this.hra=B.responseStart),0 < B.responseEnd && (this.dI=B.responseEnd));}};z.prototype.fWb=function(){return this.Bb.Vg(this.UE) && this.Bb.Vg(this.dI) && this.Bb.Vg(this.hra);};Va.Object.defineProperties(z.prototype,{Ae:{configurable:!0,enumerable:!0,get:function(){var B;return 0 === this.EN.start && -1 === this.EN.end?Number(null !== (B=this.getResponseHeader("Content-Length")) && void 0 !== B?B:this.getResponseHeader("content-length")) || this.bytesReceived:this.EN.end - this.EN.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.DN - this.FN + 1;}},h6a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Bc:{configurable:!0,enumerable:!0,get:function(){return !this.LE;}},response:{configurable:!0,enumerable:!0,get:function(){return this.TM;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.bi;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.ns=Object.assign(A,n.xc);}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;t=a(0);k=a(1);g=a(6);h=a(12);d=a(13);f=a(27);l=a(538);m=a(75);n=a(197);p=a(82);q=a(23);c=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Ic)),t.__param(1,(0,k.l)(g.sb)),t.__param(2,(0,k.l)(f.Kg)),t.__param(3,(0,k.l)(l.MMa)),t.__param(4,(0,k.l)(l.QLa)),t.__param(5,(0,k.l)(p.pz))],c);b.NLa=c;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.xab=void 0;t=a(1);c=a(349);k=a(1305);b.xab=new t.vd(function(g){g(c.Vha).to(k.eMa).ha();});},function(t,b,a){var k,g,h,d,f;function c(l){return g.pf.call(this,l,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;t=a(0);k=a(45);g=a(46);h=a(1);d=a(34);f=a(5);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{lab:{configurable:!0,enumerable:!0,get:function(){return (0,f.tc)(5E3);}},Nbb:{configurable:!0,enumerable:!0,get:function(){return (0,f.tc)(1E3);}},Obb:{configurable:!0,enumerable:!0,get:function(){return (0,f.tc)(1E3);}},J1b:{configurable:!0,enumerable:!0,get:function(){return (0,f.tc)(1E3);}}});a=c;t.__decorate([k.config(k.Lk,"minDecoderBufferMilliseconds")],a.prototype,"lab",null);t.__decorate([k.config(k.Lk,"optimalDecoderBufferMilliseconds")],a.prototype,"Nbb",null);t.__decorate([k.config(k.Lk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Obb",null);t.__decorate([k.config(k.Lk,"optimalDecoderBufferMillisecondsLive")],a.prototype,"J1b",null);a=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(d.Fm))],a);b.eMa=a;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.vcb=void 0;t=a(1);c=a(540);k=a(1307);g=a(80);h=a(1309);d=a(543);f=a(1310);l=a(496);m=a(1311);n=a(296);p=a(1312);b.vcb=new t.vd(function(q){q(g.yz).to(h.uNa).ha();q(c.wNa).to(k.vNa).ha();q(l.GNa).to(m.FNa);q(l.ENa).ef(function(r){return function(){return r.ub.get(l.GNa);};});q(d.bOa).to(f.aOa).ha();q(n.wia).to(p.YNa).ha();});},function(t,b,a){var h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B;function c(C){this.config=C;this.xA=[];}function k(C,D,F){this.Ea=C;this.HR=D;this.context=F;this.startTime=this.Ea.Tb();}function g(C,D,F,G,E,I,L,K,H,R){this.sjb=D;this.json=F;this.Ea=G;this.rv=E;this.aza=I;this.Mc=L;this.config=K;this.Sb=H;this.receiver=R;this.log=C.mb("Pbo");K.web && (this.xA=new c(K));this.HR=this.sjb();}Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;t=a(0);h=a(1);d=a(5);f=a(541);l=a(6);m=a(38);n=a(19);p=a(40);q=a(141);r=a(47);u=a(542);v=a(80);w=a(110);x=a(17);y=a(71);z=a(1308);a=a(296);A={"shakti-":"akira"};g.prototype.send=function(C,D){var F;F=new k(this.Ea,this.HR,C);this.xA && this.xA.append(F);return this.FAa(C,D,F);};g.prototype.FAa=function(C,D,F){var G;G=this;return new Promise(function(E,I){G.retry(C,D).then(function(L){var K,H;G.j8b(L);K=na(G.kdc(L));H=K.next().value;K=K.next().value;H && (G.receiver.Yya({command:C.vo,inputs:D,outputs:H}),G.BFb(F),E(L));K && (G.receiver.Yya({command:C.vo,inputs:D,outputs:K}),G.mZa(F,K),I(K));}).catch(function(L){var K;G.receiver.Yya({command:C.vo,inputs:D,outputs:L});K=G.mZa(F,L);L.Ob && (L.Ob=[L.Ob," ",K].join(""));I(L);});});};g.prototype.j8b=function(C){(C=C.serverTime) && this.Sb.Wc(x.lha.egb,(0,d.tc)(C));};g.prototype.kdc=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{jF:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.jCb=function(C,D,F){var G;G=this;this.Fcc(D,C);this.HR=this.sjb(F);return this.HR.send(D,F).then(function(E){return {retry:!1,result:z.F3.w2b(G.json,E.body)};}).catch(function(E){var I,L;I=z.F3.bRb(E);L=void 0 !== I?Math.min(I,D.Xza):D.Xza;return G.Nda(D,E,C,L)?(I=G.XDb(E,C,L),G.log.warn("Method failed, retrying",Object.assign({Method:D.vo,Attempt:C + 1,WaitTime:I,MaxRetries:L},G.zpa(E))),Promise.resolve({retry:!0,delay:I,error:E})):Promise.resolve({retry:!1,error:E});});};g.prototype.bPb=function(C){var D,F;if(!this.ima || this.ima.T1b !== C){D="";F=C;Object.entries(A).find(function(G){var E;E=na(G);G=E.next().value;E=E.next().value;if(0 === C.indexOf(G))return (D=E,C=C.slice(G.length),!0);});this.ima={hZa:D,Ry:C,T1b:F};}return this.ima;};g.prototype.Fcc=function(C,D){var F,G,E,I;I=C.url.searchParams;I.set(y.XC.WPa,(D + 1).toString());this.config.wkb.includes(C.Kn)?C.headers[y.Ysb.bja]=C.Kn:I.set(y.XC.bja,C.Kn);C=this.bPb(null !== (F=this.config.Ry) && void 0 !== F?F:"");C.hZa && (I.set(y.XC.NFa,C.hZa),C.Ry && I.set(y.XC.SRa,encodeURIComponent(C.Ry)),F=this.rv.ke,(null === F || void 0 === F?0:F.name) && I.set(y.XC.dFa,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && I.set(y.XC.eFa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && I.set(y.XC.GMa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && I.set(y.XC.HMa,encodeURIComponent(F.os.version)));};g.prototype.retry=function(C,D,F){var G;G=this;F=void 0 === F?0:F;return this.jCb(F++,C,D).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(C,D,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};g.prototype.Nda=function(C,D,F,G){var E;E=z.F3.gWb(D);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.vo,Attempt:F + 1,MaxRetries:G},this.zpa(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.vo},this.zpa(D)));return !1;};g.prototype.XDb=function(C,D,F){if(C && C.wF && void 0 !== C.wF.retryAfterSeconds)return (0,d.si)(C.wF.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.tc)(this.aza.Udb(C,D));};g.prototype.wait=function(C){var D;D=this;return new Promise(function(F){D.Mc.Uk(C || d.La,F);});};g.prototype.zpa=function(C){return (0,u.Z7a)(C)?C:{message:C.message,subCode:C.Cc,extCode:C.Td,mslCode:C.DB,data:C.data};};g.prototype.BFb=function(C){C.vR();};g.prototype.mZa=function(C,D){var F;C.kv(D);if(this.xA)try{F=this.json.stringify(this.xA);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=g;B=t.__decorate([(0,h.X)(),t.__param(0,(0,h.l)(l.sb)),t.__param(1,(0,h.l)(f.IRa)),t.__param(2,(0,h.l)(m.nG)),t.__param(3,(0,h.l)(n.$c)),t.__param(4,(0,h.l)(p.mp)),t.__param(5,(0,h.l)(q.T3)),t.__param(6,(0,h.l)(r.zj)),t.__param(7,(0,h.l)(v.yz)),t.__param(8,(0,h.l)(w.Oga)),t.__param(9,(0,h.l)(a.wia))],B);b.vNa=B;k.prototype.vR=function(){this.ca=!0;this.elapsedTime=this.Ea.Tb().Ba(this.startTime);};k.prototype.kv=function(C){this.ca=!1;this.elapsedTime=this.Ea.Tb().Ba(this.startTime);this.R$b=C.Cc || C.subCode;this.bNb=C.Td || C.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var C;C=Object.assign({success:this.ca,method:this.context.vo,startTime:this.startTime.da(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.ma):"in progress"},this.HR.apa());return this.ca?C:Object.assign(Object.assign(Object.assign({},C),this.HR.apa()),{subcode:this.R$b,extcode:this.bNb});};c.prototype.append=function(C){this.xA.push(C);0 < this.config.Ita && this.xA.length > this.config.Ita && this.xA.shift();};c.prototype.toJSON=function(){return this.xA;};},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.F3=void 0;k=a(3);c.gWb=function(g){var h,d;h=g && g.code;d=g && (g.wa || g.Cc);g=g.Td !== k.f3.kNa;d=! !d && d >= k.R.MS && d <= k.R.KS && g;return !("RETRY" !== h && "FAIL" !== h) || d;};c.bRb=function(g){var h,d;d=null === (h=null === g || void 0 === g?void 0:g.wF) || void 0 === h?void 0:h.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.w2b=function(g,h){var d;if(h){try{d=g.parse(h);}catch(f){throw {jF:!0,code:"FAIL",message:"Unable to parse the response body",data:h};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(f){return f.error;})))throw g.error;return d;}throw {jF:!0,code:"FAIL",message:"There is no result property on the response"};}throw {jF:!0,code:"FAIL",message:"There is no body property on the response"};};b.F3=c;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r){n=g.pf.call(this,n,"PboConfigImpl") || this;n.config=p;n.zBb=q;n.sh=r;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);d=a(45);f=a(12);l=a(170);a=a(108);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{Ry:{configurable:!0,enumerable:!0,get:function(){return this.config().mr.Ry || "";}},Iea:{configurable:!0,enumerable:!0,get:function(){return this.config().mr.Iea || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().mr.Aya;}},X7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},ggb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.zBb.MXa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.hgb);}},hgb:{configurable:!0,enumerable:!0,get:function(){return {};}},web:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ita:{configurable:!0,enumerable:!0,get:function(){return 10;}},AWa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ex:{configurable:!0,enumerable:!0,get:function(){return this.sh.Ex;}},lE:{configurable:!0,enumerable:!0,get:function(){return this.sh.lE;}},dL:{configurable:!0,enumerable:!0,get:function(){return this.sh.dL;}},Fkb:{configurable:!0,enumerable:!0,get:function(){return !1;}},x1a:{configurable:!0,enumerable:!0,get:function(){return !0;}},wkb:{configurable:!0,enumerable:!0,get:function(){return [];}},F1a:{configurable:!0,enumerable:!0,get:function(){return !0;}},qO:{configurable:!0,enumerable:!0,get:function(){return this.sh.qO;}},gI:{configurable:!0,enumerable:!0,get:function(){return this.sh.gI;}}});m=c;t.__decorate([d.config(d.string,"uiVersion")],m.prototype,"Ry",null);t.__decorate([d.config(d.string,"uiPlatform")],m.prototype,"Iea",null);t.__decorate([d.config(d.sC,"pboVersion")],m.prototype,"version",null);t.__decorate([d.config(d.string,"pboOrganization")],m.prototype,"organization",null);t.__decorate([d.config(d.KK,"pboLanguages")],m.prototype,"languages",null);t.__decorate([d.config(d.xd,"hasLimitedPlaybackFunctionality")],m.prototype,"X7a",null);t.__decorate([d.config(d.object(),"pboCommands")],m.prototype,"ggb",null);t.__decorate([d.config(d.object(),"pboCommandsOverride")],m.prototype,"hgb",null);t.__decorate([d.config(d.xd,"pboRecordHistory")],m.prototype,"web",null);t.__decorate([d.config(d.sC,"pboHistorySize")],m.prototype,"Ita",null);t.__decorate([d.config(d.xd,"pboAddXEsnHeader")],m.prototype,"AWa",null);t.__decorate([d.config(d.xd,"combineManifestAndLicense")],m.prototype,"Ex",null);t.__decorate([d.config(d.xd,"enableLicensedManifestForPrefetch")],m.prototype,"lE",null);t.__decorate([d.config(d.xd,"useLdlForPrefetchLicensedManifest")],m.prototype,"dL",null);t.__decorate([d.config(d.xd,"pboUseStudioManifest")],m.prototype,"Fkb",null);t.__decorate([d.config(d.xd,"pboEnableLeanManifest")],m.prototype,"x1a",null);t.__decorate([d.config(d.xd,"useHeaderForRequestNames")],m.prototype,"wkb",null);t.__decorate([d.config(d.xd,"pboEnableV2OptimizedManifest")],m.prototype,"F1a",null);t.__decorate([d.config(d.xd,"pboEnableManifestPartialHydrationSupport")],m.prototype,"qO",null);t.__decorate([d.config(d.KK,"pboContentPlaygraphTypes")],m.prototype,"gI",null);m=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm)),t.__param(1,(0,k.l)(f.Ic)),t.__param(2,(0,k.l)(l.y1)),t.__param(3,(0,k.l)(a.BG))],m);b.uNa=m;},function(t,b,a){var g,h;function c(d,f,l,m,n,p,q){this.version=d;this.url=f;this.id=l;this.languages=m;this.Cb=n;this.wLb=p;this.t_b=q;}function k(d){this.ki=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aOa=void 0;t=a(0);g=a(1);a=a(80);k.prototype.create=function(d,f,l,m,n){return new c(this.ki.version,f,d,this.ki.languages,l,m,n);};h=k;h=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(a.yz))],h);b.aOa=h;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Cb,echo:this.wLb};};},function(t,b,a){var k,g,h;function c(d,f){this.mI=f;this.log=d.mb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;t=a(0);k=a(1);g=a(6);a=a(90);c.prototype.uma=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.qX=function(d){!1;return this.links[d];};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(a.iz))],h);b.FNa=h;},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;t=a(0);a=a(1);c.prototype.M8b=function(g){this.listener=g;};c.prototype.Yya=function(g){var h;null === (h=this.listener) || void 0 === h?void 0:h.call(this,g);};k=c;k=t.__decorate([(0,a.X)()],k);b.YNa=k;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,N,Q,V,ca;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;t=a(1);c=a(494);k=a(544);g=a(1314);h=a(546);d=a(1315);f=a(450);l=a(360);m=a(1316);n=a(1327);p=a(12);q=a(19);r=a(109);u=a(27);v=a(6);w=a(1328);x=a(271);y=a(1329);z=a(5);A=a(1330);B=a(1331);C=a(567);D=a(1332);F=a(110);G=a(547);E=a(1333);I=a(111);L=a(32);K=a(158);H=a(90);R=a(288);O=a(571);J=a(1334);M=a(81);P=a(40);S=a(548);U=a(1335);T=a(297);W=a(26);ia=a(569);pa=a(1336);wa=a(549);za=a(1337);Ca=a(30);N=a(305);Q=a(572);V=a(1338);ca=a(1339);b.j=new t.vd(function(sa){sa(O.Jia).to(J.DOa).ha();sa(T.Hfa).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na,Oa){return new (a(1340).kEa)(Na,Oa,Ja.get(r.fz),Ja.get(F.b2));};});sa(c.JRa).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa){return new (a(1343).KRa)(Ja.get(A.PRa),Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa);};});sa(A.PRa).to(B.ORa).ha();sa(k.NRa).to(g.MRa).ha();sa(l.yOa).to(m.xOa).ha();sa(S.VPa).to(U.UPa);sa(S.TPa).Zib(S.VPa);sa(f.MGa).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na){return new (a(1344).NGa)(Ja.get(F.LGa),Ja.get(r.fz),Ja.get(q.$c),Na);};});sa(h.NEa).ef(function(){return function(Ha){return new d.OEa(Ha);};});sa(ia.Mia).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na){return new pa.JOa(Na,Ja.get(v.sb),Ja.get(u.Kg));};});sa(Q.KDa).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na){return new V.LDa(Na,Ja.get(v.sb).mb("AdImpressionLogger"),Ja.get(Ca.Bh),Ja.get(p.Ic),Ja.get(q.$c),Ja.get(N.Afa));};});sa(wa.ODa).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na,Oa){return new ca.NDa(new za.PDa(Na,Oa,Ja.get(v.sb).mb("AdManager"),Ja.get(p.Ic),Ja.get(Q.KDa)));};});sa(w.pOa).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na){return new n.qOa(Na,Ja.get(v.sb),Ja.get(p.Ic),Ja.get(u.Kg),Ja.get(r.fz),Ja.get(ia.Mia));};});sa(x.Lia).ef(function(Ha){var Ja;Ja=Ha.ub;return function(Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa,eb){return new y.FOa(Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa,Ja.get(w.pOa),Ja.get(O.Jia),eb);};});sa(C.sQa).ef(function(Ha){return function(Ja){var Na,Oa;Na=Ha.ub.get(p.Ic);Oa=Ha.ub.get(v.sb);return new D.tQa(Na,Ja,Oa);};});sa(G.AOa).ef(function(Ha){return function(Ja){var Na,Oa,Ua,$a,sb;Na=Ha.ub.get(H.iz);Oa=Ha.ub.get(I.VL);Ua=Ha.ub.get(L.$h);$a=Ha.ub.get(K.wT);sb=Ha.ub.get(W.hz);return new E.BOa(Ja,Na,Oa((0,z.si)(1)),Ua,$a,sb);};});sa(R.Tha).LF(function(Ha){return new (a(1345).aMa)(Ha.ub.get(M.eT),Ha.ub.get(P.mp));}).ha();});},function(t,b,a){var k,g,h,d,f,l;function c(m,n){this.xg=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.MRa=void 0;t=a(0);k=a(17);g=a(545);h=a(19);d=a(1);f=a(5);a=a(12);c.prototype.sO=function(m){var n;m.M0={};if(!m.uP() && m.rC && 0 < m.rC.length && (m.qC=this.t4a(m),m.qC)){n=this.l9b(m);n() || (m.Db.addListener(n),m.nf.addListener(n));}};c.prototype.l9b=function(m){var p;function n(){var q,r;if(!m.nf.value || m.Db.value === k.lb.ag)return !1;q=m.qC;r=q.getState();return r === g.Kq.LOADING?!1:r !== g.Kq.oG && q.retry?(q=p.FSb(m))?(m.M0.offset=p.xg.Tb().da(f.ma),m.qC=q,q.download(),!0):!1:(m.Db.removeListener(n),m.nf.removeListener(n),!1);}p=this;return n;};c.prototype.FSb=function(m){var n,p;n=this.config();p=m.im.Zs() < n.ybc;n=(m.nf.value?m.nf.value.bitrate:0) > n.xbc;return this.aSb(m,p && n);};c.prototype.aSb=function(m,n){if(n && (n=this.t4a(m),this.v5a(m,n.size)))return (m.M0.gfb="h",n);n=this.ZQb(m);if(this.v5a(m,n.size))return (m.M0.gfb="l",n);};c.prototype.v5a=function(m,n){var p,q;p=this.config();q=Math.min(m.hV(),m.Z0());return m.LCb.NDb(n) * (1 + .01 * p.dBb[2]) < q * p.Bbc;};c.prototype.t4a=function(m){return m.rC[m.rC.length - 1];};c.prototype.ZQb=function(m){return m.rC[0];};l=c;l=t.__decorate([(0,d.X)(),t.__param(0,(0,d.l)(h.$c)),t.__param(1,(0,d.l)(a.Ic))],l);b.MRa=l;},function(t,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;a.prototype.fkb=function(){var c;c=this.j.Ga;if(null !== c && void 0 !== c && c.gD){c=c.Vb.get();if(null === c || void 0 === c?0:c.Qk)this.j.Qk=c.Qk.oa;if(null === c || void 0 === c?0:c.Na)this.j.Na=c.Na.oa;}};a.prototype.Io=function(){-1 === this.j.Na && this.fkb();return this.j.Na;};a.prototype.NDb=function(c){-1 !== this.j.Qk && -1 !== this.j.Na || this.fkb();return -1 === this.j.Qk || -1 === this.j.Na?Number.MAX_VALUE:this.j.Qk + 8 * c / this.j.Na;};b.OEa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H;function c(R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,N,Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a,sb){this.fB=R;this.FD=O;this.Ea=J;this.Aa=M;this.MCb=P;this.kCa=S;this.OY=U;this.$va=T;this.EP=W;this.Fd=ia;this.mi=pa;this.pj=wa;this.xN=za;this.SZ=Ca;this.Sj=N;this.ACa=Q;this.og=V;this.Dn=ca;this.Be=sa;this.kya=Ha;this.D6b=Ja;this.$ma=Na;this.yJ=Oa;this.Wxa=Ua;this.oma=$a;this.oN=sb;}Object.defineProperty(b,"__esModule",{value:!0});b.xOa=void 0;t=a(0);k=a(82);g=a(1);h=a(111);d=a(36);f=a(19);l=a(30);m=a(546);n=a(272);p=a(495);q=a(512);r=a(116);u=a(142);v=a(162);w=a(101);x=a(485);y=a(271);z=a(544);A=a(50);B=a(32);C=a(547);D=a(81);F=a(548);G=a(297);E=a(288);I=a(115);L=a(528);K=a(549);c.prototype.create=function(R,O,J,M,P,S,U,T){return new (a(550).zOa)(R,O,S,U,M,P,this.fB,J,this.Ea,this.FD,this.Aa,this.OY,this.MCb,this.kCa,this.$va,this.EP,this.Fd,this.mi,this.pj,this.xN,this.SZ,this.Sj,this.ACa,this.og,this.Be,this.kya,this.Dn,this.D6b(),this.$ma,this.yJ,this.Wxa,this.oma,void 0,T);};H=c;H=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(k.pz)),t.__param(1,(0,g.l)(d.$i)),t.__param(2,(0,g.l)(f.$c)),t.__param(3,(0,g.l)(l.Bh)),t.__param(4,(0,g.l)(m.NEa)),t.__param(5,(0,g.l)(h.VL)),t.__param(6,(0,g.l)(n.Nha)),t.__param(7,(0,g.l)(p.qLa)),t.__param(8,(0,g.l)(q.XS)),t.__param(9,(0,g.l)(r.OG)),t.__param(10,(0,g.l)(u.oT)),t.__param(11,(0,g.l)(v.DG)),t.__param(12,(0,g.l)(x.VEa)),t.__param(13,(0,g.l)(y.Lia)),t.__param(14,(0,g.l)(I.tG)),t.__param(15,(0,g.l)(z.NRa)),t.__param(16,(0,g.l)(A.Yn)),t.__param(17,(0,g.l)(D.eT)),t.__param(18,(0,g.l)(B.$h)),t.__param(19,(0,g.l)(C.AOa)),t.__param(20,(0,g.l)(F.TPa)),t.__param(21,(0,g.l)(G.Hfa)),t.__param(22,(0,g.l)(E.Tha)),t.__param(23,(0,g.l)(L.TNa)),t.__param(24,(0,g.l)(K.ODa)),t.__param(25,(0,g.l)(w.dS)),t.__param(25,(0,g.optional)())],H);b.xOa=H;},function(t,b,a){var d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K;function c(){this.yea=[];this.jbc=50;}function k(H){var R;R=this;this.j=H;this.klb=Promise.resolve();this.xHa=mb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.xH=[];this.gl=new n.$k();this.dTa=0;this.H4=[];this.bg=(0,r.Qi)(this.j,"MediaElementASE");this.oVa=l.Vw;this.pka=!1;this.jb=new c();this.Jp={};this.LTa={};this.m9=this.J4(function(){var O;if(R.$)return null !== (O=R.$.webkitDecodedFrameCount) && void 0 !== O?O:0;});this.WA=this.J4(function(){var O;if(R.$){O=R.Mka();return O?O.totalVideoFrames:R.$.webkitDecodedFrameCount;}});this.II=this.J4(function(){var O;if(R.$){O=R.Mka();return O?O.droppedVideoFrames:R.$.webkitDroppedFrameCount;}});this.fX=this.J4(function(){var O;if(R.$){O=R.Mka();return O && O.corruptedVideoFrames;}});this.jUa=function(O){!1;R.gl.Wc(D.hk.c9a,{K:O});};this.cm=r.ya.get(C.tKa).create(m.config.au,this,this.j);m.config.SE && (this.klb=new Promise(function(O){R.oVa=O;R.j.addEventListener(E.ja.ph,O);}));this.bg.trace("Created Media Element");this.addEventListener=this.gl.addListener;this.removeEventListener=this.gl.removeListener;}function g(H){var R,O;R=r.ya.get(F.wSa).VRb();H=H.width / H.height * R.height;O=(R.width - H) / 2;return m.config.g9b?(0,q.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + R.height + "px;left:" + O + "px;top:0px"):(0,q.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function h(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.DLa=void 0;d=a(31);f=a(302);l=a(16);m=a(18);n=a(75);p=a(65);q=a(43);r=a(8);u=a(3);v=a(23);w=a(91);x=a(343);y=a(25);z=a(303);A=a(13);B=a(15);C=a(556);D=a(304);F=a(532);G=a(5);E=a(17);I=a(61);L=a(49);K=! !(A.SC && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);k.prototype.hX=function(H){try{this.$ && (this.dTa=this.$.currentTime);}catch(R){this.bg.error("Exception while getting VIDEO.currentTime",R);H && this.NT(u.V.ssb,R);}return (0,A.op)(this.dTa * l.ju);};k.prototype.seek=function(H){var R;(0,v.ib)(!this.Tq);this.gVa();R=this.hX(!0);if(!m.config.tBb && (0,A.p3)(R - H) <= this.vAa)(this.bg.trace("Seek delta too small",{currentTime:R,seekTime:H,min:this.vAa}),this.jb.trace("smallseek",H));else {this.jb.trace("seek",H);try{this.bg.trace("Setting video elements currentTime",{From:(0,w.wj)(R),To:(0,w.wj)(H)});this.Tq={};this.$.currentTime=H / l.ju;this.gl.Wc(D.hk.jr);}catch(O){this.bg.error("Exception while setting VIDEO.currentTime",O);this.NT(u.V.tsb,O);}}};k.prototype.w5a=function(){return ! !this.Tq;};k.prototype.addSourceBuffer=function(H){var R;try{R=new f.Qha(this.j,H,this.cg,this.bg);this.xH.push(R);H == l.ZS && R.ira && R.ira.addListener(this.oVa);return R;}catch(O){R=(0,y.We)(O);this.bg.error("Unable to add source buffer.",{error:R});this.j.Sd(u.V.lia,{wa:H === d.Nb.al.cc?u.R.Kha:u.R.Lha,Ob:R});}};k.prototype.l6=function(H){var R;R=this;H.forEach(function(O){return R.addSourceBuffer(O);});this.gl.Wc(D.hk.shb);return !0;};k.prototype.removeSourceBuffer=function(H){this.xH=this.xH.filter(function(R){return !(0,q.wZa)(H,R);});this.cg.removeSourceBuffer(H);};k.prototype.endOfStream=function(){this.jb.trace("endofstream");!1;m.config.aoa && this.cg.endOfStream();};k.prototype.kr=function(H){!1;this.xH=[];H && H.Vnc();return !0;};k.prototype.O4a=function(){if(this.cg)return (0,G.ldb)(this.cg.duration);};k.prototype.BKb=function(){var H;if(!this.pka && this.$ && this.$.readyState >= I.lp.c3.HAVE_CURRENT_DATA){H=this.$.webkitDecodedFrameCount;if(void 0 === H || 0 < H || m.config.Pdc)this.pka=!0;}return this.pka;};k.prototype.open=function(){var H,R,O;H=this;this.$=g(this.j.SF.value);this.sourceBuffers=this.xH;this.j.addEventListener(E.ja.bhb,function(J){return H.Yxb(J);});if(K){this.j.iJ && !m.config.tkb && this.cm.Nba();try{this.cg=new A.SC();}catch(J){this.NT(u.V.jsb,J);return;}try{this.Tl=URL.createObjectURL(this.cg);}catch(J){this.NT(u.V.ksb,J);return;}try{this.cm.DAb(this.jUa);this.cg.addEventListener("sourceopen",function(J){return H.JUa(J);});this.cg.addEventListener(this.xHa + "sourceopen",function(J){return H.JUa(J);});this.$.addEventListener("error",this.Jp.error=function(J){return H.mU(J);});this.$.addEventListener("seeking",this.Jp.seeking=function(){return H.Xxb();});this.$.addEventListener("seeked",this.Jp.seeked=function(){return H.Wxb();});this.$.addEventListener("timeupdate",this.Jp.timeupdate=function(){return H.Zxb();});this.$.addEventListener("loadstart",this.Jp.loadstart=function(){return H.sla();});this.$.addEventListener("volumechange",this.Jp.volumechange=function(J){return H.$xb(J);});this.$.addEventListener(this.cm.dF,this.Jp[this.cm.dF]=function(){H.bg.trace(H.cm.dF);H.Uxb();});R=this.j.Zo;O=R.lastChild;O?R.insertBefore(this.$,O):R.appendChild(this.$);m.config.F0a && this.$.addEventListener("contextmenu",h);this.$.src=this.Tl;p.kf.addListener(p.$s,this.LTa[p.$s]=function(){return H.IUa();});this.IUa();}catch(J){this.NT(u.V.lsb,J);}}else this.C4(u.V.bNa);};k.prototype.close=function(){var R;function H(){R.Tl && (R.gVa(),p.kf.removeListener(p.$s,R.LTa[p.$s]),R.Wub());}R=this;this.jb.trace("close");this.$.removeEventListener(this.cm.dF,this.Jp[this.cm.dF]);this.$.removeEventListener("error",this.Jp.error);this.$.removeEventListener("seeking",this.Jp.seeking);this.$.removeEventListener("seeked",this.Jp.seeked);this.$.removeEventListener("timeupdate",this.Jp.timeupdate);this.$.removeEventListener("loadstart",this.Jp.loadstart);this.$.removeEventListener("volumechange",this.Jp.volumechange);this.cm.h6b(this.jUa);m.config.au?this.cm.YB().then(function(){return H();}):H();this.cm.Seb && clearTimeout(this.cm.Seb);};k.prototype.xE=function(){return this.jb.xE();};k.prototype.Uxb=function(){m.config.tkb && this.cm.Nba();};k.prototype.Mka=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};k.prototype.lzb=function(){var H;H=this.j.Oi;return (H=H && H.errorCode) && 0 <= [u.V.D3,u.V.h3].indexOf(H);};k.prototype.Wub=function(){var H;H=!1;m.config.n4b && this.lzb() && (H=!0);m.config.sFb && !H && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.Tl);m.config.F0a && this.$.removeEventListener("contextmenu",h);!H && this.$ && this.j.Zo.removeChild(this.$);this.$=this.cg=void 0;this.Tl="";};k.prototype.IUa=function(){!0 === A.Dh.hidden?this.H4.forEach(function(H){H.refresh();H.h$b();}):this.H4.forEach(function(H){H.refresh();H.x$b();});};k.prototype.J4=function(H){var R;R=r.ya.get(x.JMa)(H);this.H4.push(R);return function(){R.refresh();return R.SPb();};};k.prototype.NT=function(H,R){var O,J;O={wa:u.R.Bm,Ob:(0,y.We)(R)};try{(J=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (O.Ef=J);}catch(M){}this.j.Sd(H,O);};k.prototype.gVa=function(){this.H4.forEach(function(H){H.refresh();});};k.prototype.Qvb=function(){return this.$ && this.$.msGraphicsTrustStatus;};k.prototype.C4=function(H,R){this.j.Sd(H,R,void 0);};k.prototype.Yxb=function(H){var R,J,M,P,S,U,T;if(this.$){H=H.Zea;R=this.Qvb();R && (H.ConstrictionActive=R.constrictionActive,H.Status=R.status);try{H.readyState="" + this.$.readyState;H.currentTime="" + this.$.currentTime;H.pbRate="" + this.$.playbackRate;}catch(W){}R=this.xH.length;for(var O;R--;){O=this.xH[R];J="";O.type == l.m3?J="audio":O.type == l.ZS && (J="video");(0,y.ve)(H,O.f9(),{prefix:J});}this.cg && (R=this.cg.duration) && !isNaN(R) && (H.duration=R.toFixed(4));if(m.config.XXb)try{M=this.j.Ve;P=M && M.Ib;if(P){S=P.expiration;isNaN(S) || (H.exp=S);U=P.keyStatuses.entries();if(U.next){T=U.next().value;T && (H.keyStatus=T[1]);}}}catch(W){}}};k.prototype.JUa=function(H){!1;this.mzb || (this.mzb=!0,this.gl.Wc(D.hk.uhb,H));};k.prototype.Xxb=function(){this.jb.trace("seeking");this.bg.trace("Video element event: seeking");this.Tq?this.Tq.u0b=!0:(this.bg.error("unexpected seeking event"),m.config.qNb && this.C4(u.V.zsb,{Ob:{Trace:this.xE()}}));};k.prototype.Wxb=function(){this.jb.trace("seeked");this.bg.trace("Video element event: seeked");this.Tq?((0,v.ib)(this.Tq.u0b),this.Tq.t0b=!0,this.NVa()):(this.bg.error("unexpected seeked event"),m.config.pNb && this.C4(u.V.ysb,{Ob:{Trace:this.xE()}}));};k.prototype.Zxb=function(){var H;this.jb.trace("timeupdate",null === (H=this.$) || void 0 === H?void 0:H.currentTime);!1;this.Tq && (this.Tq.w0b=!0,this.NVa());this.gl.Wc(D.hk.jr);};k.prototype.sla=function(){this.bg.trace("Video element event: loadstart");};k.prototype.$xb=function(H){this.bg.trace("Video element event:",H.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(R){this.bg.error("error updating volume",R);}};k.prototype.mU=function(H){var R,O,J,M,P,S,U,T;R=this.C4;O=u.V.aNa;J=u.OHa;M=this.xE();P=H.target;S=P && P.error;U=H.errorCode;P=S && S.code;(0,B.pd)(P) || (P=U && U.code);U=S && S.message;T=S && S.msExtendedCode;(0,B.pd)(T) || (T=S && S.systemCode);(0,B.pd)(T) || (T=H.systemCode);(0,B.pd)(T) || (T=(0,L.Csa)(U));H=(0,y.ve)({},{code:P,systemCode:T,trace:JSON.stringify(M)},{Rba:!0});J={wa:J(P),Ob:(0,z.Vva)(H)};try{U && (J.WY=U);}catch(W){}T=(0,y.Xj)(T);(0,B.Ja)(T) && (J.Ef=(0,r.vna)(T,4));R.call(this,O,J);};k.prototype.NVa=function(){this.Tq && this.Tq.t0b && this.Tq.w0b && (this.jb.trace("seekcomplete"),this.Tq=void 0,this.gl.Wc(D.hk.N_));};Va.Object.defineProperties(k.prototype,{vAa:{configurable:!0,enumerable:!0,get:function(){return m.config.Z9b;}}});b.DLa=k;c.prototype.trace=function(H,R){this.yea.push([H,R]);this.yea.length > this.jbc && this.yea.shift();};c.prototype.xE=function(){return this.yea;};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u){var v;v=this;this.j=u;this.aCa=this.Bab=0;this.ph=this.En=!1;this.kda=0;this.p$=new Set();this.Z_=!0;this.um=function(){var w,x;v.gda();v.iI && (v.log.info("Deactivating",v.iI),v.mC.lJb(v.Fe()));v.j.ej.set(null);v.TK.Bgb(void 0);v.dZa();w=v.j.kc.value;w && w.Br() && !w.bq() && (w=null);if(w && v.j.Db.value !== q.lb.ag){x=v.Fe();v.mC.eAb(x,w);}w?(v.log.info("Activating",w),v.j.Sn.set(w.getState() === k.KG.YC.oG?q.Mf.Ce:q.Mf.sd),v.En || v.j.He("tt_start"),w.v$().then(v.hN).catch(v.hN)):v.j.Sn.set(q.Mf.Ce);v.iI=w;v.uC();};this.sync=function(){v.En && (v.TK.start(),v.j.Db.value !== q.lb.Jc && v.TK.stop());};this.uC=function(){var w;v.Z_ && v.j.state.value === q.$b.Ce && v.j.Db.value !== q.lb.ag && (v.Th?w=v.TK.dPb():v.j.kc.value && (w=c.s$b[v.j.kc.value.getState()]));w && (0,p.pd)(w.startTime) && v.j.uw.value !== w && (v.Bab++,v.aCa+=v.TK.P4a() - w.startTime,v.EXa=Math.ceil(v.aCa / (v.Bab + 0)));v.j.uw.set(w);};this.Fe=function(){var w;w=v.j.Dsa();v.iI && v.iI.Dv && (w+=v.iI.Dv);return w;};this.z1b=function(w){v.p$.add(w);v.Z_ && (v.fireEvent(c.dhb,w),w && w.id && (v.mC.kkb(w.id),!1));v.log.trace("showsubtitle",v.H9(w));};this.u1b=function(w){v.p$.delete(w) && v.Z_ && (v.fireEvent(c.Peb,w),v.log.trace("removesubtitle",v.H9(w)));};this.RTb=function(){v.p$.forEach(function(w){v.fireEvent(c.Peb,w);v.log.trace("hide subtitle",v.H9(w));});};this.i7b=function(){v.p$.forEach(function(w){v.fireEvent(c.dhb,w);v.log.trace("resume subtitle",v.H9(w));});};this.Uj=function(){v.log.warn("imagesubs buffer underflow",v.j.kc.value.xh);v.j.Sn.set(q.Mf.sd);};this.R0b=function(){v.log.info("imagesubs buffering complete",v.j.kc.value.xh);v.j.Sn.set(q.Mf.Ce);};this.Iba=function(){v.En && v.Th && v.Th.Aw(v.Fe());};this.Hbb=function(w){v.En && v.Th && (v.Th.pause(),v.Th.yF(w.Bk));};this.gF=function(){v.En && v.Th && v.Th.Mdb();};this.Ebb=function(w){v.Th && v.Th.Yi(w.Ih,w.bQ);};this.Kbb=function(w){v.Th && v.Th.tj(w.Y,w.Gcc);};this.n1b=function(){v.En=!0;(0,n.fg)(function(){var w,x;(null === (w=v.iI) || void 0 === w?0:w.tl)?null === (x=v.Th) || void 0 === x?void 0:x.Aw(v.Fe()):v.sync();v.uC();});};this.k1b=function(){v.dZa();v.TK.stop();v.uC();v.ph=!0;v.gda();};this.Dxa=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (v.mC.kkb.apply(v.mC,ha(w.blocks.map(function(x){return x.id;}))),!1);};this.r1b=function(w){v.Acc(w.newValue,w.oldValue);v.sync();v.uC();};this.hN=function(w){var x;if(!v.ph){x=w.track;if(x === v.j.kc.value)try{v.Th=x.YBa;x.tl?v.cAb(w):v.dAb(w);}catch(y){v.log.error("Error activating track:",y,x);return;}v.En || v.j.He(w.ca?"tt_comp":"tt_err");w.ca?(d.config.Efb?setTimeout(function(){v.j.Sn.set(q.Mf.Ce);},d.config.Efb):v.j.Sn.set(q.Mf.Ce),x.tl || v.uC()):w.aborted?v.log.warn("aborted timed text track loading"):d.config.oNb?v.j.Sd(m.V.kqb,{Ob:w.track?w.track.xh:{}}):(v.log.error("ignore subtitle initialization error",w),v.j.Sn.set(q.Mf.Ce));}};this.Sb=new h.$k();this.mC=new l.hRa((0,f.Qi)(u,"SubtitleTracker"),d.config.lMb);this.log=(0,f.Qi)(u,"TimedTextManager");this.TK=new g.BRa(this.Fe,this.uC);this.j.kc.addListener(this.um);d.config.J3b?(this.j.addEventListener(q.ja.En,this.n1b),this.um()):(this.j.Sn.set(q.Mf.Ce),this.j.addEventListener(q.ja.En,function(){v.En=!0;v.um();}));this.j.Db.addListener(this.r1b);this.j.addEventListener(q.ja.lCa,this.sync);this.j.uw.addListener(this.Dxa);this.j.addEventListener(q.ja.ph,this.k1b);}Object.defineProperty(b,"__esModule",{value:!0});b.zRa=void 0;k=a(285);g=a(557);h=a(75);d=a(18);f=a(8);l=a(1319);m=a(3);n=a(59);p=a(15);q=a(17);r=a(1320);c.prototype.K9b=function(){this.Z_=!0;this.i7b();this.uC();};c.prototype.STb=function(){this.Z_=!1;this.RTb();this.uC();};c.prototype.addEventListener=function(u,v,w){this.Sb.addListener(u,v,w);};c.prototype.removeEventListener=function(u,v){this.Sb.removeListener(u,v);};c.prototype.fireEvent=function(u,v,w){this.Sb.Wc(u,v,w);};c.prototype.qma=function(u,v,w){var x,y;x=this;y=r.xRa.fIb(this.j,u,v,w);this.w7a(this.j.vi,y);this.j.fj.forEach(function(z){x.w7a(z.vi,y);});this.j.kc.set(y);this.j.fireEvent(q.ja.ww);};c.prototype.O3b=function(u){this.Mza(u)?u.v$().then(function(){}):Promise.resolve();};c.prototype.vSb=function(u){return this.mC.bSb(u);};c.prototype.Ysa=function(u){return this.mC.Ysa(u);};c.prototype.EX=function(){var u,v;u=this.j.C0;v=d.config.Uib.characterSize;v={size:d.config.qCa.characterSize || v};u && (v.visibility=u.fta(),v.xV=u.bta(),v.xt=u.cta());return v;};c.prototype.c9b=function(u){d.config.qCa.characterSize=u;u=this.j.kc.value;this.Mza(u) && !u.tl && u.v$().then(this.hN).catch(this.hN);};c.prototype.Acc=function(u,v){var w;u === q.lb.Jc || u == q.lb.Eh?v !== q.lb.Jc && v !== q.lb.Eh && ((v=this.j.kc.value) && !this.Mza(v) || this.mC.Iab(this.Fe(),v || void 0,"presentingstate:" + u)):u !== q.lb.ag && u !== q.lb.hs || this.mC.qqa(null !== (w=this.Fe()) && void 0 !== w?w:void 0,"presentingstate:" + u);};c.prototype.gda=function(){this.kda=0;clearTimeout(this.l7b);};c.prototype.dZa=function(){var u;this.Th && this.Th.stop();(null === (u=this.iI) || void 0 === u?0:u.tl) && this.O9a("removeListener");this.Th=void 0;};c.prototype.O9a=function(u){this.Th && (this.Th[u]("showsubtitle",this.z1b),this.Th[u]("removesubtitle",this.u1b),this.Th[u]("underflow",this.Uj),this.Th[u]("bufferingComplete",this.R0b),"addListener" === u?(this.j.addEventListener(q.ja.jr,this.Iba),this.j.addEventListener(q.ja.Pk,this.Hbb),this.j.addEventListener(q.ja.qK,this.gF),this.j.addEventListener(q.ja.xba,this.Ebb),this.j.addEventListener(q.ja.SCa,this.Kbb)):(this.j.removeEventListener(q.ja.jr,this.Iba),this.j.removeEventListener(q.ja.Pk,this.Hbb),this.j.removeEventListener(q.ja.qK,this.gF),this.j.removeEventListener(q.ja.xba,this.Ebb),this.j.removeEventListener(q.ja.SCa,this.Kbb)));};c.prototype.H9=function(u){return {currentPts:this.Fe(),displayTime:u.displayTime,duration:u.duration,id:u.id,originX:u.originX,originY:u.originY,sizeX:u.sizeX,sizeY:u.sizeY,rootContainerExtentX:u.rootContainerExtentX,rootContainerExtentY:u.rootContainerExtentY};};c.prototype.cAb=function(u){var v,w;v=this;w=u.track;if(!w || !w.tl)throw Error("Not an image base subtitle");u.ca?(this.gda(),this.O9a("addListener"),this.log.info("Activated",w),this.j.ej.set(w),this.En?(0,n.fg)(function(){v.Th.Aw(v.Fe());}):this.Th.pause()):this.ufb(w,u);};c.prototype.dAb=function(u){var v,w;v=u.track;w=u.ca;if(!v || v.tl)throw Error("Not a valid text track");w?(this.gda(),this.TK.Bgb(this.Th),this.log.info("Activated",v),this.j.ej.set(v)):this.ufb(v,(0,m.mz)(u));this.uC();};c.prototype.ufb=function(u,v){var w,x;w=this;x=this.kda < d.config.cZb;x && (this.l7b=setTimeout(function(){w.kda++;u.v$().then(w.hN).catch(w.hN);},d.config.Uac));this.log.error("Failed to activate" + ((null === u || void 0 === u?0:u.tl)?" img subtitle":""),{retry:x},v,u);};c.prototype.Mza=function(u){return !(!u || u.Br() && !u.bq());};c.prototype.w7a=function(u,v){var w;w=u.findIndex(function(x){return x.Zb >= v.Zb;});-1 === w && (w=0);u.splice(w,0,v);};b.zRa=c;t={};c.s$b=(t[k.KG.YC.LOADING]={FY:!0},t[k.KG.YC.RS]={kv:!0},t);c.dhb="showsubtitle";c.Peb="removesubtitle";},function(t,b,a){var g;function c(h,d,f){this.start=h;this.track=d;this.MK=Array.isArray(f)?f:[];}function k(h,d){this.log=h;this.vC=d;this.bza=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hRa=void 0;g=a(23);k.prototype.eAb=function(h,d){this.Iab(h,d,"activating");};k.prototype.lJb=function(h){this.qqa(h,"de-activating");};k.prototype.Iab=function(h,d,f){var l;this.ml && this.qqa(h,"close current for new");l=[];this.orphans.length && (l.push.apply(l,ha(this.orphans)),this.orphans=[]);this.ml=new c(h,d,l);this.vC && this.log.trace("new range: " + f,this.ml);};k.prototype.qqa=function(h,d){this.ml && (this.ml.end=h,this.bza.push(this.ml),this.vC && this.log.trace("end range: " + d,this.ml || ({})),this.ml=void 0);};k.prototype.kkb=function(h){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.ml?this.ml.MK.push.apply(this.ml.MK,ha(d)):this.orphans.push.apply(this.orphans,ha(d));};k.prototype.Ysa=function(h){var d,f;d=this.bza.slice(0);if(this.ml && "undefined" !== typeof h){f=new c(this.ml.start,this.ml.track,this.ml.MK);f.end=h;d.push(f);}h=d.reduce(function(l,m){var n,p,q,r;if(!m.track)return l;p=m.track.Yb;q=m.track.wv(m.start,m.end);if(void 0 === q || null === q)return l;r=new Set(m.MK);l[p]?(m=l[p],m.expected+=q,m.missed+=q - r.size):l[p]={dlid:p,bcp47:m.track.uf,profile:m.track.profile,expected:q,missed:q - r.size,startPts:null !== (n=m.track.nSb()) && void 0 !== n?n:0};return l;},{});h=Object.values(h);this.vC && this.log.trace("subtitleqoe:",JSON.stringify(h,null,"\t"));return h;};k.prototype.bSb=function(h){var d,f,l,m;d=this.bza.slice(0);f=0;l=0;if(this.ml && "undefined" != typeof h){m=new c(this.ml.start,this.ml.track,this.ml.MK);m.end=h;d.push(m);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,g.ib)(!1,"negative range");n.qq=0;return;}p=new Set(n.MK);q=n.track.wv(n.start,n.end);n.v8=q;n.qq=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.qq=100;p=n.end - n.start;f+=p;l+=n.qq * p;});m=f?Math.round(l / f):100;this.log.trace("qoe score " + m + ", at pts: " + h);this.vC && (h=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.qq),lang:n.track?n.track.uf:"none","actual  ":n.MK.join(" "),expected:n.v8};}),this.log.trace("score for each range: ",JSON.stringify(h,function(n,p){return p;}," ")));return m;};b.hRa=k;},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r,u,v,w,x){var y,z;q=f.KG.call(this,r,q,q,w,!0,{Rf:"",lF:"content"},"1",{0:u},[{id:0,name:"custom"}],"xx",v || q,l.Jq.ML,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=r;q.url=u;q.options=x;q.$t=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.xRa=void 0;t=a(64);k=a(18);g=a(65);h=a(8);d=a(43);f=a(285);l=a(131);m=a(104);n=a(194);p=a(17);(0,t.vOa)(t.Fia,function(q){var u;function r(v){var w;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.PC.Jtb){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var x,y,z;x=w.files[0];if(x){y=x.name;u.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.fp.qma("nourl",y,{content:z.result});});}});w.click();}}u=(0,h.Qi)(q,"TimedTextCustomTrack");k.config.tpa && (u.info("Loading url",{Url:k.config.tpa}),q.fp.qma(k.config.tpa,"custom"));g.kf.addListener(g.BE,r);q.addEventListener(p.ja.ph,function(){g.kf.removeListener(g.BE,r);});});ka(c,f.KG);c.fIb=function(q,r,u,v){var w;w="custom" + c.jVb++;return new c(w,q,r,u,-1,v);};c.prototype.Y0a=function(){var q;q=this;return new Promise(function(r,u){var v,w;if(null === (v=q.options) || void 0 === v?0:v.content)r(q.options.content);else if(q.url){w={responseType:m.Kta,url:q.url,track:q,wc:void 0,eE:"tt-" + q.uf,Rt:"unknown"};q.j.l$.download(w,function(x){x.ca?r(x.content):(x.reason="downloadfailed",x.url=w.url,x.track=q,u(x));});}});};b.xRa=c;c.jVb=0;},function(t,b,a){var k,g,h,d,f,l;function c(m){var n,p,q;n=this;this.j=m;this.U0b=function(){var r;h.kf.removeListener(h.R9,n.Jbb);r=n.yr.Go();r && r.parentNode && r.parentNode.removeChild(r);};this.Dxa=function(r){n.yr.D8b(r.newValue);};this.C1b=function(r){n.yr.K8b(r.newValue?r.newValue.S$:void 0);n.yr.gcc(n.k4a(r.newValue));};this.Jbb=function(){n.yr.IQ();};p=m.kc.value?m.kc.value.S$:void 0;q=this.k4a(m.kc.value);this.yr=new f.yRa(q,p);p=m.SF.value;(0,g.ib)(.1 < p.width / p.height);this.yr.s8b(p.width / p.height);m.Zo.appendChild(this.yr.Go());m.uw.addListener(this.Dxa);m.kc.addListener(this.C1b);m.addEventListener(l.ja.ph,this.U0b,k.KL);h.kf.addListener(h.R9,this.Jbb);}Object.defineProperty(b,"__esModule",{value:!0});b.ARa=void 0;k=a(16);g=a(23);h=a(65);d=a(18);f=a(562);l=a(17);c.prototype.cBa=function(m){this.yr.cBa(m);};c.prototype.fta=function(){return this.yr.fta();};c.prototype.aBa=function(m){this.yr.aBa(m);};c.prototype.bta=function(){return this.yr.bta();};c.prototype.bBa=function(m){this.yr.bBa(m);};c.prototype.cta=function(){return this.yr.cta();};c.prototype.k4a=function(m){var n;if(m && d.config.paa && 0 <= d.config.paa.indexOf(m.uf)){n=Object.assign({},d.config.sea);Object.entries(n).forEach(function(p){var q;q=na(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.sea;};b.ARa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Idb=void 0;b.Idb=function(a){var c,k;c=!1;k=!1;return function(){if(c)k=!0;else for(k=!0;k;){k=!1;c=!0;a();c=!1;}};};},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y){this.j=x;this.qm=y;this.oac=!1;this.log=(0,d.Qi)(this.j,"MediaAppendManager");this.Ub=this.j.Ub;this.$=this.Ub.$;this.e1=this.oV=!1;this.audio={type:h.cj.audio,Ix:[],em:[],nQ:!1};this.video={type:h.cj.video,Ix:[],em:[],nQ:!1};x={};this.YK=(x[k.Nb.al.Jb]=this.video,x[k.Nb.al.cc]=this.audio,x);this.closed=!1;this.vB=g.config.vB;this.eba=g.config.eba;this.hF=this.j.Oc?g.config.Vba:this.j.gb.Ph?g.config.Hxa:g.config.hF;this.FXa=!0;this.pc=d.ya.get("Base64EncoderSymbol");this.jra=!1;this.$xa=[];(0,l.ib)(this.vB > this.eba,"bad config");(0,l.ib)(this.vB > this.hF,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;k=a(31);g=a(18);h=a(89);d=a(8);f=a(3);l=a(23);m=a(25);n=a(16);p=a(17);q=a(171);r=a(5);u=a(61);v=a(42);w=a(1324);c.prototype.e9=function(){var z,A;function x(B,C){return y(B,C.Vaa);}function y(B,C){var D,F,G,E;G=! !C.response;E=C.response;if(C.Bc)return B + (E.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.DN) && void 0 !== D?D:0) - (null !== (F=null === C || void 0 === C?void 0:C.FN) && void 0 !== F?F:0);return (G?E.byteLength:C) + B;}z=this.YK[k.Nb.al.Jb];A=this.YK[k.Nb.al.cc];return {videoToAppend:z.em.reduce(y,0),videoInBuffer:z.Ix.reduce(x,0),audioToAppend:A.em.reduce(y,0),audioInBuffer:A.Ix.reduce(x,0)};};c.prototype.j0b=function(){this.audio.rj && !this.audio.rj.ei() && (!1,this.audio.rj.WWa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.V8b=function(){this.audio.hBa=!0;this.video.hBa=!0;};c.prototype.a9b=function(x){x === k.Nb.al.cc?this.oV=!0:x === k.Nb.al.Jb && (this.e1=!0);};c.prototype.ei=function(){var x,y;return !(null === (x=this.audio.rj) || void 0 === x || !x.ei()) || !(null === (y=this.video.rj) || void 0 === y || !y.ei());};c.prototype.Ida=function(x){var y,z;null === (y=this.audio.rj) || void 0 === y?void 0:y.Ida(x);null === (z=this.video.rj) || void 0 === z?void 0:z.Ida(x);};c.prototype.DBb=function(x){var y;x.mediaType === k.Nb.al.cc?this.oV=!1:x.mediaType === k.Nb.al.Jb && (this.e1=!1);y=this.YK[x.mediaType];y?y.em.push(x):(0,l.ib)(!1);};c.prototype.CBb=function(x,y,z){var A;A=this;y=this.iYa(x.mediaType,y,z);if(!this.jra)if(x.mediaType === k.Nb.$a.Jb)(this.f4b(x),this.jra=!0,this.$xa.forEach(function(B){return A.Tma(B);}),this.$xa=[]);else {this.$xa.push(y);return;}this.Tma(y);};c.prototype.Tma=function(x){var y;y=this.YK[x.mediaType];y?y.em.push(x):(0,l.ib)(!1);};c.prototype.iYa=function(x,y,z){return {mediaType:x,LE:!1,response:y,Ri:function(){return "header";},get Bc() {return !this.LE;},profile:z.profile};};c.prototype.f4b=function(x){(0,l.ib)(! !x.Ahb,"startOfSegment properties need to be set before first header is appended");this.jra || !g.config.pOb || !this.j.X9() && !this.j.$5a() || x.Ahb.M7a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.pc.decode(n.HEa),this.Tma(this.iYa(k.Nb.al.Jb,x,{profile:v.H.fG})));};c.prototype.Z8b=function(x){var y;y=this.YK[x.type];if(y)try{y.rj=x;}catch(z){this.Sd(f.V.lia,{wa:(0,q.p9)(x.type),Ob:(0,m.We)(z)});}};c.prototype.close=function(){this.$=this.Ub=void 0;this.closed=!0;};c.prototype.Sd=function(x,y,z){this.closed || this.j.Sd(x,y,z);};c.prototype.Bpa=function(x){return this.P0a(this.audio,x,this.F7()) && this.P0a(this.video,x,this.F7());};c.prototype.F7=function(){return this.j.Db.value === p.lb.ag?this.hF:this.eba;};c.prototype.Zac=function(){var x,y;x=this.video.em.filter(function(z){return !z.Bc;}).reduce(function(z,A){return z + A.en;},0);y=this.audio.em.filter(function(z){return !z.Bc;}).reduce(function(z,A){return z + A.en;},0);return Math.min(x,y);};c.prototype.P0a=function(x,y,z){var A;A=x.Cpa;A=A && A.Vaa;return !x.rj || 0 === x.em.length && (x.type === h.cj.audio && this.oV || x.type === h.cj.video && this.e1)?!0:A && A.Ay - y >= z || !1;};c.prototype.wjb=function(x){this.oac || (this.vjb(this.audio,x),this.vjb(this.video,x));this.closed || this.OYa();};c.prototype.OYa=function(){var x,y,z,A,B,C;A=!this.audio.rj || 0 !== this.audio.Ix.length;B=0 === this.video.em.length && this.e1;C=!this.video.rj || 0 !== this.video.Ix.length;!(0 === this.audio.em.length && this.oV && C || B && A) || (null === (x=this.audio.rj) || void 0 === x?0:x.ei()) || (null === (y=this.video.rj) || void 0 === y?0:y.ei()) || this.pqa || !(this.$.readyState > u.lp.c3.HAVE_NOTHING) || this.qm.U$ || (this.pqa=!0,null === (z=this.Ub) || void 0 === z?void 0:z.endOfStream());};c.prototype.vjb=function(x,y){var z,A,B,C;if(!this.closed && x.rj){A=x.rj;B=x.Ix;!A.ei() && 0 < B.length && (x.Cpa=B[B.length - 1]);if(x.hBa){if(A.ei())return;x.hBa=!1;C=null === (z=this.Ub) || void 0 === z?void 0:z.O4a().kdb(r.rp);C && 0 < C && A.remove(0,C);}for(z=x.em[0];z && z.response && (z.Bc || z.UB - y <= this.vB);){if((this.pqa=!1,this.Jbc(z)))(x.em.shift(),z=x.em[0]);else break;}!A.ei() && 0 < B.length && (x.Cpa=B[B.length - 1]);}};c.prototype.Jbc=function(x){var y,z,A;!1;(0,l.ib)(x && ! !x.response);y=x.response;z=x.mediaType;A=this.YK[z];if(!this.closed && A.rj && !A.rj.ei()){try{x.Bc && x.profile && A.rj.zEb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});A.rj.WWa(y,x);x.Bc || A.Ix.push(this.hIb(x));}catch(B){"QuotaExceededError" === B.name?(this.j.H7=this.j.H7?this.j.H7 + 1:1,this.FXa=!1,A.nQ=!0):(this.log.error("Exception while appending media",x,B),this.Sd("CodecSwitchingError" === B.name?f.V.cNa:f.V.usb,(0,q.p9)(z)));return;}return !0;}};c.prototype.ZHb=function(x){var y;if(w.qja[x.Qa])return w.qja[x.Qa];y=this.j.d6a(x.ye);y || (this.log.warn("Could not find CDN",{cdnId:x.ye}),y={id:x.ye,q9a:x.location});return y;};c.prototype.B_a=function(x){var y,z;y=x.Qa;if(w.rja[y])return w.rja[y];x.mediaType === k.Nb.al.cc?z=this.j.a6a(y):x.mediaType === k.Nb.al.Jb && (z=this.j.p6a(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.hIb=function(x){var y;y=this.B_a(x);return {Vaa:x,stream:y,Um:{startTime:Math.floor(x.UB),endTime:Math.floor(x.Ay)},wc:this.ZHb(x)};};c.prototype.loa=function(x){this.SYa(x,k.Nb.al.cc);this.SYa(x,k.Nb.al.Jb);};c.prototype.SYa=function(x,y){var z,A,B,C,D,F,G,E,I;z=this;A=x;this.FXa && (A-=g.config.F_);B=this.YK[y];C=B.Ix;G=!1;C.some(function(L,K){var H;H=L.Vaa;if(x < H.UB)return ((0,l.ib)(!1,"decoder content does not contain media time"),!0);A >= H.Ay && (D=K);if(x < H.Ay)return (F=K,K=y === k.Nb.al.cc?z.j.Hf:z.j.we,L !== K.value && (K.set(L),G=!0),!0);});if((B.nQ || G) && void 0 !== D && !this.pqa){if(D + 1 === F){if(0 === D)return;D--;}E=C[D].Vaa.Ay - 1;if(0 < E){I=B.rj;I && !I.ei()?(I.remove(0,E / n.ju),B.nQ=!1,C.splice(0,D + 1)):(B.nQ=!0,!1);}}};c.prototype.jfb=function(){!1;[this.audio,this.video].forEach(function(x){x.Ix=[];x.Cpa=void 0;x.em=[];});this.e1=this.oV=!1;this.j.fireEvent(p.ja.Qaa);};c.prototype.ita=function(){return [this.audio,this.video].filter(function(x){return x.rj;});};c.prototype.BPb=function(){var x,y;if(this.ei())(0,l.ib)(!1,"should not be busy while checking buffer ranges");else {x=this.ita().map(function(z){var A,B,C,D,F;D=z.em.filter(function(G){return G.LE;});F=z.rj.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.UB;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.Ay) && void 0 !== C?C:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ha(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ha(x.map(function(z){return z.end;})));if(x > y)return {start:(0,r.tc)(y),end:(0,r.tc)(x)};}}};c.prototype.skip=function(x){(0,l.ib)(!this.ei(),"should not be busy while skipping");this.ita().forEach(function(y){y.nQ=!0;});this.loa(x);this.ita().forEach(function(y){0 < y.Ix.length || (y.em=y.em.filter(function(z){return z.Bc || z.Ay > x?!0:!1;}));});};b.uLa=c;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.rja=b.qja=void 0;t=a(39);a={};b.qja=(a[t.qs]={id:-1,name:"hardcoded",Zb:1,type:"hardcoded",q9a:"-1",UVb:!1,location:{id:"-1",Zb:1,level:100,weight:1}},a);a={};b.rja=(a[t.qs]={track:{type:"padding",trackId:"padding",wi:"padding",Rf:"padding",lF:"other",uf:"padding",uF:"padding",$x:"padding",xh:{}},type:"padding",Yb:"-1",bitrate:1,cb:100,Te:"unknown",size:1,cv:{},xh:{},Yl:"",framerate:0,Lj:!1,sj:[],height:1,width:1},a);},function(t,b){function a(k,g,h){var d,f,l,m;d=[];k.forEach(function(n){-1 == d.indexOf(n.Te) && d.push(n.Te);});f=null;l=null;g.forEach(function(n){null === f?l=f=n.bitrate:l < n.bitrate?l=n.bitrate:f > n.bitrate && (f=n.bitrate);});m=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && l && (p.ranges.push({min:f,max:l}),h && (p.disallowed=h.filter(function(q){return q.stream.Te === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.X7};})),m.push(p));});return m;}function c(k,g){var h;h=void 0;return {qE:k.filter(function(d){var f;f=g(d);f && (h=h || [],h.push({stream:d,X7:f}));return !f;}),MKb:h};}Object.defineProperty(b,"__esModule",{value:!0});b.LKb=b.Wu=b.UIb=b.O5a=void 0;b.O5a=function(k,g){g=c(k,g);return a(k,g.qE,g.MKb);};b.UIb=a;b.Wu=c;b.LKb=function(k){if(k.Lj && k.lower && 1080 < k.height)return ["Prefetch UHD"];};},function(t,b,a){var k,g;function c(h,d){h=k.Xb.call(this,h) || this;h.owa=d;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.EOa=void 0;k=a(69);g=a(91);ka(c,k.Xb);c.prototype.set=function(h){k.Xb.prototype.set.call(this,(0,g.VC)(h,0,this.owa));};b.EOa=c;},function(t,b,a){var g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y){var z;z=this;this.Ui=r;this.config=v;this.Bb=w;this.debug=x;this.RH={};this.R0a=!1;this.uV={};this.sua=0;this.o9=function(A){var B,C,D;B=A.stream;if(B){A=B.Yb;C=B.bitrate;D=B.cb;}else A=A.track.Yb;return {key:A + "$" + C + "$" + D,Yb:A,bitrate:C,cb:D};};this.Z3a=function(A){var B,C,D;C=z.o9(A);D=null === (B=A.wc) || void 0 === B?void 0:B.id;A=A.track.Rf;return Object.assign({},C,{key:C.key + "$" + D + "$" + A,Cx:D,Rf:A});};this.zPb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Yb;B=null === B || void 0 === B?void 0:B.bitrate;return {key:A + "$" + B,Yb:null !== A && void 0 !== A?A:"",RP:B};};this.TSb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Yb;B=null === B || void 0 === B?void 0:B.cb;return {key:A + "$" + B,Yb:null !== A && void 0 !== A?A:"",RP:B};};this.log=u.mb("PlayTimeTracker");this.qca=y(r);this.uy=y(r);this.nya=y(r);this.startTime=this.Ui.mediaTime.value;this.vaa=this.config().Yzb;this.fL();this.RH.abrdel=0;this.vaa.forEach(function(A){A="abrdel" + A;z.uV[A]=0;z.RH[A]=0;});}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.qOa=void 0;t=a(0);g=a(1);h=a(6);d=a(12);f=a(78);a(5);l=a(27);m=a(109);n=a(16);p=a(25);a=a(569);k.prototype.encode=function(r){return {downloadableId:r.Yb,correlationId:r.Rf,bitrate:r.bitrate,vmaf:r.cb,duration:r.duration,metric:r.RP,cdnId:r.Cx};};k.prototype.decode=function(r){return {Yb:r.downloadableId,Rf:r.correlationId,bitrate:r.bitrate,cb:r.vmaf,duration:r.duration,RP:r.metric,Cx:r.cdnId};};c.prototype.Zs=function(r){r=void 0 === r?"content":r;this.DK(this.Ui.mediaTime.value);return Math.floor(this.uy.Zs(r));};c.prototype.FX=function(r){r=void 0 === r?"content":r;this.DK(this.Ui.mediaTime.value);r=this.uy.FX(r);this.debug.assert(r === Math.floor(r),"Value of totalContentPlayTime is not an integer.");return Math.floor(r);};c.prototype.pPb=function(){this.DK(this.Ui.mediaTime.value);return {audio:this.kX(this.qca,this.Z3a),video:this.kX(this.uy,this.Z3a)};};c.prototype.CRb=function(){var r,u,v;r=this.Zs("content");u=this.Zs("ads");v=this.Zs("other");r={total:r,totalAdDuration:u,totalOtherDuration:v,totalCombinedDuration:r + u + v,totalContentTime:this.FX("content"),audio:this.kX(this.qca,this.o9),video:this.kX(this.uy,this.o9),timedtext:this.kX(this.nya,this.o9)};this.debug.assert(!(!r.audio || !r.video));return r;};c.prototype.Kra=function(){var r,u;this.DK(this.Ui.mediaTime.value);r=this.uy.Fra(this.zPb);try{u=this.x3a(r);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.RH.abrdel=Math.round(u);return this.RH.abrdel;};c.prototype.y3a=function(){var r,u;this.DK(this.Ui.mediaTime.value);r=this.uy.Fra(this.TSb);try{u=this.x3a(r);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};c.prototype.w3a=function(){var r,u;r=this;if(!this.R0a){u=this.Zs();this.vaa.forEach(function(v){var w,x,y;if(0 === r.uV["abrdel" + v] && u > v * n.ju){w=0;x=0;y=0;r.uy.some(function(z){w+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;y=z.stream.bitrate;return x > v * n.ju;});w && (r.uV["abrdel" + v]=Math.round((w - y * (x - v * n.ju)) / (v * n.ju)));}});0 !== this.uV["abrdel" + this.vaa[this.vaa.length - 1]] && (this.R0a=!0);(0,p.Wg)(this.uV,function(v,w){r.RH[v]=0 === w?r.RH.abrdel:w;});}return this.RH;};c.prototype.BAb=function(r){this.sua+=r;};c.prototype.e$=function(){return this.uy.e$();};c.prototype.fL=function(){var r;r=this;this.Ui.Hf.addListener(function(u){r.WN=r.JYa(r.WN,r.qca,u.newValue);});this.Ui.we.addListener(function(u){r.YN=r.JYa(r.YN,r.uy,u.newValue);});this.Ui.playbackRate.addListener(function(u){r.DK(r.Ui.mediaTime.value,u.oldValue);});this.Ui.ej.addListener(this.I0b.bind(this));};c.prototype.jxa=function(r,u){this.DK(r);this.startTime=u;this.YN=this.WN=void 0;this.XN && (this.XN.startTime=this.startTime);!1;};c.prototype.I0b=function(r){this.nya.dg(this.XN,this.Ui.mediaTime.value);this.XN=(r=r.newValue)?{track:r,startTime:this.Ui.mediaTime.value,endTime:f.Nw}:void 0;};c.prototype.DK=function(r,u){u=void 0 === u?this.Ui.playbackRate.value:u;r && this.WN && this.YN && (r=Math.min(r,this.WN.endTime,this.YN.endTime),this.qca.dg(this.WN,r,u),this.WN.startTime=r,this.uy.dg(this.YN,r,u),this.YN.startTime=r,this.XN && (this.nya.dg(this.XN,r,u),this.XN.startTime=r),this.startTime=r,!1);};c.prototype.JYa=function(r,u,v){r && u.dg(r,Math.min(r.endTime,this.Ui.mediaTime.value));if(v && v.stream)return (r=v.Um,u=v.stream,{wc:v.wc,track:u.track,stream:u,startTime:Math.max(r.startTime,this.startTime),endTime:r.endTime});};c.prototype.kX=function(r,u){return r.Fra(u,"content").map(function(v){return new k().encode(v);});};c.prototype.x3a=function(r){var u,v,w;u=this;v=0;r.forEach(function(x){if(u.Bb.Vg(x.duration) && u.Bb.Vg(x.RP))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;w=0;r.forEach(function(x){w+=x.RP * x.duration / v;});return w;};q=c;q=t.__decorate([(0,g.X)(),t.__param(1,(0,g.l)(h.sb)),t.__param(2,(0,g.l)(d.Ic)),t.__param(3,(0,g.l)(l.Kg)),t.__param(4,(0,g.l)(m.fz)),t.__param(5,(0,g.l)(a.Mia))],q);b.qOa=q;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pOa="PlayTimeTrackerFactorySymbol";},function(t,b,a){var k,g,h,d;function c(f,l,m,n,p,q,r,u,v,w,x,y){this.index=f;this.I=l;this.Y=m;this.gb=n;this.ga=p;this.oj=q;this.Iva=r;this.hGb=v;this.$$a=x;this.Ki=y;this.yc=new k.Xb(null);this.Jg=new k.Xb(null);this.kc=new k.Xb(null);this.ej=new k.Xb(null);this.uw=new k.Xb(void 0);this.nf=new k.Xb(null);this.Gh=new k.Xb(null);this.Hf=new k.Xb(null);this.we=new k.Xb(null);this.wc=[new k.Xb(null),new k.Xb(null)];this.mediaTime=new k.Xb(void 0);this.playbackRate=new k.Xb(1);this.cr=new k.Xb(null);this.WH=this.VH="notcached";this.V7=this.background=!1;u && (this.nf.set(u.nf.value),this.Gh.set(u.Gh.value));this.im=w(this);this.Dn=this.$$a.S5b(this.ga,this.oj);}Object.defineProperty(b,"__esModule",{value:!0});b.FOa=void 0;k=a(69);g=a(5);h=a(23);d=a(18);c.prototype.He=function(f){this.Dn.Xq(f);};c.prototype.gB=function(f){var l;l=this;Object.entries(f).forEach(function(m){var n;n=na(m);m=n.next().value;n=n.next().value;l.Dn.Xq(m,(0,g.tc)(n - l.oj.da(g.ma)));});};c.prototype.Dba=function(){this.$$a.k6b(this.ga);};Va.Object.defineProperties(c.prototype,{Ed:{configurable:!0,enumerable:!0,get:function(){return this.gb.Ed;}},Uea:{configurable:!0,enumerable:!0,get:function(){return this.gb.Uea;}},Yl:{configurable:!0,enumerable:!0,get:function(){return this.Pc && this.Pc.Yl;}},fj:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.fj) && void 0 !== f?f:[];}},xC:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.xC) && void 0 !== f?f:[];}},rC:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.rC) && void 0 !== f?f:[];}},vi:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.vi) && void 0 !== f?f:[];}},li:{configurable:!0,enumerable:!0,get:function(){return this.Pc && this.Pc.li;}},iJ:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.iJ) && void 0 !== f?f:!1;}},iw:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.iw) && void 0 !== f?f:[];}},Ag:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.Ag) && void 0 !== f?f:[];}},Oc:{configurable:!0,enumerable:!0,get:function(){var f,l;if(this.ea){f=this.ea.ab;l=f.Whb;f=f.CP;(0,h.ib)("LIVE" === l && ! !f || "VOD" === l && !f,"streamingType and liveMetadata mismatch - streamingType:" + l + ", liveMetadata:" + f);l="LIVE" === l && ! !f;(0,h.ib)("live" === this.Ed && l || "live" !== this.Ed && !l,"uiLabel and isLiveManifest mismatch - uiLabel:" + this.Ed + ", isLiveManifest:" + l);return l;}return "live" === this.Ed;}},Uu:{configurable:!0,enumerable:!0,get:function(){var f,l,m,n;if(this.Oc){(0,h.ib)(void 0 === this.rM || Infinity === this.rM.da(g.ma),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Oc + ", contentDuration:" + (null === (f=this.rM) || void 0 === f?void 0:f.display));if(!this.ea)return (0,g.tc)(0);f=this.ea.ab.CP.Sfb[this.ea.ab.CP.Z0a[this.ea.ab.Bw[0].streams[0].Ao]];f=Date.now() - new Date(f.P6).getTime();n=Math.max(d.config.Vba,null !== (l=(0,d.KZa)("live").Nv) && void 0 !== l?l:d.config.Nv);return (0,g.tc)(Math.max(0,f - n));}return this.rM && 0 < this.rM.da(g.ma)?this.rM:(0,g.tc)(null !== (m=null === (n=this.ea) || void 0 === n?void 0:n.ab.duration) && void 0 !== m?m:0);},set:function(f){this.rM=f;}},A$a:{configurable:!0,enumerable:!0,get:function(){var f;return this.Oc?((0,h.ib)(void 0 === this.r5 || Infinity === this.r5.da(g.ma),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Oc + ", maxSeekPts:" + (null === (f=this.r5) || void 0 === f?void 0:f.display)),this.Uu):this.r5;},set:function(f){this.r5=f;}},Xk:{configurable:!0,enumerable:!0,get:function(){return this.gb.Xk || 0;}},B7:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.TV?this.TV:void 0 === this.mediaTime.value?null:this.hGb(this.mediaTime.value,this.Y);}},Rf:{configurable:!0,enumerable:!0,get:function(){var f,l;return null === (l=null === (f=this.ea) || void 0 === f?void 0:f.ab.JN) || void 0 === l?void 0:l.Xo;}},wK:{configurable:!0,enumerable:!0,get:function(){var f,l;return null === (l=null === (f=this.ea) || void 0 === f?void 0:f.ab.JN) || void 0 === l?void 0:l.wK;}},qd:{configurable:!0,enumerable:!0,get:function(){return this.Dn.qd;}}});b.FOa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PRa="TrickPlayParserSymbol";},function(t,b,a){var k,g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ORa=void 0;t=a(0);g=a(167);a=a(1);c.prototype.parse=function(d){var f,l;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);l=new g.zS(f);d=this.q2b(l);f=this.r2b(l,f,d);return {header:d,images:f};};c.prototype.q2b=function(d){var f,l,m,n;if(d.Jsa() < this.R6b())throw Error("array buffer too short");k.VKa.forEach(function(p){if(p != d.WB())throw Error("BIF has invalid magic.");});f=d.CQ();if(f > k.VERSION)throw Error("BIF version in unsupported");l=d.CQ();if(0 == l)throw Error("BIF has no frames.");m=d.CQ();n=d.Ok(k.GPa);return {version:f,q0b:l,Wib:m,V6b:n};};c.prototype.r2b=function(d,f,l){var p,q;for(var m=[],n=0;n <= l.q0b;n++){p={timestamp:d.CQ(),offset:d.CQ()};void 0 != q && m.push(f.subarray(q.offset,p.offset));q=p;}return m;};c.prototype.R6b=function(){return k.VKa.length + 4 + 4 + 4 + k.GPa;};h=k=c;h.VKa=[137,66,73,70,13,10,26,10];h.VERSION=0;h.GPa=44;h=k=t.__decorate([(0,a.X)()],h);b.ORa=h;},function(t,b,a){var k,g,h,d;function c(f,l,m){this.config=f;this.j=l;this.pg=m;this.NZ=void 0;this.fca=!1;this.kva=0;this.log=this.pg.mb();}Object.defineProperty(b,"__esModule",{value:!0});b.tQa=void 0;k=a(17);g=a(5);h=a(91);d=a(15);c.prototype.lRb=function(f,l,m,n,p){var q,r,u,v;m=void 0 === m?this.j.Y:m;n=void 0 === n?!1:n;q=l === k.ff.SL;r=this.ZDb(q?f:this.gFb(f,m),n,m);n=this.j.Ga;q?(f=r,r=n.Vu(r)):f=n.RN(m,r);l === k.ff.oz && (this.j.TXa=r);p=this.Tg(f,l,p);u=(q=q || p)?f:r;if(this.j.Bt){v=this.j.Oc?this.config().Vba:this.j.gb.Ph?this.config().Hxa:this.config().hF;this.j.f6a(u,v) || l !== k.ff.HG || (u=this.j.Bt.da(g.ma) - v - 1E3,q?(f=u,r=n.Vu(u)):(f=n.RN(m,u),r=u));}return {wba:u,Bk:r,q3b:f,Tg:p};};c.prototype.ZDb=function(f,l,m){this.dWb() || l?f=Math.round(f):(l=this.j.Ga.$na(f,m),f=(0,d.Ja)(l)?l:Math.round(f));this.j.gb.Ph && (f=this.uOb(f));this.config().uAa && (f+=this.config().uAa);return f;};c.prototype.Tg=function(f,l,m){if(this.config().KKb || l === k.ff.oz || l === k.ff.f4 || l === k.ff.k2 || !m || f < m.start.da(g.ma) || f >= m.end.da(g.ma))return !1;l=this.j.Ga;return (null === l || void 0 === l?void 0:l.Ei) && l.Tg(f) || !1;};c.prototype.dWb=function(){return this.j.gb.Ph?!0:"boolean" === typeof this.j.gb.VZ?this.j.gb.VZ:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().VZ && this.config().L3b:this.config().VZ;};c.prototype.gFb=function(f,l){var m;l=this.j.Hk(l);m=l.Uu;l=Math.max(0,(l.A$a || m).da(g.ma) - this.config().$dc);return (0,h.VC)(f,0,l);};c.prototype.uOb=function(f){var l,m,n;l=this.j.cX();if(Object.values(l).find(function(p){var q;q=p.sa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.qa <= f && q;}))return (!1,f);n=f;Object.entries(l).forEach(function(p){var q;p=na(p);p.next();p=p.next().value.qa;q=p - f;0 < q && (void 0 === m || q < m) && (m=q,n=p);});!1;return n;};Va.Object.defineProperties(c.prototype,{U$:{configurable:!0,enumerable:!0,get:function(){return this.fca || ! !this.NZ;}}});b.tQa=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w;function c(x,y,z,A,B,C){var D;D=this;this.j=x;this.Ck=y;this.T0=z;this.yi=A;this.c0=B;this.zo=C;this.S_a={};this.update=function(){var F;if(D.vq.selectionStart == D.vq.selectionEnd){F="";D.mX().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(E){var I;I=na(E);E=I.next().value;I=I.next().value;F+=E + ": " + I + "\n";});});D.vq.style.fontSize=(0,d.VC)((0,l.EL)(D.element.clientHeight / 60),8,18) + "px";D.vq.value=F;}};this.Z0b=function(){var F,G;if(D.j.Uf){G=D.j.Uf.II();G && (D.qpa=G - (null !== (F=D.djb) && void 0 !== F?F:0),D.djb=G,D.hQ());}};this.hQ=function(){D.T0.pm(D.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.PC.Gnb || F.keyCode == p.PC.Q) && D.toggle();};this.Ncb=[x.mediaTime,x.wc[k.Nb.$a.cc],x.wc[k.Nb.$a.Jb],x.Hf,x.we,x.Gh,x.nf,x.ej,x.state,x.Ls,x.Db,x.volume,x.muted];this.element=this.yi.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.vq=this.yi.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.vq);this.controls=this.yi.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.yi.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.Wx();},!1);this.controls.appendChild(y);h.kf.addListener(h.BE,this.onkeydown);x.addEventListener(n.ja.ph,function(){h.kf.removeListener(h.BE,D.onkeydown);D.Wx();});}Object.defineProperty(b,"__esModule",{value:!0});b.BOa=void 0;k=a(31);g=a(64);h=a(65);d=a(91);f=a(303);l=a(13);m=a(15);n=a(17);p=a(194);q=a(5);t={};r=(t[n.$b.IL]="Not Loaded",t[n.$b.LOADING]="Loading",t[n.$b.Ce]="Normal",t[n.$b.CLOSING]="Closing",t[n.$b.CLOSED]="Closed",t);t={};u=(t[n.Mf.Ce]="Normal",t[n.Mf.sd]="Pre-buffering",t[n.Mf.hQa]="Network stalled",t);t={};v=(t[n.lb.ag]="Waiting for decoder",t[n.lb.Jc]="Playing",t[n.lb.Eh]="Paused",t[n.lb.hs]="Media ended",t);w=[n.ja.Qaa];c.prototype.A8b=function(x){this.S_a.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.cY=mb.setInterval(this.Z0b,1E3),document.body.appendChild(this.element),this.Ncb.forEach(function(y){y.addListener(x.hQ);}),w.forEach(function(y){x.j.addEventListener(y,x.hQ);}),this.visible=!0,this.zo.q0().then(function(y){x.wta=y;x.hQ();}));this.update();};c.prototype.Wx=function(){var x;x=this;this.visible && (clearInterval(this.cY),this.djb=this.qpa=void 0,document.body.removeChild(this.element),this.Ncb.forEach(function(y){y.removeListener(x.hQ);}),w.forEach(function(y){x.j.removeEventListener(y,x.hQ);}),this.T0.pm(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Wx():this.show();};c.prototype.mX=function(){var x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca,N,Q,V,ca,sa,Ha,Ja,Na,Oa,Ua,$a,sb,kb,Bb,Pa,Xa,eb,lb,ub,Cb;J=[];M=this.Ck();J.push({Version:"6.0037.192.911",Esn:M?M.ql:"UNKNOWN",PBCID:this.j.Rf,UserAgent:l.xG});try{P={MovieId:this.j.I,PackageId:null === (y=null === (x=this.j.ea) || void 0 === x?void 0:x.ab) || void 0 === y?void 0:y.Wo,Xid:this.j.ga + " (" + g.qp.map(function(Ib){return Ib.ga;}).join(", ") + ")",Position:(0,d.wj)(this.j.mediaTime.value),Duration:(0,d.wj)(this.j.Uu.da(q.ma)),PlayerDuration:(0,d.wj)(this.j.Bt.da(q.ma)),Volume:(0,l.op)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.gb.Ph || this.j.gb.V$)P["Segment Position"]=(0,d.wj)(this.j.vE());null === (z=this.j.sv()) || void 0 === z || z.getLogInfo();P.Segment=this.j.Esa();J.push(P);}catch(Ib){}try{J.push({"Player state":r[this.j.state.value],"Buffering state":u[this.j.Ls.value],"Rendering state":v[this.j.Db.value]});}catch(Ib){}try{S=this.j.jDa() + this.j.ena();U=this.j.Hf.value;T=null === U || void 0 === U?void 0:U.stream;W=this.j.we.value;ia=null === W || void 0 === W?void 0:W.stream;pa=null !== (A=null === T || void 0 === T?void 0:T.bitrate) && void 0 !== A?A:"?";wa=ia?ia.bitrate + " (" + ia.width + "x" + ia.height + ")":"?";za=null !== (B=null === ia || void 0 === ia?void 0:ia.cb) && void 0 !== B?B:"?";Ca=null !== (D=null === (C=this.j.nf.value) || void 0 === C?void 0:C.cb) && void 0 !== D?D:"?";N=null !== (G=null === (F=this.j.Gh.value) || void 0 === F?void 0:F.bitrate) && void 0 !== G?G:"?";Q=null !== (I=null === (E=this.j.nf.value) || void 0 === E?void 0:E.bitrate) && void 0 !== I?I:"?";V=this.j.wc[k.Nb.$a.Jb].value;ca=this.j.wc[k.Nb.$a.cc].value;J.push({"Playing bitrate (a/v)":pa + " / " + wa,"Playing/Buffering vmaf":za + "/" + Ca,"Buffering bitrate (a/v)":N + " / " + Q,"Buffer size in Bytes (a/v)":this.j.ena() + " / " + this.j.jDa(),"Buffer size in Bytes":"" + S,"Buffer size in Seconds (a/v)":(0,d.wj)(this.j.hV()) + " / " + (0,d.wj)(this.j.Z0()),"Current CDN (a/v)":(ca?ca.name + ", Id: " + ca.id:"?") + " / " + (V?V.name + ", Id: " + V.id:"?")});}catch(Ib){}try{sa=this.j.Hf.value;Ha=this.j.we.value;if(sa && sa.stream && Ha && Ha.stream){Ja=sa.stream;Na=Ja.track;Oa=Ha.stream;Ua=this.j.ej.value;$a=this.c0.A7(this.j.Jg.value?this.j.Jg.value.streams:[]);sb=this.c0.u7(Na.streams);kb=Oa.Te;Bb=(/hevc/).test(kb)?"hevc":(/vp9/).test(kb)?"vp9":(/h264hpl/).test(kb)?"avchigh":(/av1/).test(kb)?"av1":"avc";(/hdr/).test(kb) && (Bb+=", hdr");(/dv/).test(kb) && (Bb+=", dv");(/prk/).test(kb) && (Bb+=", prk");Pa=Ja.Te;Xa=(/xheaac/).test(Pa)?"xhe-aac":(/heaac/).test(Pa)?"he-aac":(/ddplus/).test(Pa)?"ddplus":"unknown";(/atmos/).test(Pa) && (Xa+=", atmos");J.push({"Audio Track":Na.uf + ", Id: " + Na.trackId + ", Channels: " + Na.channels + ", Codec: " + sb + " (" + Xa + ")","Video Track":"Codec: " + $a + " (" + Bb + ")","Timed Text Track":Ua?Ua.uf + ", Profile: " + Ua.profile + ", Id: " + Ua.trackId:"none","Audio Tags":null === (L=sa.stream) || void 0 === L?void 0:L.sj.toString(),"Video Tags":null === (K=Ha.stream) || void 0 === K?void 0:K.sj.toString()});}}catch(Ib){}try{eb=this.j.Uf;lb=this.j.nf.value?this.j.nf.value.framerate:0;ub=a(570).K9a;J.push({Framerate:lb.toFixed(3),"Current Dropped Frames":(0,m.Ja)(this.qpa)?this.qpa:"","Total Frames":eb.WA(),"Total Dropped Frames":eb.II(),"Total Corrupted Frames":eb.fX(),"Main Thread stall/sec":ub?ub.BQb().join(" "):"DISABLED",KeySystem:null === (H=this.j.Ve) || void 0 === H?void 0:H.oX(),KeyStatus:null === (O=null === (R=this.j.Ve) || void 0 === R?void 0:R.y4a) || void 0 === O?void 0:O.call(R),VideoDiag:(0,f.Vva)(this.j.N9()),"HDR support":this.wta?this.wta.result + " (" + this.wta.reason + ")":"unknown"});}catch(Ib){}try{J.push({Throughput:this.j.Na + " kbps"});}catch(Ib){}Cb=void 0;try{Object.entries(this.S_a).forEach(function(Ib){var Pb;Pb=na(Ib);Ib=Pb.next().value;Pb=Pb.next().value;Cb=Cb || ({});Cb[Ib]=JSON.stringify(Pb);});Cb && J.push(Cb);}catch(Ib){}return J;};b.BOa=c;},function(t,b,a){var g,h,d,f;function c(l,m,n,p){this.ga=l;this.N6b=m;this.Da=n;this.xg=p;this.qd={};}function k(l,m){this.pg=l;this.xg=m;this.Ac={};this.Da=l.mb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Isb=b.DOa=void 0;t=a(0);g=a(1);h=a(6);d=a(19);f=a(5);k.prototype.S5b=function(l,m){this.Ac[l] && this.Da.warn("registerPlayback: xid " + l + " already registered, overriding");m=(m?m:this.xg.Tb()).da(f.ma);this.Da.trace("registerPlayback: xid " + l + " at " + m);this.Ac[l]=new c(l,m,this.Da,this.xg);return this.Ac[l];};k.prototype.DRb=function(l){this.Ac[l] || this.Da.warn("getPlaybackMilestones: xid " + l + " is not registered");return this.Ac[l];};k.prototype.k6b=function(l){this.Da.trace("removePlayback: xid " + l);delete this.Ac[l];};a=k;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(h.sb)),t.__param(1,(0,g.l)(d.$c))],a);b.DOa=a;c.prototype.Xq=function(l,m){m=m?m.da(f.ma):this.xg.Tb().da(f.ma) - this.N6b;this.Da.trace("addMilestone: xid " + this.ga + " " + l + " at " + m);this.qd[l]=m;};b.Isb=c;},function(t,b,a){var k,g,h,d;function c(f){this.Ea=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.UPa=void 0;t=a(0);k=a(17);g=a(1);h=a(19);d=a(5);c.prototype.Pk=function(f){f.cause !== k.ff.oz && (this.trace.unshift({time:this.Ea.Tb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.E5a=function(){var f,l;f=this;if(0 === this.trace.length)return {};l=this.trace[0];return {timeSinceLastRepositionMs:this.Rib(l.time),lastRepositionCause:this.I3a(l.event.cause),repositionTrace:this.trace.map(function(m){return {timeSince:f.Rib(m.time),cause:f.I3a(m.event.cause),newMediaTime:m.event.wba,oldMediaTime:m.event.rxa,contentPts:m.event.Bk,skip:m.event.skip};})};};c.prototype.Rib=function(f){return this.Ea.Tb().Ba(f).da(d.ma);};c.prototype.I3a=function(f){switch(f){case k.ff.oz:return "initial";case k.ff.HG:return "seek";case k.ff.SL:return "segment_changed";case k.ff.f4:return "track_changed";case k.ff.k2:return "force_rebuffer";}};a=c;a=t.__decorate([(0,g.X)(),t.__param(0,(0,g.l)(h.$c))],a);b.UPa=a;},function(t,b,a){var k,g,h;function c(d,f,l){this.Ui=d;this.Bb=l;this.N=[];this.log=f.mb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.JOa=void 0;k=a(0);t=a(1);g=a(27);h=a(6);a(5);c.prototype.some=function(d){return this.N.some(d);};c.prototype.e$=function(){return ! !(this.N[0] && this.N[0].stream && this.Bb.Vg(this.N[0].stream.cb));};c.prototype.Zs=function(d){return this.N.filter(function(f){return f.track.lF === d;}).reduce(function(f,l){return f + (l.endTime - l.startTime) / l.rate;},0);};c.prototype.FX=function(d){return this.N.filter(function(f){return f.track.lF === d;}).reduce(function(f,l){return f + l.endTime - l.startTime;},0);};c.prototype.Fra=function(d,f){var l,m;l=this;m={};return this.N.filter(function(n){return !f || n.track.lF === f;}).reduce(function(n,p){var q,r,u;q=d.bind(l,p)();r=q.key;q=k.__rest(q,["key"]);p=p.endTime - p.startTime;u=m[r];u?u.duration+=p:(u=q,u.duration=p,n.push(u),m[r]=u);return n;},[]);};c.prototype.dg=function(d,f,l){var m;l=void 0 === l?this.Ui.playbackRate.value:l;m=this.N;d && f && f >= d.startTime && (d={wc:d.wc,track:d.track,stream:d.stream,startTime:d.startTime,endTime:f,rate:l},(f=m[m.length - 1]) && f.track === d.track && f.stream === d.stream && f.wc === d.wc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:m.push(d),!1);};a=c;a=k.__decorate([k.__param(1,(0,t.l)(h.sb)),k.__param(2,(0,t.l)(g.Kg))],a);b.JOa=a;},function(t,b,a){var k;function c(g,h,d,f,l){var m;m=this;this.Ga=g;this.j=h;this.log=d;this.config=f;this.CD=new k.Xb(!1);g=g.sv();this.nAb=l({ga:h.ga.toString()});h=null === g || void 0 === g?void 0:g.aw.events;null === h || void 0 === h?void 0:h.addListener("adPresenting",function(){!1;m.j2a();});null === h || void 0 === h?void 0:h.addListener("adBreakPresenting",function(){!1;m.CD.set(!0);});null === h || void 0 === h?void 0:h.addListener("adBreakEnded",function(){!1;m.CD.set(!1);});null === h || void 0 === h?void 0:h.addListener("adPlaygraphUpdated",function(){!1;});null === h || void 0 === h?void 0:h.addListener("segmentDropped",function(){!1;});h=null === g || void 0 === g?void 0:g.CUb.events;null === h || void 0 === h?void 0:h.addListener("adEvent",function(n){return m.nAb.f8b(n);});}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;k=a(69);c.prototype.m5a=function(){var g,h;return null === (h=null === (g=this.Ga) || void 0 === g?void 0:g.sv()) || void 0 === h?void 0:h.QB.Ct;};c.prototype.WQb=function(){var g,h,d,f;d=this.m5a();if(d){f={position:null === d || void 0 === d?void 0:d.position.offset.T,adDuration:null === (g=null === d || void 0 === d?void 0:d.WU) || void 0 === g?void 0:g.Lp.endTime.T,adIndex:null === (h=d.WU) || void 0 === h?void 0:h.index,adBreakIndex:d.index,adBreakDuration:null === d || void 0 === d?void 0:d.iN.duration.T};(g=d.$ba) && (f.padding={type:g.aca,duration:g.Zba.T});return f;}};c.prototype.Era=function(){var g,h,d,f,l;f=this.j.la.I.toString();l=null === (h=null === (g=this.Ga) || void 0 === g?void 0:g.sv()) || void 0 === h?void 0:h.aw.Era({blb:[f]});return null !== (d=null === l || void 0 === l?void 0:l.result[f]) && void 0 !== d?d:[];};c.prototype.j2a=function(){};b.PDa=c;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r,u,v){this.context=n;this.log=p;this.Aa=q;this.config=r;this.Ea=u;this.mAb=v;this.MAa={};}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;t=a(0);k=a(1);g=a(19);h=a(30);d=a(5);f=a(12);l=a(305);m=a(572);c.prototype.f8b=function(n){var p,q;p=n.event;if(Object.values(m.kmb).includes(p)){q=n.ea.links.events.href;this.MAa[n.rq] || (this.MAa[n.rq]=this.Aa.gBb((0,d.tc)(n.rq)).da(d.ma));n={href:q,ga:this.context.ga.toString(),event:p,VU:n.VU,UU:n.UU,position:n.hj.offset.T,rq:this.MAa[n.rq],Xv:n.Xv,aI:this.Aa.$Q.da(d.ma),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.mAb.gg(this.log,n);}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=t.__decorate([t.__param(2,(0,k.l)(h.Bh)),t.__param(3,(0,k.l)(f.Ic)),t.__param(4,(0,k.l)(g.$c)),t.__param(5,(0,k.l)(l.Afa))],a);b.LDa=a;},function(t,b,a){var q;function c(r){this.Lp=r;}function k(r){this.padding=r;}function g(r){this.BD=r;}function h(r){this.hj=r;}function d(r){this.Cca=r;}function f(r){this.Eya=r;}function l(r){this.Dya=r;}function m(r){this.jN=r;}function n(r){this.Ct=r;}function p(r){var u;u=this;this.Pm=r;this.CD=new q.Xb(!1);this.Pm.CD.addListener(function(v){u.CD.set(v.newValue);});}Object.defineProperty(b,"__esModule",{value:!0});b.jmb=b.Dsb=b.imb=b.ypb=b.Msb=b.Nsb=b.Lsb=b.hmb=b.Ksb=b.NDa=void 0;q=a(69);p.prototype.getPresentingAdBreak=function(){var r;r=this.Pm.m5a();if(r)return new n(r);};p.prototype.getAds=function(){return this.Pm.Era();};p.prototype.getLogInfo=function(){return this.Pm.WQb();};b.NDa=p;Va.Object.defineProperties(n.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new m(this.Ct.iN);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var r;r=this.Ct.WU;if(r)return new l(r);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var r;r=this.Ct.$ba;if(r)return new f(r);}},progress:{configurable:!0,enumerable:!0,get:function(){return new d(this.Ct.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new h(this.Ct.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Ct.index;}}});b.Ksb=n;Va.Object.defineProperties(m.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new g(this.jN.BD);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new k(this.jN.$da);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new k(this.jN.EW);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.jN.ETb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.jN.duration.T};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.jN.Zba.T};}}});b.hmb=m;Va.Object.defineProperties(l.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new c(this.Dya.Lp);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.Dya.cWa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Dya.index;}}});b.Lsb=l;Va.Object.defineProperties(f.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Eya.aca;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Eya.h2b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Eya.Zba.T};}}});b.Nsb=f;Va.Object.defineProperties(d.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Cca.hAb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Cca.gAb.T};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Cca.jAb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Cca.iAb.T};}}});b.Msb=d;Va.Object.defineProperties(h.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.hj.Y;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.hj.offset.T};}}});b.ypb=h;Va.Object.defineProperties(g.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.BD.Ul.map(function(r){return new c(r);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.BD.duration.T};}}});b.imb=g;Va.Object.defineProperties(k.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.T};}}});b.Dsb=k;Va.Object.defineProperties(c.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.Lp.vta;}},id:{configurable:!0,enumerable:!0,get:function(){return this.Lp.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Lp.startTime.T};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Lp.endTime.T};}}});b.jmb=c;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x;function c(y,z,A){var B;B=this;this.rb=y;this.j=z;this.debug=A;this.As=this.Ei=this.gD=!1;this.Bs=this.jo=void 0;this.hf=function(){var C,D,F,G,E,I;B.debug.assert(B.pa,"has access to asePlaygraph");B.debug.assert(B.ed,"has access to internalLogger");B.debug.assert(B.Qv,"has access to mediaBufferGetLogFields");E=B.Np;I=null === (D=null === (C=B.Vb.get()) || void 0 === C?void 0:C.Na) || void 0 === D?void 0:D.oa;C={type:"logdata",target:"startplay",fields:{hasasereport:B.j.mO,hashindsight:!1,buffCompleteReason:E.reason,actualbw:I,initSelReason:null !== (F=E.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:E.vBufferLevelMs,bcABufferLevelMs:E.aBufferLevelMs}};(0,l.dna)({X1a:C,Kk:B.Kk,loadTime:B.loadTime});B.pa.N0("startplay",h.ie.tq);null !== (G=B.Fa) && void 0 !== G && G.Ze?(B.ed.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:E},B.Qv()),B.j.Np=E,B.j.Ls.set(m.Mf.Ce),B.iOb || (B.iOb=!0,B.j.He("pb")),B.af.value !== k.va.ss && B.af.value !== k.va.xj && B.play()):B.ed.error("Shim received buffering complete but player has no position (player " + (B.Fa?"":"un") + "defined, state " + B.j.state + ")");};this.qV=function(){var C,D;B.debug.assert(B.ed,"has access to internalLogger");!1;B.jo=void 0;B.j.paused.value && B.OJ && (B.OJ=!1,B.j.paused.set(!1,{fxa:!0}));null === (C=B.j.Uf) || void 0 === C?void 0:C.OFb();null === (D=B.sZ) || void 0 === D?void 0:D.call(B);B.sZ=void 0;};this.events=new x();this.bh=new w.Jja(this.Gx.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;k=a(31);g=a(11);h=a(297);d=a(59);f=a(3);l=a(1341);m=a(17);n=a(18);p=a(15);q=a(5);r=a(1342);u=a(91);v=a(69);w=a(536);a(161);x=a(113).EventEmitter;c.prototype.Yc=function(){var y;!1;this.As=!1;this.Vb.dR(null);this.debug.assert(this.Zi,"has access to streamingEngine");this.pa && this.Zi.lw(this.pa);this.Fa && this.Zi.FQ(this.Fa);this.Zi.tza(this.bh.am(this.rb.la.K));this.bh.clear();null === (y=this.Tj) || void 0 === y?void 0:y.kr();};c.prototype.k9b=function(y){var z,A,B,C,D,F,G,E,I,L,K,H,R;z=y.config;A=y.Zq;B=y.ed;C=y.Be;D=y.Qv;F=y.Jj;G=y.U_;y=y.rK;this.ed=B;this.log=B.x7("AseIntegrationImpl");!1;this.Qv=D;this.U_=G;this.rK=y;D=this.j.la;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Zi,"has access to streamingEngine");this.debug.assert(D.Pc,"has access to parsedManifest");this.debug.assert(D.ea,"has access to manifest");this.Zi=A.Zi;A.Qe.set(a(187)(z),!0,F("ASE"));A.Qe.set({maxNumberTitlesScheduled:null !== (I=null === (E=z.I3b) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== I?I:1},!0,B);z.rGb && !D.Oc && 3E5 > D.ea.ab.duration?A.Qe.GZ({expandDownloadTime:!1},!0,B):A.Qe.GZ({expandDownloadTime:A.Qe.Bcb().expandDownloadTime},!0,B);z=D.background || z.G3b && "postplay" === D.Ed?"historical":A.Qe.Bcb().initBitrateSelectorAlgorithm;A.Qe.GZ({initBitrateSelectorAlgorithm:z},!0,B);z=null === (R=null === (H=null === (K=null === (L=D.Jg) || void 0 === L?void 0:L.value) || void 0 === K?void 0:K.streams) || void 0 === H?void 0:H[0]) || void 0 === R?void 0:R.Te;A.Qe.GZ((0,n.JZa)(! !D.gb.Ph,! !D.gb.V$,z),!0,B);B=C.AJ({},(0,n.Woa)(D.Oc?"live":D.Ed));this.Qe=A.Qe.qh(B);k.platform.events.emit("networkchange",D.Pc.q8b);this.gD=!0;};c.prototype.C$=function(y){var z,A;this.debug.assert(this.Zi,"has access to streamingEngine");z=this.j.Hk(y.Y);this.debug.assert(z.Pc,"has access to playback parsedManifest");!1;A=y.flags;this.Vb.reset();this.zd=new Set([k.Nb.$a.cc,k.Nb.$a.Jb]);(A.RF || A.kV) && this.zd.delete(A.RF?k.Nb.$a.cc:k.Nb.$a.Jb);this.ER=[z.Pc.IJb,z.Pc.QJb];this.Gx(z.I,void 0,y.Hx);this.bVb(y);this.TN();};c.prototype.zw=function(y){var z;!1;null === (z=this.pa) || void 0 === z?void 0:z.zw(y);};c.prototype.XCb=function(y){var z,A,B,C;z=this;A=y.loadTime;B=y.Kk;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;this.Kk=B;this.loadTime=A;y=this.pa.events;C=this.Fa.events;y.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.ed.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.ed.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Qv())),(0,d.fg)(function(){z.j.Sd(f.V.Plb,{wa:D.nativeCode,Ob:D.errormsg,pl:D.httpCode,rba:D.networkErrorCode});}));});y.addListener("logdata",function(D){var F;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.pa) || void 0 === F?void 0:F.MH,(0,l.dna)({X1a:D,Kk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){!1;z.j.Ls.set(m.Mf.sd);});y.addListener("bufferingComplete",function(D){!1;z.Np=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.ed,"has access to internalLogger");null !== (F=D.bn) && void 0 !== F && F.fxa || !z.gD || (D.newValue && z.af.value === k.va.Jc?(z.af.set(k.va.Eh),z.Kd.emit("paused",{type:"paused",pts:z.Kd.mc})):D.newValue || z.af.value !== k.va.Eh || (z.af.set(k.va.Jc),z.Kd.emit("playing",{type:"playing",pts:z.Kd.mc})));D.newValue || (z.OJ=!1);z.ed.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,u.wj)(z.j.mediaTime.value)});});this.j.yc.addListener(function(D){var F,G,E,I;if(z.gD)if((z.debug.assert(z.ed,"has access to internalLogger"),D.bn && D.bn.MWa))z.ed.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {I=D.newValue;z.nea({po:I.$x,toJSON:function(){return I.xh;}})?z.ed.trace("ASE accepted the audio track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.ed.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.$x !== I.$x && z.j.yc.set(D.oldValue,{MWa:!0}));}});y.addListener("serverSwitch",function(D){var F;!1;z.j.fireEvent(m.ja.S_,D);if("video" === D.mediatype)F=k.Nb.$a.Jb;else "audio" === D.mediatype && (F=k.Nb.$a.cc);(0,p.pd)(F) && z.U_(D.segmentId,D.server,F);});y.addListener("streamSelected",function(D){var F,G,E,I;!1;G=(null === (F=z.pa) || void 0 === F?void 0:F.bB(D.position)).Ym.T;F=[];if(D.mediaType === k.Nb.$a.Jb){E=z.j.p6a(D.streamId);I=z.j.nf;F=z.j.yE();}else D.mediaType === k.Nb.$a.cc && (E=z.j.a6a(D.streamId),I=z.j.Gh,F=z.j.mPb());E && I?(!1,I.set(E,{ZH:G,vV:D.bandwidth})):z.ed.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.WH});});y.addListener("segmentNormalized",function(D){var F,G,E,I,L;!1;F=D.segmentId;G=Math.floor(D.viewableContentEnd.T);D=Math.floor(D.viewableEarliestContentEnd.T);G=(0,q.tc)(G);D=(0,q.tc)(D);if(!z.j.GTb(F) && (!1,z.Gj && z.Gj.N[F])){E=z.Gj.N[F];I=z.Gj.N[F].oc;if(I && z.rb.Hy(I)){I=z.j.Hk(I);L=I.ea;(null === L || void 0 === L?0:L.Ou) && (null === L || void 0 === L?0:L.Ou.some(function(K){return K.ab.I === E.K;})) && z.j.s_a(E.K,{qo:{Ee:L.ab.Ee,lq:L.ab.I}},I.ga);}}if(F=z.j.Hk(F))(F.Uu=G,F.A$a=D);z.j.Bt || (z.j.Bt=G);});C.addListener("segmentPresenting",function(D){var F,G,E,I;!1;z.debug.assert(z.pa,"has access to asePlaygraph");z.debug.assert(z.Fa,"has access to asePlayer");z.debug.assert(z.rK,"has access to segmentPresentingHandler");G=z.pa.bB(D.position);E=void 0;I=null === (F=D.inner) || void 0 === F?void 0:F.position;I && z.Gj && (E=z.Gj.N[I.Y]);z.rK({K:G.K,cI:E,fJ:!1});z.j.fireEvent(m.ja.qK,{type:"segmentPresenting",position:{segmentId:D.position.Y,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.Bs=z.Fa.Ik();});C.addListener("ptsChanged",function(){!1;z.Kd.emit("skipped");});y.addListener("locationSelected",function(D){!1;z.j.fireEvent(m.ja.GY,D);});y.addListener("aseReportEnabled",function(){!1;z.j.mO=!0;});y.addListener("aseReport",function(D){!1;z.j.fireEvent(m.ja.pN,D);});y.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.G6b;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(m.ja.iE,{response:D,I:z.j.la.I});});};c.prototype.Ik=function(){var y,z,A,B,C,D,F,G,E;G=null === (y=this.Fa) || void 0 === y?void 0:y.dP();y=(null !== (z=this.Bs) && void 0 !== z?z:G && this.Fa.Ik()) || ({});z=y.u;G=y.md;E=y.OB;y=y.mq;return {id:String(null === z || void 0 === z?void 0:z.id),Re:null !== (A=null === G || void 0 === G?void 0:G.T) && void 0 !== A?A:0,Zc:null !== (B=null === z || void 0 === z?void 0:z.df.T) && void 0 !== B?B:Infinity,Ec:null !== (C=null === z || void 0 === z?void 0:z.Cg.T) && void 0 !== C?C:0,$e:null !== (D=null === E || void 0 === E?void 0:E.T) && void 0 !== D?D:Infinity,Ad:null !== (F=null === y || void 0 === y?void 0:y.T) && void 0 !== F?F:0};};c.prototype.i9=function(){return {Re:0};};c.prototype.D$=function(){var y,z;this.debug.assert(this.pa,"has access to asePlaygraph");y={};z=this.pa.Rx();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.mya=function(){!1;this.Kd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Kd.mc});};c.prototype.pV=function(y,z){var A;this.debug.assert(this.j.ea,"has access to playback manifest");A=this.ER[k.Nb.$a.cc];return y.I === this.j.ea.ab.I?A:this.ONb(this.j.ea.ab.Lu[A],z);};c.prototype.ONb=function(y,z){var A,B,C;this.debug.assert(this.ed,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === y.profile;}).sort(function(D,F){var G,E,I;G=(D.language === y.language || "zxx" === D.language?0:1) - (F.language === y.language || "zxx" === F.language?0:1);0 === G && (G=(D.wi === y.wi?0:1) - (F.wi === y.wi?0:1));if(0 === G){D=(null !== (E=D.Zb) && void 0 !== E?E:0) - (null !== (I=F.Zb) && void 0 !== I?I:0);}else D=G;return D;});B=0;C=na(A).next().value;C && z.some(function(D,F){if(D === C)return (B=F,!0);});!1;return B;};c.prototype.nea=function(y){var z,A,B;z=this;this.debug.assert(this.ed,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.j.ea,"has access to playback manifest");if(this.ZK)return (!1,!1);if(!this.j.ea.ab.audio_tracks.some(function(C,D){if(C.track_id === y.po)return (B=D,!0);}))return (!1,!1);!1;this.jo=B;null === (A=this.j.Uf) || void 0 === A?void 0:A.r$b();this.j.paused.value || (this.Fa.pause([k.Nb.$a.cc]),this.OJ=!0,this.j.paused.set(!0,{fxa:!0}));this.debug.bna(this.jo,"has access to valid requestedAudioTrackIndex number");this.ER[k.Nb.$a.cc]=this.jo;(this.pa.Jy({Pt:this.pV.bind(this)},{Pt:function(){return z.ER[k.Nb.$a.Jb];}}) || this.OJ) && this.Fa.resume(this.OJ?[k.Nb.$a.cc]:void 0);this.$r(this.qV);return !0;};c.prototype.gp=function(){var y;!1;this.af.set(k.va.$f);null === (y=this.pa) || void 0 === y?void 0:y.N0("intrplay",h.ie.gp);this.Kd.emit("underflow",{type:"underflow",pts:this.Kd.mc});this.$r(this.hf);};c.prototype.Ur=function(y,z){this.wC.Ur(y,z);};c.prototype.open=function(){this.As || (this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),!1,this.As=this.Ei=!0,this.pa.open(),this.debug.assert(this.My,"invalid start position relative to playgraph"),this.pa.ow(this.My,k.M.Ha(this.j.ba)),this.af.set(k.va.sd),this.$r(this.hf),this.pa.tN(this.Fa),this.GXb());};c.prototype.play=function(){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;0 !== this.pa.state && (this.Fa.resume(this.OJ?[k.Nb.$a.cc]:void 0),this.af.set(k.va.Jc),this.Kd.emit("playing",{type:"playing",pts:this.Kd.mc}));};c.prototype.stop=function(){var y;!1;this.af.set(k.va.ss);null === (y=this.Fa) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Kd.emit("paused",{type:"paused",pts:this.Kd.mc});};c.prototype.flush=function(){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Zi,"has access to streamingEngine");!1;this.As && this.af.value !== k.va.xj && this.af.value !== k.va.ss && this.stop();this.pa.N0("endplay",h.ie.Sp);this.pa.yd();this.Zi.hi.save();this.Zi.Qo.save();};c.prototype.sv=function(){var y;return null === (y=this.pa) || void 0 === y?void 0:y.Pm;};c.prototype.Vu=function(y){var z;this.debug.assert(this.pa,"has access to asePlaygraph");z=k.M.Ha(y);return (z=this.pa.Fn(z,{ohb:!0,nhb:!0}))?this.pa.fa.N[z.Y].qa + Number(z.offset.T.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.RN=function(y,z){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.ed,"has access to internalLogger");!1;this.pa.fa.N[y] || (y=this.QW(z));this.debug.G6(y,"has access to segmentId");y={Y:y,offset:k.M.Ha(z - this.pa.fa.N[y].qa)};if(y=this.pa.zv(y))return y.T;!1;return z;};c.prototype.$na=function(y,z){var A,B,C;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;z && this.pa.fa.N[z] || (z=null !== (A=this.QW(y)) && void 0 !== A?A:null === (B=this.Fa) || void 0 === B?void 0:B.rh.Y);z=this.j.Hk(z);y={Ym:k.M.Ha(y),K:z.I};return null === (C=this.pa.jn(y)) || void 0 === C?void 0:C.Zc;};c.prototype.LA=function(y){var z;z=void 0 === z?!0:z;!1;this.Ei?Number.isFinite(y) && (this.debug.assert(this.Fa,"has access to asePlayer"),z?this.Fa.cR(y):this.Fa.Kda(y)):this.fail("Must call open prior to drmReady");};c.prototype.c$=function(){var y;return null !== (y=this.Fa) && void 0 !== y && y.Ze?this.Fa.Mo(this.rb.la.K):!1;};c.prototype.Tg=function(y){var z,A;!1;if(!this.Fa)return (!1,!1);z=this.sv();y=k.M.Ha(y);A=this.Fa.Tg(y);return z && this.j.$5a()?A && z.Tg(y):A;};c.prototype.Ot=function(y,z){var A;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;z && this.pa.fa.N[z] || (z=null !== (A=this.QW(y)) && void 0 !== A?A:this.rb.Ih);this.debug.G6(z,"has access to segmentId");this.debug.assert(this.pa.fa.N[z],"segment exists in playgraph map");z={Y:z,offset:k.M.Ha(y - this.pa.fa.N[z].qa)};this.pa.ow(z,k.M.Ha(y));this.Fa.resume();this.af.set(k.va.sd);this.$r(this.hf);y=this.pa.iAa(z);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.T;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.JR=function(y,z){var A;!1;A={};this.pa.tj((A[y]=z,A));};c.prototype.Qs=function(y,z){var A,B;this.debug.assert(this.ed,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;A=this.Ik().id;B=this.pa.SO(A,y);if(z){if(!B.Nkb)return (this.ed.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.aQ)return (!1,B.aQ === y);this.pa.Yi(A,y,!1,z);return !0;}if(void 0 !== B.aQ)return (!1,!1);B.AN && (this.Fa.reset(),this.pa.Yi(A,y,!1,z),this.Fa.resume(),this.af.set(k.va.sd),this.$r(this.hf));return ! !B.AN;};c.prototype.Yi=function(y,z,A,B){this.debug.assert(this.pa,"has access to asePlaygraph");!1;this.pa.Yi(y,z,A,B);};c.prototype.Jl=function(){var y;this.debug.assert(this.ed,"has access to internalLogger");!1;y=this.Kd.mc;!1;this.Kd.emit("skipped",{type:"skipped",pts:y});return new k.LG(Promise.resolve()).Wza;};c.prototype.QW=function(y){var z,A,B,C,D,F,G,E;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.ed,"has access to internalLogger");!1;z=this.pa.fa;A=[];B=Infinity;for(C in z.N){D=z.N[C];F=D.qa;D=D.sa;G=y < Number(null !== D && void 0 !== D?D:Infinity);if(F <= y && G)(!1,A.push(C));else if((F=Math.min(Math.abs(y - F),Math.abs(y - D)),F < B)){B=F;E=C;}}y=A[0] || E;this.debug.G6(y,"has access to locatedSegmentId");!1;return y;};c.prototype.GXb=function(){var y,z;y=this;this.debug.assert(this.j.Ub,"has access to mediaElement");z=this.j.Ub.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){y.af.value === k.va.Eh && (y.af.set(k.va.Jc),y.Kd.emit("playing",{type:"playing",pts:y.Kd.mc}));});z.addEventListener("pause",function(){y.af.value === k.va.Jc && (y.af.set(k.va.Eh),y.Kd.emit("paused",{type:"paused",pts:y.Kd.mc}));});};c.prototype.fail=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.$r=function(y){var z,A,B,C,D,F,G,E;z=this;if(y !== this.qV && this.ZK)(!1,this.sZ=y);else {E=null === (A=this.Fa) || void 0 === A?void 0:A.Pv.value;A=null === (B=this.pa) || void 0 === B?void 0:B.wf.value;B=!0 === E;E=A === k.Hc.yj;!1;null === (C=this.Fa) || void 0 === C?void 0:C.Pv.removeListener(this.I$a);null === (D=this.pa) || void 0 === D?void 0:D.wf.removeListener(this.gYa);B && E?y():(this.I$a=function(){return z.$r(y);},this.gYa=function(){return z.$r(y);},null === (F=this.Fa) || void 0 === F?void 0:F.Pv.addListener(this.I$a),null === (G=this.pa) || void 0 === G?void 0:G.wf.addListener(this.gYa));}};c.prototype.q3a=function(y){var z,A;z=this;y=this.j.Ho(y);return Promise.resolve(null !== (A=y.ea) && void 0 !== A?A:this.Kca(y)).then(function(B){B=B.ab;return {ea:B,Mi:B.W9 && !B.DE,config:z.Qe,zd:[].concat(ha(z.zd))};});};c.prototype.Kca=function(y){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(y.Ki){C=y.Ki.lq;(D=null === (A=this.j.Ho(C).ea) || void 0 === A?void 0:A.ab)?y.Ki.JZ=D:B=this.bh.am(C).jp.then(function(F){return F.ea;}).then(function(F){y.Ki.JZ=F;}).catch(function(){return z.j.Sd(f.V.CL,f.R.$lb);});}return B.then(function(){return z.j.Kca(y);}).then(function(){return y.ea;});};c.prototype.Gx=function(y,z,A){var B,C,D,F,G,E,I,L,K;B=this;this.debug.assert(this.Zi,"has access to streamingEngine");!1;E={K:y,Ee:null === (C=null === z || void 0 === z?void 0:z.qo) || void 0 === C?void 0:C.Ee};if(!this.bh.has(E)){!this.j.uta(y) && (null === (D=null === z || void 0 === z?void 0:z.qo) || void 0 === D?0:D.lq) && this.j.uta(null === (F=null === z || void 0 === z?void 0:z.qo) || void 0 === F?void 0:F.lq) && (C=this.j.Ho(null === (G=z.qo) || void 0 === G?void 0:G.lq),this.j.s_a(y,z,C.ga));this.j.uta(y) && (I=this.j.Ho(y));L=A?A.ga:I?I.ga:void 0;G=A?A.Xo:I?I.Rf:void 0;this.bh.store(E,{g7:function(){},equals:function(H){return H && H.K === E.K && (L === H.ga || !H.ga || !L);},get jp() {K || (K=B.q3a(y));return K;},set jp(H) {K=H;},events:new g.EventEmitter(),ga:L,K:E.K,ur:!1,bCa:!1});this.Qe.NA && this.Zi.xF(this.bh.am(E.K,z),{ga:L,Xo:G,gE:null === A || void 0 === A?void 0:A.MA});}};c.prototype.Uy=function(y){var z,A,B;this.debug.assert(this.Zi,"has access to streamingEngine");!1;z=this.j.Hk(y);A=z.Ki;z={K:z.I,Ee:null === A || void 0 === A?void 0:A.Ee};y=this.rb.Ye(y).K;if(!this.bh.has(z))return Promise.resolve();A && (B={qo:{Ee:null === A || void 0 === A?void 0:A.Ee,lq:A.lq}});A=this.bh.am(y,B);A.jp=this.q3a(y);return this.Zi.Uy(A);};c.prototype.SO=function(y){var z;this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.pa,"has access to asePlaygraph");return this.pa.SO(null === (z=this.Fa.Ik().u) || void 0 === z?void 0:z.id,y);};c.prototype.bVb=function(y){var z,A,B;z=this;A=y.Hx;B=y.Y;this.debug.assert(this.Zi,"has access to streamingEngine");this.debug.assert(this.ed,"has access to internalLogger");!1;y=this.j.Hk(B);y=this.rb.C9(y);B=y.N[B];this.debug.assert(B,"segment exists");this.My=(0,r.DX)(B.K,y,this.j.ba,B.qa);A=Object.create(this.Qe,{MA:{value:A.MA},C1a:{value:this.j.background}});this.af=new v.Xb(k.va.dh);this.pa=this.Zi.HH(y,this.Qe.Wcb,A,this.bh);this.wC=new k.NG(this.ed);A=this.pa.YD(this.wC);y=this.pa.XD();this.pa.Mda(y,A);this.pa.Jy({Pt:function(){return z.ER[k.Nb.$a.cc];}},{Pt:function(){return z.ER[k.Nb.$a.Jb];}});this.OJ=!1;};c.prototype.TN=function(){var y,z;y=this;this.debug.assert(this.Zi,"has access to streamingEngine");!1;z=Object.create(this.Qe,{zd:{value:[].concat(ha(this.zd))},tX:{value:function(){return y.z9();}}});this.Kd=Object.create(new g.EventEmitter(),{mc:{get:function(){y.debug.bna(y.j.mediaTime.value,"has access to mediaTime.value");return k.M.Ha(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},sX:{value:function(){y.debug.assert(y.j.Ub,"has access to mediaElement");return y.j.Ub;}}});this.Fa=this.Zi.rWa(this.Kd,z);};c.prototype.z9=function(){this.Tj || (this.Tj=new k.platform.MediaSource(this.Kd),this.Tj.Kc || (this.Tj.Kc=k.platform.MediaSource.Kc));return this.Tj;};Va.Object.defineProperties(c.prototype,{ZK:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.jo;}},Vb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Zi,"has access to streamingEngine");return this.Zi.Vb;}},Gj:{configurable:!0,enumerable:!0,get:function(){for(var y,z=null === (y=this.pa) || void 0 === y?void 0:y.Gj;null === z || void 0 === z?0:z.Gj;){z=z.Gj;}return null === z || void 0 === z?void 0:z.fa;}},sZa:{configurable:!0,enumerable:!0,get:function(){for(var y=this.Fa;null === y || void 0 === y?0:y.$X;){y=y.$X;}return y;}},gJb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.sZa) || void 0 === y?0:y.Ze){A=(y=this.sZa.rh) && (null === (z=this.Gj) || void 0 === z?void 0:z.N[y.Y]);if(A)return {Ym:k.M.Ha(y.offset.T + A.qa),K:A.K};}}}});b.kEa=c;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dna=void 0;c=a(15);b.dna=function(k){var g,h,d,f;g=k.Kk;h=k.loadTime;k=k.X1a;d=(0,c.Ja)(h)?h:0;f=g[k.target] || ({});g[k.target] !== f && (g[k.target]=f);Object.entries(k.fields).forEach(function(l){var m,n,p,q;m=na(l);l=m.next().value;m=m.next().value;if("object" !== typeof m || null === m)f[l]=m;else {n=m.type;if("count" === n)(void 0 === f[l] && (f[l]=0),++f[l]);else if(void 0 !== m.value){if("array" === n){n=f[l];p=m.adjust;q=m.value;n || (n=f[l]=[]);p && 0 < p.length && p.forEach(function(r){q[r]-=d || 0;});n.push(q);}else f[l]="sum" === n?(f[l] || 0) + m.value:m.value;}else f[l]=m;}});};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.DX=void 0;c=a(31);k=a(23);b.DX=function(g,h,d,f){return h.N[h.Vd].qa === f?(g=(0,c.QN)(h,g,c.M.Ha(d)),(0,k.ib)(g,"has valid start position relative to playgraph"),g):{Y:h.Vd,offset:c.M.La};};},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p,q,r,u,v,w,x,y,z){var A;A=this;this.Abc=n;this.j=p;this.id=q;this.height=r;this.width=u;this.X2b=v;this.Y2b=w;this.size=x;this.Dv=y;this.urls=z;this.type=k.cj.BCa;this.retry=!0;this.state=f.Kq.x3;this.xh={};this.I6={};this.F4b=function(B){if(B.ca)try{A.data=A.Abc.parse(B.content);A.state=f.Kq.oG;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.xh);A.j.fireEvent(l.ja.L0);}catch(C){A.state=f.Kq.NMa;A.log.error("TrickPlay parse failed.",C);}else (A.state=f.Kq.x3,A.log.error("TrickPlay download failed.",(0,m.mz)(B),A.xh));};this.log=(0,h.Qi)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.KRa=void 0;k=a(89);g=a(18);h=a(8);d=a(104);f=a(545);l=a(17);m=a(3);c.prototype.uQb=function(n){if(this.data && (this.Dv && (n+=this.Dv),n=Math.floor(n / this.data.header.Wib),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Wib,height:this.height,width:this.width,pixelAspectHeight:this.X2b,pixelAspectWidth:this.Y2b};};c.prototype.WO=function(){switch(this.state){case f.Kq.oG:return "downloaded";case f.Kq.LOADING:return "loading";case f.Kq.RS:return "downloadfailed";case f.Kq.NMa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.KSb();n?(this.state=f.Kq.LOADING,this.cLb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.KSb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(r){return (n.I6[n.urls[r]] || 0) <= g.config.wbc;});if(p){q=this.urls[p];(q in this.I6)?this.I6[q]++:this.I6[q]=1;return {url:q,Cx:p};}};c.prototype.cLb=function(n){var p,q;this.log.trace("Downloading",n.url,this.xh);q=this.Qra(n.Cx);n={responseType:d.RX,wc:q,url:n.url,track:this,Rt:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",eE:"trickplay"};this.j.l$.download(n,this.F4b);};c.prototype.Qra=function(n){return this.j.Ag.find(function(p){return p && p.id === n;});};b.KRa=c;},function(t,b,a){var k;function c(g,h,d,f){this.Opa=g;this.debug=h;this.Ea=d;this.j=f;this.bca=[];this.lba={};this.Qpa={};this.dra=!1;this.zib=1;this.JEa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;k=a(5);a(17);a(15);a(104);c.prototype.register=function(g,h){this.debug.assert(!(0 <= this.bca.indexOf(g)),"panel already registered");this.lba[g]=h;this.bca.push(g);};c.prototype.kbb=function(g){var h;h=this;this.Qpa[g]=!0;this.dra || (this.dra=!0,setTimeout(function(){return h.bOb();},0));};c.prototype.gRb=function(g){return (g=this.lba[g])?g():void 0;};c.prototype.mX=function(){var g;g=this.j.kca;return g?g.mX():[];};c.prototype.addEventListener=function(g,h){this.Opa.addListener(g,h);this.lba[g] && this.kbb(g);};c.prototype.removeEventListener=function(g,h){this.Opa.removeListener(g,h);};c.prototype.getTime=function(){return this.Ea.Tb().da(k.ma);};c.prototype.bOb=function(){this.dra=!1;for(var g=this.bca.length,h;g--;){h=this.bca[g];this.Qpa[h] && (this.Qpa[h]=!1,this.Opa.Wc(h + "changed",{getModel:this.lba[h]}));}};b.NGa=c;},function(t,b,a){var k,g,h,d,f,l,m;function c(n,p){var q;q=this;this.Dn=n;this.rv=p;this.hjb=function(r){var u,v,w,x,y,z,A;u=q.zib++;v=r.request.eE || "dl";w=q.L5a(v,"start");if(w){x=r.request.AB;y=x.stream.O.nq;x=na(x.stream.O.Ci).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.u.id,!q.Hhb.has(y))){z=q.d5a(y);A=r.Ht;q.Dn.mark(w,z,A?v + "-" + A + "-" + u:v);r.i6(function(){var B,C;B=q.L5a(v,"end");C=A?v + "-" + A + "-" + u:v;B && q.Dn.mark(B,z,C);});}}};this.zib=0;this.Hhb=new Set();this.xAa=new Map();p.BW && this.Udc();}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;t=a(0);k=a(1);g=a(61);h=a(81);d=a(5);f=a(104);a=a(40);l={start:{video:g.Oa.qS,audio:g.Oa.mS},end:{video:g.Oa.pS,audio:g.Oa.lS}};c.prototype.e5a=function(n){var q,r,u,v,w,x,y,z;function p(A){return (0,d.timestamp)(q.EWa((0,d.timestamp)(A),n,!0));}q=this;r=new Set();u=n.qd;v=n.ga;w=void 0 === n.Bhb?null:n.Bhb;x=n.Y;y=this.Dn.J4a(v);z=x && this.d5a(x);z && y.push.apply(y,ha(this.Dn.J4a(z)));this.Dn.Ieb(n.ga);z && this.Dn.Ieb(z);x && this.Hhb.add(x);x=[];("pr_ats" in u) && x.push({name:g.Oa.R3,Wt:p(u.pr_ats),ga:v,Rf:"request-pre-manifest"});("ats" in u) && x.push({name:g.Oa.P3,Wt:p(u.ats),ga:v,Rf:"request-manifest"});("pr_at" in u) && x.push({name:g.Oa.Q3,Wt:p(u.pr_at),ga:v,Rf:"request-pre-manifest"});("at" in u) && x.push({name:g.Oa.O3,Wt:p(u.at),ga:v,Rf:"request-manifest"});("lg" in u) && x.push({name:g.Oa.N3,Wt:p(u.lg),ga:v,Rf:"request-license"});("lr" in u) && (x.push({name:g.Oa.M3,Wt:p(u.lr),ga:v,Rf:"request-license"}),x.push({name:g.Oa.s1,Wt:p(u.lr),ga:v,Rf:"apply-license"}));("ld" in u) && x.push({name:g.Oa.r1,Wt:p(u.ld),ga:v,Rf:"apply-license"});("tt_start" in u) && x.push({name:g.Oa.oS,Wt:p(u.tt_start),ga:v,Rf:"request-timed-text"});("tt_comp" in u) && x.push({name:g.Oa.nS,Wt:p(u.tt_comp),ga:v,Rf:"request-timed-text"});return x.concat(y).map(function(A){return q.Xac(A,n);}).filter(function(A){return A.ts <= (null !== w && void 0 !== w?w:A.ts)?("end" === A.step && r.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || r.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var C;C=B.eventName;delete B.eventName;C && (A[C]=B);return A;},{});};c.prototype.fBb=function(n,p,q){return (void 0 === q?0:q)?n.da(d.ma) + p.oj.da(d.ma):n.da(d.ma) - p.oj.da(d.ma);};c.prototype.EWa=function(n,p,q){q=void 0 === q?!1:q;if(p.Un)if(q)n.da(d.ma) + p.Un;else return n.da(d.ma) - p.Un;return this.fBb(n,p,q);};c.prototype.Xac=function(n,p){var q,r;q=n.Rf;r=n.name;return {eventName:this.P_b(r,q),eventId:q || r,ts:this.EWa(n.Wt,p),comp:this.eX(r),cat:this.FPb(r),step:this.rSb(r)};};c.prototype.P_b=function(n,p){switch(n){case g.Oa.oS:case g.Oa.nS:case g.Oa.mS:case g.Oa.lS:case g.Oa.qS:case g.Oa.pS:return n + "-" + p;default:return n;}};c.prototype.eX=function(n){switch(n){case g.Oa.R3:case g.Oa.Q3:case g.Oa.P3:case g.Oa.O3:return "manifest";case g.Oa.N3:case g.Oa.M3:case g.Oa.dja:case g.Oa.cja:case g.Oa.m2:case g.Oa.l2:case g.Oa.s1:case g.Oa.r1:return "license";case g.Oa.oS:case g.Oa.nS:case g.Oa.mS:case g.Oa.lS:case g.Oa.qS:case g.Oa.pS:case g.Oa.tfa:case g.Oa.sfa:return "buffering";case g.Oa.iia:case g.Oa.hia:return "playback";default:return null;}};c.prototype.FPb=function(n){switch(n){case g.Oa.R3:case g.Oa.Q3:case g.Oa.P3:case g.Oa.O3:return "aws";case g.Oa.N3:case g.Oa.M3:return "mixed";case g.Oa.iia:case g.Oa.hia:case g.Oa.dja:case g.Oa.cja:case g.Oa.m2:case g.Oa.l2:case g.Oa.s1:case g.Oa.r1:case g.Oa.tfa:case g.Oa.sfa:return "device";case g.Oa.oS:case g.Oa.nS:case g.Oa.mS:case g.Oa.lS:case g.Oa.qS:case g.Oa.pS:return "cdn";default:return null;}};c.prototype.rSb=function(n){switch(n){case g.Oa.R3:case g.Oa.iia:case g.Oa.P3:case g.Oa.N3:case g.Oa.tfa:case g.Oa.oS:case g.Oa.mS:case g.Oa.qS:case g.Oa.dja:case g.Oa.m2:case g.Oa.s1:return "start";case g.Oa.Q3:case g.Oa.hia:case g.Oa.O3:case g.Oa.M3:case g.Oa.cja:case g.Oa.l2:case g.Oa.r1:case g.Oa.sfa:case g.Oa.nS:case g.Oa.lS:case g.Oa.pS:return "end";default:return null;}};c.prototype.L5a=function(n,p){if((n in l[p]))return l[p][n];};c.prototype.Ybc=function(){f.lf.removeEventListener(f.k$,this.hjb);};c.prototype.Udc=function(){this.Ybc();f.lf.addEventListener(f.k$,this.hjb);};c.prototype.d5a=function(n){var p;if(this.xAa.has(n))return this.xAa.get(n);p=Date.now();this.xAa.set(n,p);return p;};m=c;m=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.eT)),t.__param(1,(0,k.l)(a.mp))],m);b.aMa=m;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F,G,E,I,L,K,H,R,O,J,M,P,S,U;Object.defineProperty(b,"__esModule",{value:!0});b.uZa=void 0;t=a(1);c=a(506);k=a(1347);g=a(102);h=a(1348);d=a(518);f=a(1349);l=a(523);m=a(1350);n=a(524);p=a(1351);q=a(289);r=a(1352);u=a(88);v=a(1353);w=a(1354);x=a(37);y=a(3);z=a(1355);A=a(1356);B=a(1357);C=a(54);D=a(1358);F=a(574);G=a(1359);E=a(503);I=a(1360);L=a(1361);K=a(1362);H=a(451);R=a(1363);O=a(80);J=a(573);M=a(1364);P=a(1365);S=a(1366);U=a(305);b.uZa=new t.vd(function(T){T(C.ao).to(D.tNa);T(c.INa).to(k.HNa);T(F.oNa).to(G.nNa);T(E.qNa).to(I.pNa);T(g.tia).to(h.JNa);T(J.KNa).ef(function(W){return function(){var ia;ia=W.ub.get(O.yz);return ia && ia.Fkb?W.ub.resolve(P.cOa):W.ub.resolve(M.LNa);};});T(d.mNa).to(f.lNa);T(l.$Na).to(m.ZNa);T(n.CNa).to(p.BNa);T(q.sia).to(r.DNa);T(u.TQa).to(v.SQa);T(u.ZQa).to(w.YQa);T(u.gKa).to(z.fKa);T(u.OQa).to(A.NQa);T(u.HHa).to(B.GHa);T(K.Fsb).to(L.MNa);T(H.ANa).to(R.zNa);T(U.Afa).to(S.JDa);T(u.Kga).ef(function(W){return function(ia){switch(ia){case u.Eq.start:return W.ub.get(u.TQa);case u.Eq.stop:return W.ub.get(u.ZQa);case u.Eq.pY:return W.ub.get(u.gKa);case u.Eq.splice:return W.ub.get(u.OQa);case u.Eq.tO:return W.ub.get(u.HHa);}throw new x.jd(y.V.Rrb,void 0,void 0,void 0,void 0,"The event key was invalid - " + ia);};});});},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.Hqb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(l,m){var n;n=this;return this.send(l,{url:"/" + h.eh.Kva,name:h.eh.Kva,Kn:h.eh.Kva},m).then(function(p){return p.result;}).catch(function(p){throw n.Fo(p);});};c.prototype.sr=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.HNa=f;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r;function c(u,v,w,x,y){u=d.bj.call(this,u,g.V.CL,3) || this;u.platform=v;u.NY=w;u.lXb=x;u.xYb=y;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.JNa=void 0;t=a(0);k=a(102);g=a(3);h=a(71);a(161);d=a(76);f=a(54);l=a(48);m=a(40);n=a(132);p=a(289);q=a(1);a=a(573);ka(c,d.bj);c.prototype.gg=function(u,v){var w,x,y,z;w=this;x=v.pv === k.Zn.AG?"prefetch/manifest":h.eh.ea;y=h.eh.ea;z=v.pv === k.Zn.Z3?m.Sw.pPa:m.Sw.pT;return this.xYb().transform(v,z).then(function(A){var B,C;A=na(A);B=A.next().value;C=A.next().value;!1;"licensedManifest" === C.vo && (x=v.pv === k.Zn.AG?"prefetch/licensedManifest":"licensedManifest",y=h.eh.mXb);return w.send(u,{url:C.vo,name:y,Kn:x},B,void 0,void 0,z).then(function(D){var F;D=w.NY.create(D.result);F=D.ab.Bw.map(function(G){return G.vh;}).filter(Boolean);C.KA && (0 < F.length?(F=w.lXb.mjb(F),C.KA.mWa(F),D.KA=C.KA,D.Dua=v.pv === k.Zn.AG,D.Cua=!0):C.KA.close());D.lV=C.lV;D.b1=C.b1;!1;return D;});}).catch(function(A){!1;throw w.Fo(A);});};c.prototype.sr=function(){return Promise.reject(Error("Links are not supported with manifest command"));};r=c;r=t.__decorate([(0,q.X)(),t.__param(0,(0,q.l)(f.ao)),t.__param(1,(0,q.l)(l.Hq)),t.__param(2,(0,q.l)(n.DL)),t.__param(3,(0,q.l)(p.sia)),t.__param(4,(0,q.l)(a.KNa))],r);b.JNa=r;},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.zL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.sr=function(l,m,n){var p;p=this;m={url:m.qX(n.e9a).href,name:h.eh.vh,Kn:"ldl" === n.e9a?"prefetch/license":h.eh.vh};return this.send(l,m,n.inputs,"drmSessionId").then(function(q){q=q.result;p.IEb(q);return q;}).catch(function(q){throw p.Fo(q);});};c.prototype.IEb=function(l){l.forEach(function(m){if(!m.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.lNa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.Yia,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(l,m){var n;n=this;return this.send(l,{url:"/bundle",name:h.eh.vh,Kn:"release/license"},m).then(function(p){return p.result;}).catch(function(p){throw n.Fo(p);});};c.prototype.sr=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.ZNa=f;},function(t,b,a){var k,g,h;function c(d){this.Aa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;t=a(0);k=a(1);g=a(30);h=a(5);c.prototype.obc=function(d){var f;f=this.Aa.xf.da(h.rp);return {inputs:d.yk.map(function(l){return {drmSessionId:l.sessionId,clientTime:f,challengeBase64:l.dataBase64,xid:d.ga.toString()};}),e9a:"standard" === d.ng.toLowerCase()?"license":"ldl"};};c.prototype.rbc=function(d){var f,l;f=this;l=[];return d.Ge.map(function(m){l.push(m.id);return {url:f.wDb(m.oJ,m.CY),echo:"drmSessionId",params:{drmSessionId:m.id,xid:d.ga.toString()}};});};c.prototype.wDb=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.Bh))],a);b.BNa=a;},function(t,b,a){var k,g,h;function c(d,f){this.yi=d;this.HD=f;}Object.defineProperty(b,"__esModule",{value:!0});b.DNa=void 0;t=a(0);k=a(1);g=a(32);a=a(33);c.prototype.mjb=function(d){var f,l;f=this;l=d.map(function(m){return m.links.releaseLicense.href;}).map(function(m){return f.yi.KZ(m.substring(m.indexOf("?") + 1));});return {ca:!0,Ge:d.map(function(m,n){return {id:m.drmSessionId,oJ:l[n].drmlicensecontextid,CY:l[n].licenseid};}),Oj:d.map(function(m){return {data:f.HD.decode(m.licenseResponseBase64),sessionId:m.drmSessionId};})};};h=c;h=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$h)),t.__param(1,(0,k.l)(a.zi))],h);b.DNa=h;},function(t,b,a){var k,g,h,d,f;function c(l){return h.gs.call(this,l,g.V.ptb,d.Eq.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SQa=void 0;t=a(0);k=a(1);g=a(3);h=a(164);d=a(88);a=a(54);ka(c,h.gs);f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.SQa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return h.gs.call(this,l,g.V.qtb,d.Eq.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YQa=void 0;t=a(0);k=a(1);g=a(3);h=a(164);d=a(88);a=a(54);ka(c,h.gs);f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.YQa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return h.gs.call(this,l,g.V.pha,d.Eq.pY,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;t=a(0);k=a(1);g=a(3);h=a(164);d=a(88);a=a(54);ka(c,h.gs);f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.fKa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return h.gs.call(this,l,g.V.gQa,d.Eq.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NQa=void 0;t=a(0);k=a(1);g=a(3);h=a(164);d=a(88);a=a(54);ka(c,h.gs);f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.NQa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return h.gs.call(this,l,g.V.ipb,d.Eq.tO,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;t=a(0);k=a(1);g=a(3);h=a(164);d=a(88);a=a(54);ka(c,h.gs);c.prototype.BN=function(l){return Object.assign(Object.assign({},h.gs.prototype.BN.call(this,l)),{action:l.action});};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.GHa=f;},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r,u,v,w,x,y,z,A){this.ci=q;this.lf=r;this.ki=u;this.QKb=v;this.fB=w;this.Mcc=x;this.H6b=z;this.mI=A;}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;t=a(0);k=a(1);g=a(170);h=a(80);d=a(543);f=a(540);l=a(82);m=a(70);n=a(351);p=a(110);a=a(90);c=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.y1)),t.__param(1,(0,k.l)(m.Mw)),t.__param(2,(0,k.l)(h.yz)),t.__param(3,(0,k.l)(f.wNa)),t.__param(4,(0,k.l)(l.pz)),t.__param(5,(0,k.l)(n.VRa)),t.__param(6,(0,k.l)(p.b2)),t.__param(7,(0,k.l)(d.bOa)),t.__param(8,(0,k.l)(a.iz))],c);b.tNa=c;},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.umb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(l,m,n){var p;p=this;return this.send(l,{url:"/" + h.eh.bind,name:h.eh.bind,Kn:h.eh.bind},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Fo(q);});};c.prototype.sr=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.nNa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.vmb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(l,m,n){var p;p=this;return this.send(l,{url:"/bindDevice",name:h.eh.bind,Kn:h.eh.bind},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Fo(q);});};c.prototype.sr=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.pNa=f;},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.esb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(l,m,n){var p;p=this;return this.send(l,{url:"/" + h.eh.ping,name:h.eh.ping,Kn:h.eh.ping},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Fo(q);});};c.prototype.sr=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.MNa=f;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fsb="PboPingCommandSymbol";},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.xpb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zNa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);a=a(54);ka(c,d.bj);c.prototype.gg=function(l,m){var n;n=this;return this.send(l,{url:"/generateScreenshots",name:h.eh.ea,Kn:"generateScreenshots"},m).then(function(p){return p.result;}).catch(function(p){throw n.Fo(p);});};c.prototype.sr=function(l,m,n){var p;p=this;m={url:m.qX("generateScreenshots").href,name:h.eh.ea,Kn:"generateScreenshots"};return this.send(l,m,n).then(function(q){return q.result;}).catch(function(q){throw p.Fo(q);});};f=c;f=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(a.ao))],f);b.zNa=f;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v,w,x;function c(y,z,A,B,C,D,F,G,E,I){this.ki=y;this.platform=z;this.config=A;this.qEb=B;this.h3b=C;this.iq=D;this.FV=F;this.Aa=G;this.Saa=E;this.zo=I;}Object.defineProperty(b,"__esModule",{value:!0});b.LNa=void 0;t=a(0);k=a(1);g=a(102);h=a(12);d=a(490);f=a(488);l=a(571);m=a(96);n=a(48);p=a(30);q=a(5);r=a(168);u=a(80);v=a(353);w=a(26);x=a(57);c.prototype.transform=function(y,z){var A,B,C,D,F,G,E,I;A=this;B=y.gb;C=Object.assign({},B.N6,B.Nn);D={};F=y.K;D[F]={unletterboxed:! !C.preferUnletterboxed};G=this.config();E=G.Wcc?30:25;G=G.au?this.iq.jQb():Promise.resolve(this.Saa.tv());I={Ed:null === B || void 0 === B?void 0:B.Ed};return Promise.all([this.zo.F5a(I),this.zo.H5a(I),this.zo.yX(),this.zo.B9(),this.GPb(y.ga,z),this.lQb(y),G]).then(function(L){var K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa,za,Ca;K=na(L);H=K.next().value;R=K.next().value;O=K.next().value;J=K.next().value;M=K.next().value;L=K.next().value;P=K.next().value;K=H.J9().concat(R.J9()).concat(A.config().vw).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Ca="postplay" === B.Ed?!0:! !C.isUIAutoPlay;O={type:"standard",manifestVersion:A.ki.F1a?"v2":"v1",viewableId:F,profiles:K,flavor:y.pv,drmType:P,drmVersion:E,usePsshBox:!0,isBranching:! !y.gb.Ph,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().nac,imageSubtitleHeight:d.wja.l5a(),uiVersion:A.ki.Ry,uiPlatform:A.ki.Iea,clientVersion:A.platform.version,platform:null === (S=A.config().ke) || void 0 === S?void 0:S.version,osVersion:null === (T=null === (U=A.config().ke) || void 0 === U?void 0:U.os) || void 0 === T?void 0:T.version,osName:null === (ia=null === (W=A.config().ke) || void 0 === W?void 0:W.os) || void 0 === ia?void 0:ia.name,supportsPreReleasePin:A.config().mr.hac,supportsWatermark:A.config().mr.iac,packageId:A.xRb(B),deviceSecurityLevel:J,videoOutputInfo:O,titleSpecificData:D,preferAssistiveAudio:! !C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:Ca,challenge:M,isNonMember:A.ki.X7a,pin:B.Ccb,desiredVmaf:A.config().xkb?A.config().z0a:A.config().A0a,desiredSegmentVmaf:A.config().xkb?A.config().z0a:A.config().A0a,requestSegmentVmaf:A.config().M6b,supportsPartialHydration:A.ki.qO,contentPlaygraph:y.gb.Ph?[]:A.ki.gI,auxiliaryManifestToken:y.gb.Ph?void 0:null === (pa=y.Ki) || void 0 === pa?void 0:pa.Ee,originalPlaybackContextId:!y.gb.Ph && (null === (wa=y.Ki) || void 0 === wa?0:wa.Ee)?null === (za=y.Ki) || void 0 === za?void 0:za.Jxa:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE"};B.b2a && (O.extraParams=B.b2a);B.y0a && (O.desiredDownloadables=B.y0a);B.Kza && (O.requestReference=B.Kza);S={vo:L?"licensedManifest":"manifest",KA:null === L || void 0 === L?void 0:L.bc,lV:H,b1:R};L && (L={drmSessionId:L.bc.XA() || "session",clientTime:A.Aa.$Q.da(q.rp),challengeBase64:L.goa},O.challenges={"default":[L]},O.profileGroups=[{name:"default",profiles:K}],O.licenseType=y.ng == x.Bi.np?"limited":"standard",y.ga && (O.xid=y.ga.toString()));A.ki.qO || (O.showAllSubDubTracks=A.config().mr.J9b || ! !C.showAllSubDubTracks,A.ki.x1a && y.pv === g.Zn.Z3 && (O.maxSupportedLanguages=2));y.Aea && (O.originalPlaybackContextId=y.Aea.Jxa,O.requiredAudioTrackId=y.Aea.Q6b,O.requiredTextTrackId=y.Aea.T6b);return [O,S];});};c.prototype.xRb=function(y){if(this.config().Ica.enabled){if(void 0 !== y.Wo)return y.Wo;if(void 0 !== this.config().Ica.Wo)return Number(this.config().Ica.Wo);}};c.prototype.GPb=function(y,z){var A;A=this;return this.qEb.J3a(z).then(function(B){var C;C=y && A.h3b.DRb(y);C && C.Xq("cad");return B;});};c.prototype.lQb=function(y){var z;if(void 0 === y.ng || !this.config().au)return Promise.resolve(void 0);z=y.ng === x.Bi.Iq && this.ki.Ex;return y.ng === x.Bi.np && this.ki.lE || z?this.FV.Qsa(y.ng):Promise.resolve(void 0);};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(u.yz)),t.__param(1,(0,k.l)(n.Hq)),t.__param(2,(0,k.l)(h.Ic)),t.__param(3,(0,k.l)(f.nFa)),t.__param(4,(0,k.l)(l.Jia)),t.__param(5,(0,k.l)(m.uz)),t.__param(6,(0,k.l)(r.L1)),t.__param(7,(0,k.l)(p.Bh)),t.__param(8,(0,k.l)(v.Pha)),t.__param(9,(0,k.l)(w.hz))],a);b.LNa=a;},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p,q){this.platform=m;this.config=n;this.FV=p;this.zo=q;}Object.defineProperty(b,"__esModule",{value:!0});b.cOa=void 0;t=a(0);k=a(1);g=a(12);h=a(48);d=a(168);f=a(26);l=a(57);c.prototype.transform=function(m){var n,p,q;n=this;p=m.gb;q={Ed:void 0};return Promise.all([this.zo.F5a(q),this.zo.H5a(q),this.FV.Qsa(l.Bi.Iq)]).then(function(r){var u,v;u=na(r);r=u.next().value;v=u.next().value;u=u.next().value;return [{viewableId:m.K,packageId:p.Wo,assetId:p.cna,challenge:u.goa,audioProfiles:r.J9(),textProfiles:n.config().vw,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.J9(),audioLanguages:p.qCb,textLanguages:p.Eac,videoLanguages:p.Tkb?[p.Tkb]:void 0,requestReference:p.Kza,additionalAudioAssets:p.aBb,additionalTextAssets:p.eBb},{KA:null === u || void 0 === u?void 0:u.bc,vo:"studioManifest",lV:r,b1:v}];});};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Hq)),t.__param(1,(0,k.l)(g.Ic)),t.__param(2,(0,k.l)(d.L1)),t.__param(3,(0,k.l)(f.hz))],a);b.cOa=a;},function(t,b,a){var k,g,h,d,f;function c(l){return d.bj.call(this,l,g.V.Hlb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;t=a(0);k=a(1);g=a(3);h=a(71);d=a(76);f=a(54);a(161);ka(c,d.bj);c.prototype.gg=function(l,m){var n,p,q;n=this;p=m.event;q=this.BN(m);!1;!1;return this.send(l,{url:m.href,name:h.eh.events,Kn:h.eh.events + "/" + p},q).then(function(){return m;}).catch(function(r){throw n.Fo(r);});};c.prototype.sr=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.BN=function(l){return {xid:l.ga,event:l.event,adEventToken:l.VU,adBreakLocationMs:l.UU,position:l.position,clientTime:l.aI,sessionStartTime:l.rq,appId:l.appId,sessionId:l.sessionId,playTimes:this.Pna(l.Xv)};};c.prototype.Pna=function(l){return {total:l.total,audio:l.audio.map(function(m){return {duration:m.duration,downloadableId:m.Yb};}),video:l.video.map(function(m){return {duration:m.duration,downloadableId:m.Yb};}),text:l.text.map(function(m){return {duration:m.duration,downloadableId:m.Yb};})};};a=c;a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(f.ao))],a);b.JDa=a;},function(t,b,a){var c,k,g,h,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;t=a(1);c=a(283);k=a(541);g=a(1368);h=a(1369);d=a(1370);f=a(40);b.transports=new t.vd(function(l){l(c.k4).to(d.HRa).ha();l(k.hMa).to(g.gMa);l(k.QQa).to(h.PQa);l(k.IRa).ef(function(m){return function(n){var p;return m.ub.get(c.k4).Oda(null !== (p=null === n || void 0 === n?void 0:n.t_b) && void 0 !== p?p:f.Sw.pT)?m.ub.get(k.hMa):m.ub.get(k.QQa);};});});},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p){var q;q=this;this.cF=n;this.profile=p;this.log=m.mb("MslTransport");this.cF().then(function(r){return q.oba=r;});}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;t=a(0);k=a(1);g=a(6);h=a(159);d=a(5);a=a(78);f={license:!0};c.prototype.send=function(m,n){var p,q;p=this;q={Rwa:Object.assign({lf:m.lf,log:m.log,profile:this.profile},m.WCb),method:m.vo,url:m.url.href,body:JSON.stringify(n),timeout:m.timeout.da(d.ma),Ikb:this.profile,x6b:!f[m.vo],Vab:! !f[m.vo],Zl:!0,kda:m.Xza,headers:m.headers};!1;return this.cF().then(function(r){return r.send(q).catch(function(u){var v;if(!u.error)throw (u.Cc=u.wa || u.Cc,u);v=u.error;v.wF=u.wF;p.log.error("Error sending MSL request",{mslCode:v.DB,subCode:v.Cc,data:v.data,message:v.message});throw v;});});};c.prototype.apa=function(){var m;return {userTokens:null === (m=this.oba) || void 0 === m?void 0:m.iZ.getUserIdTokenKeys()};};l=c;l=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.sb)),t.__param(1,(0,k.l)(h.fT)),t.__param(2,(0,k.l)(a.PL))],l);b.gMa=l;},function(t,b,a){var k,g,h,d;function c(f,l){this.lf=l;this.log=f.mb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.PQa=void 0;t=a(0);k=a(1);g=a(5);h=a(6);a=a(70);c.prototype.send=function(f,l){var m,n;m=this;n={url:f.url.href,eE:"nq-" + f.vo,fdb:JSON.stringify(l),p7:f.timeout.da(g.ma),headers:f.headers,withCredentials:!0,Rt:"pbo"};!1;return new Promise(function(p,q){m.lf.download(n,function(r){r.ca?p(r):q(r);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Cc=p.wa || p.Cc,p);q=p.error;q.wF=p.wF;m.log.error("Error sending SSL request",{subCode:q.Cc,data:q.content,message:q.message});throw q;});};c.prototype.apa=function(){return {};};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.sb)),t.__param(1,(0,k.l)(a.Mw))],d);b.PQa=d;},function(t,b,a){var k,g,h,d,f;function c(l){return g.pf.call(this,l,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HRa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);d=a(45);f=a(40);ka(c,g.pf);c.prototype.Oda=function(l){var m,n;m=this.LR;n=this.JWa;switch(l){case f.Sw.pT:return m;case f.Sw.pPa:return m && !n;case f.Sw.Drb:return !1;}};Va.Object.defineProperties(c.prototype,{LR:{configurable:!0,enumerable:!0,get:function(){return !0;}},JWa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;t.__decorate([d.config(d.xd,"usesMsl")],a.prototype,"LR",null);t.__decorate([d.config(d.xd,"allowRequestsWithoutMsl")],a.prototype,"JWa",null);a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm))],a);b.HRa=a;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.cm=void 0;t=a(1);c=a(556);k=a(1372);b.cm=new t.vd(function(g){g(c.tKa).to(k.sKa);});},function(t,b,a){var k,g,h,d,f,l,m,n;function c(p,q,r,u,v){this.qI=p;this.Ek=q;this.config=r;this.NP=u;this.Fd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=void 0;t=a(0);k=a(1);g=a(121);h=a(1373);d=a(1374);f=a(67);l=a(12);m=a(139);a=a(116);c.prototype.create=function(p,q,r){return p?new h.uKa(this.config(),this.Ek,this.Fd,q,r,this.qI,this.NP()):new d.mKa(this.config,this.Ek,this.Fd,q,r);};n=c;n=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.f2)),t.__param(1,(0,k.l)(f.iu)),t.__param(2,(0,k.l)(l.Ic)),t.__param(3,(0,k.l)(m.aT)),t.__param(4,(0,k.l)(a.OG))],n);b.sKa=n;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y,z){w=m.jS.call(this,w,x) || this;w.config=r;w.Ek=u;w.Fd=v;w.qI=y;w.Taa=z;w.log=(0,g.Qi)(w.j,"LicenseBroker");w.AY=new Set();w.wwa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;t=a(0);k=a(3);g=a(8);h=a(336);d=a(5);f=a(1);l=a(575);m=a(576);n=a(57);p=a(17);q=a(49);ka(c,m.jS);c.prototype.Nba=function(){var r,u;r=this;u=this.j.la;this.AY.has(u.I) || (this.AY.add(u.I),this.HBb(u).catch(function(){return r.Yeb(u);}).then(function(){return r.bXa(u);}).catch(function(v){return r.aXa(u,v);}).catch(function(v){return r.Sd(v.code,v,v.Td);}));};c.prototype.HBb=function(r){var u;u=this;return Promise.all([this.Fd.F3a(r.I),this.qI()]).then(function(v){var w,x;v=na(v);w=v.next().value;x=v.next().value;return w.Gda.then(function(y){var z;z=u.Taa.mediaKeys;if(z && z !== y.mediaKeys)return (u.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === w.source && (z=u.F4a(r),x.pab(z,y));return y;}).then(function(y){return u.y6(y,r,w.source);});}).catch(function(v){u.log.warn("eme not in cache",v);throw v;});};c.prototype.y6=function(r,u,v){this.ydb(r,u);u.VH=v;this.Taa.oWa(r.mediaKeys);return r.Wma();};c.prototype.xOb=function(r){var u;u={};r.forEach(function(v){u[(0,h.d1a)(v.ZY)]=v.time.da(d.ma);});return u;};c.prototype.ydb=function(r,u){var v;v=this;u.Ve=r;r.F8b(function(w){v.Sd(w.code,w,w.Td);});};c.prototype.bXa=function(r){this.log.info("Successfully applied license for xid: " + r.ga + ", viewable: " + r.I + ", segment: " + r.Y);this.gB(r);this.wwa?this.G8(r.I):this.setMediaKeys(r);};c.prototype.aXa=function(r,u){this.gB(r);throw u;};c.prototype.gB=function(r){r.Ve && r.gB(this.xOb(r.Ve.qd));};c.prototype.F4a=function(r){var u;u=void 0;r.Jg.value && (u=(0,q.psa)(r.Jg.value.streams));return {type:this.u9(!1),initData:r.iw.map(function(v){return (0,g.Ms)(v);}),context:{$:this.Ub.$,faa:u},Yj:{I:r.I,ga:r.ga,li:r.li,Yl:r.Yl,Pj:r.ea.Pj}};};c.prototype.Yeb=function(r){var u;u=this;return this.qI().then(function(v){var w;w=u.F4a(r);u.AY.add(r.I);return v.vh(w,u.Taa).then(function(x){u.ydb(x,r);u.j.fireEvent(p.ja.DY,{I:r.I});return x.Wma();});});};c.prototype.setMediaKeys=function(r){var u;u=this;if(this.wwa)this.log.trace("Media Keys already set");else try{this.Ub.$?(this.wwa=!0,this.Ub.$.setMediaKeys(r.Ve.mediaKeys).then(function(){u.G8(r.I);}).catch(function(v){v=u.N5a(v);u.Sd(k.V.LL,v,v.Ef);})):this.G8(r.I);}catch(v){this.Sd(k.V.LL,v,void 0);}};c.prototype.YB=function(){var r,u;r=this;u=this.j.la.Ve;return u?this.qI().then(function(v){return v.release(u,r.Taa).then(function(w){r.log.trace("Successfully released the license");return w.close();}).catch(function(w){r.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.Xeb=function(r){var u;u=this;r=void 0 === r?this.j:r;return this.Yeb(r).then(function(){return u.bXa(r);}).catch(function(v){return u.aXa(r,v);});};c.prototype.u9=function(r){return this.Ek.VW?n.Bi.np:r?n.Bi.np:n.Bi.Iq;};Va.Object.defineProperties(c.prototype,{dF:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},yn:{configurable:!0,enumerable:!0,get:function(){return this.config.yn;}}});a=c;t.__decorate([l.naa],a.prototype,"dF",null);a=t.__decorate([(0,f.X)()],a);b.uKa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u;function c(v,w,x,y,z){y=p.jS.call(this,y,z) || this;y.config=v;y.Ek=w;y.Fd=x;y.log=(0,g.Qi)(y.j,"LegacyLicenseBroker");y.yn=y.config().yn;y.config().Gdb?(0,d.c8a)()?y.Tea=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:f.xG}):y.Tea=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;t=a(0);k=a(3);g=a(8);h=a(158);d=a(43);f=a(13);l=a(1);m=a(575);n=a(48);p=a(576);q=a(57);r=a(5);ka(c,p.jS);c.prototype.k_a=function(v){var w;w=void 0 === w?this.j:w;return new this.At.rL(v,function(x){return w.q7.KI(x);},function(x){return w.q7.release(x);},{Ff:!1,sl:!1});};c.prototype.ZD=function(v){var w,x,y,z,A,B;w=this;v=void 0 === v?this.j:v;x=a(60).uo;this.At.rL || this.Sd(k.V.zL,k.R.Yob);y=(0,g.Qi)(v,"Eme");z=this.k_a(y);A=g.ya.get(h.wT);B=A.u7(v.yc.value.streams);A=A.A7(v.Jg.value.streams);return this.At.tL(y,function(C){return v.He(C);},{Ff:!1,sl:!1,Aa:{getTime:x},mm:z,g_:! !this.Tea,$:this.Ub.$,vC:this.config().u1a,onerror:function(C,D,F){return w.Sd(C,D,F);},hxa:function(){},RJ:!0,pCb:B,vdc:A,vva:this.Ek.v6.da(r.ma)});};c.prototype.setMediaKeys=function(v){var w;w=this;return this.Tea?new Promise(function(x,y){if(w.Ub.$)w.Ub.$.setMediaKeys(v).then(function(){x();}).catch(function(z){var A;A=w.N5a(z);y({ca:!1,code:k.V.LL,Cc:A.wa,Td:A.Ef,Ob:A.Ob,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.V1a=function(v){return {code:v.code,subCode:v.Cc,extCode:v.Td,edgeCode:v.Co,message:v.message,errorDetails:v.Ob,errorData:v.vI,state:v.state};};c.prototype.SAa=function(v,w,x){var z,A,B;function y(){A.bK().catch(function(C){z.log.error("Unable to set the license",z.V1a(C));C.cause && C.cause.Ob && (C.Ob=C.Ob?C.Ob + C.cause.Ob:C.cause.Ob);z.Sd(C.code,C,C.Td);});}z=this;x=void 0 === x?this.j:x;A=x.Ve;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return A.vh(z.u9(!1),v);};return (w?function(){return A.y6(z.Ub.$);}:function(){return A.create(z.yn).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.G8(x.I);z.Ub.klb.then(function(){z.config().SE && (w || z.config().VW) && (z.Seb=mb.setTimeout(y,z.config().SE));});}).catch(function(C){z.log.error("Unable to set the license",z.V1a(C));C.cause && C.cause.Ob && (C.Ob=C.Ob?C.Ob + C.cause.Ob:C.cause.Ob);if(w)throw Error(C && C.message?C.message:"failed to set license");z.Sd(C.code,C,C.Td);});};c.prototype.YB=function(){return Promise.resolve();};c.prototype.Nba=function(){var w;function v(){var x;w.j.Ve=w.ZD();x=[];w.j.iw.forEach(function(y){x.push((0,g.Ms)(y));});w.SAa(x);}w=this;this.AY || (this.AY=!0,this.At.tL?this.j.iw?this.config().AW && this.config().fw?this.Fd.F3a(this.j.I).then(function(x){w.j.Ve=x;return x.rDa.then(function(){var y;y=[];w.j.iw.forEach(function(z){y.push((0,g.Ms)(z));});return w.SAa(y,!0).then(function(){var z;if(x.Lkc)w.Sd(k.V.bpb);else {z=(0,g.Qi)(w.j,"Eme");x.dkb({log:z,Uo:function(A){return w.j.He(A);}},{mm:w.k_a(z),onerror:function(A,B,C){return w.Sd(A,B,C);}});w.j.gB(x.qd || ({}));w.j.VH="videopreparer";}});});}).catch(function(x){w.log.warn("eme not in cache",x);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Sd(k.V.qsb)):this.Sd(k.V.zL,k.R.Zob));};c.prototype.Xeb=function(v){var w;v=void 0 === v?this.j:v;v.Ve=this.ZD();w=[];v.iw.forEach(function(x){w.push((0,g.Ms)(x));});return this.SAa(w,!1,v);};c.prototype.u9=function(v){return this.config().VW?q.Bi.np:v?q.Bi.np:q.Bi.Iq;};Va.Object.defineProperties(c.prototype,{At:{configurable:!0,enumerable:!0,get:function(){return g.ya.get(n.I3);}},dF:{configurable:!0,enumerable:!0,get:function(){return this.Tea?"encrypted":this.Ub.xHa + "needkey";}}});u=c;t.__decorate([m.naa],u.prototype,"At",null);t.__decorate([m.naa],u.prototype,"dF",null);u=t.__decorate([(0,l.X)()],u);b.mKa=u;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.yh=void 0;t=a(1);c=a(306);k=a(1376);g=a(307);h=a(1381);d=a(117);f=a(1383);l=a(1384);m=a(162);n=a(577);p=a(1385);q=a(578);r=a(1387);u=a(82);v=a(579);w=a(1388);b.yh=new t.vd(function(x){x(c.Pia).to(k.aPa).ha();x(g.Ria).to(h.mPa).ha();x(d.NL).to(f.ZOa).ha();x(m.DG).to(l.WOa).ha();x(n.gPa).to(p.fPa).ha();x(q.kPa).ef(function(y){var z;z=y.ub;return function(A){return new r.lPa(A,z.get(u.pz),z.get(m.DG));};});x(v.qKa).ef(function(y){var z;z=y.ub;return function(A,B,C){return new w.rKa(A,B,C,z.get(m.DG),z.get(d.NL));};});});},function(t,b,a){var k,g,h,d,f,l,m,n,p;function c(q,r,u,v,w,x,y){this.pg=q;this.Fqa=r;this.pj=u;this.xCa=v;this.u3b=w;this.w3b=x;this.v3b=y;}Object.defineProperty(b,"__esModule",{value:!0});b.aPa=void 0;t=a(0);k=a(1);g=a(1377);h=a(6);d=a(162);f=a(354);l=a(577);m=a(449);n=a(578);a=a(307);c.prototype.create=function(q){return new g.bPa(q,this.pg,this.Fqa,this.pj,this.xCa,this.u3b,this.w3b,this.v3b);};p=c;p=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.sb)),t.__param(1,(0,k.l)(f.DS)),t.__param(2,(0,k.l)(d.DG)),t.__param(3,(0,k.l)(m.FRa)),t.__param(4,(0,k.l)(l.gPa)),t.__param(5,(0,k.l)(n.kPa)),t.__param(6,(0,k.l)(a.Ria))],p);b.aPa=p;},function(t,b,a){var k,g,h;function c(d,f,l,m,n,p,q,r){this.xCa=n;this.nDa=r;this.TW=!1;m.Sea && (d=new h.cPa().qbc(d));this.rb=q(d);this.Yk=new g.nPa(this.rb);this.Yk.sgb(this.rb.la.K);this.log=f.mb("PlaygraphManager");this.Sb=l.create();this.Zv=p.create(this.rb,this.Yk,this.log,this.Sb);this.n9b();}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;k=a(17);g=a(1378);h=a(1380);c.prototype.GRb=function(){return this.rb.vca;};c.prototype.Vra=function(){return this.rb.la;};c.prototype.R3a=function(){return this.rb.Ih;};c.prototype.SI=function(){return this.rb.Cl;};c.prototype.Yi=function(d){for(var f=[],l=0;l < arguments.length;++l){f[l - 0]=arguments[l];}this.rb.Yi.apply(this.rb,ha(f));};c.prototype.oFb=function(d){for(var f=[],l=0;l < arguments.length;++l){f[l - 0]=arguments[l];}this.rb.mXa(f);};c.prototype.zw=function(d){this.rb.Cl=d;};c.prototype.tj=function(d,f){this.rb.tj(d,f);};c.prototype.kta=function(d,f,l,m){var n,p;l=void 0 === l?{}:l;m=void 0 === m?!0:m;if(d !== this.rb.Ih)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.SI().N[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.Wgb();null === (p=l.Nn) || void 0 === p?void 0:p.isUIAutoPlay;return this.Zv.lta(f,l,m);};c.prototype.isReady=function(){return this.Zv.isReady();};c.prototype.addListener=function(d,f,l){this.Sb.addListener(d,f,l);};c.prototype.removeListener=function(d,f){this.Sb.removeListener(d,f);};c.prototype.Go=function(){return this.Zv.Go();};c.prototype.Hb=function(){return this.Zv.QI();};c.prototype.KIb=function(d,f,l){var m;d=void 0 === d?this.SI().Vd:d;f=void 0 === f?{}:f;m=this.nDa.z_a(this);this.Z3b(null !== d && void 0 !== d?d:this.SI().Vd,f,l);return m;};c.prototype.YAb=function(d){var f;this.log.info("Adding segment - movieId: " + d.I + ", startPts: " + d.ba + ", logicalEnd: " + d.Rj);f=Object.assign({},d.Cb,d.ba?{ba:d.ba}:{},d.Rj?{Rj:d.Rj}:{});this.Qhb(d.I,f,d.ea);d=this.Zv.zWa(d);this.Wgb();return d;};c.prototype.transition=function(d){var f;f=this.rb.vX(this.rb.Ih);return f?this.kta(this.rb.Ih,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Zv.close(d);};c.prototype.Z3b=function(d,f,l){var m;void 0 === d && (d=null === (m=this.SI()) || void 0 === m?void 0:m.Vd);(f || l) && this.Qhb(this.SI().N[d].K,null !== f && void 0 !== f?f:{},l);this.Zv.XJ(d);};c.prototype.Qhb=function(d,f,l){l && this.Yk.lN(d,l);this.Yk.MAb(d,f);};c.prototype.n9b=function(){var d;d=this;this.rb.V$b(function(){d.Yk.py();d.Zv.py();});this.rb.W$b(function(f){d.Zv.Axa(f);});this.rb.U$b(function(f){d.Zv.IJ(f);});this.addListener(k.EG.P_,function(){return d.x1b();});this.addListener(k.Ia.y7a,function(f){return d.l1b(f);});};c.prototype.Wgb=function(){var d;d=this;this.TW || (this.Hb().Ama(k.ja.qK,function(f){return d.gF(f);}),this.TW=!0);};c.prototype.l1b=function(d){var f;f=this;this.Zv.Ajb(d).catch(function(){return f.Sb.Wc(k.Ia.error,d.I0());});};c.prototype.x1b=function(){var d;d=this.Hb().getError();d?this.Sb.Wc(k.Ia.CN,d):(this.Sb.Wc(k.Ia.M6),this.Sb.Wc(k.Ia.Rm),this.Sb.Wc(k.Ia.ww),this.Sb.Wc(k.Ia.um),this.Sb.Wc(k.Ia.L0),this.Sb.Wc(k.Ia.CN));};c.prototype.gF=function(d){var f,l,m;!1;f=d.metrics;if(f){l=this.Hb();m=l.Hk(d.position.segmentId);f=l.Hk(f.srcsegment);this.xCa.H4b(d,m,f,! !l.f5a().Ph);}};b.bPa=c;},function(t,b,a){var k;function c(g){this.fa=g;this.TR={};this.py();}Object.defineProperty(b,"__esModule",{value:!0});b.nPa=void 0;k=a(1379);c.prototype.py=function(){var g;g=this;Object.values(this.fa.Cl.N).forEach(function(h){h=h.K;g.TR[h] || g.p7a(h);});this.Kea();};c.prototype.bP=function(g){return this.TR[g];};c.prototype.H8b=function(g){this.xX(g).state=k.Ez.aIa;this.Kea();};c.prototype.G8b=function(g,h){g=this.xX(g);g.state=k.Ez.Error;g.error=h;g.rfb(!1);this.Kea();};c.prototype.sgb=function(g){g=this.xX(g);g.state=k.Ez.Oob;g.rfb(!0);this.Kea();};c.prototype.MAb=function(g,h){this.xX(g).Cb=h;};c.prototype.lN=function(g,h){this.xX(g).ea=h;};c.prototype.xX=function(g){var h;return null !== (h=this.bP(g)) && void 0 !== h?h:this.p7a(g);};c.prototype.p7a=function(g){var h,d;h=void 0;d=new Promise(function(f,l){h=function(m){(m?f:l)();};});return this.TR[g]={state:k.Ez.vMa,l5b:d,rfb:h};};c.prototype.Kea=function(){var h;for(var g=this.fa.Ih;g=this.fa.vX(g);){h=this.Jo(g);if(this.TR[h].state === k.Ez.Error)break;if(this.TR[h].state === k.Ez.aIa)break;if(this.TR[h].state === k.Ez.vMa)break;}};c.prototype.Jo=function(g){return this.fa.Cl.N[g].K;};b.nPa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ez=void 0;t=b.Ez || (b.Ez={});t[t.vMa=0]="None";t[t.aIa=1]="Fetching";t[t.Oob=2]="Done";t[t.Error=3]="Error";},function(t,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cPa=void 0;k=a(39);c.prototype.qbc=function(g){var h;if(!this.jWb(g.N))return g;h=new k.Ww().xK(g.Vd);Object.entries(g.N).forEach(function(d){var f;f=na(d);d=f.next().value;f=f.next().value;d === g.Vd?h.dg(d,Object.assign(Object.assign({},f),{next:void 0,sa:void 0,Rb:void 0})):h.dg(d,f);});return h.Li();};c.prototype.jWb=function(g){g=Object.values(g).map(function(h){return h.K;});return 1 === new Set(g).size;};b.cPa=c;},function(t,b,a){var k,g,h,d;function c(f,l){this.Ea=f;this.jXb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.mPa=void 0;t=a(0);k=a(1);g=a(19);h=a(579);c.prototype.create=function(f){return new (a(308).o4)(this.Ea.Tb(),f);};c.prototype.z_a=function(f){return new (a(1382).fSa)(this.Ea.Tb(),f,this.jXb);};d=c;d=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$c)),t.__param(1,(0,k.l)(h.qKa))],d);b.mPa=d;},function(t,b,a){var k;function c(g,h,d){var f;f=k.o4.call(this,g,h) || this;f.seek=function(l){return f.Hb().seek(l);};f.addEpisode=function(l){return f.uva.wAb(l);};f.playNextEpisode=function(l){l=void 0 === l?{}:l;return f.uva.e3b(l);};f.watchCredits=function(l){return f.uva.Ndc(l);};f.playSegment=function(l){return f.Hb().Kcb(l);};f.queueSegment=function(l){return f.Hb().Rdb(l);};f.updateNextSegmentWeights=function(l,m){return f.Hb().tj(l,m);};f.setNextSegment=function(l){for(var m=[],n=0;n < arguments.length;++n){m[n - 0]=arguments[n];}m=m.map(function(p){return {Y:p.segmentId,bQ:p.nextSegmentId};});f.yh.Yi.apply(f.yh,ha(m));};f.clearNextSegment=function(l){for(var m=[],n=0;n < arguments.length;++n){m[n - 0]=arguments[n];}return f.yh.oFb.apply(f.yh,ha(m));};f.goToNextSegment=function(l,m){return f.yh.kta(l,m);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return ! !f.Hb().EX().visibility;};f.setTimedTextVisibility=function(l){return f.setTimedTextVisible(l);};f.setTimedTextSize=function(l){return f.Hb().fR({size:l});};f.setTimedTextBounds=function(l){return f.Hb().fR({bounds:l});};f.setTimedTextMargins=function(l){return f.Hb().fR({margins:l});};f.setTimedTextVisible=function(l){return f.Hb().fR({visibility:l});};f.getCongestionInfo=function(l){l && l({success:!1,name:null,isCongested:null});};f.uva=d(g,h,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.fSa=void 0;k=a(308);ka(c,k.o4);b.fSa=c;},function(t,b,a){var k,g,h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZOa=void 0;t=a(0);k=a(117);g=a(1);h=a(39);c.prototype.GIb=function(d){var m,n,p;for(var f=[],l=0;l < arguments.length;++l){f[l - 0]=arguments[l];}m=this;if(0 === f.length)throw Error("Empty playgraph");n=new h.Ww().xK(this.Ys(f[0]));f.reverse().forEach(function(q){var r;r=m.Ys(q);n.dg(r,Object.assign({K:q,qa:0,sa:Infinity},p?{Rb:p}:{}));p=r;});return n.Li();};c.prototype.Ys=function(d,f){f=void 0 === f?k.FG.Eha:f;return d + ":" + f;};c.prototype.FBb=function(d,f){var l,m,n,p;if(void 0 === n)n=null !== (l=f.id) && void 0 !== l?l:this.Ys(f.I);l=this.B4a(d);p=new h.Ww(d);p.dg(n,{K:f.I,qa:null !== (m=f.ba) && void 0 !== m?m:0,sa:Infinity});d=d.N[l];f={};p.dg(l,Object.assign({},d,{Rb:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.Li();};c.prototype.B4a=function(d){for(var f=d.Vd,l=f;l=d.N[l].Rb;){f=l;}return f;};a=c;a=t.__decorate([(0,g.X)()],a);b.ZOa=a;},function(t,b,a){var k,g,h,d,f;function c(l){return g.pf.call(this,l,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WOa=void 0;t=a(0);k=a(1);g=a(46);h=a(34);d=a(45);f=a(5);ka(c,g.pf);Va.Object.defineProperties(c.prototype,{e4b:{configurable:!0,enumerable:!0,get:function(){return 2;}},d4b:{configurable:!0,enumerable:!0,get:function(){return (0,f.kba)(3);}},gDa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Sea:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ekb:{configurable:!0,enumerable:!0,get:function(){return !1;}},S2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},yca:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;t.__decorate([d.config(d.sC,"prepareSegmentsUpfront")],a.prototype,"e4b",null);t.__decorate([d.config(d.Lk,"prepareSegmentsDuration")],a.prototype,"d4b",null);t.__decorate([d.config(d.xd,"usePlaygraphForPostPlay")],a.prototype,"gDa",null);t.__decorate([d.config(d.xd,"usePlaygraphForSkipSegment")],a.prototype,"Sea",null);t.__decorate([d.config(d.xd,"useSinglePlayerPlayback")],a.prototype,"Ekb",null);t.__decorate([d.config(d.xd,"forcePlaygraphTrace")],a.prototype,"S2a",null);t.__decorate([d.config(d.xd,"postPlayDefaultNextEpisode")],a.prototype,"yca",null);a=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(h.Fm))],a);b.WOa=a;},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y,z){this.Ea=r;this.U7b=v;this.pj=x;this.Gn=z;this.T7b=u.GI(!1,"6.0037.192.911",r.id,y,w);}Object.defineProperty(b,"__esModule",{value:!0});b.fPa=void 0;t=a(0);k=a(1);g=a(19);h=a(162);d=a(1386);f=a(359);l=a(220);m=a(12);n=a(580);p=a(38);a=a(117);c.prototype.create=function(r,u,v,w){var x,y;x=this.U7b.xIb(r,this.T7b,u);y=r.hDa;v.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.LQa(this.pj,r,u,v,x,w,this.Gn):new n.wG(r,u,x,w,this.Gn);};q=c;q=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(g.$c)),t.__param(1,(0,k.l)(f.xQa)),t.__param(2,(0,k.l)(l.lja)),t.__param(3,(0,k.l)(m.Ic)),t.__param(4,(0,k.l)(h.DG)),t.__param(5,(0,k.l)(p.H3)),t.__param(6,(0,k.l)(a.NL))],q);b.fPa=q;},function(t,b,a){var k,g,h,d,f;function c(l,m,n,p,q,r,u){var v;v=d.wG.call(this,m,n,q,r,u) || this;v.pj=l;v.Da=p;v.TW=!1;v.xqa=new Map();v.o1b=function(){v.QI().Ama(g.ja.qK,function(w){v.Sb.Wc(g.EG.P_);v.rb.Ih=w.position.segmentId;});};v.SUb();r.addListener(g.Ia.loaded,v.o1b);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.LQa=void 0;k=a(39);g=a(17);h=a(3);d=a(580);f=a(117);ka(c,d.wG);c.prototype.zWa=function(l){var m,n,p,q,r,u,v,w,x,y,z;m=this;p=this.rb.Cl;q=this.Gn.Ys(l.I,"ident");r=this.Gn.Ys(l.I,"main");u=this.Gn.Ys(l.I,"credits");v=isFinite(l.Rj);w=isFinite(l.ba) && l.I !== p.N[p.Vd].K;x={};y=new k.Ww(p).dg(r,Object.assign({K:l.I,qa:w && l.ba || 0,sa:null !== (n=l.Rj) && void 0 !== n?n:Infinity},v?{next:(x[u]={},x),Rb:u}:{}));w && (n={},y.dg(q,{K:l.I,qa:0,sa:l.ba,next:(n[r]={},n),Rb:r}));v && y.dg(u,{K:l.I,qa:l.Rj,sa:Infinity});if(!this.rb.Hy(r)){l=p.N[this.Gn.B4a(p)].K;z=this.Gn.Ys(l,f.FG.yFa);[this.Gn.Ys(l,f.FG.Eha),z].filter(function(A){return m.rb.Hy(A);}).forEach(function(A){var B,C,D;B=m.rb.Ye(A);C=A === z || m.pj.yca;D={};y.dg(A,Object.assign({},B,{next:Object.assign({},B.next,(D[r]={},D))},C?{Rb:r}:{}));});}this.rb.Cl=y.Li();return this.XJ(r);};c.prototype.py=function(){this.isReady() && this.QI().py();};c.prototype.Axa=function(){};c.prototype.IJ=function(l){this.QI().IJ(l);};c.prototype.lta=function(l,m,n){m=void 0 === m?{}:m;this.Da.debug("goToSegment " + l);return this.QI().KX(l,m,n);};c.prototype.XJ=function(l){if(l === this.S7b)return null;this.S7b=l;return this.TW?this.Yk.bP(this.rb.Ye(l).K).l5b:(this.TW=!0,d.wG.prototype.XJ.call(this,l));};c.prototype.Ajb=function(l){return l.errorCode && this.xqa.has(l.errorCode)?this.xqa.get(l.errorCode)(l):Promise.reject(Error("Error " + l.errorCode + " isn't recoverable"));};c.prototype.SUb=function(){var l;l=this;this.xqa.set(h.V.cNa,function(){var m,n;return null !== (n=null === (m=d.wG.prototype.XJ.call(l,l.rb.Ih)) || void 0 === m?void 0:m.then(function(){var p,q;d.wG.prototype.lta.call(l,l.rb.Ih,null !== (q=null === (p=l.Yk.bP(l.rb.la.K)) || void 0 === p?void 0:p.Cb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.LQa=c;},function(t,b,a){var k,g;function c(h,d,f){this.fB=d;this.pj=f;this.t5={};this.Wjb=[];this.khb=[];this.Mab=[];this.ana=new WeakMap();this.reset(h);}Object.defineProperty(b,"__esModule",{value:!0});b.lPa=void 0;k=a(39);g=a(39);c.prototype.reset=function(h){var d;d=1 < Object.keys(h.N).length && 1 === new Set(Object.values(h.N).map(function(f){return f.K;})).size;this.Lzb=this.pj.Ekb || d;this.Hgb(h);this.Ih=h.Vd;this.nyb=this.fB.DA();this.xBa=new Map();};c.prototype.C9=function(h){if(this.hDa)return this.Cl;this.ana.has(h) || this.ana.set(h,(0,k.AF)(h.I,h.Y));return this.ana.get(h);};c.prototype.Hgb=function(h){this.oyb=h;this.t5={};h=Object.keys(h.N);this.mXa(h);this.i0b();};c.prototype.Yi=function(h){var l;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}l=this;d.filter(function(m){return l.Hy(m.Y);}).filter(function(m){m=m.bQ;return !m || l.Hy(m);}).forEach(function(m){var n;n=m.Y;l.t5[n]=l.lbb(m.bQ);l.$_b(n);});};c.prototype.mXa=function(h){var d;d=this;h.filter(function(f){return d.Hy(f);}).forEach(function(f){d.t5[f]=d.lbb(d.Ye(f).Rb);});};c.prototype.tj=function(h,d){var f,l,m;f=this.Ye(h);if(f && f.next){l=new g.Ww(this.Cl);m=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});m=Object.assign({},f,{next:m});l.dg(h,m);this.Cl=l.Li();}};c.prototype.Hy=function(h,d){d=void 0 === d?this.Cl.N:d;return (h in d);};c.prototype.vX=function(h){return this.t5[h];};c.prototype.Ye=function(h){return this.Cl.N[h];};c.prototype.kSb=function(h){if(this.xBa.has(h))return this.xBa.get(h);h=this.Ye(h);return isFinite(h.sa)?h.sa:void 0;};c.prototype.wcc=function(h,d){this.xBa.set(h,d);this.e0b(h);};c.prototype.V$b=function(h){this.Wjb.push(h);};c.prototype.W$b=function(h){this.khb.push(h);};c.prototype.U$b=function(h){this.Mab.push(h);};c.prototype.i0b=function(){var h;h=this;this.Wjb.forEach(function(d){return d(h.Cl);});};c.prototype.$_b=function(h){this.Mab.forEach(function(d){return d(h);});};c.prototype.e0b=function(h){this.khb.forEach(function(d){return d(h);});};c.prototype.lbb=function(h){return null === h?void 0:h;};Va.Object.defineProperties(c.prototype,{vca:{configurable:!0,enumerable:!0,get:function(){return this.nyb;}},hDa:{configurable:!0,enumerable:!0,get:function(){return this.Lzb;}},Cl:{configurable:!0,enumerable:!0,get:function(){return this.oyb;},set:function(h){if(this.Ih && !this.Hy(this.Ih,h.N))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Ih);this.Hgb(h);}},Ih:{configurable:!0,enumerable:!0,get:function(){return this.ivb;},set:function(h){if(!this.Hy(h))throw Error("Provided currentSegmentId " + h + " does not exist in the current playgraph");this.ivb=h;}},la:{configurable:!0,enumerable:!0,get:function(){return this.Ye(this.Ih);}}});b.lPa=c;},function(t,b,a){var k,g;function c(h,d,f,l,m){this.oj=h;this.yh=d;this.log=f;this.pj=l;this.Gn=m;this.mca=new k.Kia();}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;k=a(581);g=a(117);c.prototype.wAb=function(h){var d,f,l,m,n,p,q;this.log.info("Next episode added",h);p=this.mca.awa(h.playbackParams);q=Math.max(0,null !== (l=null !== (f=null !== (d=h.startPts) && void 0 !== d?d:h.nextStartPts) && void 0 !== f?f:p.ba) && void 0 !== l?l:0);d=null !== (n=null !== (m=h.endPts) && void 0 !== m?m:h.currentEndPts) && void 0 !== n?n:p.Rj;return this.yh.YAb({I:h.movieId,ba:q,Rj:d,Cb:p,ea:h.manifest,oj:this.oj});};c.prototype.e3b=function(h){var d,f,l,m,n,p;h=this.mca.awa(h);this.log.info("Playing the next episode",h);l=this.yh.R3a();m=this.yh.SI();n=m.N[l];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.K !== m.N[q].K;});d=!this.pj.yca || !(null === (f=h.Nn) || void 0 === f?0:f.isUIAutoPlay);return p?this.yh.kta(l,p,h,d):Promise.reject(Error("Next episode not found"));};c.prototype.Ndc=function(h){var d,f;d=this.Gn.Ys(h,g.FG.Eha);h=this.Gn.Ys(h,g.FG.yFa);f=this.yh.rb;this.pj.yca && f.Ih !== h && f.Hy(h) && f.vX(d) !== h && this.yh.Yi({Y:d,bQ:h});};b.rKa=c;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.pXa=void 0;t=a(1);c=a(1390);k=a(36);b.pXa=new t.vd(function(g){g(k.$i).to(c.AEa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n,p,q,r,u,v;function c(w,x,y,z,A,B){var C;C=this;this.Kl=w;this.config=y;this.Ft=z;this.debug=A;this.Ea=B;this.$ib=[];this.qd={};this.log=x.mb("loadAsync");this.rYb=(0,r.hIa)(function(D){C.U5b=!0;C.startTime=C.Ea.Tb().da(p.ma);C.load(C.$ib).then(function(){C.endTime=C.Ea.Tb().da(p.ma);D(v.Lg);}).catch(function(F){C.endTime=C.Ea.Tb().da(p.ma);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;t=a(0);k=a(81);g=a(3);h=a(1391);d=a(61);f=a(1);l=a(6);m=a(12);n=a(68);p=a(5);q=a(109);r=a(582);u=a(19);v=a(16);c.prototype.EY=function(w){this.rYb(w);};c.prototype.register=function(w,x){this.debug.assert(!this.U5b);this.$ib.push({MXb:this.eEb(x),errorCode:w});};c.prototype.He=function(w){this.debug.assert(void 0 === this.qd[w]);this.qd[w]=this.Ea.Tb().da(p.ma);};c.prototype.load=function(w){var x;x=this;return (0,h.vdb)(w).then(function(y){x.Kl.mark(d.lp.ik.Xlb);return y.reduce(function(z,A){return z.then(function(){return x.JXb(A);});},Promise.resolve()).then(function(){x.Kl.mark(d.lp.ik.Vlb);});});};c.prototype.JXb=function(w){var x,y;x=this;y=w.MXb;!1;return this.Ft.Lt((0,p.tc)(this.config().dCb),y()).catch(function(z){x.log.error("Failed to load component " + w.errorCode,z);x.Kl.mark(d.lp.ik.Wlb);if(z instanceof n.us)throw {wa:g.R.Ulb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.wa=z.wa || g.R.Tlb;throw z;});};c.prototype.eEb=function(w){return function(){return new Promise(function(x,y){w(function(z){z.ca?x():y(z);});});};};a=c;a=t.__decorate([(0,f.X)(),t.__param(0,(0,f.l)(k.XL)),t.__param(1,(0,f.l)(l.sb)),t.__param(2,(0,f.l)(m.Ic)),t.__param(3,(0,f.l)(n.GG)),t.__param(4,(0,f.l)(q.fz)),t.__param(5,(0,f.l)(u.$c))],a);b.AEa=a;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.vdb=void 0;c=a(3);k=[c.V.eqb,c.V.yJa,c.V.zJa,c.V.DJa,c.V.vJa,c.V.tJa,c.V.gha,c.V.iqb,c.V.wJa,c.V.uJa,c.V.NC,c.V.qJa,c.V.sJa,c.V.AJa,c.V.BJa,c.V.CJa,c.V.xJa,c.V.rJa];(function(h){h.Brb=function(d){var m;for(var f={},l=0;l < d.length;l++){m=d[l];if(f[m.errorCode])return {errorCode:m.errorCode,wa:c.R.Rlb};f[m.errorCode]=1;}};h.Crb=function(d){var l;for(var f=0;f < d.length;f++){l=d[f];if(-1 === k.indexOf(l.errorCode))return {errorCode:l.errorCode,wa:c.R.Slb};}};})(g || (g={}));b.vdb=function(h){return new Promise(function(d,f){var l;l=g.Crb(h);l && f(l);(l=g.Brb(h)) && f(l);d(h.sort(function(m,n){return k.indexOf(m.errorCode) - k.indexOf(n.errorCode);}));});};},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ea=void 0;t=a(1);c=a(1393);k=a(115);b.ea=new t.vd(function(g){g(k.tG).to(c.kLa).ha();});},function(t,b,a){var k,g,h,d,f,l,m,n,p,q;function c(r,u,v,w,x,y){this.xg=u;this.T9a=w;this.NY=y;this.r_=new Map();this.log=r.mb("ManifestFetcher");this.Sg=v.Sg;this.GDb=x().$Lb;}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;t=a(0);k=a(1);g=a(19);h=a(37);d=a(6);f=a(5);l=a(12);m=a(102);n=a(60);p=a(294);a=a(132);c.prototype.LI=function(r,u,v){var w;w=this;u=void 0 === u?!0:u;v && this.QAb(r.K,v);return u && this.V9(r.K)?this.g9(r.K).catch(function(){return w.$eb(r,u);}):this.$eb(r,u);};c.prototype.V9=function(r){return this.Sg.NX(r,"manifest");};c.prototype.l0=function(r,u){var v;v=this;this.GDb && this.Sg.setData(r,"manifest",u,function(){return v.gTb(r,u?Promise.resolve(u):void 0);});};c.prototype.g9=function(r){var u;u=this;return this.Sg.getData(r,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.ab.expiration <= (0,n.k7)())throw (u.Sg.clearData(r,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.gTb=function(r,u){var v;null === (v=this.r_.get(r)) || void 0 === v?void 0:v.forEach(function(w){return w(u);});this.r_.delete(r);};c.prototype.QAb=function(r,u){this.r_.has(r) || this.r_.set(r,[]);this.r_.get(r).push(u);};c.prototype.$eb=function(r,u){var v,w,x;v=this;this.log.trace("Requesting a new manifest",r.K);w=this.xg.Tb().da(f.ma);x=(r.Ki?this.Kbc(r).catch(function(y){v.log.warn(y.message);return v.T9a.gg(v.log,r);}):this.T9a.gg(this.log,r)).then(function(y){var z,A;if(y.KA){z=y.KA;A={Gda:Promise.resolve(z),source:"manifest"};delete y.KA;v.Sg.setData(r.K,"ldl",A,function(){z.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}r.pv === m.Zn.AG && (y.hK=w,y.MQ=v.xg.Tb().da(f.ma));return y;}).catch(function(y){u && v.l0(r.K,void 0);v.log.error("Failed to fetch manifest",h.jd.We(y));throw y;});u && this.l0(r.K,x);return x;};c.prototype.Kbc=function(r){var u;u=this;return new Promise(function(v,w){var x,y,z,A,B;u.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",r.K);A=null === (x=r.Ki) || void 0 === x?void 0:x.JZ;if(!A)return w(Error("Parent manifest does not exist."));B=null === (y=r.Ki) || void 0 === y?void 0:y.Ee;x=null === (z=A.Ou) || void 0 === z?void 0:z.find(function(C){return C.I === r.K && (void 0 === B || C.Ee === B);});if(!x)return w(Error("Auxiliary manifest not found in parent manifest."));v(u.NY.create(x));});};q=c;q=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(d.sb)),t.__param(1,(0,k.l)(g.$c)),t.__param(2,(0,k.l)(p.hga)),t.__param(3,(0,k.l)(m.tia)),t.__param(4,(0,k.l)(l.Ic)),t.__param(5,(0,k.l)(a.DL))],q);b.kLa=q;},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.TWa=void 0;c=a(1395);k=a(170);t=a(1);g=a(78);h=a(12);b.TWa=new t.vd(function(d){d(k.y1).to(c.YDa).ha();});b.profile=new t.vd(function(d){d(g.PL).LF(function(f){return (f=f.ub.get(h.Ic)()) && f.PA?"browsertest":"browser";});});},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p,q){m=d.pf.call(this,m,void 0 === q?"AppInfoConfigImpl":q) || this;m.config=n;m.Dea=p;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;t=a(0);k=a(1);g=a(40);h=a(45);d=a(46);f=a(34);a=a(283);ka(c,d.pf);c.prototype.rRb=function(m){return "" + this.L1a + (this.Dea.Oda(m)?"/msl_v1":"");};c.prototype.BRb=function(m){return "" + this.host + (this.Dea.Oda(m)?"/msl":"") + "/playapi";};Va.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},L1a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var m;switch(this.config.wO){case g.lz.ztb:m="www.stage";break;case g.lz.pRa:m="www-qa.test";break;case g.lz.YJa:m="www-int.test";break;default:m="www";}return "https://" + m + ".netflix.com";}},MXa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});l=c;t.__decorate([h.config(h.string,"apiEndpoint")],l.prototype,"endpoint",null);t.__decorate([h.config(h.string,"nqEndpoint")],l.prototype,"L1a",null);t.__decorate([h.config(h.string,"bindService")],l.prototype,"MXa",null);l=t.__decorate([(0,k.X)(),t.__param(0,(0,k.l)(f.Fm)),t.__param(1,(0,k.l)(g.mp)),t.__param(2,(0,k.l)(a.k4)),t.__param(3,(0,k.l)(f.M1)),t.__param(3,(0,k.optional)())],l);b.YDa=l;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.cdc=b.Htb=b.Ftb=b.Etb=b.Gtb=void 0;c=a(15);k=a(13);b.Gtb=function(g,h,d){for(d=(d - g.length) / h.length;0 < d--;){g+=h;}return g;};b.Etb=function(g,h,d){d=(0,c.mg)(d)?d:"...";return g.length <= h?g:g.substr(0,g.length - (g.length + d.length - h)) + d;};b.Ftb=function(g,h){var f;for(var d=1;d < arguments.length;++d){;}f=k.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(l,m){return "undefined" != typeof f[m]?f[m]:l;});};b.Htb=function(g){for(var h=g.length,d=new Uint16Array(h),f=0;f < h;f++){d[f]=g.charCodeAt(f);}return d.buffer;};b.cdc=function(g){var h;h=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,f){h[f]=d.charCodeAt(0);});return h;};},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(8);b=a(112);a=a(292);t.ya.get(b.BL).Vca(a.Bha.unb,function(c){var k,g;k=c.level;if(!mb._cad_global.config || k <= mb._cad_global.config.cYb){c=c.uea();g=mb.console;1 >= k?g.error(c):2 >= k?g.warn(c):g.log(c);}});},function(t,b,a){var l,m,n,p,q;function c(r){var u,w;(0,m.cW)(r);if((0,p.mg)(r) && b.HJa.test(r)){u=r.split(".");if(4 === u.length){for(var v=0;v < u.length;v++){w=(0,q.Xj)(u[v]);if(0 > w || !(0,p.OE)(w,0,255) || 1 !== u[v].length && 0 === u[v].indexOf("0"))return;}return r;}}}function k(r){var u;u=0;if(c(r) === r)return (r=r.split("."),u+=(0,q.Xj)(r[0]) << 24,u+=(0,q.Xj)(r[1]) << 16,u+=(0,q.Xj)(r[2]) << 8,u + (0,q.Xj)(r[3]));}function g(r){var u,v;(0,m.cW)(r);if((0,p.mg)(r) && r.match(b.IJa)){u=r.split(":");-1 !== u[u.length - 1].indexOf(".") && (r=h(u[u.length - 1]),u.pop(),u.push(r[0]),u.push(r[1]),r=u.join(":"));r=r.split("::");if(!(2 < r.length || 1 === r.length && 8 !== u.length) && (u=1 < r.length?d(r):u,r=u.length,8 === r)){for(;r--;){v=parseInt(u[r],16);if(!(0,p.OE)(v,0,l.YKa))return;}return u.join(":");}}}function h(r){var u;r=k(r) >>> 0;u=[];u.push((r >>> 16 & 65535).toString(16));u.push((r & 65535).toString(16));return u;}function d(r){var u,v,w;u=r[0].split(":");r=r[1].split(":");1 === u.length && "" === u[0] && (u=[]);1 === r.length && "" === r[0] && (r=[]);v=8 - (u.length + r.length);if(1 > v)return [];for(w=0;w < v;w++){u.push("0");}for(w=0;w < r.length;w++){u.push(r[w]);}return u;}function f(r){return -1 << 32 - r;}Object.defineProperty(b,"__esModule",{value:!0});b.tqb=b.yqb=b.vqb=b.uqb=b.xqb=b.sqb=b.wqb=b.lG=b.IJa=b.HJa=void 0;l=a(16);m=a(23);n=a(13);p=a(15);q=a(25);b.HJa=/^[0-9.]*$/;b.IJa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.lG="0000000000000000";b.wqb=c;b.sqb=k;b.xqb=g;b.uqb=h;b.vqb=d;b.yqb=function(r,u,v){var w,x,y,z;w=c(r);x=g(r);y=c(u);z=g(u);if(!w && !x || !y && !z || w && !y || x && !z)return !1;if(r === w)return (v=f(v),(k(r) & v) !== (k(u) & v)?!1:!0);if(r === x){r=r.split(":");u=u.split(":");for(w=(0,n.EL)(v / b.lG.length);w--;){if(r[w] !== u[w])return !1;}v%=b.lG.length;if(0 !== v)for((r=parseInt(r[w],16).toString(2),u=parseInt(u[w],16).toString(2),r=b.lG.substring(0,b.lG.length - r.length) + r,u=b.lG.substring(0,b.lG.length - u.length) + u,w=0);w < v;w++){if(r[w] !== u[w])return !1;}return !0;}return !1;};b.tqb=f;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(18);a(16);t=a(8);a(112);a(292);a(3);a(111);a(5);a=a(36);t.ya.get(a.$i);!1;},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);k=a(16);g=a(3);h=a(13);t=a(8);a=a(36);d=t.ya.get(a.$i);d.register(g.V.DJa,function(f){h.hr && h.hr.generateKey && h.hr.importKey && h.hr.unwrapKey?(d.He("wcs"),(0,c.LJ)(h.hr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.He("wcdone");f(k.Lg);},function(l){var m;l="" + l;if(0 <= l.indexOf("missing crypto.subtle"))m=g.R.Lja;else 0 <= l.indexOf("timeout waiting for iframe to load") && (m=g.R.Ytb);f({wa:m,Ob:l});})):f({wa:g.R.Lja});});},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});t=a(3);c=a(8);k=a(530);a=a(36);c.ya.get(a.$i).register(t.V.tJa,function(g){c.ya.get(k.gHa)().then(function(){g({ca:!0});}).catch(function(h){c.log.error("error in initializing indexedDb debug tool",h);g({ca:!0});});});},function(t,b,a){var h,d,f,l;function c(m,n,p,q){var r,u,v;(0,h.ib)((0,l.Mj)(m) && !(0,l.isArray)(m));q=q || "";r="";u=m.hasOwnProperty(f.m1) && m[f.m1];u && (0,d.Wg)(u,function(w,x){r && (r+=" ");r+=w + '="' + g(x) + '"';});p=(n?n + ":":"") + p;u=q + "<" + p + (r?" " + r:"");v=m.hasOwnProperty(f.$y) && m[f.$y].trim && "" !== m[f.$y].trim() && m[f.$y];if(v)return u + ">" + g(v) + "</" + p + ">";m=k(m,n,q + "  ");return u + (m?">\n" + m + "\n" + q + "</" + p + ">":"/>");}function k(m,n,p){var q;(0,h.ib)((0,l.Mj)(m) && !(0,l.isArray)(m));p=p || "";q="";(0,d.Wg)(m,function(r,u){var x;if("$" != r[0])for(var v=(0,d.ey)(u),w=0;w < v.length;w++){if((u=v[w],q && (q+="\n"),(0,l.Mj)(u)))q+=c(u,n,r,p);else {x=(n?n + ":":"") + r;q+=p + "<" + x + ">" + g(u) + "</" + x + ">";}}});return q;}function g(m){if((0,l.mg)(m))return (0,d.Jta)(m);if((0,l.Ja)(m))return ((0,h.bW)(m,"Convert non-integer numbers to string for xml serialization."),"" + m);if(null === m || void 0 === m)return "";(0,h.ib)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.fbc=b.GWb=b.FWb=void 0;h=a(23);d=a(25);f=a(193);l=a(15);b.FWb=c;b.GWb=k;b.fbc=g;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(298);g=a(198);h=a(18);d=a(16);f=a(3);l=a(23);m=a(8);n=a(81);p=a(61);q=a(94);r=a(25);u=a(13);v=a(15);w=a(43);x=a(111);y=a(5);t=a(36);z=a(499);A=a(135);B=a(70);C=a(78);D={};F=m.ya.get(t.$i);F.register(f.V.wJa,function(G){var K,H,R,O,J,M,P,S,U,T,W,ia,pa,wa;function E(za){za && za.userList && h.config.x9b && (za.userList=[]);O({esn:g.Ck.ql,esnPrefix:g.Ck.Tp,authenticationKeyNames:h.config.ACb,systemKeyWrapFormat:h.config.tac,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:pa,storeState:za,notifyMilestone:F.He.bind(F),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.R.erb,MSL_READ_TIMEOUT:f.R.drb}},{result:function(Ca){I(Ca);},timeout:function(){G({wa:f.R.eLa});},error:function(Ca){G(L(f.R.eLa,void 0,Ca));}});}function I(za){var N,Q,V,ca;function Ca(){ia && m.ya.get(q.DC).create().then(function(sa){return sa.save(T,V,!1);}).catch(function(sa){P.error("Error persisting msl store",(0,f.mz)(sa));});}N=this;Q=m.ya.get(x.VL)((0,y.tc)(100));ca=J.extend({init:function(sa){this.yUa=sa;},getResponse:function(sa,Ha,Ja){var Na,Oa;Ha=this.yUa;Na=Ha.Rwa.lf || Na;sa=(0,v.Tua)(sa.body)?(0,m.W0)(sa.body):sa.body;(0,l.cW)(sa,"Msl should not be sending empty request");sa={url:Ha.url,fdb:sa,withCredentials:!0,eE:"nq-" + Ha.method,headers:Ha.headers};Ha=this.yUa.timeout;sa.p7=Ha;sa.axa=Ha;Oa=Na.download(sa,function(Ua){try{if(Ua.ca)Ja.result({body:Ua.content});else if(400 === Ua.pl && Ua.Ob)Ja.result({body:Ua.Ob});else throw (0,r.ve)(new M("HTTP error, SubCode: " + Ua.wa + (Ua.pl?", HttpCode: " + Ua.pl:"")),{cadmiumResponse:Ua});}catch($a){Ja.error($a);}});return {abort:function(){Oa.abort();}};}});U && za.addEventHandler("shouldpersist",function(sa){V=sa.storeState;Q.pm(Ca);});(0,r.ve)(D,{Gmc:function(){W=!0;},send:function(sa){function Ha(){var Ja,Na;Ja=sa.Rwa;Na={method:sa.method,nonReplayable:sa.Vab,encrypted:sa.Zl,userId:sa.Ikb,body:sa.body,timeout:2 * sa.timeout,url:new ca(sa),allowTokenRefresh:ia,sendUserAuthIfRequired:wa,shouldSendUserAuthData:h.config.D9b};Ja.email?(Na.email=Ja.email,Na.password=Ja.password || ""):W && (Na.useNetflixUserAuthData=!0);return Na;}return new Promise(function(Ja,Na){var Oa;Oa=Ha();za.send(Oa).then(function(Ua){W && (W=!1);Ja({ca:!0,body:Ua.body});}).catch(function(Ua){var $a,sb;if(Ua.error){$a=Ua.error.cadmiumResponse && Ua.error.cadmiumResponse.wa?Ua.error.cadmiumResponse.wa:za.isErrorReauth(Ua.error)?f.R.dLa:za.isErrorHeader(Ua.error)?f.R.Yqb:f.R.Xqb;sb=za.getErrorCode(Ua.error);Na(L($a,sb,Ua.error));}else (P.error("Unknown MSL error",Ua),Ua.Cc=Ua.subCode,Na({wa:Ua.Cc?Ua.Cc:f.R.frb}));});});},iZ:za});A.PG.sN.mslFetch=function(sa,Ha){return c.__awaiter(N,void 0,void 0,function Na(){var Oa,Ua,$a;return Ga(Na,function(sb){if(1 == sb.eF)return (Oa=m.ya.get(C.PL),Ka(sb,D.send({Rwa:{lf:m.ya.get(B.Mw),profile:Oa},timeout:3E3,url:sa.toString(),body:null === Ha || void 0 === Ha?void 0:Ha.body,headers:{"Content-Type":"application/x-msl+json"},Ikb:Oa,x6b:!1,Vab:!0,Zl:!0})));Ua=sb.mfa;$a={get body() {this.bodyUsed=!0;return Ua.body;}};return sb.return(($a.bodyUsed=!1,$a.ok=Ua.ca,$a.status=Ua.ca?200:400,$a.statusText=Ua.ca?"OK":"Bad Request",$a.type="basic",$a.url=sa.toString(),$a.headers=new Headers({"Content-Type":"application/json"}),$a.text=function(){return Promise.resolve(this.body);},$a.json=function(){return Promise.resolve(JSON.parse(this.body));},$a.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},$a.clone=function(){return Object.assign({},this);},$a.blob=function(){return this.arrayBuffer().then(function(kb){return new Blob([kb]);});},$a.formData=function(){throw Error("Not implemented");},$a.redirected=!1,$a));});});};G(d.Lg);m.ya.get(z.Wha).w_b(D);}function L(za,Ca,N){var Q,V,ca,sa;ca={wa:za,o8:Ca};if(N){sa=function(Ha){var Ja;Ha=Ha || "" + N;if(N.stack){Ja="" + N.stack;Ha=0 <= Ja.indexOf(Ha)?Ja:Ha + Ja;}return Ha;};if(V=N.cadmiumResponse){if(Q=V.Ef && V.Ef.toString())V.Ef=Q;V.wa=za;V.o8=Ca;V.Ob=sa(N.message);V.error={Cc:za,Td:Q,DB:Ca,data:N.cause,message:N.message};return V;}sa=sa(N.errorMessage);Q=(0,r.Xj)(N.internalCode) || (0,r.Xj)(N.error && N.error.internalCode);V=void 0 !== N.MMb?(0,w.pxa)(N.MMb):void 0;}sa && (ca.Ob=sa);Q && (ca.Ef=Q);ca.error={Cc:za,Td:Q.toString(),DB:Ca,data:V,message:sa};return ca;}(0,l.ib)(h.config);K=m.ya.get(n.XL);H=p.lp.ik;if(u.TC && u.hr && u.hr.unwrapKey){try{R=mb.netflix.msl;O=R.createMslClient;J=R.IHttpLocation;M=R.MslIoException;}catch(za){G({wa:f.R.Zqb});return;}P=(0,m.Jj)("Msl");S=h.config.s_b;U=h.config.u_b;T=h.config.PA?"mslstoretest":"mslstore";R=k.IK.kgb;W=!0;ia=!R || R.ca;pa=(0,m.Ms)(h.config.PA?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");wa=! !h.config.HAa;m.ya.get(q.DC).create().then(function(za){S?za.remove(T).then(function(){E();}).catch(function(Ca){P.error("Unable to delete MSL store",(0,f.mz)(Ca));E();}):U?za.load(T).then(function(Ca){K.mark(H.arb);E(Ca.value);}).catch(function(Ca){Ca.wa == f.R.ZC?(K.mark(H.crb),E()):(P.error("Error loading msl store",(0,f.mz)(Ca)),K.mark(H.brb),za.remove(T).then(function(){E();}).catch(function(N){G(N);}));}):E();}).catch(function(za){P.error("Error creating app storage while loading msl store",(0,f.mz)(za));G(za);});}else G({wa:f.R.$qb});});},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(191);k=a(16);g=a(18);h=a(64);d=a(60);t=a(3);f=a(8);l=a(81);m=a(13);n=a(59);p=a(15);q=a(50);r=a(87);a=a(36);w=f.ya.get(a.$i);w.register(t.V.uJa,function(x){var z;function y(){var A,B,C;A=w.startTime;B={browserua:m.xG,browserhref:m.v3.href,initstart:A,initdelay:w.endTime - A};(A=m.Dh.documentMode) && (B.browserdm="" + A);(0,p.wP)(g.config.n2a) && (B.fesn=g.config.n2a);Object.assign(B,(0,c.Lsa)());C=m.Tw && m.Tw.timing;C && g.config.$Xb.map(function(D){var F;F=C[D];F && (B["pt_" + D]=F - (0,d.iZa)());});A=z.aRb();Object.entries(A).forEach(function(D){var F;F=na(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=v.Xu("startup","info",B,h.WC.lra);u.Fc(A);}v=f.ya.get(r.qz);u=f.ya.get(q.Yn);z=f.ya.get(l.XL);w.EY(function(){u.za();(0,n.fg)(y);});x(k.Lg);});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u,v,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(31);g=a(539);h=a(1407);d=a(302);f=a(18);l=a(16);m=a(196);n=a(583);p=a(60);t=a(3);q=a(8);r=a(515);u=a(13);v=a(299);b=a(36);w=a(64);x=a(163);y=a(345);q.ya.get(b.$i).register(t.V.qJa,function(z){var A,B,C,D,F,G,E,I;A=q.ya.get(r.sMa).DIb();B=q.ya.get(m.Aga).pL;C=q.ya.get(g.OLa).ns;D=new y.Ufa();F={lca:(0,q.$W)("ASE"),PBb:(0,q.$W)("JS-ASE",void 0,"Platform"),Jj:q.$W,storage:v.storage,qRb:u.rGa,getTime:p.uo,E7:function(L){return D.decode(L).buffer;},AP:{},ns:C,Xw:h.Xw,pL:B,MediaSource:n.RLa,SourceBuffer:d.Qha,Xp:function(){return [f.config.C6,f.config.F6];},Wu:function(L){w.qp.forEach(function(K){K.Ogb(L);});}};B=new Promise(function(L){v.storage.load("nh",function(K){F.AP.nh=K.ca?K.data:void 0;L();});});C=new Promise(function(L){v.storage.load("lh",function(K){F.AP.lh=K.ca?K.data:void 0;L();});});G=new Promise(function(L){v.storage.load("gh",function(K){F.AP.gh=K.ca?K.data:void 0;L();});});E=new Promise(function(L){v.storage.load("sth",function(K){F.AP.sth=K.ca?K.data:void 0;L();});});I=new Promise(function(L){v.storage.load("vb",function(K){F.AP.vb=K.ca?K.data:void 0;L();});});Promise.all([B,C,I,E,G]).then(function(){return c.__awaiter(this,void 0,void 0,function K(){var H,R;return Ga(K,function(O){if(1 == O.eF)return (H=a(1409)(F),x.Zq.Qe=a(584),x.Zq.Qe.declare(k.sh),x.Zq.Qe.set(a(187)(f.config),!0,(0,q.$W)("ASE")),Ka(O,k.NI(H)));R=O.mfa;R.open(x.Zq.Qe,A);R.OAa({audio:f.config.C6,video:f.config.F6},{T:f.config.F_,aa:void 0});x.Zq.Zi=R;z(l.Lg);O.eF=0;});});}).catch(function(L){F.lca.error("Exception loading location history from local storage",L);});});},function(t,b,a){var k,g,h,d,f,l,m;function c(){var n;n=new g.$k();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Wc.bind(this);this.A5=l++;this.bg=(0,h.Jj)("ProbeRequest");this.VUa=k.APa;(0,d.ib)(void 0 !== this.VUa);this.bi=b.Xw.Rc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Xw=void 0;k=a(1408);g=a(75);h=a(8);d=a(23);f=a(25);l=0;(function(){function n(){return JSON.stringify({url:this.Tl,id:this.A5,affected:this.v4,readystate:this.bi});}(0,f.ve)(c.prototype,{eQ:function(p){p.affected=this.v4;p.probed={requestId:this.A5,url:this.Tl,ye:this.DU,groupId:this.c5};this.emit(b.Xw.Ke.iT,p);},ixa:function(p){this.qzb=p.httpcode;p.affected=this.v4;p.probed={requestId:this.A5,url:this.Tl,ye:this.DU,groupId:this.c5};this.emit(b.Xw.Ke.zG,p);},open:function(p,q,r,u){if(!p)return (!1,!1);this.Tl=p;this.v4=q;this.DU=r;this.bi=b.Xw.Rc.OPENED;this.Fwb=u;this.VUa.YW(this);return !0;},Yc:function(){!1;return !0;},Ri:function(){return this.A5;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.bi;},set:function(){}},status:{get:function(){return this.qzb;}},url:{get:function(){return this.Tl;}},Zjc:{get:function(){return this.v4;}},SXb:{get:function(){return this.Fwb;}}});})();(function(n){n.Ke={iT:"pr0",zG:"pr1"};n.Rc={UNSENT:0,OPENED:1,Cz:2,DONE:3,uL:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(m || (m={}));b.Xw=Object.assign(c,m);},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.APa=void 0;c=a(8);k=a(104);b.APa=(function(){(0,c.Jj)("ProbeDownloader");return {YW:function(g){g={url:g.url,t4b:g};!1;k.lf.w4b(g);}};})();},function(t,b,a){var f,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C;function c(D,F,G){this.Op=D;this.groups=F;this.prefix=G;D=w(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function k(){this.i_a=function(){throw Error("Not implemented");};this.PKb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function g(){}function h(){return v?v:"0.0.0.0";}function d(D){D({Rbb:0,v0:0,z6a:0,m2a:0});}f=a(11);k.prototype.set=function(D,F){n[D]=F;p.save(D,F);};k.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];u.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ca?(n[D]=G.data,F && F(G.data)):n[D]=void 0;});};k.prototype.remove=function(D){p.remove(D);};k.prototype.clear=function(){u.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return q();};g.prototype.ia=function(){return r();};g.prototype.Pwa=function(D){return D + q() - r();};g.prototype.kxa=function(D){return D + r() - q();};c.prototype.C_a=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ha(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Op,this.groups,F);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();t.exports=function(D){l=D.lca;w=D.Jj;p=D.storage;n=D.AP;q=D.qRb;r=D.getTime;u=D.PBb;y=D.ns;C=D.Xw;z=D.pL;A=D.SourceBuffer;B=D.MediaSource;v=D.Jmc;m=D.Wu;return {name:"cadmium",Wu:m,lca:l,storage:new k(),Storage:k,time:new g(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,ns:y,pL:z,irb:A,MediaSource:B,Xw:C,jq:{name:h},memory:{zQb:d},Xp:D.Xp,E7:D.E7};};},function(t,b,a){t.exports={EventEmitter:a(1411),Zf:a(1412)};},function(t){function b(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Gd)return (this.Gd={},this.Gd[c]=[k],!0);g=this.Gd[c];return void 0 === g?(this.Gd[c]=[k],!0):0 > g.indexOf(k)?(g.push(k),!0):!1;}function a(c,k){c=this.Gd?this.Gd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(k);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Gd)return !1;g=this.Gd[c];if(void 0 === g)return !1;k=g.indexOf(k);if(0 > k)return !1;if(1 === g.length)return (delete this.Gd[c],!0);g.splice(k,1);return !0;},bb:a,emit:a,removeAllListeners:function(c){this.Gd && (void 0 === c?delete this.Gd:delete this.Gd[c]);return this;}};},function(t){function b(c,k,g,h){c.trace(":",g,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,g,h){g=h?g.bind(h):g;h=!1;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addEventListener)h=c.addEventListener(k,g);else if("function" === typeof c.addListener)h=c.addListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,h;g=k[0];h=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,k):"function" === typeof g.removeListener && g.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){var k,g;function c(h,d){var f,l;f=(0,g.Qi)(h,"MSS");if(k.config.NZb)return {B8:"mss",gC:function(m){var n,p;if(m.lower && 2160 <= m.height)a:{for(n=m;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === l){try{p=mb.MSMediaKeys;l=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");l=!0;}l || (f.warn("Restricting resolution due screen size",{MaxHeight:m.height}),d.cr.set({reason:"microsoftScreenSize",height:m.height}));}return !l;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.krb=void 0;t=a(134);k=a(18);g=a(8);(0,t.bT)(c);b.krb=c;},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});t=a(134);c=a(8);k=a(12);g=a(1415);h=a(19);(0,t.bT)(function(d,f){var l,m;l=c.ya.get(k.Ic);if(l().pLb){m=c.ya.get(h.$c);return new g.dHa(d,f,c.pg,m,l);}});},function(t,b,a){var k,g,h,d,f,l;function c(m,n,p,q,r){var u;u=this;this.j=m;this.xa=n;this.Da=p;this.Ea=q;this.Gba={};this.jO={};this.kR=[];this.A7a=1E3;this.fea=k.XKa;this.Bxa=function(){var v;v=u.j.Db.value === d.lb.Jc && u.j.state.value === d.$b.Ce && u.j.I === u.xa.I;u.cY?v || (clearInterval(u.cY),u.cY=void 0,u.uY=void 0):v && (u.cY=mb.setInterval(u.Pac,u.A7a));};this.Pac=function(){var v,w,x,y;w=u.j.we.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=u.Ea.Tb().da(l.ma);x=u.j.Uf.II();if(x){if(u.uY && v - u.uY.time < 2 * u.A7a && w === u.uY.height){y=x - u.uY.oLb;u.zma(w,y);u.IAb(w,y);}u.uY={time:v,oLb:x,height:w};u.j.kca && u.j.kca.A8b(u.Gba);}}};this.Lra=function(){var v;v={};u.jO && u.kR.forEach(function(w){var x,y,z;x=u.jO[w];if(x){y=0;z=0;(0,f.Wg)(x,function(A,B){z+=(0,f.Xj)(A);y+=B;});v[w]=z / y;}});return v;};this.OI=function(v){var w;w={};v.forEach(function(x){w[x]={};});u.jO && ((0,g.z1)(v),u.kR.forEach(function(x){var y,z,A,B;y=u.jO[x];if(y){z=0;A=0;(0,f.Wg)(y,function(E,I){z+=I;});B=Object.keys(y).map(Number);(0,g.z1)(B);for(var C=B.length - 1,D=B[C],F=v.length - 1;0 <= F;F--){for(var G=v[F];D >= G && 0 <= C;){(D=y[D]) && (A+=D);D=B[--C];}w[G][x]=(0,h.op)(A / z * 100);}}}));return w;};this.log=this.Da.mb("DFF",m);this.A3b=r().sLb;this.$Yb=r().qLb;this.jab=r().rLb;this.xa.cqa={Lra:this.Lra,OI:this.OI};m.state.addListener(this.Bxa);m.Db.addListener(this.Bxa);m.addEventListener(d.ja.pJ,this.Bxa);}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;k=a(16);g=a(43);h=a(13);d=a(17);f=a(25);l=a(5);c.prototype.gC=function(m){return m.lower && m.height > this.jab?m.height >= this.sSb():!1;};c.prototype.zma=function(m,n){var p;p=this.Gba[m];p || (this.Gba[m]=p=[],m > this.jab && (this.kR.push(m),(0,g.z1)(this.kR)));0 < n && !(this.dZ && this.dZ < m) && (this.dZ=m);p.push(n);p.length > this.$Yb && p.shift();};c.prototype.IAb=function(m,n){var p;p=this.jO[m];p || (this.jO[m]=p={});m=p[n];p[n]=m?m + 1:1;};c.prototype.sSb=function(){var p,q;if(this.dZ){for(var m=this.kR.length,n=0;n < m;n++){p=this.kR[n];if(p >= this.dZ && p < this.fea){q=this.Gba[p];if(q && this.MEb(this.A3b,q) && this.fea != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.xa.cr.set({reason:"droppedFrames",height:p}),this.fea=p);}}this.dZ=void 0;}return this.fea;};c.prototype.MEb=function(m,n){var u,v;for(var p=m.length,q=n.length,r=0;r < p;r++){u=m[r];v=u[0];u=u[1];for(var w=0;w < q;w++){if(n[w] >= u && 0 >= --v)return !0;}}return !1;};Va.Object.defineProperties(c.prototype,{B8:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.dHa=c;},function(t,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(134);c=a(18);k=a(8);g=a(1417);(0,t.bT)(function(h,d){if(c.config.JWb)return new g.hKa(h,d,k.pg,c.config,k.Aa,k.Mc);});},function(t,b,a){var k,g,h;function c(d,f,l,m,n,p){var q;q=this;this.j=d;this.xa=f;this.Da=l;this.config=m;this.Aa=n;this.Mc=p;this.uBb=function(r){!0 === r.oldValue && !1 === r.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.g7b());};this.Mbc=function(r){var u,v,w;q.log.trace("UhdKeyStatus: " + r.oldValue + " -> " + r.newValue);v=null === r || void 0 === r?void 0:r.newValue;w=null === r || void 0 === r?void 0:r.oldValue;"usable" !== v && (q.t8b(v,(null === (u=null === r || void 0 === r?void 0:r.bn) || void 0 === u?void 0:u.height) || 0),"usable" === w && (r=q.Aa.xf.Ba(q.LWb),q.log.error("UHD KeyStatus unexpectedly changed: " + r.da(h.ma))));};this.o8a=!1;this.log=this.Da.mb("KeyStatusStreamFilter",this.j);this.KWa=new g.Xb(!1,this.uBb);this.Lbc=new g.Xb(void 0,this.Mbc);}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;k=a(215);g=a(69);h=a(5);c.prototype.gC=function(d){return d.Lj && (this.S$b(),this.KWa.set(this.o8a && this.ITb),d.lower && 1080 < d.height && !this.KWa.value)?!0:!1;};c.prototype.NFb=function(){this.ITb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.t6a);};c.prototype.Kab=function(d){var f;f=this;Object.entries(d).forEach(function(l){var m,n,p;m=na(l);l=m.next().value;m=m.next().value;l=null !== (p=null === (n=f.KWb) || void 0 === n?void 0:n[l]) && void 0 !== p?p:0;1080 < l && (f.o8a="usable" === m,f.Lbc.set(m,{height:l}));});};c.prototype.S$b=function(){var d,f,l;d=this;l=this.xa.Ve;!this.mWb && (0,k.uua)(l) && (this.mWb=!0,this.KWb=null === (f=null === l || void 0 === l?void 0:l.context) || void 0 === f?void 0:f.faa,this.Kab(l.keyStatuses.value),l.keyStatuses.addListener(function(m){return d.Kab(m.newValue);}),this.Mc.Uk((0,h.tc)(this.config.t6a),function(){return d.NFb();}),this.LWb=this.Aa.xf);};c.prototype.t8b=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.xa.cr.set({reason:"keyStatus",height:f});};Va.Object.defineProperties(c.prototype,{B8:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.hKa=c;},function(t,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});t=a(134);c=a(18);k=a(8);(0,t.bT)(function(g,h){var d,f,l,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.Nbc);f=d[h.Ed];if(c.config.Obc && f){l={};m=(0,k.Qi)(g,"MediaStreamFilter");return {B8:"uiLabel",gC:function(n){if(n.lower && n.height > f)return (l[n.height] || (l[n.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),h.cr.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(t,b,a){var c,k,g,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(18);k=a(16);t=a(3);g=a(8);h=a(169);a=a(36);g.ya.get(a.$i).register(t.V.sJa,function(d){c.config.W8 && g.ya.get(h.gIa).start();d(k.Lg);});},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(198);k=a(135);g=a(16);h=a(18);t=a(3);d=a(8);f=a(23);l=a(25);m=a(15);n=a(50);p=a(87);a=a(36);d.ya.get(a.$i).register(t.V.AJa,function(q){var r,u;r=(0,d.Jj)("NccpApi");u=(0,l.hXa)(["info","warn","trace","error"]);k.PG.sN.nccp={getEsn:function(){return c.Ck.ql;},getPreferredLanguages:function(){return h.config.mr.Aya;},setPreferredLanguages:function(v){(0,f.ib)((0,m.isArray)(v) && (0,m.wP)(v[0]));h.config.mr.Aya=v;},queueLogblob:function(v,w,x){var y;if(v && w)if((w=w.toLowerCase(),u[w])){y=d.ya.get(n.Yn);v=d.ya.get(p.qz).Xu(v,w,x);y.Fc(v);}else r.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.ya.get(n.Yn).flush(!0);}};q(g.Lg);});},function(t,b,a){var c,k,g,h,d,f,l,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});t=a(36);b=a(3);c=a(6);k=a(48);g=a(296);h=a(16);d=a(18);f=a(8);l=a(64);m=a(135);n=a(574);p=a(116);f.ya.get(t.$i).register(b.V.CJa,function(q){var v,w,x;function r(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.ya.get(n.oNa).gg(this.log,{},{email:y,password:z}).then(function(){});}function u(y){var z;z=f.ya.get(p.OG);return z.p2a.fetch(y,z);}if(d.config.$Mb){v=f.ya.get(g.wia);w=f.ya.get(k.Hq);x=f.ya.get(c.sb).mb("Test");m.PG.sN.test={setPboRequestsListener:function(y){return v.M8b(y);},playbacks:l.qp,getPlayback:function(y){return l.qp.find(function(z){return z.ga === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=l.qp.find(function(C){return C.ga === y;})) || void 0 === A?void 0:A.Ga) || void 0 === B?void 0:B.i9(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=l.qp.find(function(C){return C.ga === y;})) || void 0 === A?void 0:A.Ga) || void 0 === B?void 0:B.SO(z).AN;}},device:{esn:mb._cad_global.device.ql,esnPrefix:w.Tp,errorPrefix:w.Xs},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:r,getManifest:u};}q(h.Lg);});},function(t,b,a){var c,k,g,h,d,f,l;Object.defineProperty(b,"__esModule",{value:!0});t=a(1423);c=a(18);k=a(64);b=a(6);g=a(8);h=a(50);d=a(112);f=a(23);l=a(15);mb.netflix=mb.netflix || ({});(0,f.ib)(!mb.netflix.player);mb.netflix.player={VideoSession:t.mSa,diag:{togglePanel:function(m,n){var p;p=[];if(!c.config || c.config.t_){switch(m){case "info":p=k.qp.map(function(q){return q.kca;});break;case "streams":p=k.qp.map(function(q){return q.nca;});break;case "log":p=[];}p.forEach(function(q){(0,l.pd)(n)?n?q.show():q.Wx():q.toggle();});}},addLogMessageSink:function(m){g.ya.get(h.Yn).addListener({Yoc:function(){},EZb:function(n){m({data:n.data});}});}},log:(0,g.Jj)("Ext"),LogLevel:b.gk,addLogSink:function(m,n){g.ya.get(d.BL).Vca(m,n);},getVersion:function(){return "6.0037.192.911";},getMostRecentPlaybackDiagnosticGroups:function(){var m;return null === (m=k.WC.tab) || void 0 === m?void 0:m.T7.mX();}};},function(t,b,a){var k,g,h,d,f,l;function c(m){var n;n=h.PG.call(this,m) || this;n.createPlayer=function(p,q){var r,u,v;q=void 0 === q?{}:q;q="number" === typeof q?{Xk:q}:q;r=k.ya.get(g.NL);u=k.ya.get(f.DL).create(q.manifest);v=k.ya.get(d.Ria);p=r.GIb(p);r=k.ya.get(l.Pia).create(p);p=r.Vra();v=v.z_a(r);v.addEpisode({movieId:p.K,playbackParams:n.xXa(q,p),manifest:u});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.mSa=void 0;k=a(8);g=a(117);h=a(135);d=a(307);f=a(132);l=a(306);ka(c,h.PG);b.mSa=c;},function(t,b,a){var c,k,g,h,d,f,l,m,n,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(135);k=a(198);g=a(16);h=a(43);t=a(3);d=a(8);f=a(167);l=a(23);m=a(15);n=a(13);b=a(36);p=a(60);q=a(78);r=a(159);u=a(166);d.ya.get(b.$i).register(t.V.BJa,function(v){var B;function w(){return k.Ck.ql;}function x(C){var D;D=d.ya.get(q.PL);d.ya.get(r.fT)().then(function(F){var G,E;G=F.iZ.getStateForMdx(D);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,l.ib)(E),F=["1",(0,d.oA)(JSON.stringify(F.toJSON())),(0,d.oA)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,L){I=(0,m.mg)(I)?(0,d.MR)(I):I;E.encrypt(I,{result:function(K){K=(0,d.oA)(K);L({success:!0,mslEncryptionEnvelopeBase64:K});},timeout:function(){L({success:!1});},error:function(K){(0,l.ib)(!1,"Encrypt error: " + K);L({success:!1});}});},decrypt:function(I,L){I=(0,d.Ms)(I);E.decrypt(I,{result:function(K){L({success:!0,text:(0,d.W0)(K)});},timeout:function(){L({success:!1});},error:function(K){(0,l.ib)(!1,"Decrypt error: " + K);L({success:!1});}});},hmac:function(I,L){I=(0,m.mg)(I)?(0,d.MR)(I):I;E.sign(I,{result:function(K){L({success:!0,hmacBase64:(0,d.oA)(K)});},timeout:function(){L({success:!1});},error:function(K){(0,l.ib)(!1,"Hmac error: " + K);L({success:!1});}});}}})):((0,l.ib)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var F;F=(0,d.Ms)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,h.LJ)(n.hr.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,h.LJ)(n.hr.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function F(G){G=new f.zS((0,d.Ms)(G));G.WB();return {iv:G.Ydb(),xMb:G.Ydb()};}return {encrypt:function(G,E){var I;G=(0,m.mg)(G)?(0,d.MR)(G):G;I=n.TC.getRandomValues(new Uint8Array(16));(0,h.LJ)(n.hr.encrypt({name:"AES-CBC",iv:I},C,G)).then(function(L){var K,H;L=new Uint8Array(L);K=[];H=new f.zS(K);H.lfa(2);H.slb(I);H.slb(L);L=(0,d.oA)(K);E({success:!0,encryptedDataAsn1Base64:L});},function(L){(0,l.ib)(!1,"Encrypt error: " + L);E({success:!1});});},decrypt:function(G,E){var I;I=F(G);G=I.iv;I=I.xMb;(0,h.LJ)(n.hr.decrypt({name:"AES-CBC",iv:G},C,I)).then(function(L){L=new Uint8Array(L);E({success:!0,text:(0,d.W0)(L)});},function(L){(0,l.ib)(!1,"Decrypt error: " + L);E({success:!1});});},hmac:function(G,E){G=(0,m.mg)(G)?(0,d.MR)(G):G;(0,h.LJ)(n.hr.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(I){I=new Uint8Array(I);E({success:!0,hmacBase64:(0,d.oA)(I)});},function(I){(0,l.ib)(!1,"Hmac error: " + I);E({success:!1});});}};}function A(){return (0,p.k7)();}B=d.ya.get(u.aG);if(B.K7a || B.lB)c.PG.sN.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};v(g.Lg);});},function(t,b,a){var c,k,g,h,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(18);k=a(16);t=a(3);g=a(8);b=a(36);h=a(116);g.ya.get(b.$i).register(t.V.xJa,function(f){var l,m,n;if(c.config.fw){l=(0,g.Jj)("PlayerPredictionModel");m=g.ya.get(h.OG);n=a(1426);l.log=l.trace.bind(l);d=new n({},l,{v_:function(){},y6b:function(){}},m,{WJ:function(){}});mb._cad_global.playerPredictionModel=d;l.info("ppm v2 initialized");}f(k.Lg);});},function(t,b,a){var h,d,f,l,m,n,p;function c(q,r,u,v,w,x){this.I=this.K=q;this.priority=r;this.Nd=u;x && x.Ed && (this.Ed=x.Ed);void 0 !== v && (this.pQ=v);this.$l=w;this.Cb=x;}function k(q,r,u,v,w){f(void 0 !== v,"video preparer is null");f(void 0 !== w,"ui preparer is null");this.G=r || console;this.G=r;this.Ra=u;this.Mzb=v;this.Dzb=w;this.SUa=n.xya;this.ZM=[];this.dma=!1;this.RT=0;new p().on(n,"changed",g,this);this.reset();}function g(){this.G.log("config changed");n.xya && (this.SUa=n.xya);n.hZ !== this.MM && (this.reset(),this.Cza());}h=a(309);d=a(310);b=a(585);f=b.assert;l=b.A2a;m=a(1427);n=a(586).config;p=a(1428).Zf;n.declare({xya:["ppmConfig",{jfc:{qbb:0,pbb:2,nbb:0,obb:5,Tgb:0},Xic:{qbb:0,pbb:1,nbb:0,obb:3,Tgb:1E3},xfc:{qbb:0,pbb:1,nbb:0,obb:3,Tgb:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.Hka=!0;this.MM=n.hZ;this.G.log("create model: " + n.hZ,n.yfb,n.nZa);switch(n.hZ){case "modelone":this.MM=new m(this.G);break;default:this.MM=new m(this.G);}};k.prototype.Cza=function(){var r,u;if(!1 === this.dma){this.dma=!0;for(var q=0;q < this.ZM.length;q++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.ZM[q]));r=this.a_a(this.ZM[q]);u=this.r3a(r);this.MM.update(r,u);this.Hka=!1;}this.ZM=[];}};k.prototype.update=function(q){var r,u,v;this.G.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Kb && q.Kb[0]){!1 === this.dma && this.ZM.length < n.ZYb && this.ZM.push(q);r=this.a_a(q);u=this.r3a(r);this.G.log("actionType",u);r="mlmodel" == n.hZ?this.MM.update(q,u):this.MM.update(r,u);r=this.$Ob(r,n.zWb || 1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(r));0 === this.RT && (this.RT=h(),this.Ra && this.Ra.v_ && this.Ra.v_({uKb:this.RT}));if(this.Ra && this.Ra.y6b){this.ZPb();v=[];r.forEach(function(w){v.push({zpc:w.K});});JSON.stringify(q);JSON.stringify(r);}this.Mzb.WJ(r);this.Dzb.WJ(r);this.Hka=!1;}};k.prototype.ZPb=function(){h();};k.prototype.v_=function(){this.RT=h();this.Ra && this.Ra.v_ && this.Ra.v_({uKb:this.RT});};k.prototype.a_a=function(q){var r,u,v,w,x;r={};v=q.Kb || [];w=(function(y){var z,A;z={};x=d.QS.name.indexOf(y.context);z.context=0 <= x?x:d.QS.xz;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];u=y.list || [];u.forEach((function(B){A={K:B.K,Nd:B.Nd,index:B.index,pQ:B.pQ,Bca:B.Bca,list:B.list,Cb:B.Cb};void 0 !== B.property && (x=d.yL.name.indexOf(B.property),A.property=0 <= x?x:d.yL.xz);z.list.push(A);}).bind(this));r.Kb.push(z);}).bind(this);if(void 0 !== q.direction){x=d.Ow.name.indexOf(q.direction);r.direction=0 <= x?x:d.Ow.xz;}void 0 !== q.UW && (r.Plc=q.UW.rowIndex,r.Olc=q.UW.HFb);r.UW=q.UW;r.Kb=[];v.forEach(w);return r;};k.prototype.r3a=function(q){var r,u,v;r=q.direction || d.Ow.xz;u=q.UW;v=q.Kb || [];!0 === this.Hka?q=d.az.WHa:!0 === v.some(this.FTb)?(q=d.az.jT,this.ada(v,r,u)):q=v[0].context === d.QS.W3?d.az.W3:r === d.Ow.JPa || r === d.Ow.iKa?d.az.dQa:d.az.xz;return q;};k.prototype.FTb=function(q){return (q.list || []).some(function(r){return r.property === d.yL.jT || r.property === d.yL.jGa;});};k.prototype.ada=function(q,r,u){var v,w;this.G.log("reportPlayFocusEvent: ",r,u);v={};w=l(q);this.Ra && this.Ra.ada && (v.Flc=h(),v.direction=d.Ow.name[r],u && (v.rowIndex=u.rowIndex,v.oZa=u.HFb),void 0 !== w.Sk && (v.requestId=q[w.Sk].requestId),this.Ra.ada && this.Ra.ada(v));};k.prototype.$Ob=function(q,r){for(var u=q.length,v=[],w,x,y,z,A=0;A < u;A++){x=q[A];w=Math.floor(A / r) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.FFb,z) && !(y[B].$l=x.$l,this.qWa(y[B],w,v),v.length >= n.t$a);B++){;}}else this.qWa(x,w,v);if(v.length >= n.t$a)break;}return v;};k.prototype.qWa=function(q,r,u){var w,x;function v(y){y.Ed && (y.Cb || (y.Cb={}),y.Cb.Ed=y.Ed);return y.Cb;}w=q.Bca;if(void 0 !== w && w instanceof Array)w.forEach(function(y){void 0 !== y.K && (x=v(y),u.push(new c(y.K,r,y.Nd,y.pQ,q.$l,x)));});else if(void 0 !== w && void 0 !== w.K){w=q.Bca;x=v(w);u.push(new c(w.K,r,w.Nd,w.pQ,q.$l,x));}void 0 !== q.K && (x=v(q),u.push(new c(q.K,r,q.Nd,q.pQ,q.$l,x)));};k.prototype.GI=function(q){var r;r=this.SUa;return q?r[q]:r;};t.exports=k;},function(t,b,a){var g,h,d,f,l,m,n,p,q,r;function c(u,v){this.Sk=u;this.Wm=v;}function k(u){this.G=u;this.reset();}g=a(309);h=a(310);b=a(585);d=a(586).config;f=b.RPb;l=b.yPb;m=b.xKb;n=b.A0b;p=b.z0b;q=b.y0b;r=b.A2a;k.prototype.constructor=k;k.prototype.reset=function(){this.TUa=void 0;this.jl=[];this.GUa=this.HUa=!1;};k.prototype.update=function(u,v){var w;this.jl && (this.jl=this.jl.filter(this.A9b,this));if(!1 === this.HUa){w=f(u.Kb).slice(0,d.T_a);0 < w.length && (this.BJ(w,h.ez.Nl),this.HUa=!0,this.jl=this.aL(w.concat(this.jl)));}!1 === this.GUa && (w=l(u.Kb).slice(0,d.T_a),0 < w.length && (this.BJ(w,h.ez.Nl),this.GUa=!0,this.jl=this.aL(w.concat(this.jl))));switch(v){case h.az.WHa:v=this.dTb(u);break;case h.az.dQa:v=this.nTb(u);break;case h.az.W3:v=this.oTb(u);break;case h.az.jT:v=this.iTb(u);break;default:v=this.aTb(u);}this.TUa=u;return v;};k.prototype.dTb=function(u){u=n(u.Kb,d.yfb,d.nZa);this.BJ(u,h.ez.Nl);return this.jl=this.aL(this.jl.concat(u));};k.prototype.nTb=function(u){var v,w;this.G.log("handleScrollHorizontal");v=u.Kb;u=n(v,d.zfb,d.pZa);w=m(v,this.TUa.Kb);v=v[w].list.slice(0,d.q7b);v.concat(u);this.BJ(v,h.ez.zja);return this.aL(v.concat(this.jl));};k.prototype.BJ=function(u,v){u.forEach(function(w){if(void 0 === w.QD || w.QD < v)w.QD=v;void 0 === w.yR && (w.yR=g());void 0 === w.$l && (w.$l=g());});};k.prototype.oTb=function(u){this.G.log("handleSearch");u=p(u.Kb,d.P7b);this.BJ(u,h.ez.eQa);this.jl=u.concat(this.jl);return this.jl=this.aL(this.jl);};k.prototype.iTb=function(u){var v,w,x,y,z;this.G.log("handlePlayFocus: ",d.QX);v=u.direction;w=u.Kb;u=[];x=r(w);if(void 0 !== x.Sk)switch((u.push(x),v)){case h.Ow.JPa:for(v=1;v < d.QX;v++){u.push(new c(x.Sk,x.Wm + v));}u.push(new c(x.Sk - 1,x.Wm));u.push(new c(x.Sk + 1,x.Wm));break;case h.Ow.iKa:for(v=1;v < d.QX;v++){u.push(new c(x.Sk,x.Wm - v));}u.push(new c(x.Sk - 1,x.Wm));u.push(new c(x.Sk + 1,x.Wm));break;case h.Ow.Rtb:u.push(new c(x.Sk - 1,x.Wm));for(v=1;v <= d.QX / 2;v++){u.push(new c(x.Sk,x.Wm + v));u.push(new c(x.Sk,x.Wm - v));}break;case h.Ow.Cob:for((u.push(new c(x.Sk + 1,x.Wm)),v=1);v <= d.QX / 2;v++){u.push(new c(x.Sk,x.Wm + v));u.push(new c(x.Sk,x.Wm - v));}}y=[];u.forEach(function(A){z=q(w,A.Sk,A.Wm);void 0 !== z && y.push(z);});this.BJ(y,h.ez.zja);return this.aL(y.concat(this.jl));};k.prototype.aTb=function(u){this.G.log("ModelOne: handleDefaultCase");u=n(u.Kb,d.zfb,d.pZa);this.BJ(u,h.ez.zja);return this.aL(u.concat(this.jl));};k.prototype.A9b=function(u){return u.QD == h.ez.Nl | u.QD == h.ez.eQa & g() - u.yR < d.$Tb;};k.prototype.aL=function(u){var v,w,x,y,z,A,B;v=[];w={};y=0;z=u.length;for(x=0;x < z;x++){A=u[x].K;B=u[x];!1 === (A in w)?(v.push(B),w[A]=y,y++):(A=v[w[A]],B.$l < A.$l && (A.$l=B.$l),B.QD > A.QD && (A.QD=B.QD),B.yR > A.yR && (A.yR=B.yR));}return v;};t.exports=k;},function(t,b,a){t.exports={EventEmitter:a(1429),Zf:a(1430)};},function(t){function b(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Gd)return (this.Gd={},this.Gd[c]=[k],!0);g=this.Gd[c];return void 0 === g?(this.Gd[c]=[k],!0):0 > g.indexOf(k)?(g.push(k),!0):!1;}function a(c,k){c=this.Gd?this.Gd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(k);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Gd)return !1;g=this.Gd[c];if(void 0 === g)return !1;k=g.indexOf(k);if(0 > k)return !1;if(1 === g.length)return (delete this.Gd[c],!0);g.splice(k,1);return !0;},bb:a,emit:a,removeAllListeners:function(c){this.Gd && (void 0 === c?delete this.Gd:delete this.Gd[c]);return this;}};},function(t){function b(c,k,g,h){c.trace(":",g,":",h);k(h);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,g,h){g=h?g.bind(h):g;h=!1;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addEventListener)h=c.addEventListener(k,g);else if("function" === typeof c.addListener)h=c.addListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,h;g=k[0];h=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(h,k):"function" === typeof g.removeListener && g.removeListener(h,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;}]);}).call(mb);})(window);}).call(window);